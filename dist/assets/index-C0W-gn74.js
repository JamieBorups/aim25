import{produce as jb}from"https://esm.sh/immer";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pb(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var ym={exports:{}},Vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Lb(){if(Bv)return Vd;Bv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Vd.Fragment=e,Vd.jsx=n,Vd.jsxs=n,Vd}var Uv;function Rb(){return Uv||(Uv=1,ym.exports=Lb()),ym.exports}var c=Rb(),xm={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Fb(){if(qv)return Ht;qv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function D(P,ae,L){this.props=P,this.context=ae,this.refs=M,this.updater=L||w}D.prototype.isReactComponent={},D.prototype.setState=function(P,ae){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ae,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=D.prototype;function j(P,ae,L){this.props=P,this.context=ae,this.refs=M,this.updater=L||w}var F=j.prototype=new E;F.constructor=j,C(F,D.prototype),F.isPureReactComponent=!0;var B=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function V(P,ae,L,J,Y,ie){return L=ie.ref,{$$typeof:t,type:P,key:ae,ref:L!==void 0?L:null,props:ie}}function U(P,ae){return V(P.type,ae,void 0,void 0,void 0,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function ue(P){var ae={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(L){return ae[L]})}var I=/\/+/g;function k(P,ae){return typeof P=="object"&&P!==null&&P.key!=null?ue(""+P.key):ae.toString(36)}function $(){}function K(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then($,$):(P.status="pending",P.then(function(ae){P.status==="pending"&&(P.status="fulfilled",P.value=ae)},function(ae){P.status==="pending"&&(P.status="rejected",P.reason=ae)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ce(P,ae,L,J,Y){var ie=typeof P;(ie==="undefined"||ie==="boolean")&&(P=null);var X=!1;if(P===null)X=!0;else switch(ie){case"bigint":case"string":case"number":X=!0;break;case"object":switch(P.$$typeof){case t:case e:X=!0;break;case y:return X=P._init,ce(X(P._payload),ae,L,J,Y)}}if(X)return Y=Y(P),X=J===""?"."+k(P,0):J,B(Y)?(L="",X!=null&&(L=X.replace(I,"$&/")+"/"),ce(Y,ae,L,"",function(fe){return fe})):Y!=null&&(O(Y)&&(Y=U(Y,L+(Y.key==null||P&&P.key===Y.key?"":(""+Y.key).replace(I,"$&/")+"/")+X)),ae.push(Y)),1;X=0;var pe=J===""?".":J+":";if(B(P))for(var he=0;he<P.length;he++)J=P[he],ie=pe+k(J,he),X+=ce(J,ae,L,ie,Y);else if(he=T(P),typeof he=="function")for(P=he.call(P),he=0;!(J=P.next()).done;)J=J.value,ie=pe+k(J,he++),X+=ce(J,ae,L,ie,Y);else if(ie==="object"){if(typeof P.then=="function")return ce(K(P),ae,L,J,Y);throw ae=String(P),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return X}function q(P,ae,L){if(P==null)return P;var J=[],Y=0;return ce(P,J,"","",function(ie){return ae.call(L,ie,Y++)}),J}function G(P){if(P._status===-1){var ae=P._result;ae=ae(),ae.then(function(L){(P._status===0||P._status===-1)&&(P._status=1,P._result=L)},function(L){(P._status===0||P._status===-1)&&(P._status=2,P._result=L)}),P._status===-1&&(P._status=0,P._result=ae)}if(P._status===1)return P._result.default;throw P._result}var ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function oe(){}return Ht.Children={map:q,forEach:function(P,ae,L){q(P,function(){ae.apply(this,arguments)},L)},count:function(P){var ae=0;return q(P,function(){ae++}),ae},toArray:function(P){return q(P,function(ae){return ae})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ht.Component=D,Ht.Fragment=n,Ht.Profiler=s,Ht.PureComponent=j,Ht.StrictMode=i,Ht.Suspense=h,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(P){return H.H.useMemoCache(P)}},Ht.cache=function(P){return function(){return P.apply(null,arguments)}},Ht.cloneElement=function(P,ae,L){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var J=C({},P.props),Y=P.key,ie=void 0;if(ae!=null)for(X in ae.ref!==void 0&&(ie=void 0),ae.key!==void 0&&(Y=""+ae.key),ae)!ee.call(ae,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&ae.ref===void 0||(J[X]=ae[X]);var X=arguments.length-2;if(X===1)J.children=L;else if(1<X){for(var pe=Array(X),he=0;he<X;he++)pe[he]=arguments[he+2];J.children=pe}return V(P.type,Y,void 0,void 0,ie,J)},Ht.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Ht.createElement=function(P,ae,L){var J,Y={},ie=null;if(ae!=null)for(J in ae.key!==void 0&&(ie=""+ae.key),ae)ee.call(ae,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Y[J]=ae[J]);var X=arguments.length-2;if(X===1)Y.children=L;else if(1<X){for(var pe=Array(X),he=0;he<X;he++)pe[he]=arguments[he+2];Y.children=pe}if(P&&P.defaultProps)for(J in X=P.defaultProps,X)Y[J]===void 0&&(Y[J]=X[J]);return V(P,ie,void 0,void 0,null,Y)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(P){return{$$typeof:d,render:P}},Ht.isValidElement=O,Ht.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:G}},Ht.memo=function(P,ae){return{$$typeof:m,type:P,compare:ae===void 0?null:ae}},Ht.startTransition=function(P){var ae=H.T,L={};H.T=L;try{var J=P(),Y=H.S;Y!==null&&Y(L,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(oe,ne)}catch(ie){ne(ie)}finally{H.T=ae}},Ht.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ht.use=function(P){return H.H.use(P)},Ht.useActionState=function(P,ae,L){return H.H.useActionState(P,ae,L)},Ht.useCallback=function(P,ae){return H.H.useCallback(P,ae)},Ht.useContext=function(P){return H.H.useContext(P)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(P,ae){return H.H.useDeferredValue(P,ae)},Ht.useEffect=function(P,ae,L){var J=H.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(P,ae)},Ht.useId=function(){return H.H.useId()},Ht.useImperativeHandle=function(P,ae,L){return H.H.useImperativeHandle(P,ae,L)},Ht.useInsertionEffect=function(P,ae){return H.H.useInsertionEffect(P,ae)},Ht.useLayoutEffect=function(P,ae){return H.H.useLayoutEffect(P,ae)},Ht.useMemo=function(P,ae){return H.H.useMemo(P,ae)},Ht.useOptimistic=function(P,ae){return H.H.useOptimistic(P,ae)},Ht.useReducer=function(P,ae,L){return H.H.useReducer(P,ae,L)},Ht.useRef=function(P){return H.H.useRef(P)},Ht.useState=function(P){return H.H.useState(P)},Ht.useSyncExternalStore=function(P,ae,L){return H.H.useSyncExternalStore(P,ae,L)},Ht.useTransition=function(){return H.H.useTransition()},Ht.version="19.1.0",Ht}var Vv;function Mg(){return Vv||(Vv=1,xm.exports=Fb()),xm.exports}var ve=Mg();const kg=Eg(ve);var bm={exports:{}},zd={},wm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Ob(){return zv||(zv=1,function(t){function e(q,G){var ne=q.length;q.push(G);e:for(;0<ne;){var oe=ne-1>>>1,P=q[oe];if(0<s(P,G))q[oe]=G,q[ne]=P,ne=oe;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var G=q[0],ne=q.pop();if(ne!==G){q[0]=ne;e:for(var oe=0,P=q.length,ae=P>>>1;oe<ae;){var L=2*(oe+1)-1,J=q[L],Y=L+1,ie=q[Y];if(0>s(J,ne))Y<P&&0>s(ie,J)?(q[oe]=ie,q[Y]=ne,oe=Y):(q[oe]=J,q[L]=ne,oe=L);else if(Y<P&&0>s(ie,ne))q[oe]=ie,q[Y]=ne,oe=Y;else break e}}return G}function s(q,G){var ne=q.sortIndex-G.sortIndex;return ne!==0?ne:q.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,x=null,T=3,w=!1,C=!1,M=!1,D=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function B(q){for(var G=n(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=q)i(m),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(m)}}function H(q){if(M=!1,B(q),!C)if(n(h)!==null)C=!0,ee||(ee=!0,k());else{var G=n(m);G!==null&&ce(H,G.startTime-q)}}var ee=!1,V=-1,U=5,O=-1;function ue(){return D?!0:!(t.unstable_now()-O<U)}function I(){if(D=!1,ee){var q=t.unstable_now();O=q;var G=!0;try{e:{C=!1,M&&(M=!1,j(V),V=-1),w=!0;var ne=T;try{t:{for(B(q),x=n(h);x!==null&&!(x.expirationTime>q&&ue());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,T=x.priorityLevel;var P=oe(x.expirationTime<=q);if(q=t.unstable_now(),typeof P=="function"){x.callback=P,B(q),G=!0;break t}x===n(h)&&i(h),B(q)}else i(h);x=n(h)}if(x!==null)G=!0;else{var ae=n(m);ae!==null&&ce(H,ae.startTime-q),G=!1}}break e}finally{x=null,T=ne,w=!1}G=void 0}}finally{G?k():ee=!1}}}var k;if(typeof F=="function")k=function(){F(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=I,k=function(){K.postMessage(null)}}else k=function(){E(I,0)};function ce(q,G){V=E(function(){q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var ne=T;T=G;try{return q()}finally{T=ne}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=T;T=q;try{return G()}finally{T=ne}},t.unstable_scheduleCallback=function(q,G,ne){var oe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?oe+ne:oe):ne=oe,q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ne+P,q={id:y++,callback:G,priorityLevel:q,startTime:ne,expirationTime:P,sortIndex:-1},ne>oe?(q.sortIndex=ne,e(m,q),n(h)===null&&q===n(m)&&(M?(j(V),V=-1):M=!0,ce(H,ne-oe))):(q.sortIndex=P,e(h,q),C||w||(C=!0,ee||(ee=!0,k()))),q},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(q){var G=T;return function(){var ne=T;T=G;try{return q.apply(this,arguments)}finally{T=ne}}}}(Sm)),Sm}var Hv;function Bb(){return Hv||(Hv=1,wm.exports=Ob()),wm.exports}var Tm={exports:{}},ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Ub(){if(Gv)return ra;Gv=1;var t=Mg();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ra.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,y)},ra.flushSync=function(h){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=y,i.d.f()}},ra.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},ra.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ra.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,x=d(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:w}):y==="script"&&i.d.X(h,{crossOrigin:x,integrity:T,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ra.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},ra.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=d(y,m.crossOrigin);i.d.L(h,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ra.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},ra.requestFormReset=function(h){i.d.r(h)},ra.unstable_batchedUpdates=function(h,m){return h(m)},ra.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},ra.useFormStatus=function(){return u.H.useHostTransitionStatus()},ra.version="19.1.0",ra}var $v;function qb(){if($v)return Tm.exports;$v=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tm.exports=Ub(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Vb(){if(Yv)return zd;Yv=1;var t=Bb(),e=Mg(),n=qb();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var r=a,l=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(l=r.return),a=r.return;while(a)}return r.tag===3?l:null}function u(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(i(188))}function h(a){var r=a.alternate;if(!r){if(r=o(a),r===null)throw Error(i(188));return r!==a?null:a}for(var l=a,g=r;;){var b=l.return;if(b===null)break;var A=b.alternate;if(A===null){if(g=b.return,g!==null){l=g;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===l)return d(b),a;if(A===g)return d(b),r;A=A.sibling}throw Error(i(188))}if(l.return!==g.return)l=b,g=A;else{for(var z=!1,re=b.child;re;){if(re===l){z=!0,l=b,g=A;break}if(re===g){z=!0,g=b,l=A;break}re=re.sibling}if(!z){for(re=A.child;re;){if(re===l){z=!0,l=A,g=b;break}if(re===g){z=!0,g=A,l=b;break}re=re.sibling}if(!z)throw Error(i(189))}}if(l.alternate!==g)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?a:r}function m(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=m(a),r!==null)return r;a=a.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case F:return(a.displayName||"Context")+".Provider";case j:return(a._context.displayName||"Context")+".Consumer";case B:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return r=a.displayName||null,r!==null?r:K(a.type)||"Memo";case U:r=a._payload,a=a._init;try{return K(a(r))}catch{}}return null}var ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},oe=[],P=-1;function ae(a){return{current:a}}function L(a){0>P||(a.current=oe[P],oe[P]=null,P--)}function J(a,r){P++,oe[P]=a.current,a.current=r}var Y=ae(null),ie=ae(null),X=ae(null),pe=ae(null);function he(a,r){switch(J(X,r),J(ie,a),J(Y,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?hv(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=hv(r),a=pv(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(Y),J(Y,a)}function fe(){L(Y),L(ie),L(X)}function Ce(a){a.memoizedState!==null&&J(pe,a);var r=Y.current,l=pv(r,a.type);r!==l&&(J(ie,a),J(Y,l))}function je(a){ie.current===a&&(L(Y),L(ie)),pe.current===a&&(L(pe),Fd._currentValue=ne)}var ze=Object.prototype.hasOwnProperty,Ye=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,ge=t.unstable_requestPaint,bt=t.unstable_now,dt=t.unstable_getCurrentPriorityLevel,Je=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,tt=t.unstable_NormalPriority,nt=t.unstable_LowPriority,gt=t.unstable_IdlePriority,It=t.log,qt=t.unstable_setDisableYieldValue,Ot=null,Dt=null;function Kt(a){if(typeof It=="function"&&qt(a),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Ot,a)}catch{}}var ft=Math.clz32?Math.clz32:Di,Yt=Math.log,at=Math.LN2;function Di(a){return a>>>=0,a===0?32:31-(Yt(a)/at|0)|0}var Zt=256,Ki=4194304;function tn(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yn(a,r,l){var g=a.pendingLanes;if(g===0)return 0;var b=0,A=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var re=g&134217727;return re!==0?(g=re&~A,g!==0?b=tn(g):(z&=re,z!==0?b=tn(z):l||(l=re&~a,l!==0&&(b=tn(l))))):(re=g&~A,re!==0?b=tn(re):z!==0?b=tn(z):l||(l=g&~a,l!==0&&(b=tn(l)))),b===0?0:r!==0&&r!==b&&(r&A)===0&&(A=b&-b,l=r&-r,A>=l||A===32&&(l&4194048)!==0)?r:b}function Zi(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function dn(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(){var a=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),a}function On(){var a=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),a}function fa(a){for(var r=[],l=0;31>l;l++)r.push(a);return r}function ha(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hn(a,r,l,g,b,A){var z=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var re=a.entanglements,ye=a.expirationTimes,De=a.hiddenUpdates;for(l=z&~l;0<l;){var Ue=31-ft(l),$e=1<<Ue;re[Ue]=0,ye[Ue]=-1;var Pe=De[Ue];if(Pe!==null)for(De[Ue]=null,Ue=0;Ue<Pe.length;Ue++){var Le=Pe[Ue];Le!==null&&(Le.lane&=-536870913)}l&=~$e}g!==0&&jt(a,g,0),A!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=A&~(z&~r))}function jt(a,r,l){a.pendingLanes|=r,a.suspendedLanes&=~r;var g=31-ft(r);a.entangledLanes|=r,a.entanglements[g]=a.entanglements[g]|1073741824|l&4194090}function ln(a,r){var l=a.entangledLanes|=r;for(a=a.entanglements;l;){var g=31-ft(l),b=1<<g;b&r|a[g]&r&&(a[g]|=r),l&=~b}}function Cs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ua(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:Iv(a.type))}function as(a,r){var l=G.p;try{return G.p=a,r()}finally{G.p=l}}var mt=Math.random().toString(36).slice(2),Cn="__reactFiber$"+mt,Bn="__reactProps$"+mt,ui="__reactContainer$"+mt,Jn="__reactEvents$"+mt,ni="__reactListeners$"+mt,pa="__reactHandles$"+mt,Gr="__reactResources$"+mt,ma="__reactMarker$"+mt;function ga(a){delete a[Cn],delete a[Bn],delete a[Jn],delete a[ni],delete a[pa]}function ji(a){var r=a[Cn];if(r)return r;for(var l=a.parentNode;l;){if(r=l[ui]||l[Cn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(a=yv(a);a!==null;){if(l=a[Cn])return l;a=yv(a)}return r}a=l,l=a.parentNode}return null}function Ii(a){if(a=a[Cn]||a[ui]){var r=a.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return a}return null}function Xi(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function Ni(a){var r=a[Gr];return r||(r=a[Gr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xn(a){a[ma]=!0}var or=new Set,$r={};function Aa(a,r){qa(a,r),qa(a+"Capture",r)}function qa(a,r){for($r[a]=r,a=0;a<r.length;a++)or.add(r[a])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Bu={};function Xc(a){return ze.call(Bu,a)?!0:ze.call(Rl,a)?!1:Io.test(a)?Bu[a]=!0:(Rl[a]=!0,!1)}function _s(a,r,l){if(Xc(r))if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var g=r.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+l)}}function Yr(a,r,l){if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+l)}}function Va(a,r,l,g){if(g===null)a.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(r,l,""+g)}}var Wr,Uu;function Es(a){if(Wr===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Wr=r&&r[1]||"",Uu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+a+Uu}var Fl=!1;function lr(a,r){if(!a||Fl)return"";Fl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(r){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Le){var Pe=Le}Reflect.construct(a,[],$e)}else{try{$e.call()}catch(Le){Pe=Le}a.call($e.prototype)}}else{try{throw Error()}catch(Le){Pe=Le}($e=a())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Le){if(Le&&Pe&&typeof Le.stack=="string")return[Le.stack,Pe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),z=A[0],re=A[1];if(z&&re){var ye=z.split(`
`),De=re.split(`
`);for(b=g=0;g<ye.length&&!ye[g].includes("DetermineComponentFrameRoot");)g++;for(;b<De.length&&!De[b].includes("DetermineComponentFrameRoot");)b++;if(g===ye.length||b===De.length)for(g=ye.length-1,b=De.length-1;1<=g&&0<=b&&ye[g]!==De[b];)b--;for(;1<=g&&0<=b;g--,b--)if(ye[g]!==De[b]){if(g!==1||b!==1)do if(g--,b--,0>b||ye[g]!==De[b]){var Ue=`
`+ye[g].replace(" at new "," at ");return a.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",a.displayName)),Ue}while(1<=g&&0<=b);break}}}finally{Fl=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Es(l):""}function Qc(a){switch(a.tag){case 26:case 27:case 5:return Es(a.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return lr(a.type,!1);case 11:return lr(a.type.render,!1);case 1:return lr(a.type,!0);case 31:return Es("Activity");default:return""}}function Gn(a){try{var r="";do r+=Qc(a),a=a.return;while(a);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function qi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ol(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qu(a){var r=Ol(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,r),g=""+a[r];if(!a.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,A=l.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return b.call(this)},set:function(z){g=""+z,A.call(this,z)}}),Object.defineProperty(a,r,{enumerable:l.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function ur(a){a._valueTracker||(a._valueTracker=qu(a))}function Vu(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var l=r.getValue(),g="";return a&&(g=Ol(a)?a.checked?"true":"false":a.value),a=g,a!==l?(r.setValue(a),!0):!1}function Qi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Po=/[\n"\\]/g;function kn(a){return a.replace(Po,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Jr(a,r,l,g,b,A,z,re){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),r!=null?z==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+qi(r)):a.value!==""+qi(r)&&(a.value=""+qi(r)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),r!=null?Ul(a,z,qi(r)):l!=null?Ul(a,z,qi(l)):g!=null&&a.removeAttribute("value"),b==null&&A!=null&&(a.defaultChecked=!!A),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?a.name=""+qi(re):a.removeAttribute("name")}function Bl(a,r,l,g,b,A,z,re){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),r!=null||l!=null){if(!(A!=="submit"&&A!=="reset"||r!=null))return;l=l!=null?""+qi(l):"",r=r!=null?""+qi(r):l,re||r===a.value||(a.value=r),a.defaultValue=r}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=re?a.checked:!!g,a.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z)}function Ul(a,r,l){r==="number"&&Qi(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Ms(a,r,l,g){if(a=a.options,r){r={};for(var b=0;b<l.length;b++)r["$"+l[b]]=!0;for(l=0;l<a.length;l++)b=r.hasOwnProperty("$"+a[l].value),a[l].selected!==b&&(a[l].selected=b),b&&g&&(a[l].defaultSelected=!0)}else{for(l=""+qi(l),r=null,b=0;b<a.length;b++){if(a[b].value===l){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}r!==null||a[b].disabled||(r=a[b])}r!==null&&(r.selected=!0)}}function zu(a,r,l){if(r!=null&&(r=""+qi(r),r!==a.value&&(a.value=r),l==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=l!=null?""+qi(l):""}function ql(a,r,l,g){if(r==null){if(g!=null){if(l!=null)throw Error(i(92));if(ce(g)){if(1<g.length)throw Error(i(93));g=g[0]}l=g}l==null&&(l=""),r=l}l=qi(r),a.defaultValue=l,g=a.textContent,g===l&&g!==""&&g!==null&&(a.value=g)}function cr(a,r){if(r){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=r;return}}a.textContent=r}var Vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(a,r,l){var g=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?g?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":g?a.setProperty(r,l):typeof l!="number"||l===0||Vl.has(r)?r==="float"?a.cssFloat=l:a[r]=(""+l).trim():a[r]=l+"px"}function Gu(a,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,l!=null){for(var g in l)!l.hasOwnProperty(g)||r!=null&&r.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in r)g=r[b],r.hasOwnProperty(b)&&l[b]!==g&&Hu(a,b,g)}else for(var A in r)r.hasOwnProperty(A)&&Hu(a,A,r[A])}function zl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(a){return Lo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ro=null;function xi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var dr=null,js=null;function Et(a){var r=Ii(a);if(r&&(a=r.stateNode)){var l=a[Bn]||null;e:switch(a=r.stateNode,r.type){case"input":if(Jr(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var g=l[r];if(g!==a&&g.form===a.form){var b=g[Bn]||null;if(!b)throw Error(i(90));Jr(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(r=0;r<l.length;r++)g=l[r],g.form===a.form&&Vu(g)}break e;case"textarea":zu(a,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Ms(a,!!l.multiple,r,!1)}}}var Hl=!1;function $u(a,r,l){if(Hl)return a(r,l);Hl=!0;try{var g=a(r);return g}finally{if(Hl=!1,(dr!==null||js!==null)&&(Yf(),dr&&(r=dr,a=js,js=dr=null,Et(r),a)))for(r=0;r<a.length;r++)Et(a[r])}}function ea(a,r){var l=a.stateNode;if(l===null)return null;var g=l[Bn]||null;if(g===null)return null;l=g[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(Na)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Fo=!1}var Ca=null,Gl=null,Oo=null;function Yu(){if(Oo)return Oo;var a,r=Gl,l=r.length,g,b="value"in Ca?Ca.value:Ca.textContent,A=b.length;for(a=0;a<l&&r[a]===b[a];a++);var z=l-a;for(g=1;g<=z&&r[l-g]===b[A-g];g++);return Oo=b.slice(a,1<g?1-g:void 0)}function fr(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function rs(){return!0}function Is(){return!1}function Pi(a){function r(l,g,b,A,z){this._reactName=l,this._targetInst=b,this.type=g,this.nativeEvent=A,this.target=z,this.currentTarget=null;for(var re in a)a.hasOwnProperty(re)&&(l=a[re],this[re]=l?l(A):A[re]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?rs:Is,this.isPropagationStopped=Is,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),r}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Pi(va),os=y({},va,{view:0,detail:0}),Wu=Pi(os),Bo,Uo,pr,_a=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==pr&&(pr&&a.type==="mousemove"?(Bo=a.screenX-pr.screenX,Uo=a.screenY-pr.screenY):Uo=Bo=0,pr=a),Bo)},movementY:function(a){return"movementY"in a?a.movementY:Uo}}),Ps=Pi(_a),ed=y({},_a,{dataTransfer:0}),mr=Pi(ed),za=y({},os,{relatedTarget:0}),Kr=Pi(za),Zr=y({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),td=Pi(Zr),qo=y({},va,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),nd=Pi(qo),$l=y({},va,{data:0}),Vo=Pi($l),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=Yl[a])?!!r[a]:!1}function Ho(){return Wl}var id=y({},os,{key:function(a){if(a.key){var r=Ju[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=fr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(a){return a.type==="keypress"?fr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Go=Pi(id),Xr=y({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Pi(Xr),gr=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),Jl=Pi(gr),N=y({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z=Pi(N),me=y({},_a,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=Pi(me),_e=y({},va,{newState:0,oldState:0}),Oe=Pi(_e),We=[9,13,27,32],it=Na&&"CompositionEvent"in window,ht=null;Na&&"documentMode"in document&&(ht=document.documentMode);var Rt=Na&&"TextEvent"in window&&!ht,Vt=Na&&(!it||ht&&8<ht&&11>=ht),Xt=" ",In=!1;function Un(a,r){switch(a){case"keyup":return We.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zn=!1;function bi(a,r){switch(a){case"compositionend":return Kn(r);case"keypress":return r.which!==32?null:(In=!0,Xt);case"textInput":return a=r.data,a===Xt&&In?null:a;default:return null}}function Ha(a,r){if(Zn)return a==="compositionend"||!it&&Un(a,r)?(a=Yu(),Oo=Gl=Ca=null,Zn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vt&&r.locale!=="ko"?null:r.data;default:return null}}var ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!ya[a.type]:r==="textarea"}function Kl(a,r,l,g){dr?js?js.push(g):js=[g]:dr=g,r=Qf(r,"onChange"),0<r.length&&(l=new hr("onChange","change",null,l,g),a.push({event:l,listeners:r}))}var Ls=null,Rs=null;function Yo(a){lv(a,0)}function vr(a){var r=Xi(a);if(Vu(r))return a}function Wo(a,r){if(a==="change")return r}var Qr=!1;if(Na){var Li;if(Na){var yr="oninput"in document;if(!yr){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),yr=typeof eo.oninput=="function"}Li=yr}else Li=!1;Qr=Li&&(!document.documentMode||9<document.documentMode)}function to(){Ls&&(Ls.detachEvent("onpropertychange",Jo),Rs=Ls=null)}function Jo(a){if(a.propertyName==="value"&&vr(Rs)){var r=[];Kl(r,Rs,a,xi(a)),$u(Yo,r)}}function ta(a,r,l){a==="focusin"?(to(),Ls=r,Rs=l,Ls.attachEvent("onpropertychange",Jo)):a==="focusout"&&to()}function ad(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vr(Rs)}function Zl(a,r){if(a==="click")return vr(r)}function Ku(a,r){if(a==="input"||a==="change")return vr(r)}function Ga(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Ci=typeof Object.is=="function"?Object.is:Ga;function no(a,r){if(Ci(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var l=Object.keys(a),g=Object.keys(r);if(l.length!==g.length)return!1;for(g=0;g<l.length;g++){var b=l[g];if(!ze.call(r,b)||!Ci(a[b],r[b]))return!1}return!0}function Zu(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Fs(a,r){var l=Zu(a);a=0;for(var g;l;){if(l.nodeType===3){if(g=a+l.textContent.length,a<=r&&g>=r)return{node:l,offset:r-a};a=g}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zu(l)}}function xa(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?xa(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function Ea(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=Qi(a.document);r instanceof a.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)a=r.contentWindow;else break;r=Qi(a.document)}return r}function us(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var cs=Na&&"documentMode"in document&&11>=document.documentMode,na=null,xr=null,Vi=null,br=!1;function Ko(a,r,l){var g=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;br||na==null||na!==Qi(g)||(g=na,"selectionStart"in g&&us(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Vi&&no(Vi,g)||(Vi=g,g=Qf(xr,"onSelect"),0<g.length&&(r=new hr("onSelect","select",null,r,l),a.push({event:r,listeners:g}),r.target=na)))}function ia(a,r){var l={};return l[a.toLowerCase()]=r.toLowerCase(),l["Webkit"+a]="webkit"+r,l["Moz"+a]="moz"+r,l}var Ri={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},$a={},wr={};Na&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ma(a){if($a[a])return $a[a];if(!Ri[a])return a;var r=Ri[a],l;for(l in r)if(r.hasOwnProperty(l)&&l in wr)return $a[a]=r[l];return a}var Sr=Ma("animationend"),Os=Ma("animationiteration"),Zo=Ma("animationstart"),ka=Ma("transitionrun"),Bs=Ma("transitionstart"),_n=Ma("transitioncancel"),bn=Ma("transitionend"),$n=new Map,Xn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xn.push("scrollEnd");function ci(a,r){$n.set(a,r),Aa(r,[a])}var Us=new WeakMap;function _i(a,r){if(typeof a=="object"&&a!==null){var l=Us.get(a);return l!==void 0?l:(r={value:a,source:r,stack:Gn(r)},Us.set(a,r),r)}return{value:a,source:r,stack:Gn(r)}}var zi=[],io=0,Xu=0;function Xl(){for(var a=io,r=Xu=io=0;r<a;){var l=zi[r];zi[r++]=null;var g=zi[r];zi[r++]=null;var b=zi[r];zi[r++]=null;var A=zi[r];if(zi[r++]=null,g!==null&&b!==null){var z=g.pending;z===null?b.next=b:(b.next=z.next,z.next=b),g.pending=b}A!==0&&ec(l,b,A)}}function Ql(a,r,l,g){zi[io++]=a,zi[io++]=r,zi[io++]=l,zi[io++]=g,Xu|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Qu(a,r,l,g){return Ql(a,r,l,g),so(a)}function ao(a,r){return Ql(a,null,null,r),so(a)}function ec(a,r,l){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l);for(var b=!1,A=a.return;A!==null;)A.childLanes|=l,g=A.alternate,g!==null&&(g.childLanes|=l),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(b=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,b&&r!==null&&(b=31-ft(l),a=A.hiddenUpdates,g=a[b],g===null?a[b]=[r]:g.push(r),r.lane=l|536870912),A):null}function so(a){if(50<Md)throw Md=0,Vp=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var wi={};function Da(a,r,l,g){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(a,r,l,g){return new Da(a,r,l,g)}function Xo(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,r){var l=a.alternate;return l===null?(l=Fi(a.tag,r,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=r,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,r=a.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function eu(a,r){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,r=l.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function ro(a,r,l,g,b,A){var z=0;if(g=a,typeof a=="function")Xo(a)&&(z=1);else if(typeof a=="string")z=xb(a,l,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Fi(31,l,r,b),a.elementType=O,a.lanes=A,a;case C:return qs(l.children,b,A,r);case M:z=8,b|=24;break;case D:return a=Fi(12,l,r,b|2),a.elementType=D,a.lanes=A,a;case H:return a=Fi(13,l,r,b),a.elementType=H,a.lanes=A,a;case ee:return a=Fi(19,l,r,b),a.elementType=ee,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:case F:z=10;break e;case j:z=9;break e;case B:z=11;break e;case V:z=14;break e;case U:z=16,g=null;break e}z=29,l=Error(i(130,a===null?"null":typeof a,"")),g=null}return r=Fi(z,l,r,b),r.elementType=a,r.type=g,r.lanes=A,r}function qs(a,r,l,g){return a=Fi(7,a,g,r),a.lanes=l,a}function tc(a,r,l){return a=Fi(6,a,null,r),a.lanes=l,a}function tu(a,r,l){return r=Fi(4,a.children!==null?a.children:[],a.key,r),r.lanes=l,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Tr=[],Vs=0,Qo=null,nc=0,ja=[],ba=0,oo=null,zs=1,Hs="";function lo(a,r){Tr[Vs++]=nc,Tr[Vs++]=Qo,Qo=a,nc=r}function vf(a,r,l){ja[ba++]=zs,ja[ba++]=Hs,ja[ba++]=oo,oo=a;var g=zs;a=Hs;var b=32-ft(g)-1;g&=~(1<<b),l+=1;var A=32-ft(r)+b;if(30<A){var z=b-b%5;A=(g&(1<<z)-1).toString(32),g>>=z,b-=z,zs=1<<32-ft(r)+b|l<<b|g,Hs=A+a}else zs=1<<A|l<<b|g,Hs=a}function nu(a){a.return!==null&&(lo(a,1),vf(a,1,0))}function iu(a){for(;a===Qo;)Qo=Tr[--Vs],Tr[Vs]=null,nc=Tr[--Vs],Tr[Vs]=null;for(;a===oo;)oo=ja[--ba],ja[ba]=null,Hs=ja[--ba],ja[ba]=null,zs=ja[--ba],ja[ba]=null}var di=null,Yn=null,un=!1,Ar=null,fs=!1,sd=Error(i(519));function uo(a){var r=Error(i(418,""));throw el(_i(r,a)),sd}function yf(a){var r=a.stateNode,l=a.type,g=a.memoizedProps;switch(r[Cn]=a,r[Bn]=g,l){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(l=0;l<Dd.length;l++)en(Dd[l],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":en("invalid",r),Bl(r,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ur(r);break;case"select":en("invalid",r);break;case"textarea":en("invalid",r),ql(r,g.value,g.defaultValue,g.children),ur(r)}l=g.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||g.suppressHydrationWarning===!0||fv(r.textContent,l)?(g.popover!=null&&(en("beforetoggle",r),en("toggle",r)),g.onScroll!=null&&en("scroll",r),g.onScrollEnd!=null&&en("scrollend",r),g.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||uo(a)}function Gs(a){for(di=a.return;di;)switch(di.tag){case 5:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:di=di.return}}function Hi(a){if(a!==di)return!1;if(!un)return Gs(a),un=!0,!1;var r=a.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||am(a.type,a.memoizedProps)),l=!l),l&&Yn&&uo(a),Gs(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,r=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(r===0){Yn=Qs(a.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;a=a.nextSibling}Yn=null}}else r===27?(r=Yn,vl(a.type)?(a=lm,lm=null,Yn=a):Yn=r):Yn=di?Qs(a.stateNode.nextSibling):null;return!0}function wa(){Yn=di=null,un=!1}function xf(){var a=Ar;return a!==null&&(La===null?La=a:La.push.apply(La,a),Ar=null),a}function el(a){Ar===null?Ar=[a]:Ar.push(a)}var hs=ae(null),Si=null,$s=null;function Nr(a,r,l){J(hs,r._currentValue),r._currentValue=l}function ps(a){a._currentValue=hs.current,L(hs)}function ic(a,r,l){for(;a!==null;){var g=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,g!==null&&(g.childLanes|=r)):g!==null&&(g.childLanes&r)!==r&&(g.childLanes|=r),a===l)break;a=a.return}}function ac(a,r,l,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var A=b.dependencies;if(A!==null){var z=b.child;A=A.firstContext;e:for(;A!==null;){var re=A;A=b;for(var ye=0;ye<r.length;ye++)if(re.context===r[ye]){A.lanes|=l,re=A.alternate,re!==null&&(re.lanes|=l),ic(A.return,l,a),g||(z=null);break e}A=re.next}}else if(b.tag===18){if(z=b.return,z===null)throw Error(i(341));z.lanes|=l,A=z.alternate,A!==null&&(A.lanes|=l),ic(z,l,a),z=null}else z=b.child;if(z!==null)z.return=b;else for(z=b;z!==null;){if(z===a){z=null;break}if(b=z.sibling,b!==null){b.return=z.return,z=b;break}z=z.return}b=z}}function tl(a,r,l,g){a=null;for(var b=r,A=!1;b!==null;){if(!A){if((b.flags&524288)!==0)A=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var z=b.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var re=b.type;Ci(b.pendingProps.value,z.value)||(a!==null?a.push(re):a=[re])}}else if(b===pe.current){if(z=b.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Fd):a=[Fd])}b=b.return}a!==null&&ac(r,a,l,g),r.flags|=262144}function sc(a){for(a=a.firstContext;a!==null;){if(!Ci(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ms(a){Si=a,$s=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fi(a){return rc(Si,a)}function Cr(a,r){return Si===null&&ms(a),rc(a,r)}function rc(a,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},$s===null){if(a===null)throw Error(i(308));$s=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else $s=$s.next=r;return l}var hp=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(l,g){a.push(g)}};this.abort=function(){r.aborted=!0,a.forEach(function(l){return l()})}},bf=t.unstable_scheduleCallback,pp=t.unstable_NormalPriority,hi={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new hp,data:new Map,refCount:0}}function au(a){a.refCount--,a.refCount===0&&bf(pp,function(){a.controller.abort()})}var su=null,od=0,co=0,Ys=null;function mp(a,r){if(su===null){var l=su=[];od=0,co=Jp(),Ys={status:"pending",value:void 0,then:function(g){l.push(g)}}}return od++,r.then(wf,wf),r}function wf(){if(--od===0&&su!==null){Ys!==null&&(Ys.status="fulfilled");var a=su;su=null,co=0,Ys=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function Sf(a,r){var l=[],g={status:"pending",value:null,reason:null,then:function(b){l.push(b)}};return a.then(function(){g.status="fulfilled",g.value=r;for(var b=0;b<l.length;b++)(0,l[b])(r)},function(b){for(g.status="rejected",g.reason=b,b=0;b<l.length;b++)(0,l[b])(void 0)}),g}var v=q.S;q.S=function(a,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mp(a,r),v!==null&&v(a,r)};var S=ae(null);function _(){var a=S.current;return a!==null?a:Ln.pooledCache}function R(a,r){r===null?J(S,S.current):J(S,r.pool)}function W(){var a=_();return a===null?null:{parent:hi._currentValue,pool:a}}var Q=Error(i(460)),te=Error(i(474)),se=Error(i(542)),le={then:function(){}};function de(a){return a=a.status,a==="fulfilled"||a==="rejected"}function be(){}function ke(a,r,l){switch(l=a[l],l===void 0?a.push(r):l!==r&&(r.then(be,be),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,He(a),a;default:if(typeof r.status=="string")r.then(be,be);else{if(a=Ln,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(g){if(r.status==="pending"){var b=r;b.status="fulfilled",b.value=g}},function(g){if(r.status==="pending"){var b=r;b.status="rejected",b.reason=g}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,He(a),a}throw Ee=r,Q}}var Ee=null;function Ae(){if(Ee===null)throw Error(i(459));var a=Ee;return Ee=null,a}function He(a){if(a===Q||a===se)throw Error(i(483))}var Re=!1;function we(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Te(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Be(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ge(a,r,l){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Sn&2)!==0){var b=g.pending;return b===null?r.next=r:(r.next=b.next,b.next=r),g.pending=r,r=so(a),ec(a,null,l),r}return Ql(a,g,r,l),so(a)}function qe(a,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var g=r.lanes;g&=a.pendingLanes,l|=g,r.lanes=l,ln(a,l)}}function st(a,r){var l=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,l===g)){var b=null,A=null;if(l=l.firstBaseUpdate,l!==null){do{var z={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};A===null?b=A=z:A=A.next=z,l=l.next}while(l!==null);A===null?b=A=r:A=A.next=r}else b=A=r;l={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=r:a.next=r,l.lastBaseUpdate=r}var Xe=!1;function vt(){if(Xe){var a=Ys;if(a!==null)throw a}}function et(a,r,l,g){Xe=!1;var b=a.updateQueue;Re=!1;var A=b.firstBaseUpdate,z=b.lastBaseUpdate,re=b.shared.pending;if(re!==null){b.shared.pending=null;var ye=re,De=ye.next;ye.next=null,z===null?A=De:z.next=De,z=ye;var Ue=a.alternate;Ue!==null&&(Ue=Ue.updateQueue,re=Ue.lastBaseUpdate,re!==z&&(re===null?Ue.firstBaseUpdate=De:re.next=De,Ue.lastBaseUpdate=ye))}if(A!==null){var $e=b.baseState;z=0,Ue=De=ye=null,re=A;do{var Pe=re.lane&-536870913,Le=Pe!==re.lane;if(Le?(on&Pe)===Pe:(g&Pe)===Pe){Pe!==0&&Pe===co&&(Xe=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Mt=a,At=re;Pe=r;var Mn=l;switch(At.tag){case 1:if(Mt=At.payload,typeof Mt=="function"){$e=Mt.call(Mn,$e,Pe);break e}$e=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=At.payload,Pe=typeof Mt=="function"?Mt.call(Mn,$e,Pe):Mt,Pe==null)break e;$e=y({},$e,Pe);break e;case 2:Re=!0}}Pe=re.callback,Pe!==null&&(a.flags|=64,Le&&(a.flags|=8192),Le=b.callbacks,Le===null?b.callbacks=[Pe]:Le.push(Pe))}else Le={lane:Pe,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ue===null?(De=Ue=Le,ye=$e):Ue=Ue.next=Le,z|=Pe;if(re=re.next,re===null){if(re=b.shared.pending,re===null)break;Le=re,re=Le.next,Le.next=null,b.lastBaseUpdate=Le,b.shared.pending=null}}while(!0);Ue===null&&(ye=$e),b.baseState=ye,b.firstBaseUpdate=De,b.lastBaseUpdate=Ue,A===null&&(b.shared.lanes=0),hl|=z,a.lanes=z,a.memoizedState=$e}}function sn(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function fn(a,r){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)sn(l[a],r)}var Gt=ae(null),zt=ae(0);function vn(a,r){a=wo,J(zt,a),J(Gt,r),wo=a|r.baseLanes}function hn(){J(zt,wo),J(Gt,Gt.current)}function Pt(){wo=zt.current,L(Gt),L(zt)}var wn=0,wt=null,Ct=null,nn=null,rn=!1,Ti=!1,pi=!1,Qn=0,ei=0,ii=null,Ia=0;function pn(){throw Error(i(321))}function ai(a,r){if(r===null)return!1;for(var l=0;l<r.length&&l<a.length;l++)if(!Ci(a[l],r[l]))return!1;return!0}function Ya(a,r,l,g,b,A){return wn=A,wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=a===null||a.memoizedState===null?$g:Yg,pi=!1,A=l(g,b),pi=!1,Ti&&(A=fo(r,l,g,b)),_r(a),A}function _r(a){q.H=Pf;var r=Ct!==null&&Ct.next!==null;if(wn=0,nn=Ct=wt=null,rn=!1,ei=0,ii=null,r)throw Error(i(300));a===null||Oi||(a=a.dependencies,a!==null&&sc(a)&&(Oi=!0))}function fo(a,r,l,g){wt=a;var b=0;do{if(Ti&&(ii=null),ei=0,Ti=!1,25<=b)throw Error(i(301));if(b+=1,nn=Ct=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}q.H=kx,A=r(l,g)}while(Ti);return A}function Er(){var a=q.H,r=a.useState()[0];return r=typeof r.then=="function"?Mr(r):r,a=a.useState()[0],(Ct!==null?Ct.memoizedState:null)!==a&&(wt.flags|=1024),r}function Pn(){var a=Qn!==0;return Qn=0,a}function ru(a,r,l){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~l}function oc(a){if(rn){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}rn=!1}wn=0,nn=Ct=wt=null,Ti=!1,ei=Qn=0,ii=null}function Gi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?wt.memoizedState=nn=a:nn=nn.next=a,nn}function qn(){if(Ct===null){var a=wt.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var r=nn===null?wt.memoizedState:nn.next;if(r!==null)nn=r,Ct=a;else{if(a===null)throw wt.alternate===null?Error(i(467)):Error(i(310));Ct=a,a={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},nn===null?wt.memoizedState=nn=a:nn=nn.next=a}return nn}function ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mr(a){var r=ei;return ei+=1,ii===null&&(ii=[]),a=ke(ii,a,r),r=wt,(nn===null?r.memoizedState:nn.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?$g:Yg),a}function aa(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mr(a);if(a.$$typeof===F)return fi(a)}throw Error(i(438,String(a)))}function kr(a){var r=null,l=wt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var g=wt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(r={data:g.data.map(function(b){return b.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ho(),wt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(a),g=0;g<a;g++)l[g]=ue;return r.index++,l}function sa(a,r){return typeof r=="function"?r(a):r}function ou(a){var r=qn();return nl(r,Ct,a)}function nl(a,r,l){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var b=a.baseQueue,A=g.pending;if(A!==null){if(b!==null){var z=b.next;b.next=A.next,A.next=z}r.baseQueue=b=A,g.pending=null}if(A=a.baseState,b===null)a.memoizedState=A;else{r=b.next;var re=z=null,ye=null,De=r,Ue=!1;do{var $e=De.lane&-536870913;if($e!==De.lane?(on&$e)===$e:(wn&$e)===$e){var Pe=De.revertLane;if(Pe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),$e===co&&(Ue=!0);else if((wn&Pe)===Pe){De=De.next,Pe===co&&(Ue=!0);continue}else $e={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(re=ye=$e,z=A):ye=ye.next=$e,wt.lanes|=Pe,hl|=Pe;$e=De.action,pi&&l(A,$e),A=De.hasEagerState?De.eagerState:l(A,$e)}else Pe={lane:$e,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(re=ye=Pe,z=A):ye=ye.next=Pe,wt.lanes|=$e,hl|=$e;De=De.next}while(De!==null&&De!==r);if(ye===null?z=A:ye.next=re,!Ci(A,a.memoizedState)&&(Oi=!0,Ue&&(l=Ys,l!==null)))throw l;a.memoizedState=A,a.baseState=z,a.baseQueue=ye,g.lastRenderedState=A}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function lc(a){var r=qn(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var g=l.dispatch,b=l.pending,A=r.memoizedState;if(b!==null){l.pending=null;var z=b=b.next;do A=a(A,z.action),z=z.next;while(z!==b);Ci(A,r.memoizedState)||(Oi=!0),r.memoizedState=A,r.baseQueue===null&&(r.baseState=A),l.lastRenderedState=A}return[A,g]}function lu(a,r,l){var g=wt,b=qn(),A=un;if(A){if(l===void 0)throw Error(i(407));l=l()}else l=r();var z=!Ci((Ct||b).memoizedState,l);z&&(b.memoizedState=l,Oi=!0),b=b.queue;var re=il.bind(null,g,b,a);if(rl(2048,8,re,[a]),b.getSnapshot!==r||z||nn!==null&&nn.memoizedState.tag&1){if(g.flags|=2048,Js(9,fu(),uu.bind(null,g,b,l,r),null),Ln===null)throw Error(i(349));A||(wn&124)!==0||uc(g,r,l)}return l}function uc(a,r,l){a.flags|=16384,a={getSnapshot:r,value:l},r=wt.updateQueue,r===null?(r=ho(),wt.updateQueue=r,r.stores=[a]):(l=r.stores,l===null?r.stores=[a]:l.push(a))}function uu(a,r,l,g){r.value=l,r.getSnapshot=g,Tf(r)&&Af(a)}function il(a,r,l){return l(function(){Tf(r)&&Af(a)})}function Tf(a){var r=a.getSnapshot;a=a.value;try{var l=r();return!Ci(a,l)}catch{return!0}}function Af(a){var r=ao(a,2);r!==null&&Qa(r,a,2)}function cu(a){var r=Gi();if(typeof a=="function"){var l=a;if(a=l(),pi){Kt(!0);try{l()}finally{Kt(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},r}function Ws(a,r,l,g){return a.baseState=l,nl(a,Ct,typeof g=="function"?g:sa)}function gp(a,r,l,g,b){if(If(a))throw Error(i(485));if(a=r.action,a!==null){var A={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){A.listeners.push(z)}};q.T!==null?l(!0):A.isTransition=!1,g(A),l=r.pending,l===null?(A.next=r.pending=A,Nf(r,A)):(A.next=l.next,r.pending=l.next=A)}}function Nf(a,r){var l=r.action,g=r.payload,b=a.state;if(r.isTransition){var A=q.T,z={};q.T=z;try{var re=l(b,g),ye=q.S;ye!==null&&ye(z,re),Cf(a,r,re)}catch(De){al(a,r,De)}finally{q.T=A}}else try{A=l(b,g),Cf(a,r,A)}catch(De){al(a,r,De)}}function Cf(a,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(g){ld(a,r,g)},function(g){return al(a,r,g)}):ld(a,r,l)}function ld(a,r,l){r.status="fulfilled",r.value=l,ud(r),a.state=l,r=a.pending,r!==null&&(l=r.next,l===r?a.pending=null:(l=l.next,r.next=l,Nf(a,l)))}function al(a,r,l){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do r.status="rejected",r.reason=l,ud(r),r=r.next;while(r!==g)}a.action=null}function ud(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function cd(a,r){return r}function du(a,r){if(un){var l=Ln.formState;if(l!==null){e:{var g=wt;if(un){if(Yn){t:{for(var b=Yn,A=fs;b.nodeType!==8;){if(!A){b=null;break t}if(b=Qs(b.nextSibling),b===null){b=null;break t}}A=b.data,b=A==="F!"||A==="F"?b:null}if(b){Yn=Qs(b.nextSibling),g=b.data==="F!";break e}}uo(g)}g=!1}g&&(r=l[0])}}return l=Gi(),l.memoizedState=l.baseState=r,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:r},l.queue=g,l=zg.bind(null,wt,g),g.dispatch=l,g=cu(!1),A=vp.bind(null,wt,!1,g.queue),g=Gi(),b={state:r,dispatch:null,action:a,pending:null},g.queue=b,l=gp.bind(null,wt,b,A,l),b.dispatch=l,g.memoizedState=a,[r,l,!1]}function cc(a){var r=qn();return sl(r,Ct,a)}function sl(a,r,l){if(r=nl(a,r,cd)[0],a=ou(sa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var g=Mr(r)}catch(z){throw z===Q?se:z}else g=r;r=qn();var b=r.queue,A=b.dispatch;return l!==r.memoizedState&&(wt.flags|=2048,Js(9,fu(),_f.bind(null,b,l),null)),[g,A,a]}function _f(a,r){a.action=r}function Ef(a){var r=qn(),l=Ct;if(l!==null)return sl(r,l,a);qn(),r=r.memoizedState,l=qn();var g=l.queue.dispatch;return l.memoizedState=a,[r,g,!1]}function Js(a,r,l,g){return a={tag:a,create:l,deps:g,inst:r,next:null},r=wt.updateQueue,r===null&&(r=ho(),wt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=a.next=a:(g=l.next,l.next=a,a.next=g,r.lastEffect=a),a}function fu(){return{destroy:void 0,resource:void 0}}function dc(){return qn().memoizedState}function Wa(a,r,l,g){var b=Gi();g=g===void 0?null:g,wt.flags|=a,b.memoizedState=Js(1|r,fu(),l,g)}function rl(a,r,l,g){var b=qn();g=g===void 0?null:g;var A=b.memoizedState.inst;Ct!==null&&g!==null&&ai(g,Ct.memoizedState.deps)?b.memoizedState=Js(r,A,l,g):(wt.flags|=a,b.memoizedState=Js(1|r,A,l,g))}function dd(a,r){Wa(8390656,8,a,r)}function Mf(a,r){rl(2048,8,a,r)}function fd(a,r){return rl(4,2,a,r)}function po(a,r){return rl(4,4,a,r)}function kf(a,r){if(typeof r=="function"){a=a();var l=r(a);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function hd(a,r,l){l=l!=null?l.concat([a]):null,rl(4,4,kf.bind(null,r,a),l)}function pd(){}function md(a,r){var l=qn();r=r===void 0?null:r;var g=l.memoizedState;return r!==null&&ai(r,g[1])?g[0]:(l.memoizedState=[a,r],a)}function Df(a,r){var l=qn();r=r===void 0?null:r;var g=l.memoizedState;if(r!==null&&ai(r,g[1]))return g[0];if(g=a(),pi){Kt(!0);try{a()}finally{Kt(!1)}}return l.memoizedState=[g,r],g}function mo(a,r,l){return l===void 0||(wn&1073741824)!==0?a.memoizedState=r:(a.memoizedState=l,a=B0(),wt.lanes|=a,hl|=a,l)}function fc(a,r,l,g){return Ci(l,r)?l:Gt.current!==null?(a=mo(a,l,g),Ci(a,r)||(Oi=!0),a):(wn&42)===0?(Oi=!0,a.memoizedState=l):(a=B0(),wt.lanes|=a,hl|=a,r)}function hu(a,r,l,g,b){var A=G.p;G.p=A!==0&&8>A?A:8;var z=q.T,re={};q.T=re,vp(a,!1,r,l);try{var ye=b(),De=q.S;if(De!==null&&De(re,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ue=Sf(ye,g);xd(a,r,Ue,Xa(a))}else xd(a,r,g,Xa(a))}catch($e){xd(a,r,{then:function(){},status:"rejected",reason:$e},Xa())}finally{G.p=A,q.T=z}}function Ks(){}function gs(a,r,l,g){if(a.tag!==5)throw Error(i(476));var b=Zs(a).queue;hu(a,b,r,ne,l===null?Ks:function(){return pu(a),l(g)})}function Zs(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ne},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:l},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function pu(a){var r=Zs(a).next.queue;xd(a,r,{},Xa())}function mu(){return fi(Fd)}function gd(){return qn().memoizedState}function jf(){return qn().memoizedState}function vd(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var l=Xa();a=Be(l);var g=Ge(r,a,l);g!==null&&(Qa(g,r,l),qe(g,r,l)),r={cache:rd()},a.payload=r;return}r=r.return}}function yd(a,r,l){var g=Xa();l={lane:g,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},If(a)?Hg(r,l):(l=Qu(a,r,l,g),l!==null&&(Qa(l,a,g),Gg(l,r,g)))}function zg(a,r,l){var g=Xa();xd(a,r,l,g)}function xd(a,r,l,g){var b={lane:g,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(If(a))Hg(r,b);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=r.lastRenderedReducer,A!==null))try{var z=r.lastRenderedState,re=A(z,l);if(b.hasEagerState=!0,b.eagerState=re,Ci(re,z))return Ql(a,r,b,0),Ln===null&&Xl(),!1}catch{}finally{}if(l=Qu(a,r,b,g),l!==null)return Qa(l,a,g),Gg(l,r,g),!0}return!1}function vp(a,r,l,g){if(g={lane:2,revertLane:Jp(),action:g,hasEagerState:!1,eagerState:null,next:null},If(a)){if(r)throw Error(i(479))}else r=Qu(a,l,g,2),r!==null&&Qa(r,a,2)}function If(a){var r=a.alternate;return a===wt||r!==null&&r===wt}function Hg(a,r){Ti=rn=!0;var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}function Gg(a,r,l){if((l&4194048)!==0){var g=r.lanes;g&=a.pendingLanes,l|=g,r.lanes=l,ln(a,l)}}var Pf={readContext:fi,use:aa,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn},$g={readContext:fi,use:aa,useCallback:function(a,r){return Gi().memoizedState=[a,r===void 0?null:r],a},useContext:fi,useEffect:dd,useImperativeHandle:function(a,r,l){l=l!=null?l.concat([a]):null,Wa(4194308,4,kf.bind(null,r,a),l)},useLayoutEffect:function(a,r){return Wa(4194308,4,a,r)},useInsertionEffect:function(a,r){Wa(4,2,a,r)},useMemo:function(a,r){var l=Gi();r=r===void 0?null:r;var g=a();if(pi){Kt(!0);try{a()}finally{Kt(!1)}}return l.memoizedState=[g,r],g},useReducer:function(a,r,l){var g=Gi();if(l!==void 0){var b=l(r);if(pi){Kt(!0);try{l(r)}finally{Kt(!1)}}}else b=r;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=yd.bind(null,wt,a),[g.memoizedState,a]},useRef:function(a){var r=Gi();return a={current:a},r.memoizedState=a},useState:function(a){a=cu(a);var r=a.queue,l=zg.bind(null,wt,r);return r.dispatch=l,[a.memoizedState,l]},useDebugValue:pd,useDeferredValue:function(a,r){var l=Gi();return mo(l,a,r)},useTransition:function(){var a=cu(!1);return a=hu.bind(null,wt,a.queue,!0,!1),Gi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,l){var g=wt,b=Gi();if(un){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Ln===null)throw Error(i(349));(on&124)!==0||uc(g,r,l)}b.memoizedState=l;var A={value:l,getSnapshot:r};return b.queue=A,dd(il.bind(null,g,A,a),[a]),g.flags|=2048,Js(9,fu(),uu.bind(null,g,A,l,r),null),l},useId:function(){var a=Gi(),r=Ln.identifierPrefix;if(un){var l=Hs,g=zs;l=(g&~(1<<32-ft(g)-1)).toString(32)+l,r="«"+r+"R"+l,l=Qn++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=Ia++,r="«"+r+"r"+l.toString(32)+"»";return a.memoizedState=r},useHostTransitionStatus:mu,useFormState:du,useActionState:du,useOptimistic:function(a){var r=Gi();r.memoizedState=r.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=vp.bind(null,wt,!0,l),l.dispatch=r,[a,r]},useMemoCache:kr,useCacheRefresh:function(){return Gi().memoizedState=vd.bind(null,wt)}},Yg={readContext:fi,use:aa,useCallback:md,useContext:fi,useEffect:Mf,useImperativeHandle:hd,useInsertionEffect:fd,useLayoutEffect:po,useMemo:Df,useReducer:ou,useRef:dc,useState:function(){return ou(sa)},useDebugValue:pd,useDeferredValue:function(a,r){var l=qn();return fc(l,Ct.memoizedState,a,r)},useTransition:function(){var a=ou(sa)[0],r=qn().memoizedState;return[typeof a=="boolean"?a:Mr(a),r]},useSyncExternalStore:lu,useId:gd,useHostTransitionStatus:mu,useFormState:cc,useActionState:cc,useOptimistic:function(a,r){var l=qn();return Ws(l,Ct,a,r)},useMemoCache:kr,useCacheRefresh:jf},kx={readContext:fi,use:aa,useCallback:md,useContext:fi,useEffect:Mf,useImperativeHandle:hd,useInsertionEffect:fd,useLayoutEffect:po,useMemo:Df,useReducer:lc,useRef:dc,useState:function(){return lc(sa)},useDebugValue:pd,useDeferredValue:function(a,r){var l=qn();return Ct===null?mo(l,a,r):fc(l,Ct.memoizedState,a,r)},useTransition:function(){var a=lc(sa)[0],r=qn().memoizedState;return[typeof a=="boolean"?a:Mr(a),r]},useSyncExternalStore:lu,useId:gd,useHostTransitionStatus:mu,useFormState:Ef,useActionState:Ef,useOptimistic:function(a,r){var l=qn();return Ct!==null?Ws(l,Ct,a,r):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:kr,useCacheRefresh:jf},hc=null,bd=0;function Lf(a){var r=bd;return bd+=1,hc===null&&(hc=[]),ke(hc,a,r)}function wd(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function Rf(a,r){throw r.$$typeof===x?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function Wg(a){var r=a._init;return r(a._payload)}function Jg(a){function r(Ne,Se){if(a){var Me=Ne.deletions;Me===null?(Ne.deletions=[Se],Ne.flags|=16):Me.push(Se)}}function l(Ne,Se){if(!a)return null;for(;Se!==null;)r(Ne,Se),Se=Se.sibling;return null}function g(Ne){for(var Se=new Map;Ne!==null;)Ne.key!==null?Se.set(Ne.key,Ne):Se.set(Ne.index,Ne),Ne=Ne.sibling;return Se}function b(Ne,Se){return Ne=ds(Ne,Se),Ne.index=0,Ne.sibling=null,Ne}function A(Ne,Se,Me){return Ne.index=Me,a?(Me=Ne.alternate,Me!==null?(Me=Me.index,Me<Se?(Ne.flags|=67108866,Se):Me):(Ne.flags|=67108866,Se)):(Ne.flags|=1048576,Se)}function z(Ne){return a&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function re(Ne,Se,Me,Ve){return Se===null||Se.tag!==6?(Se=tc(Me,Ne.mode,Ve),Se.return=Ne,Se):(Se=b(Se,Me),Se.return=Ne,Se)}function ye(Ne,Se,Me,Ve){var ut=Me.type;return ut===C?Ue(Ne,Se,Me.props.children,Ve,Me.key):Se!==null&&(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===U&&Wg(ut)===Se.type)?(Se=b(Se,Me.props),wd(Se,Me),Se.return=Ne,Se):(Se=ro(Me.type,Me.key,Me.props,null,Ne.mode,Ve),wd(Se,Me),Se.return=Ne,Se)}function De(Ne,Se,Me,Ve){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Me.containerInfo||Se.stateNode.implementation!==Me.implementation?(Se=tu(Me,Ne.mode,Ve),Se.return=Ne,Se):(Se=b(Se,Me.children||[]),Se.return=Ne,Se)}function Ue(Ne,Se,Me,Ve,ut){return Se===null||Se.tag!==7?(Se=qs(Me,Ne.mode,Ve,ut),Se.return=Ne,Se):(Se=b(Se,Me),Se.return=Ne,Se)}function $e(Ne,Se,Me){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=tc(""+Se,Ne.mode,Me),Se.return=Ne,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case T:return Me=ro(Se.type,Se.key,Se.props,null,Ne.mode,Me),wd(Me,Se),Me.return=Ne,Me;case w:return Se=tu(Se,Ne.mode,Me),Se.return=Ne,Se;case U:var Ve=Se._init;return Se=Ve(Se._payload),$e(Ne,Se,Me)}if(ce(Se)||k(Se))return Se=qs(Se,Ne.mode,Me,null),Se.return=Ne,Se;if(typeof Se.then=="function")return $e(Ne,Lf(Se),Me);if(Se.$$typeof===F)return $e(Ne,Cr(Ne,Se),Me);Rf(Ne,Se)}return null}function Pe(Ne,Se,Me,Ve){var ut=Se!==null?Se.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ut!==null?null:re(Ne,Se,""+Me,Ve);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case T:return Me.key===ut?ye(Ne,Se,Me,Ve):null;case w:return Me.key===ut?De(Ne,Se,Me,Ve):null;case U:return ut=Me._init,Me=ut(Me._payload),Pe(Ne,Se,Me,Ve)}if(ce(Me)||k(Me))return ut!==null?null:Ue(Ne,Se,Me,Ve,null);if(typeof Me.then=="function")return Pe(Ne,Se,Lf(Me),Ve);if(Me.$$typeof===F)return Pe(Ne,Se,Cr(Ne,Me),Ve);Rf(Ne,Me)}return null}function Le(Ne,Se,Me,Ve,ut){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ne=Ne.get(Me)||null,re(Se,Ne,""+Ve,ut);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case T:return Ne=Ne.get(Ve.key===null?Me:Ve.key)||null,ye(Se,Ne,Ve,ut);case w:return Ne=Ne.get(Ve.key===null?Me:Ve.key)||null,De(Se,Ne,Ve,ut);case U:var Wt=Ve._init;return Ve=Wt(Ve._payload),Le(Ne,Se,Me,Ve,ut)}if(ce(Ve)||k(Ve))return Ne=Ne.get(Me)||null,Ue(Se,Ne,Ve,ut,null);if(typeof Ve.then=="function")return Le(Ne,Se,Me,Lf(Ve),ut);if(Ve.$$typeof===F)return Le(Ne,Se,Me,Cr(Se,Ve),ut);Rf(Se,Ve)}return null}function Mt(Ne,Se,Me,Ve){for(var ut=null,Wt=null,xt=Se,Nt=Se=0,Ui=null;xt!==null&&Nt<Me.length;Nt++){xt.index>Nt?(Ui=xt,xt=null):Ui=xt.sibling;var mn=Pe(Ne,xt,Me[Nt],Ve);if(mn===null){xt===null&&(xt=Ui);break}a&&xt&&mn.alternate===null&&r(Ne,xt),Se=A(mn,Se,Nt),Wt===null?ut=mn:Wt.sibling=mn,Wt=mn,xt=Ui}if(Nt===Me.length)return l(Ne,xt),un&&lo(Ne,Nt),ut;if(xt===null){for(;Nt<Me.length;Nt++)xt=$e(Ne,Me[Nt],Ve),xt!==null&&(Se=A(xt,Se,Nt),Wt===null?ut=xt:Wt.sibling=xt,Wt=xt);return un&&lo(Ne,Nt),ut}for(xt=g(xt);Nt<Me.length;Nt++)Ui=Le(xt,Ne,Nt,Me[Nt],Ve),Ui!==null&&(a&&Ui.alternate!==null&&xt.delete(Ui.key===null?Nt:Ui.key),Se=A(Ui,Se,Nt),Wt===null?ut=Ui:Wt.sibling=Ui,Wt=Ui);return a&&xt.forEach(function(Sl){return r(Ne,Sl)}),un&&lo(Ne,Nt),ut}function At(Ne,Se,Me,Ve){if(Me==null)throw Error(i(151));for(var ut=null,Wt=null,xt=Se,Nt=Se=0,Ui=null,mn=Me.next();xt!==null&&!mn.done;Nt++,mn=Me.next()){xt.index>Nt?(Ui=xt,xt=null):Ui=xt.sibling;var Sl=Pe(Ne,xt,mn.value,Ve);if(Sl===null){xt===null&&(xt=Ui);break}a&&xt&&Sl.alternate===null&&r(Ne,xt),Se=A(Sl,Se,Nt),Wt===null?ut=Sl:Wt.sibling=Sl,Wt=Sl,xt=Ui}if(mn.done)return l(Ne,xt),un&&lo(Ne,Nt),ut;if(xt===null){for(;!mn.done;Nt++,mn=Me.next())mn=$e(Ne,mn.value,Ve),mn!==null&&(Se=A(mn,Se,Nt),Wt===null?ut=mn:Wt.sibling=mn,Wt=mn);return un&&lo(Ne,Nt),ut}for(xt=g(xt);!mn.done;Nt++,mn=Me.next())mn=Le(xt,Ne,Nt,mn.value,Ve),mn!==null&&(a&&mn.alternate!==null&&xt.delete(mn.key===null?Nt:mn.key),Se=A(mn,Se,Nt),Wt===null?ut=mn:Wt.sibling=mn,Wt=mn);return a&&xt.forEach(function(Db){return r(Ne,Db)}),un&&lo(Ne,Nt),ut}function Mn(Ne,Se,Me,Ve){if(typeof Me=="object"&&Me!==null&&Me.type===C&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case T:e:{for(var ut=Me.key;Se!==null;){if(Se.key===ut){if(ut=Me.type,ut===C){if(Se.tag===7){l(Ne,Se.sibling),Ve=b(Se,Me.props.children),Ve.return=Ne,Ne=Ve;break e}}else if(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===U&&Wg(ut)===Se.type){l(Ne,Se.sibling),Ve=b(Se,Me.props),wd(Ve,Me),Ve.return=Ne,Ne=Ve;break e}l(Ne,Se);break}else r(Ne,Se);Se=Se.sibling}Me.type===C?(Ve=qs(Me.props.children,Ne.mode,Ve,Me.key),Ve.return=Ne,Ne=Ve):(Ve=ro(Me.type,Me.key,Me.props,null,Ne.mode,Ve),wd(Ve,Me),Ve.return=Ne,Ne=Ve)}return z(Ne);case w:e:{for(ut=Me.key;Se!==null;){if(Se.key===ut)if(Se.tag===4&&Se.stateNode.containerInfo===Me.containerInfo&&Se.stateNode.implementation===Me.implementation){l(Ne,Se.sibling),Ve=b(Se,Me.children||[]),Ve.return=Ne,Ne=Ve;break e}else{l(Ne,Se);break}else r(Ne,Se);Se=Se.sibling}Ve=tu(Me,Ne.mode,Ve),Ve.return=Ne,Ne=Ve}return z(Ne);case U:return ut=Me._init,Me=ut(Me._payload),Mn(Ne,Se,Me,Ve)}if(ce(Me))return Mt(Ne,Se,Me,Ve);if(k(Me)){if(ut=k(Me),typeof ut!="function")throw Error(i(150));return Me=ut.call(Me),At(Ne,Se,Me,Ve)}if(typeof Me.then=="function")return Mn(Ne,Se,Lf(Me),Ve);if(Me.$$typeof===F)return Mn(Ne,Se,Cr(Ne,Me),Ve);Rf(Ne,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,Se!==null&&Se.tag===6?(l(Ne,Se.sibling),Ve=b(Se,Me),Ve.return=Ne,Ne=Ve):(l(Ne,Se),Ve=tc(Me,Ne.mode,Ve),Ve.return=Ne,Ne=Ve),z(Ne)):l(Ne,Se)}return function(Ne,Se,Me,Ve){try{bd=0;var ut=Mn(Ne,Se,Me,Ve);return hc=null,ut}catch(xt){if(xt===Q||xt===se)throw xt;var Wt=Fi(29,xt,null,Ne.mode);return Wt.lanes=Ve,Wt.return=Ne,Wt}finally{}}}var pc=Jg(!0),Kg=Jg(!1),vs=ae(null),Dr=null;function ol(a){var r=a.alternate;J(Ei,Ei.current&1),J(vs,a),Dr===null&&(r===null||Gt.current!==null||r.memoizedState!==null)&&(Dr=a)}function Zg(a){if(a.tag===22){if(J(Ei,Ei.current),J(vs,a),Dr===null){var r=a.alternate;r!==null&&r.memoizedState!==null&&(Dr=a)}}else ll()}function ll(){J(Ei,Ei.current),J(vs,vs.current)}function go(a){L(vs),Dr===a&&(Dr=null),L(Ei)}var Ei=ae(0);function Ff(a){for(var r=a;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||om(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function yp(a,r,l,g){r=a.memoizedState,l=l(g,r),l=l==null?r:y({},r,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var xp={enqueueSetState:function(a,r,l){a=a._reactInternals;var g=Xa(),b=Be(g);b.payload=r,l!=null&&(b.callback=l),r=Ge(a,b,g),r!==null&&(Qa(r,a,g),qe(r,a,g))},enqueueReplaceState:function(a,r,l){a=a._reactInternals;var g=Xa(),b=Be(g);b.tag=1,b.payload=r,l!=null&&(b.callback=l),r=Ge(a,b,g),r!==null&&(Qa(r,a,g),qe(r,a,g))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var l=Xa(),g=Be(l);g.tag=2,r!=null&&(g.callback=r),r=Ge(a,g,l),r!==null&&(Qa(r,a,l),qe(r,a,l))}};function Xg(a,r,l,g,b,A,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,A,z):r.prototype&&r.prototype.isPureReactComponent?!no(l,g)||!no(b,A):!0}function Qg(a,r,l,g){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,g),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,g),r.state!==a&&xp.enqueueReplaceState(r,r.state,null)}function gu(a,r){var l=r;if("ref"in r){l={};for(var g in r)g!=="ref"&&(l[g]=r[g])}if(a=a.defaultProps){l===r&&(l=y({},l));for(var b in a)l[b]===void 0&&(l[b]=a[b])}return l}var Of=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function e0(a){Of(a)}function t0(a){console.error(a)}function n0(a){Of(a)}function Bf(a,r){try{var l=a.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(g){setTimeout(function(){throw g})}}function i0(a,r,l){try{var g=a.onCaughtError;g(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function bp(a,r,l){return l=Be(l),l.tag=3,l.payload={element:null},l.callback=function(){Bf(a,r)},l}function a0(a){return a=Be(a),a.tag=3,a}function s0(a,r,l,g){var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var A=g.value;a.payload=function(){return b(A)},a.callback=function(){i0(r,l,g)}}var z=l.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){i0(r,l,g),typeof b!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})})}function Dx(a,r,l,g,b){if(l.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(r=l.alternate,r!==null&&tl(r,l,b,!0),l=vs.current,l!==null){switch(l.tag){case 13:return Dr===null?Hp():l.alternate===null&&si===0&&(si=3),l.flags&=-257,l.flags|=65536,l.lanes=b,g===le?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([g]):r.add(g),$p(a,g,b)),!1;case 22:return l.flags|=65536,g===le?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([g])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([g]):l.add(g)),$p(a,g,b)),!1}throw Error(i(435,l.tag))}return $p(a,g,b),Hp(),!1}if(un)return r=vs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=b,g!==sd&&(a=Error(i(422),{cause:g}),el(_i(a,l)))):(g!==sd&&(r=Error(i(423),{cause:g}),el(_i(r,l))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=_i(g,l),b=bp(a.stateNode,g,b),st(a,b),si!==4&&(si=2)),!1;var A=Error(i(520),{cause:g});if(A=_i(A,l),Ed===null?Ed=[A]:Ed.push(A),si!==4&&(si=2),r===null)return!0;g=_i(g,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,a=b&-b,l.lanes|=a,a=bp(l.stateNode,g,a),st(l,a),!1;case 1:if(r=l.type,A=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(pl===null||!pl.has(A))))return l.flags|=65536,b&=-b,l.lanes|=b,b=a0(b),s0(b,a,l,g),st(l,b),!1}l=l.return}while(l!==null);return!1}var r0=Error(i(461)),Oi=!1;function $i(a,r,l,g){r.child=a===null?Kg(r,null,l,g):pc(r,a.child,l,g)}function o0(a,r,l,g,b){l=l.render;var A=r.ref;if("ref"in g){var z={};for(var re in g)re!=="ref"&&(z[re]=g[re])}else z=g;return ms(r),g=Ya(a,r,l,z,A,b),re=Pn(),a!==null&&!Oi?(ru(a,r,b),vo(a,r,b)):(un&&re&&nu(r),r.flags|=1,$i(a,r,g,b),r.child)}function l0(a,r,l,g,b){if(a===null){var A=l.type;return typeof A=="function"&&!Xo(A)&&A.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=A,u0(a,r,A,g,b)):(a=ro(l.type,null,g,r,r.mode,b),a.ref=r.ref,a.return=r,r.child=a)}if(A=a.child,!Ep(a,b)){var z=A.memoizedProps;if(l=l.compare,l=l!==null?l:no,l(z,g)&&a.ref===r.ref)return vo(a,r,b)}return r.flags|=1,a=ds(A,g),a.ref=r.ref,a.return=r,r.child=a}function u0(a,r,l,g,b){if(a!==null){var A=a.memoizedProps;if(no(A,g)&&a.ref===r.ref)if(Oi=!1,r.pendingProps=g=A,Ep(a,b))(a.flags&131072)!==0&&(Oi=!0);else return r.lanes=a.lanes,vo(a,r,b)}return wp(a,r,l,g,b)}function c0(a,r,l){var g=r.pendingProps,b=g.children,A=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((r.flags&128)!==0){if(g=A!==null?A.baseLanes|l:l,a!==null){for(b=r.child=a.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;r.childLanes=A&~g}else r.childLanes=0,r.child=null;return d0(a,r,g,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&R(r,A!==null?A.cachePool:null),A!==null?vn(r,A):hn(),Zg(r);else return r.lanes=r.childLanes=536870912,d0(a,r,A!==null?A.baseLanes|l:l,l)}else A!==null?(R(r,A.cachePool),vn(r,A),ll(),r.memoizedState=null):(a!==null&&R(r,null),hn(),ll());return $i(a,r,b,l),r.child}function d0(a,r,l,g){var b=_();return b=b===null?null:{parent:hi._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},a!==null&&R(r,null),hn(),Zg(r),a!==null&&tl(a,r,g,!0),null}function Uf(a,r){var l=r.ref;if(l===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(a===null||a.ref!==l)&&(r.flags|=4194816)}}function wp(a,r,l,g,b){return ms(r),l=Ya(a,r,l,g,void 0,b),g=Pn(),a!==null&&!Oi?(ru(a,r,b),vo(a,r,b)):(un&&g&&nu(r),r.flags|=1,$i(a,r,l,b),r.child)}function f0(a,r,l,g,b,A){return ms(r),r.updateQueue=null,l=fo(r,g,l,b),_r(a),g=Pn(),a!==null&&!Oi?(ru(a,r,A),vo(a,r,A)):(un&&g&&nu(r),r.flags|=1,$i(a,r,l,A),r.child)}function h0(a,r,l,g,b){if(ms(r),r.stateNode===null){var A=wi,z=l.contextType;typeof z=="object"&&z!==null&&(A=fi(z)),A=new l(g,A),r.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=xp,r.stateNode=A,A._reactInternals=r,A=r.stateNode,A.props=g,A.state=r.memoizedState,A.refs={},we(r),z=l.contextType,A.context=typeof z=="object"&&z!==null?fi(z):wi,A.state=r.memoizedState,z=l.getDerivedStateFromProps,typeof z=="function"&&(yp(r,l,z,g),A.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(z=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),z!==A.state&&xp.enqueueReplaceState(A,A.state,null),et(r,g,A,b),vt(),A.state=r.memoizedState),typeof A.componentDidMount=="function"&&(r.flags|=4194308),g=!0}else if(a===null){A=r.stateNode;var re=r.memoizedProps,ye=gu(l,re);A.props=ye;var De=A.context,Ue=l.contextType;z=wi,typeof Ue=="object"&&Ue!==null&&(z=fi(Ue));var $e=l.getDerivedStateFromProps;Ue=typeof $e=="function"||typeof A.getSnapshotBeforeUpdate=="function",re=r.pendingProps!==re,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(re||De!==z)&&Qg(r,A,g,z),Re=!1;var Pe=r.memoizedState;A.state=Pe,et(r,g,A,b),vt(),De=r.memoizedState,re||Pe!==De||Re?(typeof $e=="function"&&(yp(r,l,$e,g),De=r.memoizedState),(ye=Re||Xg(r,l,ye,g,Pe,De,z))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(r.flags|=4194308)):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=g,r.memoizedState=De),A.props=g,A.state=De,A.context=z,g=ye):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),g=!1)}else{A=r.stateNode,Te(a,r),z=r.memoizedProps,Ue=gu(l,z),A.props=Ue,$e=r.pendingProps,Pe=A.context,De=l.contextType,ye=wi,typeof De=="object"&&De!==null&&(ye=fi(De)),re=l.getDerivedStateFromProps,(De=typeof re=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==$e||Pe!==ye)&&Qg(r,A,g,ye),Re=!1,Pe=r.memoizedState,A.state=Pe,et(r,g,A,b),vt();var Le=r.memoizedState;z!==$e||Pe!==Le||Re||a!==null&&a.dependencies!==null&&sc(a.dependencies)?(typeof re=="function"&&(yp(r,l,re,g),Le=r.memoizedState),(Ue=Re||Xg(r,l,Ue,g,Pe,Le,ye)||a!==null&&a.dependencies!==null&&sc(a.dependencies))?(De||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Le,ye),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Le,ye)),typeof A.componentDidUpdate=="function"&&(r.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===a.memoizedProps&&Pe===a.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Pe===a.memoizedState||(r.flags|=1024),r.memoizedProps=g,r.memoizedState=Le),A.props=g,A.state=Le,A.context=ye,g=Ue):(typeof A.componentDidUpdate!="function"||z===a.memoizedProps&&Pe===a.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Pe===a.memoizedState||(r.flags|=1024),g=!1)}return A=g,Uf(a,r),g=(r.flags&128)!==0,A||g?(A=r.stateNode,l=g&&typeof l.getDerivedStateFromError!="function"?null:A.render(),r.flags|=1,a!==null&&g?(r.child=pc(r,a.child,null,b),r.child=pc(r,null,l,b)):$i(a,r,l,b),r.memoizedState=A.state,a=r.child):a=vo(a,r,b),a}function p0(a,r,l,g){return wa(),r.flags|=256,$i(a,r,l,g),r.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(a){return{baseLanes:a,cachePool:W()}}function Ap(a,r,l){return a=a!==null?a.childLanes&~l:0,r&&(a|=ys),a}function m0(a,r,l){var g=r.pendingProps,b=!1,A=(r.flags&128)!==0,z;if((z=A)||(z=a!==null&&a.memoizedState===null?!1:(Ei.current&2)!==0),z&&(b=!0,r.flags&=-129),z=(r.flags&32)!==0,r.flags&=-33,a===null){if(un){if(b?ol(r):ll(),un){var re=Yn,ye;if(ye=re){e:{for(ye=re,re=fs;ye.nodeType!==8;){if(!re){re=null;break e}if(ye=Qs(ye.nextSibling),ye===null){re=null;break e}}re=ye}re!==null?(r.memoizedState={dehydrated:re,treeContext:oo!==null?{id:zs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},ye=Fi(18,null,null,0),ye.stateNode=re,ye.return=r,r.child=ye,di=r,Yn=null,ye=!0):ye=!1}ye||uo(r)}if(re=r.memoizedState,re!==null&&(re=re.dehydrated,re!==null))return om(re)?r.lanes=32:r.lanes=536870912,null;go(r)}return re=g.children,g=g.fallback,b?(ll(),b=r.mode,re=qf({mode:"hidden",children:re},b),g=qs(g,b,l,null),re.return=r,g.return=r,re.sibling=g,r.child=re,b=r.child,b.memoizedState=Tp(l),b.childLanes=Ap(a,z,l),r.memoizedState=Sp,g):(ol(r),Np(r,re))}if(ye=a.memoizedState,ye!==null&&(re=ye.dehydrated,re!==null)){if(A)r.flags&256?(ol(r),r.flags&=-257,r=Cp(a,r,l)):r.memoizedState!==null?(ll(),r.child=a.child,r.flags|=128,r=null):(ll(),b=g.fallback,re=r.mode,g=qf({mode:"visible",children:g.children},re),b=qs(b,re,l,null),b.flags|=2,g.return=r,b.return=r,g.sibling=b,r.child=g,pc(r,a.child,null,l),g=r.child,g.memoizedState=Tp(l),g.childLanes=Ap(a,z,l),r.memoizedState=Sp,r=b);else if(ol(r),om(re)){if(z=re.nextSibling&&re.nextSibling.dataset,z)var De=z.dgst;z=De,g=Error(i(419)),g.stack="",g.digest=z,el({value:g,source:null,stack:null}),r=Cp(a,r,l)}else if(Oi||tl(a,r,l,!1),z=(l&a.childLanes)!==0,Oi||z){if(z=Ln,z!==null&&(g=l&-l,g=(g&42)!==0?1:Cs(g),g=(g&(z.suspendedLanes|l))!==0?0:g,g!==0&&g!==ye.retryLane))throw ye.retryLane=g,ao(a,g),Qa(z,a,g),r0;re.data==="$?"||Hp(),r=Cp(a,r,l)}else re.data==="$?"?(r.flags|=192,r.child=a.child,r=null):(a=ye.treeContext,Yn=Qs(re.nextSibling),di=r,un=!0,Ar=null,fs=!1,a!==null&&(ja[ba++]=zs,ja[ba++]=Hs,ja[ba++]=oo,zs=a.id,Hs=a.overflow,oo=r),r=Np(r,g.children),r.flags|=4096);return r}return b?(ll(),b=g.fallback,re=r.mode,ye=a.child,De=ye.sibling,g=ds(ye,{mode:"hidden",children:g.children}),g.subtreeFlags=ye.subtreeFlags&65011712,De!==null?b=ds(De,b):(b=qs(b,re,l,null),b.flags|=2),b.return=r,g.return=r,g.sibling=b,r.child=g,g=b,b=r.child,re=a.child.memoizedState,re===null?re=Tp(l):(ye=re.cachePool,ye!==null?(De=hi._currentValue,ye=ye.parent!==De?{parent:De,pool:De}:ye):ye=W(),re={baseLanes:re.baseLanes|l,cachePool:ye}),b.memoizedState=re,b.childLanes=Ap(a,z,l),r.memoizedState=Sp,g):(ol(r),l=a.child,a=l.sibling,l=ds(l,{mode:"visible",children:g.children}),l.return=r,l.sibling=null,a!==null&&(z=r.deletions,z===null?(r.deletions=[a],r.flags|=16):z.push(a)),r.child=l,r.memoizedState=null,l)}function Np(a,r){return r=qf({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function qf(a,r){return a=Fi(22,a,null,r),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Cp(a,r,l){return pc(r,a.child,null,l),a=Np(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function g0(a,r,l){a.lanes|=r;var g=a.alternate;g!==null&&(g.lanes|=r),ic(a.return,r,l)}function _p(a,r,l,g,b){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:g,tail:l,tailMode:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=l,A.tailMode=b)}function v0(a,r,l){var g=r.pendingProps,b=g.revealOrder,A=g.tail;if($i(a,r,g.children,l),g=Ei.current,(g&2)!==0)g=g&1|2,r.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&g0(a,l,r);else if(a.tag===19)g0(a,l,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(J(Ei,g),b){case"forwards":for(l=r.child,b=null;l!==null;)a=l.alternate,a!==null&&Ff(a)===null&&(b=l),l=l.sibling;l=b,l===null?(b=r.child,r.child=null):(b=l.sibling,l.sibling=null),_p(r,!1,b,l,A);break;case"backwards":for(l=null,b=r.child,r.child=null;b!==null;){if(a=b.alternate,a!==null&&Ff(a)===null){r.child=b;break}a=b.sibling,b.sibling=l,l=b,b=a}_p(r,!0,l,null,A);break;case"together":_p(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vo(a,r,l){if(a!==null&&(r.dependencies=a.dependencies),hl|=r.lanes,(l&r.childLanes)===0)if(a!==null){if(tl(a,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,l=ds(a,a.pendingProps),r.child=l,l.return=r;a.sibling!==null;)a=a.sibling,l=l.sibling=ds(a,a.pendingProps),l.return=r;l.sibling=null}return r.child}function Ep(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&sc(a)))}function jx(a,r,l){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),Nr(r,hi,a.memoizedState.cache),wa();break;case 27:case 5:Ce(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:Nr(r,r.type,r.memoizedProps.value);break;case 13:var g=r.memoizedState;if(g!==null)return g.dehydrated!==null?(ol(r),r.flags|=128,null):(l&r.child.childLanes)!==0?m0(a,r,l):(ol(r),a=vo(a,r,l),a!==null?a.sibling:null);ol(r);break;case 19:var b=(a.flags&128)!==0;if(g=(l&r.childLanes)!==0,g||(tl(a,r,l,!1),g=(l&r.childLanes)!==0),b){if(g)return v0(a,r,l);r.flags|=128}if(b=r.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),J(Ei,Ei.current),g)break;return null;case 22:case 23:return r.lanes=0,c0(a,r,l);case 24:Nr(r,hi,a.memoizedState.cache)}return vo(a,r,l)}function y0(a,r,l){if(a!==null)if(a.memoizedProps!==r.pendingProps)Oi=!0;else{if(!Ep(a,l)&&(r.flags&128)===0)return Oi=!1,jx(a,r,l);Oi=(a.flags&131072)!==0}else Oi=!1,un&&(r.flags&1048576)!==0&&vf(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{a=r.pendingProps;var g=r.elementType,b=g._init;if(g=b(g._payload),r.type=g,typeof g=="function")Xo(g)?(a=gu(g,a),r.tag=1,r=h0(null,r,g,a,l)):(r.tag=0,r=wp(null,r,g,a,l));else{if(g!=null){if(b=g.$$typeof,b===B){r.tag=11,r=o0(null,r,g,a,l);break e}else if(b===V){r.tag=14,r=l0(null,r,g,a,l);break e}}throw r=K(g)||g,Error(i(306,r,""))}}return r;case 0:return wp(a,r,r.type,r.pendingProps,l);case 1:return g=r.type,b=gu(g,r.pendingProps),h0(a,r,g,b,l);case 3:e:{if(he(r,r.stateNode.containerInfo),a===null)throw Error(i(387));g=r.pendingProps;var A=r.memoizedState;b=A.element,Te(a,r),et(r,g,null,l);var z=r.memoizedState;if(g=z.cache,Nr(r,hi,g),g!==A.cache&&ac(r,[hi],l,!0),vt(),g=z.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:z.cache},r.updateQueue.baseState=A,r.memoizedState=A,r.flags&256){r=p0(a,r,g,l);break e}else if(g!==b){b=_i(Error(i(424)),r),el(b),r=p0(a,r,g,l);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Yn=Qs(a.firstChild),di=r,un=!0,Ar=null,fs=!0,l=Kg(r,null,g,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wa(),g===b){r=vo(a,r,l);break e}$i(a,r,g,l)}r=r.child}return r;case 26:return Uf(a,r),a===null?(l=Sv(r.type,null,r.pendingProps,null))?r.memoizedState=l:un||(l=r.type,a=r.pendingProps,g=th(X.current).createElement(l),g[Cn]=r,g[Bn]=a,Wi(g,l,a),xn(g),r.stateNode=g):r.memoizedState=Sv(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return Ce(r),a===null&&un&&(g=r.stateNode=xv(r.type,r.pendingProps,X.current),di=r,fs=!0,b=Yn,vl(r.type)?(lm=b,Yn=Qs(g.firstChild)):Yn=b),$i(a,r,r.pendingProps.children,l),Uf(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&un&&((b=g=Yn)&&(g=rb(g,r.type,r.pendingProps,fs),g!==null?(r.stateNode=g,di=r,Yn=Qs(g.firstChild),fs=!1,b=!0):b=!1),b||uo(r)),Ce(r),b=r.type,A=r.pendingProps,z=a!==null?a.memoizedProps:null,g=A.children,am(b,A)?g=null:z!==null&&am(b,z)&&(r.flags|=32),r.memoizedState!==null&&(b=Ya(a,r,Er,null,null,l),Fd._currentValue=b),Uf(a,r),$i(a,r,g,l),r.child;case 6:return a===null&&un&&((a=l=Yn)&&(l=ob(l,r.pendingProps,fs),l!==null?(r.stateNode=l,di=r,Yn=null,a=!0):a=!1),a||uo(r)),null;case 13:return m0(a,r,l);case 4:return he(r,r.stateNode.containerInfo),g=r.pendingProps,a===null?r.child=pc(r,null,g,l):$i(a,r,g,l),r.child;case 11:return o0(a,r,r.type,r.pendingProps,l);case 7:return $i(a,r,r.pendingProps,l),r.child;case 8:return $i(a,r,r.pendingProps.children,l),r.child;case 12:return $i(a,r,r.pendingProps.children,l),r.child;case 10:return g=r.pendingProps,Nr(r,r.type,g.value),$i(a,r,g.children,l),r.child;case 9:return b=r.type._context,g=r.pendingProps.children,ms(r),b=fi(b),g=g(b),r.flags|=1,$i(a,r,g,l),r.child;case 14:return l0(a,r,r.type,r.pendingProps,l);case 15:return u0(a,r,r.type,r.pendingProps,l);case 19:return v0(a,r,l);case 31:return g=r.pendingProps,l=r.mode,g={mode:g.mode,children:g.children},a===null?(l=qf(g,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ds(a.child,g),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return c0(a,r,l);case 24:return ms(r),g=fi(hi),a===null?(b=_(),b===null&&(b=Ln,A=rd(),b.pooledCache=A,A.refCount++,A!==null&&(b.pooledCacheLanes|=l),b=A),r.memoizedState={parent:g,cache:b},we(r),Nr(r,hi,b)):((a.lanes&l)!==0&&(Te(a,r),et(r,null,null,l),vt()),b=a.memoizedState,A=r.memoizedState,b.parent!==g?(b={parent:g,cache:g},r.memoizedState=b,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=b),Nr(r,hi,g)):(g=A.cache,Nr(r,hi,g),g!==b.cache&&ac(r,[hi],l,!0))),$i(a,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yo(a){a.flags|=4}function x0(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_v(r)){if(r=vs.current,r!==null&&((on&4194048)===on?Dr!==null:(on&62914560)!==on&&(on&536870912)===0||r!==Dr))throw Ee=le,te;a.flags|=8192}}function Vf(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?On():536870912,a.lanes|=r,yc|=r)}function Sd(a,r){if(!un)switch(a.tailMode){case"hidden":r=a.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ti(a){var r=a.alternate!==null&&a.alternate.child===a.child,l=0,g=0;if(r)for(var b=a.child;b!==null;)l|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)l|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=l,r}function Ix(a,r,l){var g=r.pendingProps;switch(iu(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(r),null;case 1:return ti(r),null;case 3:return l=r.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),r.memoizedState.cache!==g&&(r.flags|=2048),ps(hi),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Hi(r)?yo(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xf())),ti(r),null;case 26:return l=r.memoizedState,a===null?(yo(r),l!==null?(ti(r),x0(r,l)):(ti(r),r.flags&=-16777217)):l?l!==a.memoizedState?(yo(r),ti(r),x0(r,l)):(ti(r),r.flags&=-16777217):(a.memoizedProps!==g&&yo(r),ti(r),r.flags&=-16777217),null;case 27:je(r),l=X.current;var b=r.type;if(a!==null&&r.stateNode!=null)a.memoizedProps!==g&&yo(r);else{if(!g){if(r.stateNode===null)throw Error(i(166));return ti(r),null}a=Y.current,Hi(r)?yf(r):(a=xv(b,g,l),r.stateNode=a,yo(r))}return ti(r),null;case 5:if(je(r),l=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==g&&yo(r);else{if(!g){if(r.stateNode===null)throw Error(i(166));return ti(r),null}if(a=Y.current,Hi(r))yf(r);else{switch(b=th(X.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?b.createElement(l,{is:g.is}):b.createElement(l)}}a[Cn]=r,a[Bn]=g;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=a;e:switch(Wi(a,l,g),l){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yo(r)}}return ti(r),r.flags&=-16777217,null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==g&&yo(r);else{if(typeof g!="string"&&r.stateNode===null)throw Error(i(166));if(a=X.current,Hi(r)){if(a=r.stateNode,l=r.memoizedProps,g=null,b=di,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[Cn]=r,a=!!(a.nodeValue===l||g!==null&&g.suppressHydrationWarning===!0||fv(a.nodeValue,l)),a||uo(r)}else a=th(a).createTextNode(g),a[Cn]=r,r.stateNode=a}return ti(r),null;case 13:if(g=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Hi(r),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(i(318));if(b=r.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Cn]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ti(r),b=!1}else b=xf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return r.flags&256?(go(r),r):(go(r),null)}if(go(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=g!==null,a=a!==null&&a.memoizedState!==null,l){g=r.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==b&&(g.flags|=2048)}return l!==a&&l&&(r.child.flags|=8192),Vf(r,r.updateQueue),ti(r),null;case 4:return fe(),a===null&&Qp(r.stateNode.containerInfo),ti(r),null;case 10:return ps(r.type),ti(r),null;case 19:if(L(Ei),b=r.memoizedState,b===null)return ti(r),null;if(g=(r.flags&128)!==0,A=b.rendering,A===null)if(g)Sd(b,!1);else{if(si!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(A=Ff(a),A!==null){for(r.flags|=128,Sd(b,!1),a=A.updateQueue,r.updateQueue=a,Vf(r,a),r.subtreeFlags=0,a=l,l=r.child;l!==null;)eu(l,a),l=l.sibling;return J(Ei,Ei.current&1|2),r.child}a=a.sibling}b.tail!==null&&bt()>Gf&&(r.flags|=128,g=!0,Sd(b,!1),r.lanes=4194304)}else{if(!g)if(a=Ff(A),a!==null){if(r.flags|=128,g=!0,a=a.updateQueue,r.updateQueue=a,Vf(r,a),Sd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!un)return ti(r),null}else 2*bt()-b.renderingStartTime>Gf&&l!==536870912&&(r.flags|=128,g=!0,Sd(b,!1),r.lanes=4194304);b.isBackwards?(A.sibling=r.child,r.child=A):(a=b.last,a!==null?a.sibling=A:r.child=A,b.last=A)}return b.tail!==null?(r=b.tail,b.rendering=r,b.tail=r.sibling,b.renderingStartTime=bt(),r.sibling=null,a=Ei.current,J(Ei,g?a&1|2:a&1),r):(ti(r),null);case 22:case 23:return go(r),Pt(),g=r.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(r.flags|=8192):g&&(r.flags|=8192),g?(l&536870912)!==0&&(r.flags&128)===0&&(ti(r),r.subtreeFlags&6&&(r.flags|=8192)):ti(r),l=r.updateQueue,l!==null&&Vf(r,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),g=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==l&&(r.flags|=2048),a!==null&&L(S),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ps(hi),ti(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Px(a,r){switch(iu(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return ps(hi),fe(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return je(r),null;case 13:if(go(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));wa()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return L(Ei),null;case 4:return fe(),null;case 10:return ps(r.type),null;case 22:case 23:return go(r),Pt(),a!==null&&L(S),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return ps(hi),null;case 25:return null;default:return null}}function b0(a,r){switch(iu(r),r.tag){case 3:ps(hi),fe();break;case 26:case 27:case 5:je(r);break;case 4:fe();break;case 13:go(r);break;case 19:L(Ei);break;case 10:ps(r.type);break;case 22:case 23:go(r),Pt(),a!==null&&L(S);break;case 24:ps(hi)}}function Td(a,r){try{var l=r.updateQueue,g=l!==null?l.lastEffect:null;if(g!==null){var b=g.next;l=b;do{if((l.tag&a)===a){g=void 0;var A=l.create,z=l.inst;g=A(),z.destroy=g}l=l.next}while(l!==b)}}catch(re){Dn(r,r.return,re)}}function ul(a,r,l){try{var g=r.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var A=b.next;g=A;do{if((g.tag&a)===a){var z=g.inst,re=z.destroy;if(re!==void 0){z.destroy=void 0,b=r;var ye=l,De=re;try{De()}catch(Ue){Dn(b,ye,Ue)}}}g=g.next}while(g!==A)}}catch(Ue){Dn(r,r.return,Ue)}}function w0(a){var r=a.updateQueue;if(r!==null){var l=a.stateNode;try{fn(r,l)}catch(g){Dn(a,a.return,g)}}}function S0(a,r,l){l.props=gu(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(g){Dn(a,r,g)}}function Ad(a,r){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof l=="function"?a.refCleanup=l(g):l.current=g}}catch(b){Dn(a,r,b)}}function jr(a,r){var l=a.ref,g=a.refCleanup;if(l!==null)if(typeof g=="function")try{g()}catch(b){Dn(a,r,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(b){Dn(a,r,b)}else l.current=null}function T0(a){var r=a.type,l=a.memoizedProps,g=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&g.focus();break e;case"img":l.src?g.src=l.src:l.srcSet&&(g.srcset=l.srcSet)}}catch(b){Dn(a,a.return,b)}}function Mp(a,r,l){try{var g=a.stateNode;tb(g,a.type,l,r),g[Bn]=r}catch(b){Dn(a,a.return,b)}}function A0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vl(a.type)||a.tag===4}function kp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||A0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dp(a,r,l){var g=a.tag;if(g===5||g===6)a=a.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(a),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=eh));else if(g!==4&&(g===27&&vl(a.type)&&(l=a.stateNode,r=null),a=a.child,a!==null))for(Dp(a,r,l),a=a.sibling;a!==null;)Dp(a,r,l),a=a.sibling}function zf(a,r,l){var g=a.tag;if(g===5||g===6)a=a.stateNode,r?l.insertBefore(a,r):l.appendChild(a);else if(g!==4&&(g===27&&vl(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(zf(a,r,l),a=a.sibling;a!==null;)zf(a,r,l),a=a.sibling}function N0(a){var r=a.stateNode,l=a.memoizedProps;try{for(var g=a.type,b=r.attributes;b.length;)r.removeAttributeNode(b[0]);Wi(r,g,l),r[Cn]=a,r[Bn]=l}catch(A){Dn(a,a.return,A)}}var xo=!1,mi=!1,jp=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function Lx(a,r){if(a=a.containerInfo,nm=oh,a=Ea(a),us(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var g=l.getSelection&&l.getSelection();if(g&&g.rangeCount!==0){l=g.anchorNode;var b=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{l.nodeType,A.nodeType}catch{l=null;break e}var z=0,re=-1,ye=-1,De=0,Ue=0,$e=a,Pe=null;t:for(;;){for(var Le;$e!==l||b!==0&&$e.nodeType!==3||(re=z+b),$e!==A||g!==0&&$e.nodeType!==3||(ye=z+g),$e.nodeType===3&&(z+=$e.nodeValue.length),(Le=$e.firstChild)!==null;)Pe=$e,$e=Le;for(;;){if($e===a)break t;if(Pe===l&&++De===b&&(re=z),Pe===A&&++Ue===g&&(ye=z),(Le=$e.nextSibling)!==null)break;$e=Pe,Pe=$e.parentNode}$e=Le}l=re===-1||ye===-1?null:{start:re,end:ye}}else l=null}l=l||{start:0,end:0}}else l=null;for(im={focusedElem:a,selectionRange:l},oh=!1,Bi=r;Bi!==null;)if(r=Bi,a=r.child,(r.subtreeFlags&1024)!==0&&a!==null)a.return=r,Bi=a;else for(;Bi!==null;){switch(r=Bi,A=r.alternate,a=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,l=r,b=A.memoizedProps,A=A.memoizedState,g=l.stateNode;try{var Mt=gu(l.type,b,l.elementType===l.type);a=g.getSnapshotBeforeUpdate(Mt,A),g.__reactInternalSnapshotBeforeUpdate=a}catch(At){Dn(l,l.return,At)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,l=a.nodeType,l===9)rm(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":rm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Bi=a;break}Bi=r.return}}function _0(a,r,l){var g=l.flags;switch(l.tag){case 0:case 11:case 15:cl(a,l),g&4&&Td(5,l);break;case 1:if(cl(a,l),g&4)if(a=l.stateNode,r===null)try{a.componentDidMount()}catch(z){Dn(l,l.return,z)}else{var b=gu(l.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(b,r,a.__reactInternalSnapshotBeforeUpdate)}catch(z){Dn(l,l.return,z)}}g&64&&w0(l),g&512&&Ad(l,l.return);break;case 3:if(cl(a,l),g&64&&(a=l.updateQueue,a!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{fn(a,r)}catch(z){Dn(l,l.return,z)}}break;case 27:r===null&&g&4&&N0(l);case 26:case 5:cl(a,l),r===null&&g&4&&T0(l),g&512&&Ad(l,l.return);break;case 12:cl(a,l);break;case 13:cl(a,l),g&4&&k0(a,l),g&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=Hx.bind(null,l),lb(a,l))));break;case 22:if(g=l.memoizedState!==null||xo,!g){r=r!==null&&r.memoizedState!==null||mi,b=xo;var A=mi;xo=g,(mi=r)&&!A?dl(a,l,(l.subtreeFlags&8772)!==0):cl(a,l),xo=b,mi=A}break;case 30:break;default:cl(a,l)}}function E0(a){var r=a.alternate;r!==null&&(a.alternate=null,E0(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&ga(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wn=null,Pa=!1;function bo(a,r,l){for(l=l.child;l!==null;)M0(a,r,l),l=l.sibling}function M0(a,r,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Ot,l)}catch{}switch(l.tag){case 26:mi||jr(l,r),bo(a,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mi||jr(l,r);var g=Wn,b=Pa;vl(l.type)&&(Wn=l.stateNode,Pa=!1),bo(a,r,l),Id(l.stateNode),Wn=g,Pa=b;break;case 5:mi||jr(l,r);case 6:if(g=Wn,b=Pa,Wn=null,bo(a,r,l),Wn=g,Pa=b,Wn!==null)if(Pa)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(l.stateNode)}catch(A){Dn(l,r,A)}else try{Wn.removeChild(l.stateNode)}catch(A){Dn(l,r,A)}break;case 18:Wn!==null&&(Pa?(a=Wn,vv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),qd(a)):vv(Wn,l.stateNode));break;case 4:g=Wn,b=Pa,Wn=l.stateNode.containerInfo,Pa=!0,bo(a,r,l),Wn=g,Pa=b;break;case 0:case 11:case 14:case 15:mi||ul(2,l,r),mi||ul(4,l,r),bo(a,r,l);break;case 1:mi||(jr(l,r),g=l.stateNode,typeof g.componentWillUnmount=="function"&&S0(l,r,g)),bo(a,r,l);break;case 21:bo(a,r,l);break;case 22:mi=(g=mi)||l.memoizedState!==null,bo(a,r,l),mi=g;break;default:bo(a,r,l)}}function k0(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{qd(a)}catch(l){Dn(r,r.return,l)}}function Rx(a){switch(a.tag){case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new C0),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new C0),r;default:throw Error(i(435,a.tag))}}function Ip(a,r){var l=Rx(a);r.forEach(function(g){var b=Gx.bind(null,a,g);l.has(g)||(l.add(g),g.then(b,b))})}function Ja(a,r){var l=r.deletions;if(l!==null)for(var g=0;g<l.length;g++){var b=l[g],A=a,z=r,re=z;e:for(;re!==null;){switch(re.tag){case 27:if(vl(re.type)){Wn=re.stateNode,Pa=!1;break e}break;case 5:Wn=re.stateNode,Pa=!1;break e;case 3:case 4:Wn=re.stateNode.containerInfo,Pa=!0;break e}re=re.return}if(Wn===null)throw Error(i(160));M0(A,z,b),Wn=null,Pa=!1,A=b.alternate,A!==null&&(A.return=null),b.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D0(r,a),r=r.sibling}var Xs=null;function D0(a,r){var l=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ja(r,a),Ka(a),g&4&&(ul(3,a,a.return),Td(3,a),ul(5,a,a.return));break;case 1:Ja(r,a),Ka(a),g&512&&(mi||l===null||jr(l,l.return)),g&64&&xo&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?g:l.concat(g))));break;case 26:var b=Xs;if(Ja(r,a),Ka(a),g&512&&(mi||l===null||jr(l,l.return)),g&4){var A=l!==null?l.memoizedState:null;if(g=a.memoizedState,l===null)if(g===null)if(a.stateNode===null){e:{g=a.type,l=a.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":A=b.getElementsByTagName("title")[0],(!A||A[ma]||A[Cn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=b.createElement(g),b.head.insertBefore(A,b.querySelector("head > title"))),Wi(A,g,l),A[Cn]=a,xn(A),g=A;break e;case"link":var z=Nv("link","href",b).get(g+(l.href||""));if(z){for(var re=0;re<z.length;re++)if(A=z[re],A.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&A.getAttribute("rel")===(l.rel==null?null:l.rel)&&A.getAttribute("title")===(l.title==null?null:l.title)&&A.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){z.splice(re,1);break t}}A=b.createElement(g),Wi(A,g,l),b.head.appendChild(A);break;case"meta":if(z=Nv("meta","content",b).get(g+(l.content||""))){for(re=0;re<z.length;re++)if(A=z[re],A.getAttribute("content")===(l.content==null?null:""+l.content)&&A.getAttribute("name")===(l.name==null?null:l.name)&&A.getAttribute("property")===(l.property==null?null:l.property)&&A.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&A.getAttribute("charset")===(l.charSet==null?null:l.charSet)){z.splice(re,1);break t}}A=b.createElement(g),Wi(A,g,l),b.head.appendChild(A);break;default:throw Error(i(468,g))}A[Cn]=a,xn(A),g=A}a.stateNode=g}else Cv(b,a.type,a.stateNode);else a.stateNode=Av(b,g,a.memoizedProps);else A!==g?(A===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):A.count--,g===null?Cv(b,a.type,a.stateNode):Av(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Mp(a,a.memoizedProps,l.memoizedProps)}break;case 27:Ja(r,a),Ka(a),g&512&&(mi||l===null||jr(l,l.return)),l!==null&&g&4&&Mp(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Ja(r,a),Ka(a),g&512&&(mi||l===null||jr(l,l.return)),a.flags&32){b=a.stateNode;try{cr(b,"")}catch(Le){Dn(a,a.return,Le)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,Mp(a,b,l!==null?l.memoizedProps:b)),g&1024&&(jp=!0);break;case 6:if(Ja(r,a),Ka(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,l=a.stateNode;try{l.nodeValue=g}catch(Le){Dn(a,a.return,Le)}}break;case 3:if(ah=null,b=Xs,Xs=nh(r.containerInfo),Ja(r,a),Xs=b,Ka(a),g&4&&l!==null&&l.memoizedState.isDehydrated)try{qd(r.containerInfo)}catch(Le){Dn(a,a.return,Le)}jp&&(jp=!1,j0(a));break;case 4:g=Xs,Xs=nh(a.stateNode.containerInfo),Ja(r,a),Ka(a),Xs=g;break;case 12:Ja(r,a),Ka(a);break;case 13:Ja(r,a),Ka(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bp=bt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ip(a,g)));break;case 22:b=a.memoizedState!==null;var ye=l!==null&&l.memoizedState!==null,De=xo,Ue=mi;if(xo=De||b,mi=Ue||ye,Ja(r,a),mi=Ue,xo=De,Ka(a),g&8192)e:for(r=a.stateNode,r._visibility=b?r._visibility&-2:r._visibility|1,b&&(l===null||ye||xo||mi||vu(a)),l=null,r=a;;){if(r.tag===5||r.tag===26){if(l===null){ye=l=r;try{if(A=ye.stateNode,b)z=A.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{re=ye.stateNode;var $e=ye.memoizedProps.style,Pe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;re.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Le){Dn(ye,ye.return,Le)}}}else if(r.tag===6){if(l===null){ye=r;try{ye.stateNode.nodeValue=b?"":ye.memoizedProps}catch(Le){Dn(ye,ye.return,Le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}g&4&&(g=a.updateQueue,g!==null&&(l=g.retryQueue,l!==null&&(g.retryQueue=null,Ip(a,l))));break;case 19:Ja(r,a),Ka(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ip(a,g)));break;case 30:break;case 21:break;default:Ja(r,a),Ka(a)}}function Ka(a){var r=a.flags;if(r&2){try{for(var l,g=a.return;g!==null;){if(A0(g)){l=g;break}g=g.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var b=l.stateNode,A=kp(a);zf(a,A,b);break;case 5:var z=l.stateNode;l.flags&32&&(cr(z,""),l.flags&=-33);var re=kp(a);zf(a,re,z);break;case 3:case 4:var ye=l.stateNode.containerInfo,De=kp(a);Dp(a,De,ye);break;default:throw Error(i(161))}}catch(Ue){Dn(a,a.return,Ue)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function j0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;j0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function cl(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_0(a,r.alternate,r),r=r.sibling}function vu(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:ul(4,r,r.return),vu(r);break;case 1:jr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&S0(r,r.return,l),vu(r);break;case 27:Id(r.stateNode);case 26:case 5:jr(r,r.return),vu(r);break;case 22:r.memoizedState===null&&vu(r);break;case 30:vu(r);break;default:vu(r)}a=a.sibling}}function dl(a,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var g=r.alternate,b=a,A=r,z=A.flags;switch(A.tag){case 0:case 11:case 15:dl(b,A,l),Td(4,A);break;case 1:if(dl(b,A,l),g=A,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(De){Dn(g,g.return,De)}if(g=A,b=g.updateQueue,b!==null){var re=g.stateNode;try{var ye=b.shared.hiddenCallbacks;if(ye!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ye.length;b++)sn(ye[b],re)}catch(De){Dn(g,g.return,De)}}l&&z&64&&w0(A),Ad(A,A.return);break;case 27:N0(A);case 26:case 5:dl(b,A,l),l&&g===null&&z&4&&T0(A),Ad(A,A.return);break;case 12:dl(b,A,l);break;case 13:dl(b,A,l),l&&z&4&&k0(b,A);break;case 22:A.memoizedState===null&&dl(b,A,l),Ad(A,A.return);break;case 30:break;default:dl(b,A,l)}r=r.sibling}}function Pp(a,r){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&au(l))}function Lp(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&au(a))}function Ir(a,r,l,g){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I0(a,r,l,g),r=r.sibling}function I0(a,r,l,g){var b=r.flags;switch(r.tag){case 0:case 11:case 15:Ir(a,r,l,g),b&2048&&Td(9,r);break;case 1:Ir(a,r,l,g);break;case 3:Ir(a,r,l,g),b&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&au(a)));break;case 12:if(b&2048){Ir(a,r,l,g),a=r.stateNode;try{var A=r.memoizedProps,z=A.id,re=A.onPostCommit;typeof re=="function"&&re(z,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ye){Dn(r,r.return,ye)}}else Ir(a,r,l,g);break;case 13:Ir(a,r,l,g);break;case 23:break;case 22:A=r.stateNode,z=r.alternate,r.memoizedState!==null?A._visibility&2?Ir(a,r,l,g):Nd(a,r):A._visibility&2?Ir(a,r,l,g):(A._visibility|=2,mc(a,r,l,g,(r.subtreeFlags&10256)!==0)),b&2048&&Pp(z,r);break;case 24:Ir(a,r,l,g),b&2048&&Lp(r.alternate,r);break;default:Ir(a,r,l,g)}}function mc(a,r,l,g,b){for(b=b&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var A=a,z=r,re=l,ye=g,De=z.flags;switch(z.tag){case 0:case 11:case 15:mc(A,z,re,ye,b),Td(8,z);break;case 23:break;case 22:var Ue=z.stateNode;z.memoizedState!==null?Ue._visibility&2?mc(A,z,re,ye,b):Nd(A,z):(Ue._visibility|=2,mc(A,z,re,ye,b)),b&&De&2048&&Pp(z.alternate,z);break;case 24:mc(A,z,re,ye,b),b&&De&2048&&Lp(z.alternate,z);break;default:mc(A,z,re,ye,b)}r=r.sibling}}function Nd(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=a,g=r,b=g.flags;switch(g.tag){case 22:Nd(l,g),b&2048&&Pp(g.alternate,g);break;case 24:Nd(l,g),b&2048&&Lp(g.alternate,g);break;default:Nd(l,g)}r=r.sibling}}var Cd=8192;function gc(a){if(a.subtreeFlags&Cd)for(a=a.child;a!==null;)P0(a),a=a.sibling}function P0(a){switch(a.tag){case 26:gc(a),a.flags&Cd&&a.memoizedState!==null&&wb(Xs,a.memoizedState,a.memoizedProps);break;case 5:gc(a);break;case 3:case 4:var r=Xs;Xs=nh(a.stateNode.containerInfo),gc(a),Xs=r;break;case 22:a.memoizedState===null&&(r=a.alternate,r!==null&&r.memoizedState!==null?(r=Cd,Cd=16777216,gc(a),Cd=r):gc(a));break;default:gc(a)}}function L0(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function _d(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var g=r[l];Bi=g,F0(g,a)}L0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)R0(a),a=a.sibling}function R0(a){switch(a.tag){case 0:case 11:case 15:_d(a),a.flags&2048&&ul(9,a,a.return);break;case 3:_d(a);break;case 12:_d(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Hf(a)):_d(a);break;default:_d(a)}}function Hf(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var g=r[l];Bi=g,F0(g,a)}L0(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:ul(8,r,r.return),Hf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Hf(r));break;default:Hf(r)}a=a.sibling}}function F0(a,r){for(;Bi!==null;){var l=Bi;switch(l.tag){case 0:case 11:case 15:ul(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var g=l.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:au(l.memoizedState.cache)}if(g=l.child,g!==null)g.return=l,Bi=g;else e:for(l=a;Bi!==null;){g=Bi;var b=g.sibling,A=g.return;if(E0(g),g===l){Bi=null;break e}if(b!==null){b.return=A,Bi=b;break e}Bi=A}}}var Fx={getCacheForType:function(a){var r=fi(hi),l=r.data.get(a);return l===void 0&&(l=a(),r.data.set(a,l)),l}},Ox=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Ln=null,Qt=null,on=0,Tn=0,Za=null,fl=!1,vc=!1,Rp=!1,wo=0,si=0,hl=0,yu=0,Fp=0,ys=0,yc=0,Ed=null,La=null,Op=!1,Bp=0,Gf=1/0,$f=null,pl=null,Yi=0,ml=null,xc=null,bc=0,Up=0,qp=null,O0=null,Md=0,Vp=null;function Xa(){if((Sn&2)!==0&&on!==0)return on&-on;if(q.T!==null){var a=co;return a!==0?a:Jp()}return Ua()}function B0(){ys===0&&(ys=(on&536870912)===0||un?rr():536870912);var a=vs.current;return a!==null&&(a.flags|=32),ys}function Qa(a,r,l){(a===Ln&&(Tn===2||Tn===9)||a.cancelPendingCommit!==null)&&(wc(a,0),gl(a,on,ys,!1)),ha(a,l),((Sn&2)===0||a!==Ln)&&(a===Ln&&((Sn&2)===0&&(yu|=l),si===4&&gl(a,on,ys,!1)),Pr(a))}function U0(a,r,l){if((Sn&6)!==0)throw Error(i(327));var g=!l&&(r&124)===0&&(r&a.expiredLanes)===0||Zi(a,r),b=g?qx(a,r):Gp(a,r,!0),A=g;do{if(b===0){vc&&!g&&gl(a,r,0,!1);break}else{if(l=a.current.alternate,A&&!Bx(l)){b=Gp(a,r,!1),A=!1;continue}if(b===2){if(A=r,a.errorRecoveryDisabledLanes&A)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){r=z;e:{var re=a;b=Ed;var ye=re.current.memoizedState.isDehydrated;if(ye&&(wc(re,z).flags|=256),z=Gp(re,z,!1),z!==2){if(Rp&&!ye){re.errorRecoveryDisabledLanes|=A,yu|=A,b=4;break e}A=La,La=b,A!==null&&(La===null?La=A:La.push.apply(La,A))}b=z}if(A=!1,b!==2)continue}}if(b===1){wc(a,0),gl(a,r,0,!0);break}e:{switch(g=a,A=b,A){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:gl(g,r,ys,!fl);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(b=Bp+300-bt(),10<b)){if(gl(g,r,ys,!fl),yn(g,0,!0)!==0)break e;g.timeoutHandle=mv(q0.bind(null,g,l,La,$f,Op,r,ys,yu,yc,fl,A,2,-0,0),b);break e}q0(g,l,La,$f,Op,r,ys,yu,yc,fl,A,0,-0,0)}}break}while(!0);Pr(a)}function q0(a,r,l,g,b,A,z,re,ye,De,Ue,$e,Pe,Le){if(a.timeoutHandle=-1,$e=r.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(Rd={stylesheets:null,count:0,unsuspend:bb},P0(r),$e=Sb(),$e!==null)){a.cancelPendingCommit=$e(W0.bind(null,a,r,A,l,g,b,z,re,ye,Ue,1,Pe,Le)),gl(a,A,z,!De);return}W0(a,r,A,l,g,b,z,re,ye)}function Bx(a){for(var r=a;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var g=0;g<l.length;g++){var b=l[g],A=b.getSnapshot;b=b.value;try{if(!Ci(A(),b))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gl(a,r,l,g){r&=~Fp,r&=~yu,a.suspendedLanes|=r,a.pingedLanes&=~r,g&&(a.warmLanes|=r),g=a.expirationTimes;for(var b=r;0<b;){var A=31-ft(b),z=1<<A;g[A]=-1,b&=~z}l!==0&&jt(a,l,r)}function Yf(){return(Sn&6)===0?(kd(0),!1):!0}function zp(){if(Qt!==null){if(Tn===0)var a=Qt.return;else a=Qt,$s=Si=null,oc(a),hc=null,bd=0,a=Qt;for(;a!==null;)b0(a.alternate,a),a=a.return;Qt=null}}function wc(a,r){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,ib(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),zp(),Ln=a,Qt=l=ds(a.current,null),on=r,Tn=0,Za=null,fl=!1,vc=Zi(a,r),Rp=!1,yc=ys=Fp=yu=hl=si=0,La=Ed=null,Op=!1,(r&8)!==0&&(r|=r&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=r;0<g;){var b=31-ft(g),A=1<<b;r|=a[b],g&=~A}return wo=r,Xl(),l}function V0(a,r){wt=null,q.H=Pf,r===Q||r===se?(r=Ae(),Tn=3):r===te?(r=Ae(),Tn=4):Tn=r===r0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Za=r,Qt===null&&(si=1,Bf(a,_i(r,a.current)))}function z0(){var a=q.H;return q.H=Pf,a===null?Pf:a}function H0(){var a=q.A;return q.A=Fx,a}function Hp(){si=4,fl||(on&4194048)!==on&&vs.current!==null||(vc=!0),(hl&134217727)===0&&(yu&134217727)===0||Ln===null||gl(Ln,on,ys,!1)}function Gp(a,r,l){var g=Sn;Sn|=2;var b=z0(),A=H0();(Ln!==a||on!==r)&&($f=null,wc(a,r)),r=!1;var z=si;e:do try{if(Tn!==0&&Qt!==null){var re=Qt,ye=Za;switch(Tn){case 8:zp(),z=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(r=!0);var De=Tn;if(Tn=0,Za=null,Sc(a,re,ye,De),l&&vc){z=0;break e}break;default:De=Tn,Tn=0,Za=null,Sc(a,re,ye,De)}}Ux(),z=si;break}catch(Ue){V0(a,Ue)}while(!0);return r&&a.shellSuspendCounter++,$s=Si=null,Sn=g,q.H=b,q.A=A,Qt===null&&(Ln=null,on=0,Xl()),z}function Ux(){for(;Qt!==null;)G0(Qt)}function qx(a,r){var l=Sn;Sn|=2;var g=z0(),b=H0();Ln!==a||on!==r?($f=null,Gf=bt()+500,wc(a,r)):vc=Zi(a,r);e:do try{if(Tn!==0&&Qt!==null){r=Qt;var A=Za;t:switch(Tn){case 1:Tn=0,Za=null,Sc(a,r,A,1);break;case 2:case 9:if(de(A)){Tn=0,Za=null,$0(r);break}r=function(){Tn!==2&&Tn!==9||Ln!==a||(Tn=7),Pr(a)},A.then(r,r);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:de(A)?(Tn=0,Za=null,$0(r)):(Tn=0,Za=null,Sc(a,r,A,7));break;case 5:var z=null;switch(Qt.tag){case 26:z=Qt.memoizedState;case 5:case 27:var re=Qt;if(!z||_v(z)){Tn=0,Za=null;var ye=re.sibling;if(ye!==null)Qt=ye;else{var De=re.return;De!==null?(Qt=De,Wf(De)):Qt=null}break t}}Tn=0,Za=null,Sc(a,r,A,5);break;case 6:Tn=0,Za=null,Sc(a,r,A,6);break;case 8:zp(),si=6;break e;default:throw Error(i(462))}}Vx();break}catch(Ue){V0(a,Ue)}while(!0);return $s=Si=null,q.H=g,q.A=b,Sn=l,Qt!==null?0:(Ln=null,on=0,Xl(),si)}function Vx(){for(;Qt!==null&&!Fe();)G0(Qt)}function G0(a){var r=y0(a.alternate,a,wo);a.memoizedProps=a.pendingProps,r===null?Wf(a):Qt=r}function $0(a){var r=a,l=r.alternate;switch(r.tag){case 15:case 0:r=f0(l,r,r.pendingProps,r.type,void 0,on);break;case 11:r=f0(l,r,r.pendingProps,r.type.render,r.ref,on);break;case 5:oc(r);default:b0(l,r),r=Qt=eu(r,wo),r=y0(l,r,wo)}a.memoizedProps=a.pendingProps,r===null?Wf(a):Qt=r}function Sc(a,r,l,g){$s=Si=null,oc(r),hc=null,bd=0;var b=r.return;try{if(Dx(a,b,r,l,on)){si=1,Bf(a,_i(l,a.current)),Qt=null;return}}catch(A){if(b!==null)throw Qt=b,A;si=1,Bf(a,_i(l,a.current)),Qt=null;return}r.flags&32768?(un||g===1?a=!0:vc||(on&536870912)!==0?a=!1:(fl=a=!0,(g===2||g===9||g===3||g===6)&&(g=vs.current,g!==null&&g.tag===13&&(g.flags|=16384))),Y0(r,a)):Wf(r)}function Wf(a){var r=a;do{if((r.flags&32768)!==0){Y0(r,fl);return}a=r.return;var l=Ix(r.alternate,r,wo);if(l!==null){Qt=l;return}if(r=r.sibling,r!==null){Qt=r;return}Qt=r=a}while(r!==null);si===0&&(si=5)}function Y0(a,r){do{var l=Px(a.alternate,a);if(l!==null){l.flags&=32767,Qt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(a=a.sibling,a!==null)){Qt=a;return}Qt=a=l}while(a!==null);si=6,Qt=null}function W0(a,r,l,g,b,A,z,re,ye){a.cancelPendingCommit=null;do Jf();while(Yi!==0);if((Sn&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(A=r.lanes|r.childLanes,A|=Xu,Hn(a,l,A,z,re,ye),a===Ln&&(Qt=Ln=null,on=0),xc=r,ml=a,bc=l,Up=A,qp=b,O0=g,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,$x(tt,function(){return Q0(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||g){g=q.T,q.T=null,b=G.p,G.p=2,z=Sn,Sn|=4;try{Lx(a,r,l)}finally{Sn=z,G.p=b,q.T=g}}Yi=1,J0(),K0(),Z0()}}function J0(){if(Yi===1){Yi=0;var a=ml,r=xc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var g=G.p;G.p=2;var b=Sn;Sn|=4;try{D0(r,a);var A=im,z=Ea(a.containerInfo),re=A.focusedElem,ye=A.selectionRange;if(z!==re&&re&&re.ownerDocument&&xa(re.ownerDocument.documentElement,re)){if(ye!==null&&us(re)){var De=ye.start,Ue=ye.end;if(Ue===void 0&&(Ue=De),"selectionStart"in re)re.selectionStart=De,re.selectionEnd=Math.min(Ue,re.value.length);else{var $e=re.ownerDocument||document,Pe=$e&&$e.defaultView||window;if(Pe.getSelection){var Le=Pe.getSelection(),Mt=re.textContent.length,At=Math.min(ye.start,Mt),Mn=ye.end===void 0?At:Math.min(ye.end,Mt);!Le.extend&&At>Mn&&(z=Mn,Mn=At,At=z);var Ne=Fs(re,At),Se=Fs(re,Mn);if(Ne&&Se&&(Le.rangeCount!==1||Le.anchorNode!==Ne.node||Le.anchorOffset!==Ne.offset||Le.focusNode!==Se.node||Le.focusOffset!==Se.offset)){var Me=$e.createRange();Me.setStart(Ne.node,Ne.offset),Le.removeAllRanges(),At>Mn?(Le.addRange(Me),Le.extend(Se.node,Se.offset)):(Me.setEnd(Se.node,Se.offset),Le.addRange(Me))}}}}for($e=[],Le=re;Le=Le.parentNode;)Le.nodeType===1&&$e.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<$e.length;re++){var Ve=$e[re];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}oh=!!nm,im=nm=null}finally{Sn=b,G.p=g,q.T=l}}a.current=r,Yi=2}}function K0(){if(Yi===2){Yi=0;var a=ml,r=xc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var g=G.p;G.p=2;var b=Sn;Sn|=4;try{_0(a,r.alternate,r)}finally{Sn=b,G.p=g,q.T=l}}Yi=3}}function Z0(){if(Yi===4||Yi===3){Yi=0,ge();var a=ml,r=xc,l=bc,g=O0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yi=5:(Yi=0,xc=ml=null,X0(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(pl=null),li(l),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Ot,r,void 0,(r.current.flags&128)===128)}catch{}if(g!==null){r=q.T,b=G.p,G.p=2,q.T=null;try{for(var A=a.onRecoverableError,z=0;z<g.length;z++){var re=g[z];A(re.value,{componentStack:re.stack})}}finally{q.T=r,G.p=b}}(bc&3)!==0&&Jf(),Pr(a),b=a.pendingLanes,(l&4194090)!==0&&(b&42)!==0?a===Vp?Md++:(Md=0,Vp=a):Md=0,kd(0)}}function X0(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,au(r)))}function Jf(a){return J0(),K0(),Z0(),Q0()}function Q0(){if(Yi!==5)return!1;var a=ml,r=Up;Up=0;var l=li(bc),g=q.T,b=G.p;try{G.p=32>l?32:l,q.T=null,l=qp,qp=null;var A=ml,z=bc;if(Yi=0,xc=ml=null,bc=0,(Sn&6)!==0)throw Error(i(331));var re=Sn;if(Sn|=4,R0(A.current),I0(A,A.current,z,l),Sn=re,kd(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Ot,A)}catch{}return!0}finally{G.p=b,q.T=g,X0(a,r)}}function ev(a,r,l){r=_i(l,r),r=bp(a.stateNode,r,2),a=Ge(a,r,2),a!==null&&(ha(a,2),Pr(a))}function Dn(a,r,l){if(a.tag===3)ev(a,a,l);else for(;r!==null;){if(r.tag===3){ev(r,a,l);break}else if(r.tag===1){var g=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(pl===null||!pl.has(g))){a=_i(l,a),l=a0(2),g=Ge(r,l,2),g!==null&&(s0(l,g,r,a),ha(g,2),Pr(g));break}}r=r.return}}function $p(a,r,l){var g=a.pingCache;if(g===null){g=a.pingCache=new Ox;var b=new Set;g.set(r,b)}else b=g.get(r),b===void 0&&(b=new Set,g.set(r,b));b.has(l)||(Rp=!0,b.add(l),a=zx.bind(null,a,r,l),r.then(a,a))}function zx(a,r,l){var g=a.pingCache;g!==null&&g.delete(r),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Ln===a&&(on&l)===l&&(si===4||si===3&&(on&62914560)===on&&300>bt()-Bp?(Sn&2)===0&&wc(a,0):Fp|=l,yc===on&&(yc=0)),Pr(a)}function tv(a,r){r===0&&(r=On()),a=ao(a,r),a!==null&&(ha(a,r),Pr(a))}function Hx(a){var r=a.memoizedState,l=0;r!==null&&(l=r.retryLane),tv(a,l)}function Gx(a,r){var l=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(l=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(r),tv(a,l)}function $x(a,r){return Ye(a,r)}var Kf=null,Tc=null,Yp=!1,Zf=!1,Wp=!1,xu=0;function Pr(a){a!==Tc&&a.next===null&&(Tc===null?Kf=Tc=a:Tc=Tc.next=a),Zf=!0,Yp||(Yp=!0,Wx())}function kd(a,r){if(!Wp&&Zf){Wp=!0;do for(var l=!1,g=Kf;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var A=0;else{var z=g.suspendedLanes,re=g.pingedLanes;A=(1<<31-ft(42|a)+1)-1,A&=b&~(z&~re),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(l=!0,sv(g,A))}else A=on,A=yn(g,g===Ln?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Zi(g,A)||(l=!0,sv(g,A));g=g.next}while(l);Wp=!1}}function Yx(){nv()}function nv(){Zf=Yp=!1;var a=0;xu!==0&&(nb()&&(a=xu),xu=0);for(var r=bt(),l=null,g=Kf;g!==null;){var b=g.next,A=iv(g,r);A===0?(g.next=null,l===null?Kf=b:l.next=b,b===null&&(Tc=l)):(l=g,(a!==0||(A&3)!==0)&&(Zf=!0)),g=b}kd(a)}function iv(a,r){for(var l=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var z=31-ft(A),re=1<<z,ye=b[z];ye===-1?((re&l)===0||(re&g)!==0)&&(b[z]=dn(re,r)):ye<=r&&(a.expiredLanes|=re),A&=~re}if(r=Ln,l=on,l=yn(a,a===r?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,l===0||a===r&&(Tn===2||Tn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ze(g),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Zi(a,l)){if(r=l&-l,r===a.callbackPriority)return r;switch(g!==null&&Ze(g),li(l)){case 2:case 8:l=Qe;break;case 32:l=tt;break;case 268435456:l=gt;break;default:l=tt}return g=av.bind(null,a),l=Ye(l,g),a.callbackPriority=r,a.callbackNode=l,r}return g!==null&&g!==null&&Ze(g),a.callbackPriority=2,a.callbackNode=null,2}function av(a,r){if(Yi!==0&&Yi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Jf()&&a.callbackNode!==l)return null;var g=on;return g=yn(a,a===Ln?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(U0(a,g,r),iv(a,bt()),a.callbackNode!=null&&a.callbackNode===l?av.bind(null,a):null)}function sv(a,r){if(Jf())return null;U0(a,r,!0)}function Wx(){ab(function(){(Sn&6)!==0?Ye(Je,Yx):nv()})}function Jp(){return xu===0&&(xu=rr()),xu}function rv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ds(""+a)}function ov(a,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,a.id&&l.setAttribute("form",a.id),r.parentNode.insertBefore(l,r),a=new FormData(a),l.parentNode.removeChild(l),a}function Jx(a,r,l,g,b){if(r==="submit"&&l&&l.stateNode===b){var A=rv((b[Bn]||null).action),z=g.submitter;z&&(r=(r=z[Bn]||null)?rv(r.formAction):z.getAttribute("formAction"),r!==null&&(A=r,z=null));var re=new hr("action","action",null,g,b);a.push({event:re,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(xu!==0){var ye=z?ov(b,z):new FormData(b);gs(l,{pending:!0,data:ye,method:b.method,action:A},null,ye)}}else typeof A=="function"&&(re.preventDefault(),ye=z?ov(b,z):new FormData(b),gs(l,{pending:!0,data:ye,method:b.method,action:A},A,ye))},currentTarget:b}]})}}for(var Kp=0;Kp<Xn.length;Kp++){var Zp=Xn[Kp],Kx=Zp.toLowerCase(),Zx=Zp[0].toUpperCase()+Zp.slice(1);ci(Kx,"on"+Zx)}ci(Sr,"onAnimationEnd"),ci(Os,"onAnimationIteration"),ci(Zo,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(ka,"onTransitionRun"),ci(Bs,"onTransitionStart"),ci(_n,"onTransitionCancel"),ci(bn,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function lv(a,r){r=(r&4)!==0;for(var l=0;l<a.length;l++){var g=a[l],b=g.event;g=g.listeners;e:{var A=void 0;if(r)for(var z=g.length-1;0<=z;z--){var re=g[z],ye=re.instance,De=re.currentTarget;if(re=re.listener,ye!==A&&b.isPropagationStopped())break e;A=re,b.currentTarget=De;try{A(b)}catch(Ue){Of(Ue)}b.currentTarget=null,A=ye}else for(z=0;z<g.length;z++){if(re=g[z],ye=re.instance,De=re.currentTarget,re=re.listener,ye!==A&&b.isPropagationStopped())break e;A=re,b.currentTarget=De;try{A(b)}catch(Ue){Of(Ue)}b.currentTarget=null,A=ye}}}}function en(a,r){var l=r[Jn];l===void 0&&(l=r[Jn]=new Set);var g=a+"__bubble";l.has(g)||(uv(r,a,2,!1),l.add(g))}function Xp(a,r,l){var g=0;r&&(g|=4),uv(l,a,g,r)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Qp(a){if(!a[Xf]){a[Xf]=!0,or.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||Xp(l,!1,a),Xp(l,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[Xf]||(r[Xf]=!0,Xp("selectionchange",!1,r))}}function uv(a,r,l,g){switch(Iv(r)){case 2:var b=Nb;break;case 8:b=Cb;break;default:b=hm}l=b.bind(null,r,l,a),b=void 0,!Fo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(r,l,{capture:!0,passive:b}):a.addEventListener(r,l,!0):b!==void 0?a.addEventListener(r,l,{passive:b}):a.addEventListener(r,l,!1)}function em(a,r,l,g,b){var A=g;if((r&1)===0&&(r&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var re=g.stateNode.containerInfo;if(re===b)break;if(z===4)for(z=g.return;z!==null;){var ye=z.tag;if((ye===3||ye===4)&&z.stateNode.containerInfo===b)return;z=z.return}for(;re!==null;){if(z=ji(re),z===null)return;if(ye=z.tag,ye===5||ye===6||ye===26||ye===27){g=A=z;continue e}re=re.parentNode}}g=g.return}$u(function(){var De=A,Ue=xi(l),$e=[];e:{var Pe=$n.get(a);if(Pe!==void 0){var Le=hr,Mt=a;switch(a){case"keypress":if(fr(l)===0)break e;case"keydown":case"keyup":Le=Go;break;case"focusin":Mt="focus",Le=Kr;break;case"focusout":Mt="blur",Le=Kr;break;case"beforeblur":case"afterblur":Le=Kr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Jl;break;case Sr:case Os:case Zo:Le=td;break;case bn:Le=Z;break;case"scroll":case"scrollend":Le=Wu;break;case"wheel":Le=xe;break;case"copy":case"cut":case"paste":Le=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=$o;break;case"toggle":case"beforetoggle":Le=Oe}var At=(r&4)!==0,Mn=!At&&(a==="scroll"||a==="scrollend"),Ne=At?Pe!==null?Pe+"Capture":null:Pe;At=[];for(var Se=De,Me;Se!==null;){var Ve=Se;if(Me=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Me===null||Ne===null||(Ve=ea(Se,Ne),Ve!=null&&At.push(jd(Se,Ve,Me))),Mn)break;Se=Se.return}0<At.length&&(Pe=new Le(Pe,Mt,null,l,Ue),$e.push({event:Pe,listeners:At}))}}if((r&7)===0){e:{if(Pe=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",Pe&&l!==Ro&&(Mt=l.relatedTarget||l.fromElement)&&(ji(Mt)||Mt[ui]))break e;if((Le||Pe)&&(Pe=Ue.window===Ue?Ue:(Pe=Ue.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Le?(Mt=l.relatedTarget||l.toElement,Le=De,Mt=Mt?ji(Mt):null,Mt!==null&&(Mn=o(Mt),At=Mt.tag,Mt!==Mn||At!==5&&At!==27&&At!==6)&&(Mt=null)):(Le=null,Mt=De),Le!==Mt)){if(At=Ps,Ve="onMouseLeave",Ne="onMouseEnter",Se="mouse",(a==="pointerout"||a==="pointerover")&&(At=$o,Ve="onPointerLeave",Ne="onPointerEnter",Se="pointer"),Mn=Le==null?Pe:Xi(Le),Me=Mt==null?Pe:Xi(Mt),Pe=new At(Ve,Se+"leave",Le,l,Ue),Pe.target=Mn,Pe.relatedTarget=Me,Ve=null,ji(Ue)===De&&(At=new At(Ne,Se+"enter",Mt,l,Ue),At.target=Me,At.relatedTarget=Mn,Ve=At),Mn=Ve,Le&&Mt)t:{for(At=Le,Ne=Mt,Se=0,Me=At;Me;Me=Ac(Me))Se++;for(Me=0,Ve=Ne;Ve;Ve=Ac(Ve))Me++;for(;0<Se-Me;)At=Ac(At),Se--;for(;0<Me-Se;)Ne=Ac(Ne),Me--;for(;Se--;){if(At===Ne||Ne!==null&&At===Ne.alternate)break t;At=Ac(At),Ne=Ac(Ne)}At=null}else At=null;Le!==null&&cv($e,Pe,Le,At,!1),Mt!==null&&Mn!==null&&cv($e,Mn,Mt,At,!0)}}e:{if(Pe=De?Xi(De):window,Le=Pe.nodeName&&Pe.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Pe.type==="file")var ut=Wo;else if(ls(Pe))if(Qr)ut=Ku;else{ut=ad;var Wt=ta}else Le=Pe.nodeName,!Le||Le.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?De&&zl(De.elementType)&&(ut=Wo):ut=Zl;if(ut&&(ut=ut(a,De))){Kl($e,ut,l,Ue);break e}Wt&&Wt(a,Pe,De),a==="focusout"&&De&&Pe.type==="number"&&De.memoizedProps.value!=null&&Ul(Pe,"number",Pe.value)}switch(Wt=De?Xi(De):window,a){case"focusin":(ls(Wt)||Wt.contentEditable==="true")&&(na=Wt,xr=De,Vi=null);break;case"focusout":Vi=xr=na=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Ko($e,l,Ue);break;case"selectionchange":if(cs)break;case"keydown":case"keyup":Ko($e,l,Ue)}var xt;if(it)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Zn?Un(a,l)&&(Nt="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Nt="onCompositionStart");Nt&&(Vt&&l.locale!=="ko"&&(Zn||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Zn&&(xt=Yu()):(Ca=Ue,Gl="value"in Ca?Ca.value:Ca.textContent,Zn=!0)),Wt=Qf(De,Nt),0<Wt.length&&(Nt=new Vo(Nt,a,null,l,Ue),$e.push({event:Nt,listeners:Wt}),xt?Nt.data=xt:(xt=Kn(l),xt!==null&&(Nt.data=xt)))),(xt=Rt?bi(a,l):Ha(a,l))&&(Nt=Qf(De,"onBeforeInput"),0<Nt.length&&(Wt=new Vo("onBeforeInput","beforeinput",null,l,Ue),$e.push({event:Wt,listeners:Nt}),Wt.data=xt)),Jx($e,a,De,l,Ue)}lv($e,r)})}function jd(a,r,l){return{instance:a,listener:r,currentTarget:l}}function Qf(a,r){for(var l=r+"Capture",g=[];a!==null;){var b=a,A=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||A===null||(b=ea(a,l),b!=null&&g.unshift(jd(a,b,A)),b=ea(a,r),b!=null&&g.push(jd(a,b,A))),a.tag===3)return g;a=a.return}return[]}function Ac(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function cv(a,r,l,g,b){for(var A=r._reactName,z=[];l!==null&&l!==g;){var re=l,ye=re.alternate,De=re.stateNode;if(re=re.tag,ye!==null&&ye===g)break;re!==5&&re!==26&&re!==27||De===null||(ye=De,b?(De=ea(l,A),De!=null&&z.unshift(jd(l,De,ye))):b||(De=ea(l,A),De!=null&&z.push(jd(l,De,ye)))),l=l.return}z.length!==0&&a.push({event:r,listeners:z})}var Qx=/\r\n?/g,eb=/\u0000|\uFFFD/g;function dv(a){return(typeof a=="string"?a:""+a).replace(Qx,`
`).replace(eb,"")}function fv(a,r){return r=dv(r),dv(a)===r}function eh(){}function En(a,r,l,g,b,A){switch(l){case"children":typeof g=="string"?r==="body"||r==="textarea"&&g===""||cr(a,g):(typeof g=="number"||typeof g=="bigint")&&r!=="body"&&cr(a,""+g);break;case"className":Yr(a,"class",g);break;case"tabIndex":Yr(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(a,l,g);break;case"style":Gu(a,g,A);break;case"data":if(r!=="object"){Yr(a,"data",g);break}case"src":case"href":if(g===""&&(r!=="a"||l!=="href")){a.removeAttribute(l);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(l);break}g=Ds(""+g),a.setAttribute(l,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(l==="formAction"?(r!=="input"&&En(a,r,"name",b.name,b,null),En(a,r,"formEncType",b.formEncType,b,null),En(a,r,"formMethod",b.formMethod,b,null),En(a,r,"formTarget",b.formTarget,b,null)):(En(a,r,"encType",b.encType,b,null),En(a,r,"method",b.method,b,null),En(a,r,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(l);break}g=Ds(""+g),a.setAttribute(l,g);break;case"onClick":g!=null&&(a.onclick=eh);break;case"onScroll":g!=null&&en("scroll",a);break;case"onScrollEnd":g!=null&&en("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(l=g.__html,l!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}l=Ds(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(l,""+g):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":g===!0?a.setAttribute(l,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(l,g):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(l,g):a.removeAttribute(l);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(l):a.setAttribute(l,g);break;case"popover":en("beforetoggle",a),en("toggle",a),_s(a,"popover",g);break;case"xlinkActuate":Va(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Va(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Va(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Va(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Va(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Va(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Va(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Va(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Va(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":_s(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ks.get(l)||l,_s(a,l,g))}}function tm(a,r,l,g,b,A){switch(l){case"style":Gu(a,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(l=g.__html,l!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"children":typeof g=="string"?cr(a,g):(typeof g=="number"||typeof g=="bigint")&&cr(a,""+g);break;case"onScroll":g!=null&&en("scroll",a);break;case"onScrollEnd":g!=null&&en("scrollend",a);break;case"onClick":g!=null&&(a.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(b=l.endsWith("Capture"),r=l.slice(2,b?l.length-7:void 0),A=a[Bn]||null,A=A!=null?A[l]:null,typeof A=="function"&&a.removeEventListener(r,A,b),typeof g=="function")){typeof A!="function"&&A!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(r,g,b);break e}l in a?a[l]=g:g===!0?a.setAttribute(l,""):_s(a,l,g)}}}function Wi(a,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",a),en("load",a);var g=!1,b=!1,A;for(A in l)if(l.hasOwnProperty(A)){var z=l[A];if(z!=null)switch(A){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:En(a,r,A,z,l,null)}}b&&En(a,r,"srcSet",l.srcSet,l,null),g&&En(a,r,"src",l.src,l,null);return;case"input":en("invalid",a);var re=A=z=b=null,ye=null,De=null;for(g in l)if(l.hasOwnProperty(g)){var Ue=l[g];if(Ue!=null)switch(g){case"name":b=Ue;break;case"type":z=Ue;break;case"checked":ye=Ue;break;case"defaultChecked":De=Ue;break;case"value":A=Ue;break;case"defaultValue":re=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,r));break;default:En(a,r,g,Ue,l,null)}}Bl(a,A,re,ye,De,z,b,!1),ur(a);return;case"select":en("invalid",a),g=z=A=null;for(b in l)if(l.hasOwnProperty(b)&&(re=l[b],re!=null))switch(b){case"value":A=re;break;case"defaultValue":z=re;break;case"multiple":g=re;default:En(a,r,b,re,l,null)}r=A,l=z,a.multiple=!!g,r!=null?Ms(a,!!g,r,!1):l!=null&&Ms(a,!!g,l,!0);return;case"textarea":en("invalid",a),A=b=g=null;for(z in l)if(l.hasOwnProperty(z)&&(re=l[z],re!=null))switch(z){case"value":g=re;break;case"defaultValue":b=re;break;case"children":A=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(91));break;default:En(a,r,z,re,l,null)}ql(a,g,b,A),ur(a);return;case"option":for(ye in l)if(l.hasOwnProperty(ye)&&(g=l[ye],g!=null))switch(ye){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:En(a,r,ye,g,l,null)}return;case"dialog":en("beforetoggle",a),en("toggle",a),en("cancel",a),en("close",a);break;case"iframe":case"object":en("load",a);break;case"video":case"audio":for(g=0;g<Dd.length;g++)en(Dd[g],a);break;case"image":en("error",a),en("load",a);break;case"details":en("toggle",a);break;case"embed":case"source":case"link":en("error",a),en("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(g=l[De],g!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:En(a,r,De,g,l,null)}return;default:if(zl(r)){for(Ue in l)l.hasOwnProperty(Ue)&&(g=l[Ue],g!==void 0&&tm(a,r,Ue,g,l,void 0));return}}for(re in l)l.hasOwnProperty(re)&&(g=l[re],g!=null&&En(a,r,re,g,l,null))}function tb(a,r,l,g){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,A=null,z=null,re=null,ye=null,De=null,Ue=null;for(Le in l){var $e=l[Le];if(l.hasOwnProperty(Le)&&$e!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":ye=$e;default:g.hasOwnProperty(Le)||En(a,r,Le,null,g,$e)}}for(var Pe in g){var Le=g[Pe];if($e=l[Pe],g.hasOwnProperty(Pe)&&(Le!=null||$e!=null))switch(Pe){case"type":A=Le;break;case"name":b=Le;break;case"checked":De=Le;break;case"defaultChecked":Ue=Le;break;case"value":z=Le;break;case"defaultValue":re=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,r));break;default:Le!==$e&&En(a,r,Pe,Le,g,$e)}}Jr(a,z,re,ye,De,Ue,A,b);return;case"select":Le=z=re=Pe=null;for(A in l)if(ye=l[A],l.hasOwnProperty(A)&&ye!=null)switch(A){case"value":break;case"multiple":Le=ye;default:g.hasOwnProperty(A)||En(a,r,A,null,g,ye)}for(b in g)if(A=g[b],ye=l[b],g.hasOwnProperty(b)&&(A!=null||ye!=null))switch(b){case"value":Pe=A;break;case"defaultValue":re=A;break;case"multiple":z=A;default:A!==ye&&En(a,r,b,A,g,ye)}r=re,l=z,g=Le,Pe!=null?Ms(a,!!l,Pe,!1):!!g!=!!l&&(r!=null?Ms(a,!!l,r,!0):Ms(a,!!l,l?[]:"",!1));return;case"textarea":Le=Pe=null;for(re in l)if(b=l[re],l.hasOwnProperty(re)&&b!=null&&!g.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:En(a,r,re,null,g,b)}for(z in g)if(b=g[z],A=l[z],g.hasOwnProperty(z)&&(b!=null||A!=null))switch(z){case"value":Pe=b;break;case"defaultValue":Le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==A&&En(a,r,z,b,g,A)}zu(a,Pe,Le);return;case"option":for(var Mt in l)if(Pe=l[Mt],l.hasOwnProperty(Mt)&&Pe!=null&&!g.hasOwnProperty(Mt))switch(Mt){case"selected":a.selected=!1;break;default:En(a,r,Mt,null,g,Pe)}for(ye in g)if(Pe=g[ye],Le=l[ye],g.hasOwnProperty(ye)&&Pe!==Le&&(Pe!=null||Le!=null))switch(ye){case"selected":a.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:En(a,r,ye,Pe,g,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in l)Pe=l[At],l.hasOwnProperty(At)&&Pe!=null&&!g.hasOwnProperty(At)&&En(a,r,At,null,g,Pe);for(De in g)if(Pe=g[De],Le=l[De],g.hasOwnProperty(De)&&Pe!==Le&&(Pe!=null||Le!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,r));break;default:En(a,r,De,Pe,g,Le)}return;default:if(zl(r)){for(var Mn in l)Pe=l[Mn],l.hasOwnProperty(Mn)&&Pe!==void 0&&!g.hasOwnProperty(Mn)&&tm(a,r,Mn,void 0,g,Pe);for(Ue in g)Pe=g[Ue],Le=l[Ue],!g.hasOwnProperty(Ue)||Pe===Le||Pe===void 0&&Le===void 0||tm(a,r,Ue,Pe,g,Le);return}}for(var Ne in l)Pe=l[Ne],l.hasOwnProperty(Ne)&&Pe!=null&&!g.hasOwnProperty(Ne)&&En(a,r,Ne,null,g,Pe);for($e in g)Pe=g[$e],Le=l[$e],!g.hasOwnProperty($e)||Pe===Le||Pe==null&&Le==null||En(a,r,$e,Pe,g,Le)}var nm=null,im=null;function th(a){return a.nodeType===9?a:a.ownerDocument}function hv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function am(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sm=null;function nb(){var a=window.event;return a&&a.type==="popstate"?a===sm?!1:(sm=a,!0):(sm=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(a){return gv.resolve(null).then(a).catch(sb)}:mv;function sb(a){setTimeout(function(){throw a})}function vl(a){return a==="head"}function vv(a,r){var l=r,g=0,b=0;do{var A=l.nextSibling;if(a.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(0<g&&8>g){l=g;var z=a.ownerDocument;if(l&1&&Id(z.documentElement),l&2&&Id(z.body),l&4)for(l=z.head,Id(l),z=l.firstChild;z;){var re=z.nextSibling,ye=z.nodeName;z[ma]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&z.rel.toLowerCase()==="stylesheet"||l.removeChild(z),z=re}}if(b===0){a.removeChild(A),qd(r);return}b--}else l==="$"||l==="$?"||l==="$!"?b++:g=l.charCodeAt(0)-48;else g=0;l=A}while(l);qd(r)}function rm(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rm(l),ga(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function rb(a,r,l,g){for(;a.nodeType===1;){var b=l;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ma])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var A=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Qs(a.nextSibling),a===null)break}return null}function ob(a,r,l){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Qs(a.nextSibling),a===null))return null;return a}function om(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function lb(a,r){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")r();else{var g=function(){r(),l.removeEventListener("DOMContentLoaded",g)};l.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Qs(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return a}var lm=null;function yv(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return a;r--}else l==="/$"&&r++}a=a.previousSibling}return null}function xv(a,r,l){switch(r=th(l),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Id(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ga(a)}var xs=new Map,bv=new Set;function nh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var So=G.d;G.d={f:ub,r:cb,D:db,C:fb,L:hb,m:pb,X:gb,S:mb,M:vb};function ub(){var a=So.f(),r=Yf();return a||r}function cb(a){var r=Ii(a);r!==null&&r.tag===5&&r.type==="form"?pu(r):So.r(a)}var Nc=typeof document>"u"?null:document;function wv(a,r,l){var g=Nc;if(g&&typeof r=="string"&&r){var b=kn(r);b='link[rel="'+a+'"][href="'+b+'"]',typeof l=="string"&&(b+='[crossorigin="'+l+'"]'),bv.has(b)||(bv.add(b),a={rel:a,crossOrigin:l,href:r},g.querySelector(b)===null&&(r=g.createElement("link"),Wi(r,"link",a),xn(r),g.head.appendChild(r)))}}function db(a){So.D(a),wv("dns-prefetch",a,null)}function fb(a,r){So.C(a,r),wv("preconnect",a,r)}function hb(a,r,l){So.L(a,r,l);var g=Nc;if(g&&a&&r){var b='link[rel="preload"][as="'+kn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(b+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(b+='[imagesizes="'+kn(l.imageSizes)+'"]')):b+='[href="'+kn(a)+'"]';var A=b;switch(r){case"style":A=Cc(a);break;case"script":A=_c(a)}xs.has(A)||(a=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:a,as:r},l),xs.set(A,a),g.querySelector(b)!==null||r==="style"&&g.querySelector(Pd(A))||r==="script"&&g.querySelector(Ld(A))||(r=g.createElement("link"),Wi(r,"link",a),xn(r),g.head.appendChild(r)))}}function pb(a,r){So.m(a,r);var l=Nc;if(l&&a){var g=r&&typeof r.as=="string"?r.as:"script",b='link[rel="modulepreload"][as="'+kn(g)+'"][href="'+kn(a)+'"]',A=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=_c(a)}if(!xs.has(A)&&(a=y({rel:"modulepreload",href:a},r),xs.set(A,a),l.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ld(A)))return}g=l.createElement("link"),Wi(g,"link",a),xn(g),l.head.appendChild(g)}}}function mb(a,r,l){So.S(a,r,l);var g=Nc;if(g&&a){var b=Ni(g).hoistableStyles,A=Cc(a);r=r||"default";var z=b.get(A);if(!z){var re={loading:0,preload:null};if(z=g.querySelector(Pd(A)))re.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":r},l),(l=xs.get(A))&&um(a,l);var ye=z=g.createElement("link");xn(ye),Wi(ye,"link",a),ye._p=new Promise(function(De,Ue){ye.onload=De,ye.onerror=Ue}),ye.addEventListener("load",function(){re.loading|=1}),ye.addEventListener("error",function(){re.loading|=2}),re.loading|=4,ih(z,r,g)}z={type:"stylesheet",instance:z,count:1,state:re},b.set(A,z)}}}function gb(a,r){So.X(a,r);var l=Nc;if(l&&a){var g=Ni(l).hoistableScripts,b=_c(a),A=g.get(b);A||(A=l.querySelector(Ld(b)),A||(a=y({src:a,async:!0},r),(r=xs.get(b))&&cm(a,r),A=l.createElement("script"),xn(A),Wi(A,"link",a),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(b,A))}}function vb(a,r){So.M(a,r);var l=Nc;if(l&&a){var g=Ni(l).hoistableScripts,b=_c(a),A=g.get(b);A||(A=l.querySelector(Ld(b)),A||(a=y({src:a,async:!0,type:"module"},r),(r=xs.get(b))&&cm(a,r),A=l.createElement("script"),xn(A),Wi(A,"link",a),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(b,A))}}function Sv(a,r,l,g){var b=(b=X.current)?nh(b):null;if(!b)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Cc(l.href),l=Ni(b).hoistableStyles,g=l.get(r),g||(g={type:"style",instance:null,count:0,state:null},l.set(r,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Cc(l.href);var A=Ni(b).hoistableStyles,z=A.get(a);if(z||(b=b.ownerDocument||b,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,z),(A=b.querySelector(Pd(a)))&&!A._p&&(z.instance=A,z.state.loading=5),xs.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xs.set(a,l),A||yb(b,a,l,z.state))),r&&g===null)throw Error(i(528,""));return z}if(r&&g!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_c(l),l=Ni(b).hoistableScripts,g=l.get(r),g||(g={type:"script",instance:null,count:0,state:null},l.set(r,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Cc(a){return'href="'+kn(a)+'"'}function Pd(a){return'link[rel="stylesheet"]['+a+"]"}function Tv(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function yb(a,r,l,g){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?g.loading=1:(r=a.createElement("link"),g.preload=r,r.addEventListener("load",function(){return g.loading|=1}),r.addEventListener("error",function(){return g.loading|=2}),Wi(r,"link",l),xn(r),a.head.appendChild(r))}function _c(a){return'[src="'+kn(a)+'"]'}function Ld(a){return"script[async]"+a}function Av(a,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var g=a.querySelector('style[data-href~="'+kn(l.href)+'"]');if(g)return r.instance=g,xn(g),g;var b=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),xn(g),Wi(g,"style",b),ih(g,l.precedence,a),r.instance=g;case"stylesheet":b=Cc(l.href);var A=a.querySelector(Pd(b));if(A)return r.state.loading|=4,r.instance=A,xn(A),A;g=Tv(l),(b=xs.get(b))&&um(g,b),A=(a.ownerDocument||a).createElement("link"),xn(A);var z=A;return z._p=new Promise(function(re,ye){z.onload=re,z.onerror=ye}),Wi(A,"link",g),r.state.loading|=4,ih(A,l.precedence,a),r.instance=A;case"script":return A=_c(l.src),(b=a.querySelector(Ld(A)))?(r.instance=b,xn(b),b):(g=l,(b=xs.get(A))&&(g=y({},l),cm(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),xn(b),Wi(b,"link",g),a.head.appendChild(b),r.instance=b);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(g=r.instance,r.state.loading|=4,ih(g,l.precedence,a));return r.instance}function ih(a,r,l){for(var g=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,A=b,z=0;z<g.length;z++){var re=g[z];if(re.dataset.precedence===r)A=re;else if(A!==b)break}A?A.parentNode.insertBefore(a,A.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(a,r.firstChild))}function um(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function cm(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var ah=null;function Nv(a,r,l){if(ah===null){var g=new Map,b=ah=new Map;b.set(l,g)}else b=ah,g=b.get(l),g||(g=new Map,b.set(l,g));if(g.has(a))return g;for(g.set(a,null),l=l.getElementsByTagName(a),b=0;b<l.length;b++){var A=l[b];if(!(A[ma]||A[Cn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var z=A.getAttribute(r)||"";z=a+z;var re=g.get(z);re?re.push(A):g.set(z,[A])}}return g}function Cv(a,r,l){a=a.ownerDocument||a,a.head.insertBefore(l,r==="title"?a.querySelector("head > title"):null)}function xb(a,r,l){if(l===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _v(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Rd=null;function bb(){}function wb(a,r,l){if(Rd===null)throw Error(i(475));var g=Rd;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var b=Cc(l.href),A=a.querySelector(Pd(b));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=sh.bind(g),a.then(g,g)),r.state.loading|=4,r.instance=A,xn(A);return}A=a.ownerDocument||a,l=Tv(l),(b=xs.get(b))&&um(l,b),A=A.createElement("link"),xn(A);var z=A;z._p=new Promise(function(re,ye){z.onload=re,z.onerror=ye}),Wi(A,"link",l),r.instance=A}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(g.count++,r=sh.bind(g),a.addEventListener("load",r),a.addEventListener("error",r))}}function Sb(){if(Rd===null)throw Error(i(475));var a=Rd;return a.stylesheets&&a.count===0&&dm(a,a.stylesheets),0<a.count?function(r){var l=setTimeout(function(){if(a.stylesheets&&dm(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=r,function(){a.unsuspend=null,clearTimeout(l)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var rh=null;function dm(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,rh=new Map,r.forEach(Tb,a),rh=null,sh.call(a))}function Tb(a,r){if(!(r.state.loading&4)){var l=rh.get(a);if(l)var g=l.get(null);else{l=new Map,rh.set(a,l);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<b.length;A++){var z=b[A];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(l.set(z.dataset.precedence,z),g=z)}g&&l.set(null,g)}b=r.instance,z=b.getAttribute("data-precedence"),A=l.get(z)||g,A===g&&l.set(null,b),l.set(z,b),this.count++,g=sh.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),A?A.parentNode.insertBefore(b,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),r.state.loading|=4}}var Fd={$$typeof:F,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Ab(a,r,l,g,b,A,z,re){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=A,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function Ev(a,r,l,g,b,A,z,re,ye,De,Ue,$e){return a=new Ab(a,r,l,z,re,ye,De,$e),r=1,A===!0&&(r|=24),A=Fi(3,null,null,r),a.current=A,A.stateNode=a,r=rd(),r.refCount++,a.pooledCache=r,r.refCount++,A.memoizedState={element:g,isDehydrated:l,cache:r},we(A),a}function Mv(a){return a?(a=wi,a):wi}function kv(a,r,l,g,b,A){b=Mv(b),g.context===null?g.context=b:g.pendingContext=b,g=Be(r),g.payload={element:l},A=A===void 0?null:A,A!==null&&(g.callback=A),l=Ge(a,g,r),l!==null&&(Qa(l,a,r),qe(l,a,r))}function Dv(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<r?l:r}}function fm(a,r){Dv(a,r),(a=a.alternate)&&Dv(a,r)}function jv(a){if(a.tag===13){var r=ao(a,67108864);r!==null&&Qa(r,a,67108864),fm(a,67108864)}}var oh=!0;function Nb(a,r,l,g){var b=q.T;q.T=null;var A=G.p;try{G.p=2,hm(a,r,l,g)}finally{G.p=A,q.T=b}}function Cb(a,r,l,g){var b=q.T;q.T=null;var A=G.p;try{G.p=8,hm(a,r,l,g)}finally{G.p=A,q.T=b}}function hm(a,r,l,g){if(oh){var b=pm(g);if(b===null)em(a,r,g,lh,l),Pv(a,g);else if(Eb(b,a,r,l,g))g.stopPropagation();else if(Pv(a,g),r&4&&-1<_b.indexOf(a)){for(;b!==null;){var A=Ii(b);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var z=tn(A.pendingLanes);if(z!==0){var re=A;for(re.pendingLanes|=2,re.entangledLanes|=2;z;){var ye=1<<31-ft(z);re.entanglements[1]|=ye,z&=~ye}Pr(A),(Sn&6)===0&&(Gf=bt()+500,kd(0))}}break;case 13:re=ao(A,2),re!==null&&Qa(re,A,2),Yf(),fm(A,2)}if(A=pm(g),A===null&&em(a,r,g,lh,l),A===b)break;b=A}b!==null&&g.stopPropagation()}else em(a,r,g,null,l)}}function pm(a){return a=xi(a),mm(a)}var lh=null;function mm(a){if(lh=null,a=ji(a),a!==null){var r=o(a);if(r===null)a=null;else{var l=r.tag;if(l===13){if(a=u(r),a!==null)return a;a=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return lh=a,null}function Iv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Je:return 2;case Qe:return 8;case tt:case nt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var gm=!1,yl=null,xl=null,bl=null,Od=new Map,Bd=new Map,wl=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pv(a,r){switch(a){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Od.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(r.pointerId)}}function Ud(a,r,l,g,b,A){return a===null||a.nativeEvent!==A?(a={blockedOn:r,domEventName:l,eventSystemFlags:g,nativeEvent:A,targetContainers:[b]},r!==null&&(r=Ii(r),r!==null&&jv(r)),a):(a.eventSystemFlags|=g,r=a.targetContainers,b!==null&&r.indexOf(b)===-1&&r.push(b),a)}function Eb(a,r,l,g,b){switch(r){case"focusin":return yl=Ud(yl,a,r,l,g,b),!0;case"dragenter":return xl=Ud(xl,a,r,l,g,b),!0;case"mouseover":return bl=Ud(bl,a,r,l,g,b),!0;case"pointerover":var A=b.pointerId;return Od.set(A,Ud(Od.get(A)||null,a,r,l,g,b)),!0;case"gotpointercapture":return A=b.pointerId,Bd.set(A,Ud(Bd.get(A)||null,a,r,l,g,b)),!0}return!1}function Lv(a){var r=ji(a.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){a.blockedOn=r,as(a.priority,function(){if(l.tag===13){var g=Xa();g=Cs(g);var b=ao(l,g);b!==null&&Qa(b,l,g),fm(l,g)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function uh(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var l=pm(a.nativeEvent);if(l===null){l=a.nativeEvent;var g=new l.constructor(l.type,l);Ro=g,l.target.dispatchEvent(g),Ro=null}else return r=Ii(l),r!==null&&jv(r),a.blockedOn=l,!1;r.shift()}return!0}function Rv(a,r,l){uh(a)&&l.delete(r)}function Mb(){gm=!1,yl!==null&&uh(yl)&&(yl=null),xl!==null&&uh(xl)&&(xl=null),bl!==null&&uh(bl)&&(bl=null),Od.forEach(Rv),Bd.forEach(Rv)}function ch(a,r){a.blockedOn===r&&(a.blockedOn=null,gm||(gm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mb)))}var dh=null;function Fv(a){dh!==a&&(dh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dh===a&&(dh=null);for(var r=0;r<a.length;r+=3){var l=a[r],g=a[r+1],b=a[r+2];if(typeof g!="function"){if(mm(g||l)===null)continue;break}var A=Ii(l);A!==null&&(a.splice(r,3),r-=3,gs(A,{pending:!0,data:b,method:l.method,action:g},g,b))}}))}function qd(a){function r(ye){return ch(ye,a)}yl!==null&&ch(yl,a),xl!==null&&ch(xl,a),bl!==null&&ch(bl,a),Od.forEach(r),Bd.forEach(r);for(var l=0;l<wl.length;l++){var g=wl[l];g.blockedOn===a&&(g.blockedOn=null)}for(;0<wl.length&&(l=wl[0],l.blockedOn===null);)Lv(l),l.blockedOn===null&&wl.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(g=0;g<l.length;g+=3){var b=l[g],A=l[g+1],z=b[Bn]||null;if(typeof A=="function")z||Fv(l);else if(z){var re=null;if(A&&A.hasAttribute("formAction")){if(b=A,z=A[Bn]||null)re=z.formAction;else if(mm(b)!==null)continue}else re=z.action;typeof re=="function"?l[g+1]=re:(l.splice(g,3),g-=3),Fv(l)}}}function vm(a){this._internalRoot=a}fh.prototype.render=vm.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,g=Xa();kv(l,g,a,r,null,null)},fh.prototype.unmount=vm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;kv(a.current,2,null,a,null,null),Yf(),r[ui]=null}};function fh(a){this._internalRoot=a}fh.prototype.unstable_scheduleHydration=function(a){if(a){var r=Ua();a={blockedOn:null,target:a,priority:r};for(var l=0;l<wl.length&&r!==0&&r<wl[l].priority;l++);wl.splice(l,0,a),l===0&&Lv(a)}};var Ov=e.version;if(Ov!=="19.1.0")throw Error(i(527,Ov,"19.1.0"));G.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(r),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var kb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Ot=hh.inject(kb),Dt=hh}catch{}}return zd.createRoot=function(a,r){if(!s(a))throw Error(i(299));var l=!1,g="",b=e0,A=t0,z=n0,re=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onUncaughtError!==void 0&&(b=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(z=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(re=r.unstable_transitionCallbacks)),r=Ev(a,1,!1,null,null,l,g,b,A,z,re,null),a[ui]=r.current,Qp(a),new vm(r)},zd.hydrateRoot=function(a,r,l){if(!s(a))throw Error(i(299));var g=!1,b="",A=e0,z=t0,re=n0,ye=null,De=null;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(z=l.onCaughtError),l.onRecoverableError!==void 0&&(re=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ye=l.unstable_transitionCallbacks),l.formState!==void 0&&(De=l.formState)),r=Ev(a,1,!0,r,l??null,g,b,A,z,re,ye,De),r.context=Mv(null),l=r.current,g=Xa(),g=Cs(g),b=Be(g),b.callback=null,Ge(l,b,g),l=g,r.current.lanes=l,ha(r,l),Pr(r),a[ui]=r.current,Qp(a),new fh(r)},zd.version="19.1.0",zd}var Wv;function zb(){if(Wv)return bm.exports;Wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bm.exports=Vb(),bm.exports}var Hb=zb();const Gb=Eg(Hb);let $b={data:""},Yb=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$b,Wb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jb=/\/\*[^]*?\*\/|  +/g,Jv=/\n+/g,Cl=(t,e)=>{let n="",i="",s="";for(let o in t){let u=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":i+=o[1]=="f"?Cl(u,o):o+"{"+Cl(u,o[1]=="k"?"":e)+"}":typeof u=="object"?i+=Cl(u,e?e.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Cl.p?Cl.p(o,u):o+":"+u+";")}return n+(e&&s?e+"{"+s+"}":s)+i},To={},p2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+p2(t[n]);return e}return t},Kb=(t,e,n,i,s)=>{let o=p2(t),u=To[o]||(To[o]=(h=>{let m=0,y=11;for(;m<h.length;)y=101*y+h.charCodeAt(m++)>>>0;return"go"+y})(o));if(!To[u]){let h=o!==t?t:(m=>{let y,x,T=[{}];for(;y=Wb.exec(m.replace(Jb,""));)y[4]?T.shift():y[3]?(x=y[3].replace(Jv," ").trim(),T.unshift(T[0][x]=T[0][x]||{})):T[0][y[1]]=y[2].replace(Jv," ").trim();return T[0]})(t);To[u]=Cl(s?{["@keyframes "+u]:h}:h,n?"":"."+u)}let d=n&&To.g?To.g:null;return n&&(To.g=To[u]),((h,m,y,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=y?h+m.data:m.data+h)})(To[u],e,i,d),u},Zb=(t,e,n)=>t.reduce((i,s,o)=>{let u=e[o];if(u&&u.call){let d=u(n),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=h?"."+h:d&&typeof d=="object"?d.props?"":Cl(d,""):d===!1?"":d}return i+s+(u??"")},"");function Wh(t){let e=this||{},n=t.call?t(e.p):t;return Kb(n.unshift?n.raw?Zb(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,Yb(e.target),e.g,e.o,e.k)}let m2,Um,qm;Wh.bind({g:1});let Mo=Wh.bind({k:1});function Xb(t,e,n,i){Cl.p=e,m2=t,Um=n,qm=i}function Ll(t,e){let n=this||{};return function(){let i=arguments;function s(o,u){let d=Object.assign({},o),h=d.className||s.className;n.p=Object.assign({theme:Um&&Um()},d),n.o=/ *go\d+/.test(h),d.className=Wh.apply(n,i)+(h?" "+h:"");let m=t;return t[0]&&(m=d.as||t,delete d.as),qm&&m[0]&&qm(d),m2(m,d)}return s}}var Qb=t=>typeof t=="function",Ih=(t,e)=>Qb(t)?t(e):t,e5=(()=>{let t=0;return()=>(++t).toString()})(),g2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),t5=20,Ah=new Map,n5=1e3,Kv=t=>{if(Ah.has(t))return;let e=setTimeout(()=>{Ah.delete(t),Ru({type:4,toastId:t})},n5);Ah.set(t,e)},i5=t=>{let e=Ah.get(t);e&&clearTimeout(e)},Vm=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,t5)};case 1:return e.toast.id&&i5(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Vm(t,{type:1,toast:n}):Vm(t,{type:0,toast:n});case 3:let{toastId:i}=e;return i?Kv(i):t.toasts.forEach(o=>{Kv(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Nh=[],Ch={toasts:[],pausedAt:void 0},Ru=t=>{Ch=Vm(Ch,t),Nh.forEach(e=>{e(Ch)})},a5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},s5=(t={})=>{let[e,n]=ve.useState(Ch);ve.useEffect(()=>(Nh.push(n),()=>{let s=Nh.indexOf(n);s>-1&&Nh.splice(s,1)}),[e]);let i=e.toasts.map(s=>{var o,u;return{...t,...t[s.type],...s,duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||a5[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:i}},r5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||e5()}),pf=t=>(e,n)=>{let i=r5(e,t,n);return Ru({type:2,toast:i}),i.id},ts=(t,e)=>pf("blank")(t,e);ts.error=pf("error");ts.success=pf("success");ts.loading=pf("loading");ts.custom=pf("custom");ts.dismiss=t=>{Ru({type:3,toastId:t})};ts.remove=t=>Ru({type:4,toastId:t});ts.promise=(t,e,n)=>{let i=ts.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(ts.success(Ih(e.success,s),{id:i,...n,...n==null?void 0:n.success}),s)).catch(s=>{ts.error(Ih(e.error,s),{id:i,...n,...n==null?void 0:n.error})}),t};var o5=(t,e)=>{Ru({type:1,toast:{id:t,height:e}})},l5=()=>{Ru({type:5,time:Date.now()})},u5=t=>{let{toasts:e,pausedAt:n}=s5(t);ve.useEffect(()=>{if(n)return;let o=Date.now(),u=e.map(d=>{if(d.duration===1/0)return;let h=(d.duration||0)+d.pauseDuration-(o-d.createdAt);if(h<0){d.visible&&ts.dismiss(d.id);return}return setTimeout(()=>ts.dismiss(d.id),h)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[e,n]);let i=ve.useCallback(()=>{n&&Ru({type:6,time:Date.now()})},[n]),s=ve.useCallback((o,u)=>{let{reverseOrder:d=!1,gutter:h=8,defaultPosition:m}=u||{},y=e.filter(w=>(w.position||m)===(o.position||m)&&w.height),x=y.findIndex(w=>w.id===o.id),T=y.filter((w,C)=>C<x&&w.visible).length;return y.filter(w=>w.visible).slice(...d?[T+1]:[0,T]).reduce((w,C)=>w+(C.height||0)+h,0)},[e]);return{toasts:e,handlers:{updateHeight:o5,startPause:l5,endPause:i,calculateOffset:s}}},c5=Mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,d5=Mo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f5=Mo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,h5=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${c5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${d5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${f5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,p5=Mo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,m5=Ll("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${p5} 1s linear infinite;
`,g5=Mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,v5=Mo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,y5=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${v5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x5=Ll("div")`
  position: absolute;
`,b5=Ll("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,w5=Mo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S5=Ll("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${w5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,T5=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?ve.createElement(S5,null,e):e:n==="blank"?null:ve.createElement(b5,null,ve.createElement(m5,{...i}),n!=="loading"&&ve.createElement(x5,null,n==="error"?ve.createElement(h5,{...i}):ve.createElement(y5,{...i})))},A5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,C5="0%{opacity:0;} 100%{opacity:1;}",_5="0%{opacity:1;} 100%{opacity:0;}",E5=Ll("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,M5=Ll("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,k5=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=g2()?[C5,_5]:[A5(n),N5(n)];return{animation:e?`${Mo(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mo(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},D5=ve.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?k5(t.position||e||"top-center",t.visible):{opacity:0},o=ve.createElement(T5,{toast:t}),u=ve.createElement(M5,{...t.ariaProps},Ih(t.message,t));return ve.createElement(E5,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:o,message:u}):ve.createElement(ve.Fragment,null,o,u))});Xb(ve.createElement);var j5=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=ve.useCallback(u=>{if(u){let d=()=>{let h=u.getBoundingClientRect().height;i(t,h)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return ve.createElement("div",{ref:o,className:e,style:n},s)},I5=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:g2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},P5=Wh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ph=16,L5=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,containerStyle:o,containerClassName:u})=>{let{toasts:d,handlers:h}=u5(n);return ve.createElement("div",{style:{position:"fixed",zIndex:9999,top:ph,left:ph,right:ph,bottom:ph,pointerEvents:"none",...o},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(m=>{let y=m.position||e,x=h.calculateOffset(m,{reverseOrder:t,gutter:i,defaultPosition:e}),T=I5(y,x);return ve.createElement(j5,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?P5:"",style:T},m.type==="custom"?Ih(m.message,m):s?s(m):ve.createElement(D5,{toast:m,position:y}))}))},Hd=ts,v2=Symbol.for("immer-nothing"),Zv=Symbol.for("immer-draftable"),ns=Symbol.for("immer-state");function ir(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qc=Object.getPrototypeOf;function Vc(t){return!!t&&!!t[ns]}function Mu(t){var e;return t?y2(t)||Array.isArray(t)||!!t[Zv]||!!((e=t.constructor)!=null&&e[Zv])||Kh(t)||Zh(t):!1}var R5=Object.prototype.constructor.toString();function y2(t){if(!t||typeof t!="object")return!1;const e=qc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===R5}function Ph(t,e){Jh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Jh(t){const e=t[ns];return e?e.type_:Array.isArray(t)?1:Kh(t)?2:Zh(t)?3:0}function zm(t,e){return Jh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x2(t,e,n){const i=Jh(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function F5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kh(t){return t instanceof Map}function Zh(t){return t instanceof Set}function Su(t){return t.copy_||t.base_}function Hm(t,e){if(Kh(t))return new Map(t);if(Zh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=y2(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[ns];let s=Reflect.ownKeys(i);for(let o=0;o<s.length;o++){const u=s[o],d=i[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(qc(t),i)}else{const i=qc(t);if(i!==null&&n)return{...t};const s=Object.create(i);return Object.assign(s,t)}}function Dg(t,e=!1){return Xh(t)||Vc(t)||!Mu(t)||(Jh(t)>1&&(t.set=t.add=t.clear=t.delete=O5),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>Dg(i,!0))),t}function O5(){ir(2)}function Xh(t){return Object.isFrozen(t)}var B5={};function ku(t){const e=B5[t];return e||ir(0,t),e}var of;function b2(){return of}function U5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xv(t,e){e&&(ku("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Gm(t){$m(t),t.drafts_.forEach(q5),t.drafts_=null}function $m(t){t===of&&(of=t.parent_)}function Qv(t){return of=U5(of,t)}function q5(t){const e=t[ns];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ey(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ns].modified_&&(Gm(e),ir(4)),Mu(t)&&(t=Lh(e,t),e.parent_||Rh(e,t)),e.patches_&&ku("Patches").generateReplacementPatches_(n[ns].base_,t,e.patches_,e.inversePatches_)):t=Lh(e,n,[]),Gm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==v2?t:void 0}function Lh(t,e,n){if(Xh(e))return e;const i=e[ns];if(!i)return Ph(e,(s,o)=>ty(t,i,e,s,o,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Rh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,u=!1;i.type_===3&&(o=new Set(s),s.clear(),u=!0),Ph(o,(d,h)=>ty(t,i,s,d,h,n,u)),Rh(t,s,!1),n&&t.patches_&&ku("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function ty(t,e,n,i,s,o,u){if(Vc(s)){const d=o&&e&&e.type_!==3&&!zm(e.assigned_,i)?o.concat(i):void 0,h=Lh(t,s,d);if(x2(n,i,h),Vc(h))t.canAutoFreeze_=!1;else return}else u&&n.add(s);if(Mu(s)&&!Xh(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Lh(t,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Rh(t,s)}}function Rh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Dg(e,n)}function V5(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:b2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,o=jg;n&&(s=[i],o=lf);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return i.draft_=d,i.revoke_=u,d}var jg={get(t,e){if(e===ns)return t;const n=Su(t);if(!zm(n,e))return z5(t,n,e);const i=n[e];return t.finalized_||!Mu(i)?i:i===Am(t.base_,e)?(Nm(t),t.copy_[e]=Wm(i,t)):i},has(t,e){return e in Su(t)},ownKeys(t){return Reflect.ownKeys(Su(t))},set(t,e,n){const i=w2(Su(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const s=Am(Su(t),e),o=s==null?void 0:s[ns];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(F5(n,s)&&(n!==void 0||zm(t.base_,e)))return!0;Nm(t),Ym(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Am(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Nm(t),Ym(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Su(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ir(11)},getPrototypeOf(t){return qc(t.base_)},setPrototypeOf(){ir(12)}},lf={};Ph(jg,(t,e)=>{lf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lf.deleteProperty=function(t,e){return lf.set.call(this,t,e,void 0)};lf.set=function(t,e,n){return jg.set.call(this,t[0],e,n,t[0])};function Am(t,e){const n=t[ns];return(n?Su(n):t)[e]}function z5(t,e,n){var s;const i=w2(e,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(t.draft_):void 0}function w2(t,e){if(!(e in t))return;let n=qc(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=qc(n)}}function Ym(t){t.modified_||(t.modified_=!0,t.parent_&&Ym(t.parent_))}function Nm(t){t.copy_||(t.copy_=Hm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var H5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(h=o,...m){return u.produce(h,y=>n.call(this,y,...m))}}typeof n!="function"&&ir(6),i!==void 0&&typeof i!="function"&&ir(7);let s;if(Mu(e)){const o=Qv(this),u=Wm(e,void 0);let d=!0;try{s=n(u),d=!1}finally{d?Gm(o):$m(o)}return Xv(o,i),ey(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===v2&&(s=void 0),this.autoFreeze_&&Dg(s,!0),i){const o=[],u=[];ku("Patches").generateReplacementPatches_(e,s,o,u),i(o,u)}return s}else ir(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,h=>e(h,...d));let i,s;return[this.produce(e,n,(u,d)=>{i=u,s=d}),i,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Mu(t)||ir(8),Vc(t)&&(t=G5(t));const e=Qv(this),n=Wm(t,void 0);return n[ns].isManual_=!0,$m(e),n}finishDraft(t,e){const n=t&&t[ns];(!n||!n.isManual_)&&ir(9);const{scope_:i}=n;return Xv(i,e),ey(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const i=ku("Patches").applyPatches_;return Vc(t)?i(t,e):this.produce(t,s=>i(s,e))}};function Wm(t,e){const n=Kh(t)?ku("MapSet").proxyMap_(t,e):Zh(t)?ku("MapSet").proxySet_(t,e):V5(t,e);return(e?e.scope_:b2()).drafts_.push(n),n}function G5(t){return Vc(t)||ir(10,t),S2(t)}function S2(t){if(!Mu(t)||Xh(t))return t;const e=t[ns];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hm(t,!0);return Ph(n,(i,s)=>{x2(n,i,S2(s))}),e&&(e.finalized_=!1),n}var is=new H5,St=is.produce;is.produceWithPatches.bind(is);is.setAutoFreeze.bind(is);is.setUseStrictShallowCopy.bind(is);is.applyPatches.bind(is);is.createDraft.bind(is);is.finishDraft.bind(is);const T2=ve.createContext(void 0),Ig={general:{collectiveName:"The Arts Incubator",defaultCurrency:"CAD",dateFormat:"YYYY-MM-DD"},projects:{statuses:[],disciplines:[]},members:{roles:[],availability:[]},tasks:{statuses:[],defaultWorkTypes:{paidRate:25,inKindRate:25,volunteerRate:0},workWeek:["monday","tuesday","wednesday","thursday","friday"]},budget:{revenueLabels:{},expenseLabels:{}},ai:{enabled:!1,plainTextMode:!1,personas:{main:{model:"gemini-2.5-flash-preview-04-17",temperature:.7,instructions:"You are an expert arts administrator and grant writer, acting as a supportive and encouraging assistant for a small, community-focused arts collective. Many of the users may be from under-resourced northern, rural, or Indigenous communities and may not have professional administrative experience. Your tone should be clear, professional, accessible, and empowering. Avoid jargon. Your goal is to help users manage their projects, budgets, and reporting efficiently and confidently, turning their artistic visions into well-structured, fundable projects. Always provide actionable advice."},projects:{model:"gemini-2.5-flash-preview-04-17",temperature:.8,instructions:"As the Project Specialist, your role is to help users flesh out their ideas into compelling project descriptions. Focus on asking clarifying questions that draw out the 'what, why, and how' of their project. Help them articulate their artistic vision, community impact, and feasibility. When asked to generate text, adopt a narrative and slightly formal tone suitable for a grant application. Emphasize clarity, structure, and impact."},budget:{model:"gemini-2.5-flash-preview-04-17",temperature:.4,instructions:"As the Budget Specialist, your persona is that of a meticulous, friendly bookkeeper. Your primary goal is accuracy and clarity. When asked to analyze or suggest budget items, be precise and reference standard practices (like CARFAC fees, per diems). Help users ensure their financial plans are realistic, comprehensive, and justifiable to funders. Use a very logical and straightforward tone."},members:{model:"gemini-2.5-flash-preview-04-17",temperature:.7,instructions:"As the Member Specialist, your role is to help artists articulate their skills and experience. When generating or refining bios, focus on highlighting their strengths, unique experiences, and contributions to the collective. Maintain a professional and respectful tone that celebrates their artistic identity."},tasks:{model:"gemini-2.5-flash-preview-04-17",temperature:.6,instructions:"As the Task Management Specialist, you are a pragmatic and organized project manager. When a user provides a large goal (e.g., 'put on a show'), your job is to break it down into small, concrete, and actionable tasks. For each task, suggest a clear title, a brief description, and potential dependencies. Your language should be direct and focused on getting things done."},reports:{model:"gemini-2.5-flash-preview-04-17",temperature:.5,instructions:"As the Reporting Specialist, you are an experienced grant writer with a data-driven approach. Your goal is to help users summarize their project outcomes in a way that is clear, compelling, and satisfying to funders. When analyzing data, focus on quantifiable achievements (e.g., 'Reached X audience members,' 'Employed Y artists'). When generating text, use a professional tone and structure answers logically to align with standard final report questions."}}}},$5=(t,e)=>{switch(console.log("%cDispatching Action:","color: #f59e0b; font-weight: bold;",e),e.type){case"SET_PROJECTS":return St(t,i=>{i.projects=e.payload});case"UPDATE_PROJECT_PARTIAL":return St(t,i=>{const s=i.projects.find(o=>o.id===e.payload.projectId);s&&Object.assign(s,e.payload.data)});case"UPDATE_PROJECT_STATUS":return St(t,i=>{const s=i.projects.find(o=>o.id===e.payload.projectId);s&&(s.status=e.payload.status)});case"DELETE_PROJECT":return St(t,i=>{const s=i.tasks.filter(u=>u.projectId===e.payload),o=new Set(s.map(u=>u.id));i.projects=i.projects.filter(u=>u.id!==e.payload),i.tasks=i.tasks.filter(u=>u.projectId!==e.payload),i.activities=i.activities.filter(u=>!o.has(u.taskId)),i.directExpenses=i.directExpenses.filter(u=>u.projectId!==e.payload),i.reports=i.reports.filter(u=>u.projectId!==e.payload)});case"SET_MEMBERS":return St(t,i=>{i.members=e.payload});case"DELETE_MEMBER":return St(t,i=>{i.members=i.members.filter(s=>s.id!==e.payload),i.projects.forEach(s=>{s.collaboratorDetails=s.collaboratorDetails.filter(o=>o.memberId!==e.payload)}),i.tasks.forEach(s=>{s.assignedMemberId===e.payload&&(s.assignedMemberId="")})});case"SET_TASKS":return St(t,i=>{i.tasks=e.payload});case"ADD_TASK":return St(t,i=>{i.tasks.push(e.payload)});case"ADD_TASKS":return St(t,i=>{i.tasks.push(...e.payload)});case"UPDATE_TASK":return St(t,i=>{const s=i.tasks.findIndex(o=>o.id===e.payload.id);s!==-1&&(i.tasks[s]={...i.tasks[s],...e.payload})});case"UPDATE_TASK_PARTIAL":return St(t,i=>{const s=i.tasks.find(o=>o.id===e.payload.taskId);s&&(Object.assign(s,e.payload.data),s.updatedAt=new Date().toISOString())});case"DELETE_TASK":return St(t,i=>{i.tasks=i.tasks.filter(s=>s.id!==e.payload),i.activities=i.activities.filter(s=>s.taskId!==e.payload)});case"SET_ACTIVITIES":return St(t,i=>{i.activities=e.payload});case"ADD_ACTIVITIES":return St(t,i=>{i.activities.push(...e.payload)});case"UPDATE_ACTIVITY":return St(t,i=>{const s=i.activities.findIndex(o=>o.id===e.payload.id);s!==-1&&(i.activities[s]=e.payload)});case"APPROVE_ACTIVITY":return St(t,i=>{const s=i.activities.find(o=>o.id===e.payload);s&&(s.status="Approved",s.updatedAt=new Date().toISOString())});case"DELETE_ACTIVITY":return St(t,i=>{i.activities=i.activities.filter(s=>s.id!==e.payload)});case"SET_DIRECT_EXPENSES":return St(t,i=>{i.directExpenses=e.payload});case"ADD_DIRECT_EXPENSE":return St(t,i=>{i.directExpenses.push(e.payload)});case"SET_REPORTS":return St(t,i=>{i.reports=e.payload});case"UPDATE_SETTINGS":return St(t,i=>{i.settings=e.payload});case"SET_REPORT_PROJECT_ID_TO_OPEN":return St(t,i=>{i.reportProjectIdToOpen=e.payload});case"SET_ACTIVE_WORKSHOP_ITEM":return St(t,i=>{i.activeWorkshopItem=e.payload});case"ADD_PROJECT_DATA":return St(t,i=>{const{project:s,tasks:o,activities:u,directExpenses:d,members:h}=e.payload;i.projects.push(s),i.tasks.push(...o),i.activities.push(...u),i.directExpenses.push(...d);const m=new Set(i.members.map(x=>x.email.toLowerCase())),y=h.filter(x=>!m.has(x.email.toLowerCase()));i.members.push(...y)});case"CLEAR_ALL_DATA":const n={...es,settings:{...es.settings}};return n.settings.budget=t.settings.budget,n.settings.projects=t.settings.projects,n;case"LOAD_DATA":return{...es,...e.payload};default:return t}},es={projects:[],members:[],tasks:[],activities:[],directExpenses:[],reports:[],settings:Ig,reportProjectIdToOpen:null,activeWorkshopItem:null},Y5=()=>{console.log("Initializing state...");try{const t=localStorage.getItem("appState");if(!t)return console.log("No saved state found. Initializing with default state."),es;console.log("Found saved state in localStorage. Parsing...");const e=JSON.parse(t);if(typeof e!="object"||e===null)throw new Error("Stored state is not a valid object.");const n=St(Ig,s=>{const o=e.settings||{};Object.keys(s).forEach(u=>{const d=o[u];d&&typeof d=="object"&&u!=="ai"&&Object.assign(s[u],d)}),o.ai&&typeof o.ai=="object"&&(s.ai.enabled=o.ai.enabled??s.ai.enabled,s.ai.plainTextMode=o.ai.plainTextMode??s.ai.plainTextMode,o.ai.personas&&typeof o.ai.personas=="object"&&Object.keys(s.ai.personas).forEach(u=>{const d=o.ai.personas[u];d&&typeof d=="object"&&Object.assign(s.ai.personas[u],d)}))}),i={projects:Array.isArray(e.projects)?e.projects:es.projects,members:Array.isArray(e.members)?e.members:es.members,tasks:Array.isArray(e.tasks)?e.tasks:es.tasks,activities:Array.isArray(e.activities)?e.activities:es.activities,directExpenses:Array.isArray(e.directExpenses)?e.directExpenses:es.directExpenses,reports:Array.isArray(e.reports)?e.reports:es.reports,settings:n,reportProjectIdToOpen:e.reportProjectIdToOpen||es.reportProjectIdToOpen,activeWorkshopItem:null};return console.log("State successfully initialized from localStorage:",i),i}catch(t){console.error("Critical error initializing state from localStorage. Resetting application state.",t);try{localStorage.removeItem("appState")}catch(e){console.error("Failed to remove corrupted state from localStorage.",e)}return es}},W5=({children:t})=>{const[e,n]=ve.useReducer($5,es,Y5);ve.useEffect(()=>{try{console.log("Saving state to localStorage...");const o={...e,activeWorkshopItem:null};localStorage.setItem("appState",JSON.stringify(o))}catch(o){console.error("Failed to save state to localStorage",o)}},[e]);const i=ve.useCallback((o,u)=>{switch(u){case"success":Hd.success(o);break;case"error":Hd.error(o);break;case"info":Hd(o,{icon:"ℹ️"});break;case"warning":Hd(o,{icon:"⚠️"});break;default:Hd(o)}},[]),s={state:e,dispatch:n,notify:i};return c.jsx(T2.Provider,{value:s,children:t})},cn=()=>{const t=ve.useContext(T2);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t},Ec=({page:t,label:e,activePage:n,onNavigate:i})=>{const s=n===t;return c.jsx("a",{href:"#",onClick:h=>{h.preventDefault(),i(t)},className:`px-3 py-4 text-sm font-semibold transition-colors duration-150 border-b-2 ${s?"border-teal-400 text-white":"border-transparent text-slate-300 hover:text-white hover:border-slate-500"}`,"aria-current":s?"page":void 0,children:e})},Gd=({page:t,icon:e,label:n,activePage:i,onNavigate:s,onClick:o})=>{const u=i===t;return c.jsxs("a",{href:"#",role:"menuitem",onClick:y=>{y.preventDefault(),s(t),o()},className:`group flex items-center w-full px-4 py-2 text-sm text-left ${u?"bg-slate-100 text-slate-900":"text-slate-700 hover:bg-slate-100 hover:text-slate-900"}`,children:[c.jsx("i",{className:`${e} mr-3 h-5 w-5 text-slate-400 group-hover:text-teal-500`,"aria-hidden":"true"}),n]})},J5=({activePage:t,onNavigate:e})=>{const[n,i]=ve.useState(!1),s=ve.useRef(null),{state:o}=cn(),u=o.settings.general.collectiveName||"The Arts Incubator";return ve.useEffect(()=>{function d(h){s.current&&!s.current.contains(h.target)&&i(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[s]),c.jsx("header",{className:"bg-slate-800 text-white shadow-lg sticky top-0 z-40",children:c.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("h1",{className:"text-xl font-bold tracking-wider",children:u})}),c.jsx("nav",{className:"hidden md:block",children:c.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[c.jsx(Ec,{page:"home",label:"Home",activePage:t,onNavigate:e}),c.jsx(Ec,{page:"projects",label:"Projects",activePage:t,onNavigate:e}),c.jsx(Ec,{page:"members",label:"Members",activePage:t,onNavigate:e}),c.jsx(Ec,{page:"tasks",label:"Task Management",activePage:t,onNavigate:e}),c.jsx(Ec,{page:"reports",label:"Reports",activePage:t,onNavigate:e}),c.jsx(Ec,{page:"settings",label:"Settings",activePage:t,onNavigate:e})]})})]}),c.jsx("div",{className:"hidden md:block",children:c.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:c.jsxs("div",{className:"relative",ref:s,children:[c.jsx("div",{children:c.jsxs("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-slate-600 shadow-sm px-4 py-2 bg-slate-700/50 text-sm font-medium text-slate-300 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-white",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",onClick:()=>i(!n),children:["Tools",c.jsx("i",{className:"fa-solid fa-chevron-down -mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),n&&c.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:c.jsxs("div",{className:"py-1",role:"none",children:[c.jsx(Gd,{page:"taskAssessor",icon:"fa-solid fa-wand-magic-sparkles",label:"AI Task Assessor",activePage:t,onNavigate:e,onClick:()=>i(!1)}),c.jsx(Gd,{page:"projectAssessor",icon:"fa-solid fa-diagram-project",label:"Project AI Assistant",activePage:t,onNavigate:e,onClick:()=>i(!1)}),c.jsx("div",{className:"border-t border-slate-100 my-1"}),c.jsx(Gd,{page:"importExport",icon:"fa-solid fa-right-left",label:"Import / Export Data",activePage:t,onNavigate:e,onClick:()=>i(!1)}),c.jsx("div",{className:"border-t border-slate-100 my-1"}),c.jsx(Gd,{page:"sampleData",icon:"fa-solid fa-flask-vial",label:"Project Sample Data",activePage:t,onNavigate:e,onClick:()=>i(!1)}),c.jsx(Gd,{page:"detailedSampleData",icon:"fa-solid fa-database",label:"Detailed Sample Data",activePage:t,onNavigate:e,onClick:()=>i(!1)})]})})]})})})]})})})},K5=({children:t,activePage:e,onNavigate:n})=>c.jsxs("div",{className:"min-h-screen bg-slate-100",children:[c.jsx(L5,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#ffffff",color:"#1e293b"},success:{style:{background:"#ecfdf5",color:"#064e3b",border:"1px solid #d1fae5"},iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{style:{background:"#fef2f2",color:"#991b1b",border:"1px solid #fee2e2"},iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}}),c.jsx(J5,{activePage:e,onNavigate:n}),c.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t})]}),bs=[{id:"projectInfo",label:"Project Information"},{id:"collaborators",label:"Collaborators"},{id:"budget",label:"Budget"}],Z5={revenues:{grants:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],fundraising:[],contributions:[]},expenses:{professionalFees:[],travel:[],production:[],administration:[],research:[],professionalDevelopment:[]}},X5={id:"",projectTitle:"",status:"Pending",artisticDisciplines:[],craftGenres:[],danceGenres:[],literaryGenres:[],mediaGenres:[],musicGenres:[],theatreGenres:[],visualArtsGenres:[],otherArtisticDisciplineSpecify:"",projectStartDate:"",projectEndDate:"",activityType:"Select",background:"",projectDescription:"",audience:"",paymentAndConditions:"",permissionConfirmationFiles:[],schedule:"",culturalIntegrity:"",additionalInfo:"",whoWillWork:"",howSelectionDetermined:"",collaboratorDetails:[],budget:Z5},Q5={id:"",memberId:"",firstName:"",lastName:"",email:"",province:"Select",city:"",postalCode:"",imageUrl:"",shortBio:"",artistBio:"",availability:"Select"},Fh={id:"",taskCode:"",projectId:"",title:"",description:"",assignedMemberId:"",status:"To Do",startDate:"",dueDate:"",taskType:"Time-Based",isComplete:!1,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:""},Jm={id:"",taskId:"",memberId:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",hours:0,status:"Pending",createdAt:"",updatedAt:""},ew={id:"",projectId:"",projectResults:"",grantSpendingDescription:"",workplanAdjustments:"No adjustments were made.",involvedPeople:[],involvedActivities:[],impactStatements:{},highlights:[],feedback:"",additionalFeedback:""},tw=[{value:"Backlog",label:"Backlog"},{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],A2=[{value:"updatedAt",label:"Last Updated"},{value:"dueDate",label:"Due Date"},{value:"assignee",label:"Assignee"}],N2=[{value:"all",label:"All Tasks"},{value:"overdue",label:"Overdue"},{value:"dueThisWeek",label:"Due This Week"},{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"done",label:"Done"}],nw=[{value:"date-desc",label:"Activity Date (Newest)"},{value:"date-asc",label:"Activity Date (Oldest)"},{value:"updatedAt",label:"Last Updated"}],iw=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"}],aw=[{value:"Paid",label:"Paid"},{value:"In-Kind",label:"In-Kind"},{value:"Volunteer",label:"Volunteer"}],sw=[{value:"Time-Based",label:"Time-Based (Logs hours)"},{value:"Milestone",label:"Milestone (Checklist item)"}],rw=[{value:"Select",label:"Select a Province/Territory"},{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],ow=[{value:"Select",label:"Select Availability"},{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"volunteer",label:"Volunteer"},{value:"contract",label:"Contract"},{value:"not-available",label:"Not Available"}],_l={grants:[{key:"mac",label:"Provincial: Manitoba Arts Council (MAC) *This application"},{key:"federalCanada",label:"Federal: Canada Council for the Arts"},{key:"federalOther",label:"Federal: Other"},{key:"provincialOther",label:"Provincial: Other"},{key:"municipalWinnipeg",label:"Municipal: Winnipeg Arts Council"},{key:"municipalOther",label:"Municipal: Other"}],sales:[{key:"merchandise",label:"Sales: Merchandise Sales"},{key:"other",label:"Sales: Other Sales"}],fundraising:[{key:"sponsorship",label:"Sponsorship"},{key:"donations",label:"Donations"},{key:"events",label:"Fundraising Events"},{key:"crowdsourcing",label:"Crowdsourcing"},{key:"other",label:"Other"}],contributions:[{key:"financialApplicant",label:"Financial - Applicant"},{key:"financialPartners",label:"Financial - Partners"},{key:"financialOther",label:"Financial - Other"},{key:"inKindApplicant",label:"In-Kind - Applicant"},{key:"inKindPartners",label:"In-Kind - Partners"},{key:"inKindOther",label:"In-Kind - Other"}]},Fa={professionalFees:[{key:"artists",label:"Artists' fees"},{key:"designers",label:"Designers' fees"},{key:"royalties",label:"Royalties/Copyright"},{key:"indigenous",label:"Indigenous Knowledge Keeper fees"},{key:"consultant",label:"Professional/Consultant fees"},{key:"living",label:"Living Expenses/Subsistence"},{key:"other",label:"Other"}],travel:[{key:"transportation",label:"Transportation"},{key:"accommodations",label:"Accommodations"},{key:"perDiem",label:"Per diem"},{key:"other",label:"Other"}],production:[{key:"materials",label:"Materials and supplies"},{key:"technical",label:"Technical personnel"},{key:"equipment",label:"Equipment purchase"},{key:"rentals",label:"Rentals"},{key:"other",label:"Other"}],administration:[{key:"personnel",label:"Administrative Personnel"},{key:"shipping",label:"Shipping"},{key:"printing",label:"Printing and photocopying"},{key:"promotion",label:"Promotion and marketing"},{key:"translation",label:"Translation"},{key:"workshops",label:"Workshops"},{key:"other",label:"Other"}],research:[{key:"research",label:"Research"}],professionalDevelopment:[{key:"professionalDevelopment",label:"Professional Development"}]},mf=[{value:"craft",label:"Craft"},{value:"dance",label:"Dance"},{value:"multi-disciplinary",label:"Multi disciplinary/Inter-arts"},{value:"literary",label:"Literary arts"},{value:"media",label:"Media arts"},{value:"music",label:"Music"},{value:"theatre",label:"Theatre"},{value:"visual",label:"Visual arts"},{value:"other",label:"Other"}],Qh=[{value:"beading",label:"Beading"},{value:"birchbark",label:"Birchbark"},{value:"ceramics",label:"Ceramics"},{value:"clay",label:"Clay"},{value:"fibre",label:"Fibre"},{value:"furniture",label:"Furniture"},{value:"glass",label:"Glass"},{value:"instrument-making",label:"Instrument-making"},{value:"jewellery",label:"Jewellery"},{value:"leather",label:"Leather"},{value:"metal",label:"Metal"},{value:"mixed-media",label:"Mixed media"},{value:"paper",label:"Paper"},{value:"quillwork",label:"Quillwork"},{value:"stone",label:"Stone"},{value:"textile",label:"Textile"},{value:"wood",label:"Wood"}],ep=[{value:"aerial",label:"Aerial dance"},{value:"african",label:"African"},{value:"classical-ballet",label:"Classical ballet"},{value:"classical-indian",label:"Classical Indian"},{value:"contemporary",label:"Contemporary"},{value:"ethno-cultural-folk",label:"Other Ethno-cultural folk"},{value:"flamenco",label:"Flamenco"},{value:"hip-hop",label:"Hip hop"},{value:"indigenous",label:"Indigenous"},{value:"jazz",label:"Jazz"},{value:"modern-ballet",label:"Modern ballet"},{value:"site-specific",label:"Site-specific dance"},{value:"tap",label:"Tap"}],tp=[{value:"biography",label:"Biography"},{value:"childrens-lit",label:"Children's literature"},{value:"essays-on-art",label:"Essays on art"},{value:"fiction",label:"Fiction"},{value:"graphic-novel",label:"Graphic novel"},{value:"memoir",label:"Memoir"},{value:"creative-non-fiction",label:"Creative non-fiction"},{value:"novel",label:"Novel"},{value:"novella",label:"Novella"},{value:"poetry",label:"Poetry"},{value:"short-story",label:"Short story"},{value:"spoken-word",label:"Spoken word"},{value:"storytelling",label:"Storytelling"},{value:"young-adult-fiction",label:"Young adult fiction"}],np=[{value:"animation",label:"Animation"},{value:"audio-art",label:"Audio art"},{value:"documentary",label:"Documentary"},{value:"electronic",label:"Electronic"},{value:"experimental",label:"Experimental"},{value:"installation",label:"Installation"},{value:"narrative",label:"Narrative"},{value:"video-art",label:"Video art"},{value:"virtual-reality",label:"Virtual reality"}],ip=[{value:"brass",label:"Brass"},{value:"choral",label:"Choral"},{value:"classical",label:"Classical"},{value:"contemporary",label:"Contemporary"},{value:"contemporary-folk",label:"Contemporary folk"},{value:"country",label:"Country"},{value:"electro-acoustic",label:"Electro-acoustic"},{value:"ethno-cultural-folk",label:"Ethno-cultural folk music"},{value:"guitar",label:"Guitar"},{value:"hip-hop",label:"Hip hop (incl. DJ, rap)"},{value:"instrumental",label:"Instrumental"},{value:"jazz",label:"Jazz"},{value:"kids-concerts",label:"Kids concerts"},{value:"new-music",label:"New music"},{value:"opera",label:"Opera"},{value:"percussion",label:"Percussion"},{value:"piano",label:"Piano"},{value:"strings",label:"Strings (incl. fiddle)"},{value:"vocal",label:"Vocal"},{value:"woodwind",label:"Woodwind"},{value:"world-music",label:"World music"}],ap=[{value:"circus-arts",label:"Circus arts"},{value:"classical-repertoire",label:"Classical repertoire"},{value:"clown",label:"Clown"},{value:"comedy",label:"Comedy"},{value:"devised-theatre",label:"Devised theatre"},{value:"drama",label:"Drama"},{value:"improvisation",label:"Improvisation"},{value:"musical-theatre",label:"Musical theatre"},{value:"object-puppet-theatre",label:"Object puppet theatre"},{value:"physical-theatre",label:"Physical theatre"},{value:"promenade-theatre",label:"Promenade theatre"},{value:"puppetry",label:"Puppetry"},{value:"site-specific-theatre",label:"Site-specific Theatre"},{value:"theatre-for-young-audiences",label:"Theatre for young audiences"},{value:"playwriting",label:"Playwriting"}],sp=[{value:"drawing",label:"Drawing"},{value:"installation",label:"Installation"},{value:"mixed-media",label:"Mixed media"},{value:"painting",label:"Painting"},{value:"performance-art",label:"Performance art"},{value:"photography",label:"Photography"},{value:"printmaking",label:"Printmaking"},{value:"sculpture",label:"Sculpture"}],C2=[{value:"Select",label:"Select"},{value:"public-presentation",label:"Public presentation"},{value:"publication",label:"Publication"}],_2=[{value:"Pending",label:"Pending"},{value:"Active",label:"Active"},{value:"On Hold",label:"On Hold"},{value:"Completed",label:"Completed"},{value:"Terminated",label:"Terminated"}],lw=[{value:"all",label:"All Time"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"}],uw=[{value:"Pending",label:"Pending"},{value:"Approved",label:"Approved"},{value:"Denied",label:"Denied"}],Zd=[{key:"projectTitle",label:"Project Title"},{key:"artisticDisciplinesAndGenres",label:"Artistic Disciplines & Genres"},{key:"background",label:"Background"},{key:"projectDescription",label:"Project Description"},{key:"audience",label:"Audience & Participants"},{key:"paymentAndConditions",label:"Payment & Working Conditions"},{key:"schedule",label:"Schedule"},{key:"culturalIntegrity",label:"Cultural Integrity"},{key:"additionalInfo",label:"Additional Information"}],cw=({status:t})=>{const{state:e}=cn(),n={Active:"bg-green-100 text-green-800","On Hold":"bg-yellow-100 text-yellow-800",Completed:"bg-blue-100 text-blue-800",Pending:"bg-slate-100 text-slate-800",Terminated:"bg-rose-100 text-rose-800"},i=e.settings.projects.statuses.find(o=>o.label===t);let s="bg-gray-100 text-gray-800";return i?s=i.color:t in n&&(s=n[t]),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${s}`,children:t})},dw=({project:t,onUpdate:e})=>{const[n,i]=ve.useState(!1),s=ve.useRef(null),{state:o}=cn(),u=ve.useMemo(()=>o.settings.projects.statuses&&o.settings.projects.statuses.length>0?o.settings.projects.statuses.map(h=>({value:h.label,label:h.label})):_2,[o.settings.projects.statuses]);ve.useEffect(()=>{const h=m=>{s.current&&!s.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=h=>{e(t.id,h),i(!1)};return c.jsxs("div",{className:"relative",ref:s,children:[c.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-md text-slate-500 hover:bg-slate-200 hover:text-slate-700","aria-label":"Change project status",children:c.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),n&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",children:c.jsx("div",{className:"py-1",children:u.map(h=>c.jsx("button",{onClick:()=>d(h.value),disabled:t.status===h.value,className:"block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:h.label},h.value))})})]})},fw=({projects:t,onAddProject:e,onEditProject:n,onDeleteProject:i,onViewProject:s,onUpdateProjectStatus:o})=>{const u=t.filter(m=>["Pending","Active","On Hold"].includes(m.status)),d=t.filter(m=>["Completed","Terminated"].includes(m.status)),h=m=>c.jsxs("li",{className:`py-4 px-2 flex flex-col sm:flex-row items-start sm:items-center justify-between hover:bg-slate-50 rounded-md -mx-2 transition-all duration-200 ${m.status==="On Hold"?"opacity-70":""}`,children:[c.jsxs("div",{className:"mb-3 sm:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("p",{className:"text-lg font-semibold text-teal-700 hover:underline cursor-pointer",onClick:()=>s(m.id),children:m.projectTitle||"Untitled Project"}),c.jsx(cw,{status:m.status||"Active"})]}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[m.projectStartDate?new Date(m.projectStartDate).toLocaleDateString():"No start date"," - ",m.projectEndDate?new Date(m.projectEndDate).toLocaleDateString():"No end date"]})]}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-3 flex-shrink-0",children:[c.jsxs("button",{onClick:()=>s(m.id),className:"px-3 py-1.5 text-sm text-slate-700 bg-white hover:bg-slate-100 rounded-md border border-slate-300 shadow-sm transition-colors","aria-label":`View ${m.projectTitle}`,children:[c.jsx("i",{className:"fa fa-eye mr-2 text-slate-500"}),"View"]}),c.jsxs("button",{onClick:()=>n(m.id),className:"px-3 py-1.5 text-sm text-slate-700 bg-white hover:bg-slate-100 rounded-md border border-slate-300 shadow-sm transition-colors","aria-label":`Edit ${m.projectTitle}`,children:[c.jsx("i",{className:"fa fa-pencil mr-2 text-slate-500"}),"Edit"]}),c.jsxs("button",{onClick:()=>i(m.id),className:"px-3 py-1.5 text-sm text-red-700 bg-red-50 hover:bg-red-100 rounded-md border border-red-200 shadow-sm transition-colors","aria-label":`Delete ${m.projectTitle}`,children:[c.jsx("i",{className:"fa fa-trash-alt mr-2"}),"Delete"]}),c.jsx(dw,{project:m,onUpdate:o})]})]},m.id);return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b border-slate-200 pb-4 gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Your Projects"}),c.jsxs("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors",children:[c.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Project"]})]}),t.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-folder-open text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"You haven't created any projects yet."}),c.jsx("p",{className:"text-slate-500 mt-2 text-base",children:'Click the "Add New Project" button above to get started!'})]}):c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Active & On Hold"}),u.length>0?c.jsx("ul",{className:"divide-y divide-slate-200",children:u.map(h)}):c.jsx("p",{className:"text-slate-500 italic py-4",children:"No active projects."}),d.length>0&&c.jsxs("details",{className:"mt-8",children:[c.jsxs("summary",{className:"text-xl font-bold text-slate-700 cursor-pointer list-none flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-chevron-right transition-transform duration-200"}),"Finished Projects (",d.length,")"]}),c.jsx("div",{className:"mt-2 border-t pt-2",children:c.jsx("ul",{className:"divide-y divide-slate-200",children:d.map(h)})})]})]})]})},ot=({label:t,htmlFor:e,required:n,instructions:i,children:s,className:o="mb-6"})=>c.jsxs("div",{className:o,children:[c.jsxs("label",{htmlFor:e,className:"block text-sm font-semibold text-slate-800",children:[n&&c.jsx("span",{className:"text-red-500 font-bold",children:"* "}),t]}),i&&c.jsx("div",{className:"mt-1 text-xs text-slate-500 prose-sm max-w-none",children:i}),c.jsx("div",{className:"mt-2",children:s})]}),kt=kg.forwardRef((t,e)=>c.jsx("input",{...t,ref:e,className:`block w-full px-3 py-2 bg-white border border-slate-400 rounded-md shadow-sm placeholder-slate-400 
                 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent 
                 sm:text-sm transition-shadow duration-150
                 disabled:bg-slate-100 disabled:text-slate-500 disabled:border-slate-300 ${t.className||""}`}));kt.displayName="Input";const oi=({wordLimit:t,onChange:e,value:n,...i})=>{const s=h=>h?h.trim().split(/\s+/).filter(m=>m.length>0).length:0,[o,u]=ve.useState(s(n||"")),d=ve.useCallback(h=>{u(s(h.target.value)),e&&e(h)},[e]);return c.jsxs("div",{children:[c.jsx("textarea",{...i,value:n,onChange:d,className:`block w-full px-3 py-2 bg-white border border-slate-400 rounded-md shadow-sm placeholder-slate-400 
                   focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent 
                   sm:text-sm transition-shadow duration-150 ${i.className}`}),c.jsxs("div",{className:"text-right text-xs text-slate-500 mt-1","aria-live":"polite",children:[t-o," words left"]})]})},Jt=({options:t,...e})=>c.jsx("select",{...e,className:`block w-full pl-3 pr-10 py-2 text-base border-slate-400 rounded-md shadow-sm 
                 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent
                 sm:text-sm transition-shadow duration-150 ${e.className}`,children:t.map(n=>c.jsx("option",{value:n.value,children:n.label},n.value))}),Du=({options:t,selectedValues:e,onChange:n,name:i,columns:s=3})=>{const o=u=>{const d=e.includes(u)?e.filter(h=>h!==u):[...e,u];n(d)};return c.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-${s} gap-2`,children:t.map(u=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:`${i}-${u.value}`,name:i,type:"checkbox",value:u.value,checked:e.includes(u.value),onChange:()=>o(u.value),className:"h-4 w-4 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),c.jsx("label",{htmlFor:`${i}-${u.value}`,className:"ml-2 block text-sm text-slate-900",children:u.label})]},u.value))})},hw=({id:t,files:e,onFileChange:n,multiple:i=!0,accept:s})=>{const o=ve.useRef(null),u=h=>{if(h.target.files){const m=Array.from(h.target.files);n(i?[...e,...m]:m)}},d=h=>{n(e.filter(m=>m.name!==h))};return c.jsxs("div",{children:[c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md cursor-pointer hover:border-teal-400",onClick:()=>{var h;return(h=o.current)==null?void 0:h.click()},children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("i",{className:"fa fa-upload mx-auto h-12 w-12 text-slate-400"}),c.jsxs("div",{className:"flex text-sm text-slate-600",children:[c.jsx("span",{className:"relative rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-teal-500",children:"Upload files"}),c.jsx("input",{ref:o,id:t,name:t,type:"file",className:"sr-only",multiple:i,accept:s,onChange:u}),c.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:s?s.replace(/,/g,", "):"Any file type"})]})}),e.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Selected files:"}),c.jsx("ul",{className:"mt-2 border border-slate-200 rounded-md divide-y divide-slate-200",children:e.map(h=>c.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[c.jsx("i",{className:"fa fa-paperclip h-5 w-5 text-slate-400","aria-hidden":"true"}),c.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:h.name})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("button",{onClick:()=>d(h.name),className:"font-medium text-red-600 hover:text-red-500",children:"Remove"})})]},h.name))})]})]})},ny=({formData:t,onChange:e})=>{const{state:{settings:n}}=cn(),i=ve.useMemo(()=>n.projects.statuses&&n.projects.statuses.length>0?n.projects.statuses.map(o=>({value:o.label,label:o.label})):_2,[n.projects.statuses]),s=(o,u,d,h)=>t.artisticDisciplines.includes(o)?c.jsx(ot,{label:h,htmlFor:d,required:!1,children:c.jsx(Du,{name:d,options:u,selectedValues:t[d],onChange:m=>e(d,m),columns:4})}):null;return c.jsxs("div",{className:"space-y-8",children:[c.jsx(ot,{label:"Project title",htmlFor:"projectTitle",required:!0,instructions:"This should be a brief description of your project and proposed activity. MAC staff and assessors can use this field to identify your application.",children:c.jsx(oi,{id:"projectTitle",rows:1,value:t.projectTitle,onChange:o=>e("projectTitle",o.target.value),wordLimit:15})}),c.jsx(ot,{label:"Project Status",htmlFor:"status",required:!0,children:c.jsx(Jt,{id:"status",options:i,value:t.status,onChange:o=>e("status",o.target.value)})}),c.jsx(ot,{label:"Artistic discipline(s) most relevant to this application",htmlFor:"artisticDisciplines",required:!0,instructions:c.jsxs("span",{children:["See glossary for ",c.jsx("a",{href:"#",className:"text-teal-600 hover:underline",children:"the definition of inter-arts (interdisciplinary arts)"}),"."]}),children:c.jsx(Du,{name:"artisticDisciplines",options:mf,selectedValues:t.artisticDisciplines,onChange:o=>e("artisticDisciplines",o),columns:3})}),s("craft",Qh,"craftGenres","Craft genres"),s("dance",ep,"danceGenres","Dance genres"),s("literary",tp,"literaryGenres","Literary arts genres"),s("media",np,"mediaGenres","Media genres"),s("music",ip,"musicGenres","Music genres"),s("theatre",ap,"theatreGenres","Theatre genres"),s("visual",sp,"visualArtsGenres","Visual arts genres"),t.artisticDisciplines.includes("other")&&c.jsx(ot,{label:"Specify",htmlFor:"otherArtisticDisciplineSpecify",required:!0,children:c.jsx(kt,{id:"otherArtisticDisciplineSpecify",value:t.otherArtisticDisciplineSpecify,onChange:o=>e("otherArtisticDisciplineSpecify",o.target.value)})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx(ot,{label:"Project start date",htmlFor:"projectStartDate",required:!0,instructions:c.jsxs("span",{children:[c.jsx("strong",{children:"Note:"})," Payments on awarded grants will be released one month before this date at the earliest.",c.jsx("br",{}),"The activity for which you are applying for funding should not start before the deadline, September 10, 2025."]}),children:c.jsx(kt,{type:"date",id:"projectStartDate",value:t.projectStartDate,onChange:o=>e("projectStartDate",o.target.value)})}),c.jsx(ot,{label:"Project end date",htmlFor:"projectEndDate",required:!0,children:c.jsx(kt,{type:"date",id:"projectEndDate",value:t.projectEndDate,onChange:o=>e("projectEndDate",o.target.value)})})]}),c.jsx(ot,{label:"Type of activity within your project",htmlFor:"activityType",required:!0,children:c.jsx(Jt,{id:"activityType",options:C2,value:t.activityType,onChange:o=>e("activityType",o.target.value)})}),c.jsx(ot,{label:"Background",htmlFor:"background",required:!0,instructions:"Provide an overview of your history and experience in your field of practice. Assessors may not be familiar with your work, specific practice(s), community(ies), or culture(s). Provide the information they need to understand who you are and your work. Include your recent activity. Note: The CV/resume that you uploaded to your profile is shared with the assessors automatically. Make sure this document is up-to-date, as it will be used in the assessment of your application.",children:c.jsx(oi,{id:"background",rows:5,value:t.background,onChange:o=>e("background",o.target.value),wordLimit:350})}),c.jsx(ot,{label:"Project description",htmlFor:"projectDescription",required:!0,instructions:c.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[c.jsx("li",{children:"What are you planning to do?"}),c.jsx("li",{children:"What do you hope to achieve?"}),c.jsx("li",{children:"Why is this project important?"}),c.jsx("li",{children:"What is the rationale behind your artistic choices?"}),c.jsx("li",{children:"How is this relevant to your goals?"}),c.jsx("li",{children:"How are you exploring a traditional and/or contemporary artistic practice?"})]}),children:c.jsx(oi,{id:"projectDescription",rows:8,value:t.projectDescription,onChange:o=>e("projectDescription",o.target.value),wordLimit:500})}),c.jsx(ot,{label:"Who is your audience and/or participants, and how will you reach them?",htmlFor:"audience",required:!0,children:c.jsx(oi,{id:"audience",rows:3,value:t.audience,onChange:o=>e("audience",o.target.value),wordLimit:100})}),c.jsx(ot,{label:"Payment and working conditions",htmlFor:"paymentAndConditions",required:!0,instructions:c.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[c.jsx("li",{children:"Paying professional fees and/or honorariums is required and should be reflected in your budget. Explain how fees are being determined."}),c.jsx("li",{children:"If there are participants involved in this project, how will you ensure safe working conditions?"})]}),children:c.jsx(oi,{id:"paymentAndConditions",rows:5,value:t.paymentAndConditions,onChange:o=>e("paymentAndConditions",o.target.value),wordLimit:250})}),c.jsx(ot,{label:"Permission and confirmation",htmlFor:"permissionConfirmationFiles",instructions:c.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[c.jsx("li",{children:"confirmation letters from any collaborators or mentors working with you on the project."}),c.jsx("li",{children:"an agreement or a copy of a letter/email that indicates what the partner is providing to support your project."}),c.jsx("li",{children:"letters of permission to adapt or use copyrighted material."})]}),children:c.jsx(hw,{id:"permissionConfirmationFiles",files:t.permissionConfirmationFiles,onFileChange:o=>e("permissionConfirmationFiles",o)})}),c.jsx(ot,{label:"Provide a schedule of presentations, publications, and/or events.",htmlFor:"schedule",required:!0,instructions:c.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[c.jsx("li",{children:"key steps"}),c.jsx("li",{children:"dates"}),c.jsx("li",{children:"venues (if applicable)"}),c.jsx("li",{children:"marketing and outreach plans"})]}),children:c.jsx(oi,{id:"schedule",rows:8,value:t.schedule,onChange:o=>e("schedule",o.target.value),wordLimit:750})}),c.jsx(ot,{label:"Cultural Integrity",htmlFor:"culturalIntegrity",required:!0,instructions:"Cultural integrity is the practice of respecting and honouring the ownership of materials, traditions, and knowledges that originate from a particular culture or community. Describe your relationship to the cultures or communities represented in your project and how you are approaching your work with cultural integrity.",children:c.jsx(oi,{id:"culturalIntegrity",rows:5,value:t.culturalIntegrity,onChange:o=>e("culturalIntegrity",o.target.value),wordLimit:300})}),c.jsx(ot,{label:"Additional information",htmlFor:"additionalInfo",instructions:"If there is anything that has not been asked that is essential to understanding your application, provide it here.",children:c.jsx(oi,{id:"additionalInfo",rows:5,value:t.additionalInfo,onChange:o=>e("additionalInfo",o.target.value),wordLimit:250})})]})},pw=({formData:t,onChange:e})=>{const{state:{members:n}}=cn(),[i,s]=ve.useState(!1),[o,u]=ve.useState(""),[d,h]=ve.useState(""),m=new Set(t.collaboratorDetails.map(C=>C.memberId)),y=n.filter(C=>!m.has(C.id)),x=()=>{if(o&&d){const C={memberId:o,role:d};e("collaboratorDetails",[...t.collaboratorDetails,C]),u(""),h(""),s(!1)}},T=C=>{e("collaboratorDetails",t.collaboratorDetails.filter(M=>M.memberId!==C))},w=C=>n.find(M=>M.id===C);return c.jsxs("div",{className:"space-y-8",children:[c.jsx(ot,{label:"Who will be working with you on the project? Explain why you chose to work with them and what they bring to the project",htmlFor:"whoWillWork",children:c.jsx(oi,{id:"whoWillWork",rows:8,value:t.whoWillWork,onChange:C=>e("whoWillWork",C.target.value),wordLimit:750})}),c.jsx(ot,{label:"If the artists/participants are still to be confirmed, explain how selection will be determined.",htmlFor:"howSelectionDetermined",children:c.jsx(oi,{id:"howSelectionDetermined",rows:3,value:t.howSelectionDetermined,onChange:C=>e("howSelectionDetermined",C.target.value),wordLimit:100})}),c.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg border border-slate-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Assign Collaborators"}),c.jsx(ot,{label:"Click the button below to assign a member from your collective to this project.",htmlFor:"assignMemberBtn",children:c.jsxs("button",{type:"button",onClick:()=>s(!0),className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-user-plus mr-2"}),"Assign Member"]})}),t.collaboratorDetails.length>0&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Assigned Collaborators:"}),c.jsx("ul",{className:"bg-white border border-slate-200 rounded-md divide-y divide-slate-200",children:t.collaboratorDetails.map(C=>{const M=w(C.memberId);return c.jsxs("li",{className:"p-4 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold text-slate-800",children:M?`${M.firstName} ${M.lastName}`:"Unknown Member"}),c.jsxs("span",{className:"text-slate-600 text-sm ml-2",children:["- ",C.role]})]}),c.jsx("button",{onClick:()=>T(C.memberId),className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Remove"})]}),M&&M.shortBio&&c.jsx("p",{className:"text-sm text-slate-600 mt-2 pl-3 border-l-2 border-slate-300 whitespace-pre-wrap",children:M.shortBio})]},C.memberId)})})]})]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Assign Member to Project"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Jt,{value:o,onChange:C=>u(C.target.value),options:[{value:"",label:"Select a member..."},...y.map(C=>({value:C.id,label:`${C.firstName} ${C.lastName}`}))]}),c.jsx(kt,{placeholder:"Role in this Project",value:d,onChange:C=>h(C.target.value)})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),c.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Assign to Project"})]})]})})]})},Pg=t=>{const e=(ee=[])=>ee.reduce((V,U)=>V+(U.amount||0),0),n=(ee=[],V)=>ee.filter(U=>U.status===V).reduce((U,O)=>U+(O.amount||0),0),i=(ee=[])=>ee.filter(V=>V.status!=="Denied").reduce((V,U)=>V+(U.amount||0),0),s=ve.useMemo(()=>i(t.revenues.grants),[t.revenues.grants]),o=ve.useMemo(()=>{const{numVenues:ee,percentCapacity:V,venueCapacity:U}=t.revenues.tickets;return ee*(V/100)*U},[t.revenues.tickets]),u=ve.useMemo(()=>o*t.revenues.tickets.avgTicketPrice,[o,t.revenues.tickets.avgTicketPrice]),d=ve.useMemo(()=>i(t.revenues.sales),[t.revenues.sales]),h=ve.useMemo(()=>i(t.revenues.fundraising),[t.revenues.fundraising]),m=ve.useMemo(()=>i(t.revenues.contributions),[t.revenues.contributions]),y=ve.useMemo(()=>s+u+d+h+m,[s,u,d,h,m]),x=ve.useMemo(()=>{const ee=t.revenues.grants.reduce((I,k)=>I+(k.actualAmount||0),0),V=t.revenues.tickets.actualTotalTickets||0,U=t.revenues.sales.reduce((I,k)=>I+(k.actualAmount||0),0),O=t.revenues.fundraising.reduce((I,k)=>I+(k.actualAmount||0),0),ue=t.revenues.contributions.reduce((I,k)=>I+(k.actualAmount||0),0);return ee+V+U+O+ue},[t.revenues]),T=ve.useMemo(()=>["grants","sales","fundraising","contributions"].reduce((ee,V)=>ee+n(t.revenues[V],"Approved"),0),[t.revenues]),w=ve.useMemo(()=>["grants","sales","fundraising","contributions"].reduce((ee,V)=>ee+n(t.revenues[V],"Pending"),0),[t.revenues]),C=ve.useMemo(()=>e(t.expenses.professionalFees),[t.expenses.professionalFees]),M=ve.useMemo(()=>e(t.expenses.travel),[t.expenses.travel]),D=ve.useMemo(()=>e(t.expenses.production),[t.expenses.production]),E=ve.useMemo(()=>e(t.expenses.administration),[t.expenses.administration]),j=ve.useMemo(()=>e(t.expenses.research),[t.expenses.research]),F=ve.useMemo(()=>e(t.expenses.professionalDevelopment),[t.expenses.professionalDevelopment]),B=ve.useMemo(()=>C+M+D+E+j+F,[C,M,D,E,j,F]),H=ve.useMemo(()=>y-B,[y,B]);return{totalGrants:s,projectedAudience:o,totalTickets:u,totalSales:d,totalFundraising:h,totalContributions:m,totalRevenue:y,totalActualRevenue:x,totalSecuredRevenue:T,totalPendingRevenue:w,totalProfessionalFees:C,totalTravel:M,totalProduction:D,totalAdministration:E,totalResearch:j,totalProfessionalDevelopment:F,totalExpenses:B,balance:H}},_h=t=>(t||0).toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Lr=({items:t,options:e,onChange:n,isRevenue:i=!1})=>{const[s,o]=ve.useState(""),u=()=>{if(!s)return;const T=e.find(C=>C.value===s);if(!T)return;const w={id:`item_${Date.now()}_${Math.random()}`,source:T.value,description:"",amount:0,...i&&{status:"Pending"}};n([...t,w]),o("")},d=(T,w,C)=>{const M=t.map(D=>D.id===T?{...D,[w]:C}:D);n(M)},h=T=>{n(t.filter(w=>w.id!==T))},m=T=>{var w;return((w=e.find(C=>C.value===T))==null?void 0:w.label)||T},y=e,x="grid-cols-12";return c.jsxs("div",{className:"space-y-3",children:[t.length>0&&c.jsxs("div",{className:"space-y-2 border-b border-slate-200 pb-3 mb-3",children:[c.jsxs("div",{className:`hidden md:grid ${x} gap-2 text-xs font-semibold text-slate-500 uppercase tracking-wider`,children:[c.jsx("div",{className:"md:col-span-4",children:"Item"}),i&&c.jsx("div",{className:"md:col-span-2",children:"Status"}),c.jsx("div",{className:"md:col-span-4",children:"Description"}),c.jsx("div",{className:"md:col-span-2 text-right",children:"Amount"}),c.jsx("div",{className:"md:col-span-1"})]}),t.map(T=>c.jsxs("div",{className:`grid grid-cols-1 md:${x} gap-2 items-center`,children:[c.jsx("div",{className:"md:col-span-4 text-sm text-slate-800 font-medium",children:m(T.source)}),i&&c.jsx("div",{className:"md:col-span-2",children:c.jsx(Jt,{"aria-label":`Status for ${m(T.source)}`,value:T.status||"Pending",onChange:w=>d(T.id,"status",w.target.value),options:uw,className:"text-xs py-1"})}),c.jsx("div",{className:"md:col-span-4",children:c.jsx(kt,{"aria-label":`Description for ${m(T.source)}`,type:"text",placeholder:"Description (e.g., 'Per diem for Elder 1')",value:T.description,onChange:w=>d(T.id,"description",w.target.value)})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(kt,{"aria-label":`Amount for ${m(T.source)}`,type:"number",placeholder:"0.00",className:"text-right",value:T.amount===0?"":T.amount,onChange:w=>d(T.id,"amount",parseFloat(w.target.value)||0),step:"0.01"})}),c.jsx("div",{className:"md:col-span-1 text-right",children:c.jsx("button",{type:"button",onClick:()=>h(T.id),className:"text-slate-400 hover:text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors","aria-label":`Remove ${m(T.source)}`,children:c.jsx("i",{className:"fa-solid fa-trash-alt fa-fw"})})})]},T.id))]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center pt-2",children:[c.jsx(Jt,{value:s,onChange:T=>o(T.target.value),options:[{value:"",label:"Select an item to add..."},...y]}),c.jsxs("button",{type:"button",onClick:u,disabled:!s,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add to Budget"]})]})]})},er=({title:t,children:e,instructions:n,total:i})=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-3 mb-4",children:t}),n&&c.jsx("div",{className:"text-sm text-slate-600 mb-4 prose max-w-none prose-ul:list-disc prose-ul:list-inside prose-li:mb-1",children:n}),c.jsx("div",{className:"space-y-2",children:e}),i!==void 0&&c.jsxs("div",{className:"text-right font-bold mt-4 pt-4 border-t-2 border-slate-200 text-slate-800 text-lg",children:["Total: ",_h(i)]})]}),mw=({formData:t,onChange:e})=>{const{state:{settings:n}}=cn(),{revenueLabels:i,expenseLabels:s}=n.budget;ve.useMemo(()=>Object.values(_l).flat(),[]),ve.useMemo(()=>Object.values(Fa).flat(),[]);const o=ve.useCallback((O,ue)=>{const I=i[O];return I!==void 0&&I!==""?I:ue},[i]),u=ve.useCallback((O,ue)=>{const I=s[O];return I!==void 0&&I!==""?I:ue},[s]),d=(O,ue)=>{const I=St(t,k=>{let $=k;for(let K=0;K<O.length-1;K++)$=$[O[K]];$[O[O.length-1]]=ue});e("budget",I.budget)},h=(O,ue)=>{const I=St(t,k=>{let $=k.budget;for(let K=0;K<O.length-1;K++)$=$[O[K]];$[O[O.length-1]]=ue});e("budget",I.budget)},m=t.budget,{totalGrants:y,projectedAudience:x,totalTickets:T,totalSales:w,totalFundraising:C,totalContributions:M,totalRevenue:D,totalProfessionalFees:E,totalTravel:j,totalProduction:F,totalAdministration:B,totalResearch:H,totalProfessionalDevelopment:ee,totalExpenses:V,balance:U}=Pg(m);return c.jsxs("div",{className:"space-y-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Project Budget"}),c.jsx("p",{className:"text-base text-slate-600",children:"Enter your project budget below. Add revenue and expense items to each category. The form will automatically calculate totals for you."}),c.jsx(er,{title:"Revenue: Grants",total:y,children:c.jsx(Lr,{items:m.revenues.grants,options:_l.grants.map(O=>({value:O.key,label:o(O.key,O.label)})),onChange:O=>h(["revenues","grants"],O),isRevenue:!0})}),c.jsxs(er,{title:"Revenue: Tickets and box office",total:T,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Venue Information"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx(kt,{type:"number",value:m.revenues.tickets.numVenues||"",onChange:O=>d(["budget","revenues","tickets","numVenues"],parseInt(O.target.value)||0),placeholder:"# Venues"}),c.jsx(kt,{type:"number",value:m.revenues.tickets.percentCapacity||"",onChange:O=>d(["budget","revenues","tickets","percentCapacity"],parseInt(O.target.value)||0),placeholder:"% Capacity"}),c.jsx(kt,{type:"number",value:m.revenues.tickets.venueCapacity||"",onChange:O=>d(["budget","revenues","tickets","venueCapacity"],parseInt(O.target.value)||0),placeholder:"Venue Capacity"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Projected Total Audience"}),c.jsx(kt,{type:"number",value:x,readOnly:!0,disabled:!0,className:"bg-slate-200 font-semibold"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ticket Prices"}),c.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[c.jsx(kt,{type:"text",value:m.revenues.tickets.description,onChange:O=>d(["budget","revenues","tickets","description"],O.target.value),placeholder:"Description",className:"col-span-3"}),c.jsx(kt,{type:"number",value:m.revenues.tickets.avgTicketPrice===0?"":m.revenues.tickets.avgTicketPrice,onChange:O=>d(["budget","revenues","tickets","avgTicketPrice"],parseFloat(O.target.value)||0),placeholder:"0.00",className:"text-right col-span-2",step:"0.01"})]})]})]}),c.jsx(er,{title:"Revenue: Sales",total:w,children:c.jsx(Lr,{items:m.revenues.sales,options:_l.sales.map(O=>({value:O.key,label:o(O.key,O.label)})),onChange:O=>h(["revenues","sales"],O),isRevenue:!0})}),c.jsx(er,{title:"Revenue: Fundraising",total:C,children:c.jsx(Lr,{items:m.revenues.fundraising,options:_l.fundraising.map(O=>({value:O.key,label:o(O.key,O.label)})),onChange:O=>h(["revenues","fundraising"],O),isRevenue:!0})}),c.jsx(er,{title:"Revenue: Contributions",total:M,children:c.jsx(Lr,{items:m.revenues.contributions,options:_l.contributions.map(O=>({value:O.key,label:o(O.key,O.label)})),onChange:O=>h(["revenues","contributions"],O),isRevenue:!0})}),c.jsxs("div",{className:"bg-teal-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-xl shadow-md",children:[c.jsx("span",{children:"Total Revenue"}),c.jsx("span",{children:_h(D)})]}),c.jsx(er,{title:"Expenses: Professional fees/honorariums",total:E,children:c.jsx(Lr,{items:m.expenses.professionalFees,options:Fa.professionalFees.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","professionalFees"],O)})}),c.jsx(er,{title:"Expenses: Travel",total:j,instructions:c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"If traveling more than 20 kms to another community, applicants are eligible to include travel costs in their budget. This includes:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Roundtrip airfare (economy class), baggage and taxi to airport"}),c.jsx("li",{children:"Mileage for ground travel at a rate of 0.45 CAD per km"}),c.jsx("li",{children:"Accommodations, if traveling more than 100 kms to another community"}),c.jsx("li",{children:"Meal per diem (South of 53rd parallel or in Canada: 75.00 CAD per day, North of 53rd parallel or outside Canada: 90.00 CAD per day), if traveling more than 100 kms to another community"})]})]}),children:c.jsx(Lr,{items:m.expenses.travel,options:Fa.travel.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","travel"],O)})}),c.jsx(er,{title:"Expenses: Production and publication costs",total:F,children:c.jsx(Lr,{items:m.expenses.production,options:Fa.production.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","production"],O)})}),c.jsx(er,{title:"Expenses: Administration",total:B,children:c.jsx(Lr,{items:m.expenses.administration,options:Fa.administration.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","administration"],O)})}),c.jsx(er,{title:"Expenses: Research",total:H,children:c.jsx(Lr,{items:m.expenses.research,options:Fa.research.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","research"],O)})}),c.jsx(er,{title:"Expenses: Professional development",total:ee,children:c.jsx(Lr,{items:m.expenses.professionalDevelopment,options:Fa.professionalDevelopment.map(O=>({value:O.key,label:u(O.key,O.label)})),onChange:O=>h(["expenses","professionalDevelopment"],O)})}),c.jsxs("div",{className:"bg-rose-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-xl shadow-md",children:[c.jsx("span",{children:"Total Expenses"}),c.jsx("span",{children:_h(V)})]}),c.jsxs("div",{className:`p-5 rounded-lg flex justify-between items-center font-bold text-2xl text-white shadow-lg ${U>=0?"bg-green-600":"bg-orange-500"}`,children:[c.jsx("span",{children:"Balance (Revenue - Expenses)"}),c.jsx("span",{children:_h(U)})]})]})},gw=({project:t,onSave:e,onCancel:n})=>{const{state:{members:i}}=cn(),[s,o]=ve.useState(bs[0].id),[u,d]=ve.useState(t),h=ve.useCallback((x,T)=>{d(w=>({...w,[x]:T}))},[]),m=x=>{x.preventDefault(),e(u)},y=()=>{switch(s){case"projectInfo":return c.jsx(ny,{formData:u,onChange:h});case"collaborators":return c.jsx(pw,{formData:u,onChange:h});case"budget":return c.jsx(mw,{formData:u,onChange:h});default:return c.jsx(ny,{formData:u,onChange:h})}};return c.jsx("form",{onSubmit:m,children:c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsx("div",{className:"flex justify-between items-start mb-6",children:c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:u.projectTitle||"Edit Project"})}),c.jsx("div",{className:"border-b border-slate-200",children:c.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:bs.map(x=>c.jsx("button",{type:"button",onClick:()=>o(x.id),className:`whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md ${s===x.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:x.label},x.id))})}),c.jsx("div",{className:"py-8 bg-slate-50/50 -mx-6 sm:-mx-8 px-6 sm:px-8",children:y()}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-slate-200 mt-8",children:[c.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s!==bs[0].id&&o(bs[bs.findIndex(x=>x.id===s)-1].id),disabled:s===bs[0].id,children:" Back"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Project"})]}),c.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>s!==bs[bs.length-1].id&&o(bs[bs.findIndex(x=>x.id===s)+1].id),disabled:s===bs[bs.length-1].id,children:"Next "})]})]})})},ws=({label:t,value:e,children:n})=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:t}),e&&c.jsx("div",{className:"mt-1 text-slate-900",children:e}),n&&c.jsx("div",{className:"mt-1 text-slate-900",children:n})]}),iy=({project:t,hideTitle:e=!1})=>{var o;const n={craft:{data:t.craftGenres,definitions:Qh},dance:{data:t.danceGenres,definitions:ep},literary:{data:t.literaryGenres,definitions:tp},media:{data:t.mediaGenres,definitions:np},music:{data:t.musicGenres,definitions:ip},theatre:{data:t.theatreGenres,definitions:ap},visual:{data:t.visualArtsGenres,definitions:sp}},i=()=>!t.artisticDisciplines||t.artisticDisciplines.length===0?"N/A":t.artisticDisciplines.map(d=>{var y;const h=((y=mf.find(x=>x.value===d))==null?void 0:y.label)||d,m=n[d];if(m&&m.data&&m.data.length>0){const x=m.data.map(T=>{var w;return((w=m.definitions.find(C=>C.value===T))==null?void 0:w.label)||T}).join(", ");return`${h} (${x})`}return h}).join("; "),s=((o=C2.find(u=>u.value===t.activityType))==null?void 0:o.label)||t.activityType;return c.jsxs("section",{children:[!e&&c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Project Information"}),c.jsx(ws,{label:"Artistic Disciplines & Genres",value:i()}),c.jsx(ws,{label:"Type of Activity",value:s}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8",children:[c.jsx(ws,{label:"Project Start Date",value:t.projectStartDate?new Date(t.projectStartDate).toLocaleDateString():"N/A"}),c.jsx(ws,{label:"Project End Date",value:t.projectEndDate?new Date(t.projectEndDate).toLocaleDateString():"N/A"})]}),c.jsx(ws,{label:"Background",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.background||"N/A"})}),c.jsx(ws,{label:"Project Description",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.projectDescription||"N/A"})}),c.jsx(ws,{label:"Audience/Participants",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.audience||"N/A"})}),c.jsx(ws,{label:"Schedule",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.schedule||"N/A"})}),c.jsx(ws,{label:"Payment & Conditions",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.paymentAndConditions||"N/A"})}),c.jsx(ws,{label:"Cultural Integrity",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.culturalIntegrity||"N/A"})}),t.additionalInfo&&c.jsx(ws,{label:"Additional Information",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.additionalInfo})}),t.permissionConfirmationFiles.length>0&&c.jsx(ws,{label:"Permission/Confirmation Files",children:c.jsx("ul",{className:"list-disc list-inside",children:t.permissionConfirmationFiles.map(u=>c.jsx("li",{children:u.name},u.name))})})]})},Cm=({label:t,value:e,children:n})=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:t}),e&&c.jsx("div",{className:"mt-1 text-slate-900",children:e}),n&&c.jsx("div",{className:"mt-1 text-slate-900",children:n})]}),vw=({project:t})=>{const{state:{members:e}}=cn();return c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Collaborators"}),c.jsx(Cm,{label:"Project Team Description",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.whoWillWork||"N/A"})}),c.jsx(Cm,{label:"Selection Process",children:c.jsx("p",{className:"whitespace-pre-wrap",children:t.howSelectionDetermined||"N/A"})}),t.collaboratorDetails.length>0&&c.jsx(Cm,{label:"Assigned Collaborators & Biographies",children:c.jsx("ul",{className:"divide-y divide-slate-200 rounded-md border border-slate-200 mt-2",children:t.collaboratorDetails.map(n=>{const i=e.find(s=>s.id===n.memberId);return i?c.jsxs("li",{className:"px-4 py-4",children:[c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsxs("span",{className:"font-semibold text-lg text-slate-800",children:[i.firstName," ",i.lastName]}),c.jsx("span",{className:"text-slate-500 text-sm",children:n.role})]}),i.shortBio&&c.jsxs("div",{className:"mt-3",children:[c.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-400",children:"Short Bio"}),c.jsx("p",{className:"text-sm text-slate-600 mt-1 whitespace-pre-wrap",children:i.shortBio})]}),i.artistBio&&c.jsxs("div",{className:"mt-3",children:[c.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-400",children:"Full Artist Bio"}),c.jsx("p",{className:"text-sm text-slate-600 mt-1 whitespace-pre-wrap",children:i.artistBio})]})]},n.memberId):c.jsxs("li",{className:"px-4 py-4",children:[c.jsx("span",{className:"font-semibold",children:"Unknown Member"})," - ",c.jsx("span",{className:"text-slate-600",children:n.role})]},n.memberId)})})})]})},Fn=t=>t.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),yw=({status:t})=>{const e={Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Denied:"bg-red-100 text-red-800"};return c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${e[t]}`,children:t})},Ss=({label:t,value:e,description:n,align:i="left"})=>c.jsxs("div",{className:"py-2.5 grid grid-cols-2 gap-4 border-b border-slate-200 last:border-b-0",children:[c.jsxs("div",{className:"text-sm text-slate-600",children:[t,n&&c.jsx("p",{className:"text-xs text-slate-400 italic mt-0.5",children:n})]}),c.jsx("div",{className:`text-sm text-slate-800 font-medium ${i==="right"?"text-right":""}`,children:e})]}),$d=({title:t,children:e,budgetTotal:n,actualTotal:i})=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[c.jsx("h3",{className:"text-base font-bold text-slate-700 border-b border-slate-200 pb-2 mb-3",children:t}),e,c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right font-bold mt-3 pt-3 border-t-2 border-slate-200 text-slate-800 text-base",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase block",children:"Budgeted"}),Fn(n)]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-teal-600 font-semibold uppercase block",children:"Actual"}),Fn(i)]})]})]}),mh=({items:t,categoryPath:e,onUpdateRevenue:n,onSetEditingRevenueId:i,editingRevenueId:s,fieldMap:o})=>!t||t.length===0?c.jsx("p",{className:"text-sm text-slate-400 italic py-2",children:"No items in this category."}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-semibold text-slate-500 uppercase tracking-wider px-2 py-1",children:[c.jsx("div",{className:"col-span-6",children:"Item"}),c.jsx("div",{className:"col-span-3 text-right",children:"Budgeted"}),c.jsx("div",{className:"col-span-3 text-right",children:"Actual"})]}),t.map((u,d)=>{const h=o.get(u.source)||u.source,m=s===u.id,y=u.status==="Denied";return c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center hover:bg-slate-100 rounded p-2 group ${y?"opacity-50":""}`,children:[c.jsxs("div",{className:"col-span-6 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yw,{status:u.status||"Pending"}),c.jsx("p",{className:`text-slate-800 font-medium ${y?"line-through":""}`,children:h})]}),c.jsx("p",{className:"text-xs text-slate-500 pl-8",children:u.description})]}),c.jsx("div",{className:`col-span-3 text-right text-sm text-slate-600 ${y?"line-through":""}`,children:Fn(u.amount)}),c.jsx("div",{className:"col-span-3 text-right text-sm font-semibold text-teal-700 cursor-pointer",onClick:()=>i(u.id),children:m?c.jsx(kt,{type:"number",defaultValue:u.actualAmount||"",onBlur:x=>{n([...e,d,"actualAmount"],parseFloat(x.target.value)||0),i(null)},onKeyDown:x=>{x.key==="Enter"&&x.currentTarget.blur()},autoFocus:!0,className:"text-right py-1"}):c.jsxs(c.Fragment,{children:[Fn(u.actualAmount||0)," ",c.jsx("i",{className:"fa-solid fa-pencil text-xs text-slate-300 ml-1 group-hover:text-teal-600 transition-colors"})]})})]},u.id)})]}),xw=({project:t,onSave:e,tasks:n,activities:i,directExpenses:s})=>{const{dispatch:o,state:u}=cn(),{members:d,settings:h}=u,{revenueLabels:m,expenseLabels:y}=h.budget,x=ve.useMemo(()=>{const $=Object.values(_l).flat();return new Map($.map(K=>[K.key,m[K.key]!==void 0&&m[K.key]!==""?m[K.key]:K.label]))},[m]),T=ve.useMemo(()=>{const $=Object.values(Fa).flat();return new Map($.map(K=>[K.key,y[K.key]!==void 0&&y[K.key]!==""?y[K.key]:K.label]))},[y]),w=t.budget,[C,M]=ve.useState({isOpen:!1}),[D,E]=ve.useState(null),[j,F]=ve.useState(null),B=Pg(w),{actualsByBudgetItem:H,totalContributedValue:ee,totalActualPaidExpenses:V}=ve.useMemo(()=>{const $=new Map,K=new Map(n.map(G=>[G.id,G]));i.forEach(G=>{if(G.status!=="Approved")return;const ne=K.get(G.taskId);if(!ne||!ne.budgetItemId)return;const oe=$.get(ne.budgetItemId)||{cost:0,contributedValue:0,hours:0},P=(G.hours||0)*(ne.hourlyRate||0);ne.workType==="Paid"?oe.cost+=P:oe.contributedValue+=P,oe.hours+=G.hours||0,$.set(ne.budgetItemId,oe)}),s.forEach(G=>{const ne=$.get(G.budgetItemId)||{cost:0,contributedValue:0,hours:0};ne.cost+=G.amount,$.set(G.budgetItemId,ne)});const ce=Array.from($.values()).reduce((G,ne)=>G+ne.contributedValue,0),q=Array.from($.values()).reduce((G,ne)=>G+ne.cost,0);return{actualsByBudgetItem:$,totalContributedValue:ce,totalActualPaidExpenses:q}},[n,i,s]),U=($,K)=>{const ce=St(t,q=>{let G=q.budget;for(let ne=0;ne<$.length-1;ne++)G=G[$[ne]];G[$[$.length-1]]=K});e(ce)},O=$=>{o({type:"ADD_DIRECT_EXPENSE",payload:$})},ue=({title:$,categoryKey:K,items:ce})=>{const q=ce.reduce((oe,P)=>oe+(P.amount||0),0),G=ce.reduce((oe,P)=>{const ae=H.get(P.id);return oe+(ae?ae.cost:0)},0),ne=q-G;return ce.length===0?null:c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2 mb-3",children:[c.jsx("h3",{className:"text-base font-bold text-slate-700",children:$}),c.jsxs("button",{onClick:()=>M({isOpen:!0,category:K}),className:"px-2 py-1 text-xs font-medium text-white bg-blue-500 rounded-md shadow-sm hover:bg-blue-600",children:[c.jsx("i",{className:"fa-solid fa-plus fa-xs mr-1"}),"Log"]})]}),c.jsxs("div",{className:"grid grid-cols-10 gap-4 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2",children:[c.jsx("div",{className:"col-span-4",children:"Item"}),c.jsx("div",{className:"col-span-2 text-right",children:"Budgeted"}),c.jsx("div",{className:"col-span-2 text-right",children:"Actual"}),c.jsx("div",{className:"col-span-2 text-right",children:"Variance"})]}),c.jsx("div",{className:"space-y-1",children:ce.map(oe=>{const P=H.get(oe.id)||{cost:0},ae=oe.amount-P.cost,L=T.get(oe.source)||oe.source;return c.jsxs("div",{className:"grid grid-cols-10 gap-4 items-center py-1.5 border-b border-slate-100 last:border-b-0 px-2 rounded group",children:[c.jsxs("div",{className:"col-span-4 text-sm",children:[c.jsx("p",{className:"text-slate-800 font-medium",children:L}),c.jsx("p",{className:"text-xs text-slate-500",children:oe.description})]}),c.jsx("div",{className:"col-span-2 text-right text-sm text-slate-600",children:Fn(oe.amount)}),c.jsx("div",{className:"col-span-2 text-right text-sm font-semibold text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",onClick:()=>F(oe.id),children:Fn(P.cost)}),c.jsx("div",{className:`col-span-2 text-right text-sm font-semibold ${ae>=0?"text-green-600":"text-red-600"}`,children:Fn(ae)})]},oe.id)})}),c.jsxs("div",{className:"grid grid-cols-10 gap-4 mt-3 pt-3 border-t-2 border-slate-300 font-bold text-slate-800 text-sm px-2",children:[c.jsx("div",{className:"col-span-4",children:"Total"}),c.jsx("div",{className:"col-span-2 text-right",children:Fn(q)}),c.jsx("div",{className:"col-span-2 text-right",children:Fn(G)}),c.jsx("div",{className:`col-span-2 text-right ${ne>=0?"text-green-600":"text-red-600"}`,children:Fn(ne)})]})]})},I=()=>{const[$,K]=ve.useState(C.category||""),[ce,q]=ve.useState(""),[G,ne]=ve.useState(0),[oe,P]=ve.useState(new Date().toISOString().split("T")[0]),[ae,L]=ve.useState(""),J=Object.entries(Fa).map(([X,pe])=>({value:X,label:X.replace(/([A-Z])/g," $1").replace(/^./,he=>he.toUpperCase())})),Y=ve.useMemo(()=>$?w.expenses[$].map(X=>{const pe=T.get(X.source)||X.source;return{value:X.id,label:X.description?`${pe}: ${X.description}`:pe}}):[],[$,T]),ie=X=>{if(X.preventDefault(),!$||!ce||G<=0){alert("Please fill all required fields.");return}O({id:`dexp_${Date.now()}`,projectId:t.id,budgetItemId:ce,amount:G,date:oe,description:ae}),M({isOpen:!1})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsx("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:c.jsxs("form",{onSubmit:ie,children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Log Direct Expense"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(ot,{label:"Expense Category",htmlFor:"exp_cat",children:c.jsx(Jt,{options:[{value:"",label:"Select category..."},...J],value:$,onChange:X=>{K(X.target.value),q("")}})}),c.jsx(ot,{label:"Budget Line Item",htmlFor:"exp_item",children:c.jsx(Jt,{options:[{value:"",label:"Select item..."},...Y],value:ce,onChange:X=>q(X.target.value),disabled:!$})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ot,{label:"Amount",htmlFor:"exp_amount",children:c.jsx(kt,{type:"number",value:G||"",onChange:X=>ne(parseFloat(X.target.value)||0),step:"0.01"})}),c.jsx(ot,{label:"Date",htmlFor:"exp_date",children:c.jsx(kt,{type:"date",value:oe,onChange:X=>P(X.target.value)})})]}),c.jsx(ot,{label:"Description / Memo",htmlFor:"exp_desc",children:c.jsx(kt,{type:"text",value:ae,onChange:X=>L(X.target.value)})})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>M({isOpen:!1}),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"Log Expense"})]})]})})})},k=()=>{if(!j)return null;const $=Object.values(t.budget.expenses).flat().find(q=>q.id===j),K=s.filter(q=>q.budgetItemId===j),ce=i.filter(q=>{const G=n.find(ne=>ne.id===q.taskId);return(G==null?void 0:G.budgetItemId)===j&&q.status==="Approved"});return $?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Actuals Breakdown"}),c.jsxs("p",{className:"text-slate-600 mb-4",children:["Line Item: ",c.jsx("span",{className:"font-semibold",children:$.description||$.source})]}),c.jsxs("div",{className:"max-h-[60vh] overflow-y-auto space-y-4",children:[K.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700",children:"Direct Expenses"}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md mt-1",children:K.map(q=>c.jsxs("li",{className:"flex justify-between p-2 text-sm",children:[c.jsxs("span",{children:[q.description||"Direct expense"," on ",new Date(q.date).toLocaleDateString()]}),c.jsx("span",{className:"font-semibold",children:Fn(q.amount)})]},q.id))})]}),ce.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-700",children:"From Time Tracking"}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md mt-1",children:ce.map(q=>{const G=n.find(P=>P.id===q.taskId),ne=d.find(P=>P.id===q.memberId),oe=(q.hours||0)*((G==null?void 0:G.hourlyRate)||0);return c.jsxs("li",{className:"flex justify-between items-center p-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{children:q.description||`Work on '${G==null?void 0:G.title}'`}),c.jsxs("p",{className:"text-xs text-slate-500",children:[ne==null?void 0:ne.firstName," logged ",q.hours,"h on ",new Date(q.endDate).toLocaleDateString()]})]}),c.jsx("span",{className:"font-semibold",children:Fn(oe)})]},q.id)})})]}),K.length===0&&ce.length===0&&c.jsx("p",{className:"text-center text-slate-500 py-6 italic",children:"No actuals have been logged against this budget item."})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{type:"button",onClick:()=>F(null),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Close"})})]})}):null};return c.jsxs("section",{children:[C.isOpen&&c.jsx(I,{}),j&&c.jsx(k,{}),c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Budget vs. Actuals"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-8",children:[c.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Revenues"}),c.jsx($d,{title:"Grants",budgetTotal:B.totalGrants,actualTotal:w.revenues.grants.reduce(($,K)=>$+(K.actualAmount||0),0),children:c.jsx(mh,{items:w.revenues.grants,categoryPath:["revenues","grants"],onUpdateRevenue:U,editingRevenueId:D,onSetEditingRevenueId:E,fieldMap:x})}),c.jsxs($d,{title:"Tickets & Box Office",budgetTotal:B.totalTickets,actualTotal:w.revenues.tickets.actualTotalTickets||0,children:[c.jsx(Ss,{label:"Projected Audience",value:B.projectedAudience.toFixed(0),align:"right"}),c.jsx(Ss,{label:"Average Ticket Price",value:Fn(w.revenues.tickets.avgTicketPrice),description:w.revenues.tickets.description,align:"right"}),c.jsxs("div",{className:"py-2.5 grid grid-cols-2 gap-4 group",children:[c.jsx("div",{className:"text-sm text-slate-600 font-semibold",children:"Actual Ticket Revenue"}),c.jsx("div",{className:"text-sm text-right font-bold text-teal-700 cursor-pointer",onClick:()=>E("tickets"),children:D==="tickets"?c.jsx(kt,{type:"number",defaultValue:w.revenues.tickets.actualTotalTickets||"",onBlur:$=>{U(["revenues","tickets","actualTotalTickets"],parseFloat($.target.value)||0),E(null)},onKeyDown:$=>{$.key==="Enter"&&$.currentTarget.blur()},autoFocus:!0,className:"text-right py-1"}):c.jsxs(c.Fragment,{children:[Fn(w.revenues.tickets.actualTotalTickets||0)," ",c.jsx("i",{className:"fa-solid fa-pencil text-xs text-slate-300 ml-1 group-hover:text-teal-600 transition-colors"})]})})]})]}),c.jsx($d,{title:"Sales",budgetTotal:B.totalSales,actualTotal:w.revenues.sales.reduce(($,K)=>$+(K.actualAmount||0),0),children:c.jsx(mh,{items:w.revenues.sales,categoryPath:["revenues","sales"],onUpdateRevenue:U,editingRevenueId:D,onSetEditingRevenueId:E,fieldMap:x})}),c.jsx($d,{title:"Fundraising",budgetTotal:B.totalFundraising,actualTotal:w.revenues.fundraising.reduce(($,K)=>$+(K.actualAmount||0),0),children:c.jsx(mh,{items:w.revenues.fundraising,categoryPath:["revenues","fundraising"],onUpdateRevenue:U,editingRevenueId:D,onSetEditingRevenueId:E,fieldMap:x})}),c.jsx($d,{title:"Contributions",budgetTotal:B.totalContributions,actualTotal:w.revenues.contributions.reduce(($,K)=>$+(K.actualAmount||0),0),children:c.jsx(mh,{items:w.revenues.contributions,categoryPath:["revenues","contributions"],onUpdateRevenue:U,editingRevenueId:D,onSetEditingRevenueId:E,fieldMap:x})}),c.jsxs("div",{className:"bg-teal-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-lg mt-6 shadow-md",children:[c.jsx("span",{children:"Total Revenue (Budgeted)"}),c.jsx("span",{children:Fn(B.totalRevenue)})]})]}),c.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Expenses"}),c.jsxs("button",{onClick:()=>M({isOpen:!0}),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Log Top-Level Expense"]})]}),c.jsx(ue,{title:"Professional Fees",categoryKey:"professionalFees",items:w.expenses.professionalFees}),c.jsx(ue,{title:"Travel",categoryKey:"travel",items:w.expenses.travel}),c.jsx(ue,{title:"Production & Publication",categoryKey:"production",items:w.expenses.production}),c.jsx(ue,{title:"Administration",categoryKey:"administration",items:w.expenses.administration}),c.jsx(ue,{title:"Research",categoryKey:"research",items:w.expenses.research}),c.jsx(ue,{title:"Professional Development",categoryKey:"professionalDevelopment",items:w.expenses.professionalDevelopment}),c.jsxs("div",{className:"bg-rose-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-lg mt-6 shadow-md",children:[c.jsx("span",{children:"Total Expenses (Budgeted)"}),c.jsx("span",{children:Fn(B.totalExpenses)})]})]})]}),c.jsxs("div",{className:"mt-12",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Financial Summary"}),c.jsxs("div",{className:"bg-slate-100 p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-3",children:"The Plan (Budget)"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ss,{label:"Total Secured Revenue (Approved)",value:c.jsx("span",{className:"font-bold text-green-700",children:Fn(B.totalSecuredRevenue)})}),c.jsx(Ss,{label:"Total Potential Revenue (Pending)",value:c.jsx("span",{className:"font-bold text-yellow-700",children:Fn(B.totalPendingRevenue)})}),c.jsx(Ss,{label:"Total Projected Revenue (Secured + Pending)",value:Fn(B.totalRevenue)}),c.jsx(Ss,{label:"Total Planned Expenses (Cash)",value:Fn(B.totalExpenses)}),c.jsx(Ss,{label:"Planned Surplus / Deficit",value:c.jsx("span",{className:`font-extrabold text-lg ${B.balance>=0?"text-green-700":"text-orange-600"}`,children:Fn(B.balance)})})]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-300",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"The Reality (Actuals to Date)"}),c.jsxs("div",{className:"relative group",children:[c.jsx("i",{className:"fa-solid fa-circle-info text-slate-500 cursor-help"}),c.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-2 bg-slate-700 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 text-center",children:"Actuals include the value of all 'Approved' time logs and all direct expenses. 'Pending' activities are not included."})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ss,{label:"Actual Cash Received",value:c.jsx("span",{className:"font-bold text-green-700",children:Fn(B.totalActualRevenue)})}),c.jsx(Ss,{label:"Actual Cash Spent",value:c.jsx("span",{className:"font-bold text-blue-700",children:Fn(V)})}),c.jsx(Ss,{label:"Current Cash Balance",description:"(Actual Revenue - Actual Spent)",value:c.jsx("span",{className:`font-extrabold text-lg ${B.totalActualRevenue-V>=0?"text-green-700":"text-red-700"}`,children:Fn(B.totalActualRevenue-V)})})]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-300",children:[c.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-3",children:"The Full Picture (Total Project Value)"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ss,{label:"Contributed Value (In-Kind/Volunteer)",description:"Non-cash contributions from time tracking",value:c.jsx("span",{className:"font-bold text-teal-700",children:Fn(ee)})}),c.jsx(Ss,{label:"Total Value Delivered to Date",description:"(Actual Cash Spent + Contributed Value)",value:c.jsx("span",{className:"font-bold text-black",children:Fn(V+ee)})})]})]})]})]})]})},E2=({task:t,onSave:e,onCancel:n})=>{const{state:{projects:i,members:s}}=cn(),[o,u]=ve.useState(t),d=(T,w)=>{u(C=>({...C,[T]:w}))},h=T=>{const w={...o,taskType:T};T==="Milestone"&&(w.budgetItemId="",w.estimatedHours=0,w.hourlyRate=0,w.workType="Paid"),u(w)},m=T=>{u(w=>({...w,projectId:T,budgetItemId:""}))},y=ve.useMemo(()=>{if(!o.projectId)return[{value:"",label:"Select a project first"}];const T=i.find(D=>D.id===o.projectId);if(!T)return[{value:"",label:"Project not found"}];const w=[],C=Object.keys(T.budget.expenses),M={professionalFees:"Professional Fees",travel:"Travel",production:"Production",administration:"Administration",research:"Research",professionalDevelopment:"Professional Development"};return C.forEach(D=>{T.budget.expenses[D].forEach(E=>{const j=E.source.charAt(0).toUpperCase()+E.source.slice(1);w.push({value:E.id,label:`${M[D]}: ${E.description||j}`})})}),[{value:"",label:"Select a budget item (optional)"},...w]},[o.projectId,i]),x=T=>{T.preventDefault(),e(o)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:c.jsxs("form",{onSubmit:x,children:[c.jsx("div",{className:"flex justify-between items-start mb-6 border-b pb-4 text-slate-800",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold",children:o.id?"Edit Task":"Add New Task"}),o.taskCode&&c.jsxs("p",{className:"text-sm text-slate-500 font-mono mt-1",children:["Task ID: ",o.taskCode]})]})}),c.jsxs("div",{className:"space-y-5",children:[c.jsx(ot,{label:"Task Title",htmlFor:"title",required:!0,children:c.jsx(kt,{id:"title",value:o.title,onChange:T=>d("title",T.target.value)})}),c.jsx(ot,{label:"Task Type",htmlFor:"taskType",required:!0,children:c.jsx(Jt,{id:"taskType",value:o.taskType,onChange:T=>h(T.target.value),options:sw})}),c.jsx(ot,{label:"Description",htmlFor:"description",children:c.jsx(oi,{id:"description",rows:3,value:o.description,onChange:T=>d("description",T.target.value),wordLimit:150})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx(ot,{label:"Project",htmlFor:"project",required:!0,children:c.jsx(Jt,{id:"project",value:o.projectId,onChange:T=>m(T.target.value),options:[{value:"",label:"Select a project"},...i.map(T=>({value:T.id,label:T.projectTitle}))]})}),c.jsx(ot,{label:"Assigned To",htmlFor:"member",children:c.jsx(Jt,{id:"member",value:o.assignedMemberId,onChange:T=>d("assignedMemberId",T.target.value),options:[{value:"",label:"Unassigned"},...s.map(T=>({value:T.id,label:`${T.firstName} ${T.lastName}`}))]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[c.jsx(ot,{label:"Status",htmlFor:"status",children:c.jsx(Jt,{id:"status",value:o.status,onChange:T=>d("status",T.target.value),options:tw})}),c.jsx(ot,{label:"Start Date",htmlFor:"startDate",children:c.jsx(kt,{type:"date",id:"startDate",value:o.startDate,onChange:T=>d("startDate",T.target.value)})}),c.jsx(ot,{label:"Due Date",htmlFor:"dueDate",children:c.jsx(kt,{type:"date",id:"dueDate",value:o.dueDate,onChange:T=>d("dueDate",T.target.value)})})]}),o.taskType==="Time-Based"&&c.jsxs("div",{className:"bg-slate-100 p-4 rounded-md border border-slate-200",children:[c.jsx("h4",{className:"text-md font-semibold text-slate-700 mb-3",children:"Time & Budget"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:c.jsx(ot,{label:"Estimated Hours",htmlFor:"estimatedHours",children:c.jsx(kt,{type:"number",id:"estimatedHours",value:o.estimatedHours||"",onChange:T=>d("estimatedHours",parseFloat(T.target.value)||0),step:"0.5"})})}),c.jsx(ot,{label:"Budget Line Item",htmlFor:"budgetItemId",children:c.jsx(Jt,{id:"budgetItemId",value:o.budgetItemId,onChange:T=>d("budgetItemId",T.target.value),options:y,disabled:!o.projectId})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx(ot,{label:"Work Type",htmlFor:"workType",children:c.jsx(Jt,{id:"workType",value:o.workType,onChange:T=>d("workType",T.target.value),options:aw})}),c.jsx(ot,{label:o.workType==="Paid"?"Hourly Rate ($)":"Hourly Value ($)",htmlFor:"hourlyRate",instructions:o.workType!=="Paid"&&"Assign a monetary value for in-kind/volunteer contributions for reporting.",children:c.jsx(kt,{type:"number",id:"hourlyRate",value:o.hourlyRate||"",onChange:T=>d("hourlyRate",parseFloat(T.target.value)||0),step:"0.01"})})]})]})]}),c.jsxs("div",{className:"mt-8 flex justify-end space-x-3 border-t pt-5",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Task"})]})]})})})},M2=({activity:t,onSave:e,onCancel:n,selectedProjectId:i})=>{const{state:{tasks:s,members:o,projects:u}}=cn(),d=()=>{if(t.taskId){const O=s.find(ue=>ue.id===t.taskId);return(O==null?void 0:O.projectId)||i}return i},[h,m]=ve.useState(d()),[y,x]=ve.useState([]),[T,w]=ve.useState({...t,memberIds:t.memberId?[t.memberId]:[]}),C=!!t.id,M=T.startTime&&T.endTime;ve.useEffect(()=>{if(T.startTime&&T.endTime){const O=new Date(`1970-01-01T${T.startTime}:00Z`),ue=new Date(`1970-01-01T${T.endTime}:00Z`);if(ue>O){const k=(ue.getTime()-O.getTime())/(1e3*60*60),$=Math.round(k*4)/4;w(K=>({...K,hours:$}))}else w(I=>({...I,hours:0}))}},[T.startTime,T.endTime]),ve.useEffect(()=>{if(!h){x([{value:"",label:"Select a project first"}]);return}const O=s.filter(I=>I.projectId===h&&I.taskType==="Time-Based");if(O.length===0){x([{value:"",label:"No time-based tasks in project"}]);return}const ue=[{value:"",label:"Select a task"},...O.map(I=>({value:I.id,label:`${I.taskCode}: ${I.title}`}))];x(ue)},[h,s]);const D=(O,ue)=>{w(I=>({...I,[O]:ue}))},E=O=>{w(ue=>({...ue,memberIds:O}))},j=O=>{m(O),D("taskId","")},F=ve.useMemo(()=>[{value:"",label:"Select a project"},...u.map(O=>({value:O.id,label:O.projectTitle}))],[u]),B=O=>{if(O.preventDefault(),!T.taskId){alert("Please select a task.");return}if(T.memberIds.length===0){alert("Please select at least one member.");return}const ue={...T,memberId:T.memberIds[0]};e(ue)},H=ve.useMemo(()=>o.map(O=>({value:O.id,label:`${O.firstName} ${O.lastName}`})),[o]),ee=ve.useMemo(()=>{if(C&&T.memberId){const O=o.find(ue=>ue.id===T.memberId);return O?`${O.firstName} ${O.lastName}`:"Unknown Member"}return""},[C,T.memberId,o]),V=!C&&T.memberIds.length>1,U=(T.hours||0)*T.memberIds.length;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:c.jsxs("form",{onSubmit:B,children:[c.jsx("h3",{className:"text-2xl font-bold mb-6 border-b pb-4 text-slate-800",children:C?"Edit Activity":"Add New Activity"}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx(ot,{label:"Project",htmlFor:"project",required:!0,children:c.jsx(Jt,{id:"project",value:h,onChange:O=>j(O.target.value),options:F,disabled:C})}),c.jsx(ot,{label:"Task",htmlFor:"task",required:!0,instructions:"Note: Only Time-Based tasks are shown. Milestones cannot have time logged against them.",children:c.jsx(Jt,{id:"task",value:T.taskId,onChange:O=>D("taskId",O.target.value),options:y,disabled:C||!h})})]}),c.jsx(ot,{label:"Member(s)",htmlFor:"member",required:!0,instructions:C?"Each activity is a unique record. To change the member, please create a new activity.":null,children:C?c.jsx(kt,{value:ee,disabled:!0}):c.jsx("div",{className:"max-h-36 overflow-y-auto p-2 border border-slate-300 rounded-md bg-white",children:c.jsx(Du,{name:"members",options:H,selectedValues:T.memberIds,onChange:E,columns:3})})}),c.jsx(ot,{label:"Description",htmlFor:"description",children:c.jsx(oi,{id:"description",rows:4,value:T.description,onChange:O=>D("description",O.target.value),wordLimit:200})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx(ot,{label:"Start Date",htmlFor:"startDate",required:!0,children:c.jsx(kt,{type:"date",id:"startDate",value:T.startDate,onChange:O=>D("startDate",O.target.value)})}),c.jsx(ot,{label:"End Date",htmlFor:"endDate",required:!0,children:c.jsx(kt,{type:"date",id:"endDate",value:T.endDate,onChange:O=>D("endDate",O.target.value)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[c.jsx(ot,{label:"Start Time",htmlFor:"startTime",instructions:"Optional",children:c.jsx(kt,{type:"time",id:"startTime",value:T.startTime||"",onChange:O=>D("startTime",O.target.value)})}),c.jsx(ot,{label:"End Time",htmlFor:"endTime",instructions:"Optional",children:c.jsx(kt,{type:"time",id:"endTime",value:T.endTime||"",onChange:O=>D("endTime",O.target.value)})}),c.jsx(ot,{label:`Hours Spent ${C?"":"(each)"}`,htmlFor:"hours",required:!0,children:c.jsx(kt,{type:"number",id:"hours",value:T.hours||"",onChange:O=>D("hours",parseFloat(O.target.value)||0),step:"0.25",disabled:!!M,title:M?"Hours are calculated automatically from start/end times":"Enter hours spent"})})]}),V&&c.jsxs("div",{className:"bg-teal-50 text-teal-800 p-3 rounded-md text-center text-sm border border-teal-200",children:["This will create ",c.jsx("span",{className:"font-bold",children:T.memberIds.length})," separate activity logs for a total of ",c.jsxs("span",{className:"font-bold",children:[U.toFixed(2)," hours"]}),"."]})]}),T.createdAt&&c.jsxs("div",{className:"mt-6 text-xs text-slate-400 text-center border-t pt-4",children:[c.jsxs("span",{children:["Created: ",new Date(T.createdAt).toLocaleString()]}),T.updatedAt&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:"|"}),c.jsxs("span",{children:["Last Updated: ",new Date(T.updatedAt).toLocaleString()]})]})]}),c.jsxs("div",{className:"mt-8 flex justify-end space-x-3 border-t pt-5",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Activity"})]})]})})})},Vr=({isOpen:t,onClose:e,onConfirm:n,title:i,message:s,confirmButtonText:o="Confirm",cancelButtonText:u="Cancel"})=>t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4 transition-opacity","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation h-6 w-6 text-red-600","aria-hidden":"true"})}),c.jsxs("div",{className:"ml-4 text-left",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800",id:"modal-title",children:i}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-slate-600",children:s})})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:u}),c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:o})]})]})}):null,bw=t=>{const e="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",n={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${e} ${n[t]||n.Backlog}`},ww=t=>`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${{Approved:"bg-green-100 text-green-800",Pending:"bg-yellow-100 text-yellow-800"}[t]}`,ay=t=>!t.isComplete&&t.dueDate&&new Date(t.dueDate)<new Date,Sw=({project:t})=>{const{state:e,dispatch:n,notify:i}=cn(),{tasks:s,activities:o,members:u}=e,[d,h]=ve.useState(!1),[m,y]=ve.useState(null),[x,T]=ve.useState(!1),[w,C]=ve.useState(null),[M,D]=ve.useState(!1),[E,j]=ve.useState(null),[F,B]=ve.useState(new Set),[H,ee]=ve.useState("updatedAt"),[V,U]=ve.useState("desc"),[O,ue]=ve.useState("all"),I=ve.useMemo(()=>new Map(u.map(fe=>[fe.id,`${fe.firstName} ${fe.lastName}`])),[u]),k=ve.useMemo(()=>{let fe=s.filter(Ce=>Ce.projectId===t.id);if(O!=="all"){const Ce=new Date,je=new Date(Ce.getTime()+7*24*60*60*1e3);fe=fe.filter(ze=>O==="overdue"?ay(ze):O==="dueThisWeek"?ze.dueDate&&new Date(ze.dueDate)>=Ce&&new Date(ze.dueDate)<=je:O==="todo"?ze.status==="To Do":O==="inProgress"?ze.status==="In Progress":O==="done"?ze.status==="Done":!0)}return fe.sort((Ce,je)=>{let ze=0;switch(H){case"dueDate":ze=(Ce.dueDate?new Date(Ce.dueDate).getTime():1/0)-(je.dueDate?new Date(je.dueDate).getTime():1/0);break;case"assignee":ze=(I.get(Ce.assignedMemberId)||"Z").localeCompare(I.get(je.assignedMemberId)||"Z");break;case"updatedAt":default:ze=(je.updatedAt?new Date(je.updatedAt).getTime():0)-(Ce.updatedAt?new Date(Ce.updatedAt).getTime():0);break}return V==="asc"?ze:-ze})},[s,t.id,H,V,O,I]),$=ve.useMemo(()=>new Set(k.map(fe=>fe.id)),[k]),K=ve.useMemo(()=>o.filter(fe=>$.has(fe.taskId)),[o,$]),ce=ve.useMemo(()=>{const fe=new Map;return K.forEach(Ce=>{const je=fe.get(Ce.taskId)||[];je.push(Ce),fe.set(Ce.taskId,je)}),fe},[K]),q=fe=>{B(Ce=>{const je=new Set(Ce);return je.has(fe)?je.delete(fe):je.add(fe),je})},G=()=>{const fe=(t.projectTitle.match(/\b(\w)/g)||["T"]).join("").toUpperCase().substring(0,4),Ce=s.filter(Ze=>Ze.projectId===t.id&&Ze.taskCode.startsWith(fe));let je=0;Ce.forEach(Ze=>{const Fe=Ze.taskCode.split("-")[1];if(Fe){const ge=parseInt(Fe,10);!isNaN(ge)&&ge>je&&(je=ge)}});const ze=`${fe}-${je+1}`,Ye={...Fh,id:`task_${Date.now()}`,projectId:t.id,taskCode:ze};y(Ye),h(!0)},ne=fe=>{y(fe),h(!0)},oe=fe=>{const Ce=!s.find(Ye=>Ye.id===fe.id),je=new Date().toISOString(),ze={...fe,updatedAt:je};n({type:Ce?"ADD_TASK":"UPDATE_TASK",payload:ze}),i(Ce?"Task created!":"Task updated!","success"),h(!1),y(null)},P=fe=>{const Ce=s.find(je=>je.id===fe);if(Ce){const je={...Ce,isComplete:!Ce.isComplete,status:Ce.isComplete?"To Do":"Done",updatedAt:new Date().toISOString()};n({type:"UPDATE_TASK",payload:je}),i(Ce.isComplete?`Task '${Ce.title}' marked as incomplete.`:`Task '${Ce.title}' marked as complete.`,"success")}},ae=fe=>{const Ce={...Jm,taskId:fe};C(Ce),T(!0)},L=fe=>{C(fe),T(!0)},J=fe=>{const Ce=new Date().toISOString();if(fe.id&&fe.createdAt){const{memberIds:ze,...Ye}=fe,Ze={...Ye,updatedAt:Ce};n({type:"UPDATE_ACTIVITY",payload:Ze}),i("Activity updated!","success")}else if(fe.memberIds&&fe.memberIds.length>0){const{memberIds:ze,...Ye}=fe,Ze=ze.map(Fe=>({...Ye,id:`act_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,memberId:Fe,status:"Pending",createdAt:Ce,updatedAt:Ce}));n({type:"ADD_ACTIVITIES",payload:Ze}),i(`${Ze.length} new activity log(s) created!`,"success")}T(!1),C(null)},Y=fe=>{n({type:"APPROVE_ACTIVITY",payload:fe}),i("Activity approved.","success")},ie=(fe,Ce)=>{j({id:fe,type:Ce}),D(!0)},X=()=>{E&&(E.type==="task"?(n({type:"DELETE_TASK",payload:E.id}),i("Task and related activities deleted.","success")):(n({type:"DELETE_ACTIVITY",payload:E.id}),i("Activity deleted.","success")),D(!1),j(null))},pe=fe=>{const Ce=u.find(je=>je.id===fe);return Ce?`${Ce.firstName} ${Ce.lastName}`:"Unknown"},he=ve.useMemo(()=>E?E.type==="task"?"Are you sure you want to delete this task? All associated time logs will also be permanently deleted. This cannot be undone.":"Are you sure you want to delete this activity log?":"",[E]);return c.jsxs("section",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Project Workplan"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-48",children:c.jsx(Jt,{value:O,onChange:fe=>ue(fe.target.value),options:N2})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Jt,{className:"rounded-r-none",value:H,onChange:fe=>ee(fe.target.value),options:A2}),c.jsx("button",{onClick:()=>U(fe=>fe==="asc"?"desc":"asc"),className:"px-3 py-2 bg-slate-200 text-slate-600 rounded-r-md border-y border-r border-slate-400 hover:bg-slate-300 h-full",title:`Sort direction: ${V==="asc"?"Ascending":"Descending"}`,children:c.jsx("i",{className:`fa-solid ${V==="asc"?"fa-arrow-up":"fa-arrow-down"}`})})]}),c.jsxs("button",{onClick:G,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add Task"]})]})]}),k.length===0?c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[c.jsx("i",{className:"fa-solid fa-list-check text-6xl text-slate-300"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No tasks for this project yet."}),c.jsx("p",{className:"text-slate-500 mt-1",children:'Click "Add Task" to get started.'})]}):c.jsx("div",{className:"space-y-3",children:k.map(fe=>{const Ce=ce.get(fe.id)||[],je=F.has(fe.id),ze=fe.taskType==="Milestone",Ye=ay(fe);return c.jsxs("div",{className:`bg-slate-50 rounded-lg border transition-shadow hover:shadow-md ${Ye?"border-red-300 bg-red-50":"border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center p-3",children:[c.jsx("button",{onClick:()=>q(fe.id),className:"p-2 rounded-full hover:bg-slate-200",children:c.jsx("i",{className:`fa-solid fa-chevron-right text-xs text-slate-500 transition-transform ${je?"rotate-90":""}`})}),c.jsxs("div",{className:"flex-grow mx-3",children:[c.jsx("p",{className:"font-semibold text-slate-800",children:fe.title}),c.jsxs("p",{className:"text-sm text-slate-500",children:[c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded mr-2",children:fe.taskCode}),pe(fe.assignedMemberId),Ye&&c.jsx("span",{className:"ml-2 text-red-600 font-bold text-xs",children:"OVERDUE"})]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 sm:gap-4",children:[ze?c.jsxs("div",{className:"flex items-center mr-4",children:[c.jsx("input",{type:"checkbox",id:`hub-complete-${fe.id}`,checked:fe.isComplete,onChange:()=>P(fe.id),className:"h-5 w-5 text-teal-600 border-slate-300 rounded focus:ring-teal-500 cursor-pointer"}),c.jsx("label",{htmlFor:`hub-complete-${fe.id}`,className:"ml-2 text-sm font-medium text-slate-700 cursor-pointer",children:fe.isComplete?"Complete":"Incomplete"})]}):c.jsx("span",{className:bw(fe.status),children:fe.status}),c.jsx("button",{onClick:()=>ae(fe.id),className:"px-2 py-1 text-xs font-semibold text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:"Log Time"}),c.jsx("button",{onClick:()=>ne(fe),className:"p-2 text-slate-500 hover:text-teal-600",children:c.jsx("i",{className:"fa-solid fa-pencil"})}),c.jsx("button",{onClick:()=>ie(fe.id,"task"),className:"p-2 text-slate-500 hover:text-red-600",children:c.jsx("i",{className:"fa-solid fa-trash-alt"})})]})]}),je&&c.jsx("div",{className:"border-t border-slate-200 bg-white",children:Ce.length>0?c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"sr-only",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Description"}),c.jsx("th",{children:"Member"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Hours"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200",children:Ce.map(Ze=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-3 w-1/3",children:Ze.description}),c.jsx("td",{className:"p-3",children:pe(Ze.memberId)}),c.jsx("td",{className:"p-3",children:new Date(Ze.endDate).toLocaleDateString()}),c.jsxs("td",{className:"p-3 font-semibold",children:[Ze.hours,"h"]}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:ww(Ze.status),children:Ze.status})}),c.jsxs("td",{className:"p-3 text-right space-x-3",children:[Ze.status==="Pending"&&c.jsx("button",{onClick:()=>Y(Ze.id),className:"font-semibold text-green-600 hover:text-green-800",children:"Approve"}),c.jsx("button",{onClick:()=>L(Ze),className:"font-semibold text-teal-600 hover:text-teal-800",children:"Edit"}),c.jsx("button",{onClick:()=>ie(Ze.id,"activity"),className:"font-semibold text-red-600 hover:text-red-800",children:"Delete"})]})]},Ze.id))})]}):c.jsx("p",{className:"p-6 text-center text-slate-500 italic",children:"No time has been logged for this task yet."})})]},fe.id)})}),d&&m&&c.jsx(E2,{task:m,onSave:oe,onCancel:()=>h(!1)}),x&&w&&c.jsx(M2,{activity:w,onSave:J,onCancel:()=>T(!1),selectedProjectId:t.id}),M&&c.jsx(Vr,{isOpen:M,onClose:()=>D(!1),onConfirm:X,title:`Delete ${E==null?void 0:E.type}`,message:he,confirmButtonText:`Delete ${E==null?void 0:E.type}`})]})},_m=t=>t.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Em=({icon:t,value:e,label:n,color:i})=>c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center gap-4 border-l-4",style:{borderLeftColor:i},children:[c.jsx("div",{className:"w-10 h-10 flex-shrink-0 rounded-full flex items-center justify-center",style:{backgroundColor:`${i}20`},children:c.jsx("i",{className:`${t} text-xl`,style:{color:i}})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-slate-800",children:e}),c.jsx("div",{className:"text-sm font-medium text-slate-500",children:n})]})]}),Tw=({value:t,max:e,color:n="bg-teal-500",height:i="h-2"})=>{const s=e>0?Math.min(t/e*100,100):0;return c.jsx("div",{className:`w-full bg-slate-200 rounded-full ${i}`,children:c.jsx("div",{className:`${n} ${i} rounded-full transition-all duration-500`,style:{width:`${s}%`}})})},Aw=({project:t})=>{const{state:{activities:e,directExpenses:n,members:i,tasks:s}}=cn(),[o,u]=ve.useState("all"),d=ve.useMemo(()=>new Map(i.map(C=>[C.id,C])),[i]),h=ve.useMemo(()=>s.filter(C=>C.projectId===t.id),[s,t.id]),m=ve.useMemo(()=>new Map(h.map(C=>[C.id,C])),[h]),y=ve.useMemo(()=>{const C=new Date;let M;switch(o){case"last7days":M=new Date(C.getFullYear(),C.getMonth(),C.getDate()-7);break;case"last30days":M=new Date(C.getFullYear(),C.getMonth(),C.getDate()-30);break;case"thisMonth":M=new Date(C.getFullYear(),C.getMonth(),1);break;case"all":default:M=new Date(0);break}M.setHours(0,0,0,0);const D=new Set(h.map(F=>F.id)),E=e.filter(F=>D.has(F.taskId)?new Date(F.endDate)>=M:!1),j=n.filter(F=>F.projectId!==t.id?!1:new Date(F.date)>=M);return{filteredActivities:E,filteredExpenses:j}},[o,e,n,h,t.id]),x=ve.useMemo(()=>{let C=0,M=0;const D=new Set;return y.filteredActivities.forEach(E=>{if(E.status!=="Approved")return;const j=m.get(E.taskId);j&&(C+=E.hours,D.add(E.memberId),j.workType==="Paid"&&(M+=E.hours*j.hourlyRate))}),y.filteredExpenses.forEach(E=>{M+=E.amount}),{totalHours:C,totalPaidExpenses:M,activeMembersCount:D.size}},[y,m]),T=ve.useMemo(()=>t.collaboratorDetails.map(C=>{const M=d.get(C.memberId);if(!M)return null;const D=h.filter(V=>V.assignedMemberId===C.memberId),E=new Set(D.map(V=>V.id)),j=D.reduce((V,U)=>V+(U.estimatedHours||0),0);let F=0,B=0,H=0;return y.filteredActivities.filter(V=>V.memberId===C.memberId&&E.has(V.taskId)&&V.status==="Approved").forEach(V=>{const U=m.get(V.taskId);U&&(F+=V.hours,U.workType==="Paid"?B+=V.hours:H+=V.hours)}),{memberId:C.memberId,name:`${M.firstName} ${M.lastName}`,imageUrl:M.imageUrl,totalLoggedHours:F,paidHours:B,inKindHours:H,totalEstimatedHours:j}}).filter(C=>C!==null),[t.collaboratorDetails,h,y.filteredActivities,d,m]),w=ve.useMemo(()=>{const C=y.filteredActivities.filter(D=>D.status==="Approved").map(D=>({type:"activity",date:new Date(D.endDate),item:D})),M=y.filteredExpenses.map(D=>({type:"expense",date:new Date(D.date),item:D}));return[...C,...M].sort((D,E)=>E.date.getTime()-D.date.getTime())},[y]);return c.jsxs("section",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Activity & Insights"}),c.jsx("div",{className:"w-56",children:c.jsx(Jt,{options:lw,value:o,onChange:C=>u(C.target.value)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx(Em,{icon:"fa-solid fa-clock",value:x.totalHours.toFixed(1)+"h",label:"Hours Logged",color:"#14b8a6"}),c.jsx(Em,{icon:"fa-solid fa-hand-holding-dollar",value:_m(x.totalPaidExpenses),label:"Paid Expenses",color:"#3b82f6"}),c.jsx(Em,{icon:"fa-solid fa-users",value:x.activeMembersCount,label:"Active Members",color:"#8b5cf6"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Detailed Activity Feed"}),c.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm max-h-[600px] overflow-y-auto",children:w.length===0?c.jsx("p",{className:"text-center text-slate-500 py-12 italic",children:"No approved activities or expenses in this period."}):c.jsx("ul",{className:"divide-y divide-slate-200",children:w.map((C,M)=>c.jsxs("li",{className:"p-4 flex items-start gap-4",children:[c.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-slate-700",children:C.date.toLocaleDateString(void 0,{day:"numeric"})}),c.jsx("div",{className:"text-xs text-slate-500 uppercase",children:C.date.toLocaleDateString(void 0,{month:"short"})})]}),c.jsx("div",{className:"flex-grow border-l border-slate-200 pl-4",children:C.type==="activity"?(()=>{const D=m.get(C.item.taskId),E=(D==null?void 0:D.workType)==="Paid",j=E?C.item.hours*((D==null?void 0:D.hourlyRate)||0):0,F=d.get(C.item.memberId);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"font-semibold text-slate-800",children:D==null?void 0:D.title}),c.jsxs("span",{className:"text-lg font-bold text-teal-600",children:[C.item.hours,"h",E&&j>0&&c.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",_m(j),")"]})]})]}),c.jsx("p",{className:"text-sm text-slate-600",children:C.item.description}),c.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Logged by: ",F==null?void 0:F.firstName]})]})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"font-semibold text-slate-800",children:"Direct Expense"}),c.jsx("span",{className:"text-lg font-bold text-blue-600",children:_m(C.item.amount)})]}),c.jsx("p",{className:"text-sm text-slate-600",children:C.item.description})]})})]},M))})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Contributor Breakdown"}),c.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-4",children:T.length===0?c.jsx("p",{className:"text-center text-slate-500 py-12 italic",children:"No collaborators found for this project."}):T.map(C=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:C.imageUrl||`https://ui-avatars.com/api/?name=${C.name}&background=random`,alt:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800",children:C.name}),c.jsxs("p",{className:"text-xs text-slate-500 font-semibold",children:[C.totalLoggedHours.toFixed(1)," Total Hours Logged"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center text-xs mb-3",children:[c.jsxs("div",{className:"bg-blue-100 text-blue-800 p-1.5 rounded",children:[c.jsxs("div",{className:"font-bold",children:[C.paidHours.toFixed(1),"h"]}),c.jsx("div",{children:"Paid"})]}),c.jsxs("div",{className:"bg-purple-100 text-purple-800 p-1.5 rounded",children:[c.jsxs("div",{className:"font-bold",children:[C.inKindHours.toFixed(1),"h"]}),c.jsx("div",{children:"In-Kind"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 mb-1",children:[c.jsx("span",{children:"Effort vs Estimate"}),c.jsxs("span",{children:[C.totalLoggedHours.toFixed(1),"h / ",C.totalEstimatedHours.toFixed(1),"h"]})]}),c.jsx(Tw,{value:C.totalLoggedHours,max:C.totalEstimatedHours})]})]},C.memberId))})]})]})]})},Nw=({project:t,onBack:e,onSave:n})=>{const{state:{tasks:i,activities:s,directExpenses:o}}=cn(),[u,d]=ve.useState("info"),h=ve.useMemo(()=>i.filter(w=>w.projectId===t.id),[i,t.id]),m=ve.useMemo(()=>{const w=new Set(h.map(C=>C.id));return s.filter(C=>w.has(C.taskId))},[s,h]),y=ve.useMemo(()=>o.filter(w=>w.projectId===t.id),[o,t.id]),x=[{id:"info",label:"Project Info",icon:"fa-solid fa-circle-info"},{id:"collaborators",label:"Collaborators",icon:"fa-solid fa-users"},{id:"budget",label:"Budget vs. Actuals",icon:"fa-solid fa-chart-pie"},{id:"workplan",label:"Workplan & Tasks",icon:"fa-solid fa-list-check"},{id:"insights",label:"Activity & Insights",icon:"fa-solid fa-chart-line"}],T=()=>{switch(u){case"info":return c.jsx(iy,{project:t});case"collaborators":return c.jsx(vw,{project:t});case"budget":return c.jsx(xw,{project:t,onSave:n,tasks:h,activities:m,directExpenses:y});case"workplan":return c.jsx(Sw,{project:t});case"insights":return c.jsx(Aw,{project:t});default:return c.jsx(iy,{project:t})}};return c.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-5",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t.projectTitle}),c.jsxs("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 shadow-sm",children:[c.jsx("i",{className:"fa fa-arrow-left mr-2"}),"Back to List"]})]}),c.jsx("div",{className:"border-b border-slate-200 mb-8",children:c.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:x.map(w=>c.jsxs("button",{type:"button",onClick:()=>d(w.id),className:`group whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md flex items-center gap-2 ${u===w.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":u===w.id?"page":void 0,children:[c.jsx("i",{className:`${w.icon} ${u===w.id?"text-teal-600":"text-slate-400 group-hover:text-slate-600"}`}),w.label]},w.id))})}),c.jsx("div",{children:T()})]})},Cw=({onNavigate:t})=>{const{state:e,dispatch:n,notify:i}=cn(),{projects:s}=e,[o,u]=ve.useState("list"),[d,h]=ve.useState(null),[m,y]=ve.useState(!1),[x,T]=ve.useState(null),[w,C]=ve.useState(!1),[M,D]=ve.useState(null),E=()=>{const I={...X5,id:`proj_${Date.now()}`,projectTitle:"New Project"};h(I),u("edit")},j=I=>{const k=s.find($=>$.id===I);k&&(h(k),u("view"))},F=I=>{const k=s.find($=>$.id===I);k&&(h(k),u("edit"))},B=I=>{T(I),y(!0)},H=()=>{x&&(n({type:"DELETE_PROJECT",payload:x}),i("Project and all associated data deleted.","success"),u("list"),h(null),y(!1),T(null))},ee=I=>{const k=!s.find(ce=>ce.id===I.id),$=s.find(ce=>ce.id===I.id),K=k?[...s,I]:s.map(ce=>ce.id===I.id?I:ce);n({type:"SET_PROJECTS",payload:K}),$&&$.status!=="Completed"&&I.status==="Completed"&&(D(I.id),C(!0)),o==="edit"?(i(k?"Project created successfully!":"Project saved successfully!","success"),u("list"),h(null)):o==="view"&&(i("Project updated successfully!","success"),h(I))},V=()=>{u("list"),h(null)},U=(I,k)=>{const $=s.find(K=>K.id===I);n({type:"UPDATE_PROJECT_STATUS",payload:{projectId:I,status:k}}),i(`Project status updated to ${k}.`,"success"),$&&$.status!=="Completed"&&k==="Completed"&&(D(I),C(!0))},O=()=>{M&&(n({type:"SET_REPORT_PROJECT_ID_TO_OPEN",payload:M}),t("reports"),C(!1),D(null))},ue=()=>{switch(o){case"edit":return d&&c.jsx(gw,{project:d,onSave:ee,onCancel:V},d.id);case"view":return d&&c.jsx(Nw,{project:d,onBack:V,onSave:ee});case"list":default:return c.jsx(fw,{projects:s,onAddProject:E,onEditProject:F,onDeleteProject:B,onViewProject:j,onUpdateProjectStatus:U})}};return c.jsx("div",{className:"font-sans text-slate-800",children:c.jsxs("main",{className:"w-full",children:[ue(),m&&c.jsx(Vr,{isOpen:m,onClose:()=>y(!1),onConfirm:H,title:"Delete Project",message:c.jsxs(c.Fragment,{children:["Are you sure you want to delete this project?",c.jsx("br",{}),c.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})," All associated tasks, activities, and expenses will also be permanently deleted."]}),confirmButtonText:"Delete Project"}),w&&c.jsx(Vr,{isOpen:w,onClose:()=>C(!1),onConfirm:O,title:"Project Complete",message:"This project is now complete. Would you like to generate the final report now?",confirmButtonText:"Generate Report",cancelButtonText:"Later"})]})})},Mc=t=>t.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),kc=({icon:t,value:e,label:n,color:i})=>c.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md flex items-center gap-4 border-l-4",style:{borderLeftColor:i},children:[c.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center",style:{backgroundColor:`${i}20`},children:c.jsx("i",{className:`${t} text-2xl`,style:{color:i}})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-slate-800",children:e}),c.jsx("div",{className:"text-sm font-medium text-slate-500",children:n})]})]}),Yd=({title:t,icon:e,children:n,className:i=""})=>c.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 ${i}`,children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 pb-3 border-b border-slate-200 flex items-center gap-3",children:[c.jsx("i",{className:`${e} text-teal-600`}),c.jsx("span",{children:t})]}),c.jsx("div",{className:"space-y-4",children:n})]}),_w=({onNavigate:t})=>c.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[c.jsx("i",{className:"fa-solid fa-rocket text-7xl text-teal-500"}),c.jsx("h1",{className:"mt-6 text-4xl font-bold text-slate-800",children:"Welcome to The Arts Incubator!"}),c.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool is designed to help you manage your artistic projects from concept to completion. Ready to get started?"}),c.jsxs("div",{className:"mt-8 flex justify-center items-center gap-4",children:[c.jsxs("button",{onClick:()=>t("projects"),className:"px-6 py-3 text-lg font-semibold text-white bg-teal-600 border border-transparent rounded-md shadow-lg hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-transform hover:scale-105",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Create Your First Project"]}),c.jsxs("button",{onClick:()=>t("detailedSampleData"),className:"px-6 py-3 text-lg font-semibold text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-transform hover:scale-105",children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"Explore with Sample Data"]})]})]}),Ew=({onNavigate:t})=>{const{state:e,dispatch:n}=cn(),{projects:i,members:s,tasks:o,activities:u,directExpenses:d}=e,h=ve.useMemo(()=>new Map(o.map(w=>[w.id,w])),[o]),m=ve.useMemo(()=>new Map(i.map(w=>[w.id,w.projectTitle])),[i]),y=ve.useMemo(()=>new Map(s.map(w=>[w.id,{name:`${w.firstName} ${w.lastName}`,imageUrl:w.imageUrl}])),[s]),x=ve.useMemo(()=>{const w=u.filter(P=>P.status==="Approved"),C=i.filter(P=>P.status==="Active").length,M=i.filter(P=>P.status==="Completed").length,D=new Date,E=new Date(D.getTime()+7*24*60*60*1e3),F=o.filter(P=>{const ae=i.find(L=>L.id===P.projectId);return(ae==null?void 0:ae.status)==="Active"}).filter(P=>{if(P.isComplete||!P.dueDate)return!1;const ae=new Date(P.dueDate);return ae>=D&&ae<=E}),B=new Set(i.filter(P=>["Active","On Hold"].includes(P.status)).map(P=>P.id)),H=u.filter(P=>{const ae=h.get(P.taskId);return P.status==="Pending"&&ae&&B.has(ae.projectId)}),ee=i.filter(P=>["Active","On Hold"].includes(P.status)),V=new Set(ee.map(P=>P.id)),U=new Set(o.filter(P=>V.has(P.projectId)).map(P=>P.id)),O=P=>Object.values(P.expenses).flat().reduce((ae,L)=>ae+(L.amount||0),0),ue=ee.reduce((P,ae)=>P+O(ae.budget),0),I=w.filter(P=>{var ae;return U.has(P.taskId)&&((ae=h.get(P.taskId))==null?void 0:ae.workType)==="Paid"}).reduce((P,ae)=>{var L;return P+(ae.hours||0)*(((L=h.get(ae.taskId))==null?void 0:L.hourlyRate)||0)},0)+d.filter(P=>V.has(P.projectId)).reduce((P,ae)=>P+ae.amount,0),k=i.filter(P=>["Active","On Hold","Completed"].includes(P.status)),$=new Set(k.map(P=>P.id)),K=new Set(o.filter(P=>$.has(P.projectId)).map(P=>P.id)),ce=k.reduce((P,ae)=>{const L=ae.budget,J=L.revenues.grants.reduce((he,fe)=>he+(fe.actualAmount||0),0),Y=L.revenues.tickets.actualTotalTickets||0,ie=L.revenues.sales.reduce((he,fe)=>he+(fe.actualAmount||0),0),X=L.revenues.fundraising.reduce((he,fe)=>he+(fe.actualAmount||0),0),pe=L.revenues.contributions.reduce((he,fe)=>he+(fe.actualAmount||0),0);return P+J+Y+ie+X+pe},0),q=w.filter(P=>{var ae;return K.has(P.taskId)&&((ae=h.get(P.taskId))==null?void 0:ae.workType)==="Paid"}).reduce((P,ae)=>{var L;return P+(ae.hours||0)*(((L=h.get(ae.taskId))==null?void 0:L.hourlyRate)||0)},0)+d.filter(P=>$.has(P.projectId)).reduce((P,ae)=>P+ae.amount,0),G=w.reduce((P,ae)=>P+(ae.hours||0),0),ne=new Map;w.forEach(P=>{ne.set(P.memberId,(ne.get(P.memberId)||0)+(P.hours||0))});const oe=Array.from(ne.entries()).map(([P,ae])=>({memberId:P,hours:ae})).sort((P,ae)=>ae.hours-P.hours).slice(0,5);return{activeProjectsCount:C,completedProjectsCount:M,tasksDueThisWeek:F,pendingActivities:H,totalBudgetedExpenses:ue,totalActualPaidExpenses:I,totalLifetimeActualRevenue:ce,totalLifetimeActualExpenses:q,totalHoursAllTime:G,topContributors:oe}},[i,o,u,d,h]);if(i.length===0)return c.jsx(_w,{onNavigate:t});const T=x.topContributors.length>0?x.topContributors[0].hours:1;return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Global Dashboard"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"A high-level overview of all collective activity."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-8",children:[c.jsx(kc,{icon:"fa-solid fa-briefcase",value:x.activeProjectsCount,label:"Active Projects",color:"#14b8a6"}),c.jsx(kc,{icon:"fa-solid fa-check-double",value:x.completedProjectsCount,label:"Completed Projects",color:"#3b82f6"}),c.jsx(kc,{icon:"fa-solid fa-clock-rotate-left",value:x.pendingActivities.length,label:"Pending Approvals",color:"#f97316"}),c.jsx(kc,{icon:"fa-solid fa-list-check",value:x.tasksDueThisWeek.length,label:"Tasks Due This Week",color:"#f59e0b"}),c.jsx(kc,{icon:"fa-solid fa-users",value:s.length,label:"Collective Members",color:"#8b5cf6"}),c.jsx(kc,{icon:"fa-solid fa-hourglass-half",value:x.totalHoursAllTime.toFixed(1),label:"Total Hours Logged",color:"#ef4444"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsx(Yd,{title:"Operational Financial Snapshot (Active & On Hold Projects)",icon:"fa-solid fa-chart-pie",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Budgeted Expenses"}),c.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Mc(x.totalBudgetedExpenses)})]}),c.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Actual Expenses"}),c.jsx("div",{className:"text-2xl font-bold text-blue-800",children:Mc(x.totalActualPaidExpenses)})]}),c.jsxs("div",{className:"bg-slate-200 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-600 font-bold",children:"Remaining Budget"}),c.jsx("div",{className:`text-2xl font-extrabold ${x.totalBudgetedExpenses-x.totalActualPaidExpenses>=0?"text-green-600":"text-red-600"}`,children:Mc(x.totalBudgetedExpenses-x.totalActualPaidExpenses)})]})]})}),c.jsx(Yd,{title:"Lifetime Financial Summary",icon:"fa-solid fa-landmark",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Lifetime Revenue"}),c.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Mc(x.totalLifetimeActualRevenue)})]}),c.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Lifetime Expenses"}),c.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Mc(x.totalLifetimeActualExpenses)})]}),c.jsxs("div",{className:"bg-slate-200 p-4 rounded-lg",children:[c.jsx("div",{className:"text-sm text-slate-600 font-bold",children:"Lifetime Net Result"}),c.jsx("div",{className:`text-2xl font-extrabold ${x.totalLifetimeActualRevenue-x.totalLifetimeActualExpenses>=0?"text-green-600":"text-red-600"}`,children:Mc(x.totalLifetimeActualRevenue-x.totalLifetimeActualExpenses)})]})]})}),c.jsxs(Yd,{title:"Pending Approvals",icon:"fa-solid fa-clock-rotate-left",children:[x.pendingActivities.length>0?c.jsx("ul",{className:"divide-y divide-slate-200 -mx-6",children:x.pendingActivities.slice(0,5).map(w=>{var M;const C=h.get(w.taskId);return c.jsxs("li",{className:"flex items-center justify-between px-6 py-3 hover:bg-slate-50",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-slate-800",children:(C==null?void 0:C.title)||"Untitled Task"}),c.jsxs("div",{className:"text-sm text-slate-500",children:[((M=y.get(w.memberId))==null?void 0:M.name)||"Unknown"," logged ",w.hours,"h on ",new Date(w.endDate).toLocaleDateString()]})]}),c.jsxs("button",{onClick:()=>n({type:"APPROVE_ACTIVITY",payload:w.id}),className:"px-3 py-1.5 text-xs font-semibold text-white bg-green-600 rounded-full shadow-sm hover:bg-green-700 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-check mr-1"})," Approve"]})]},w.id)})}):c.jsx("p",{className:"text-center text-slate-500 py-4",children:"No activities are pending approval. Great job!"}),x.pendingActivities.length>5&&c.jsxs("p",{className:"text-center text-sm text-slate-500 mt-2",children:["...and ",x.pendingActivities.length-5," more."]})]})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[c.jsx(Yd,{title:"Upcoming Deadlines (Active Projects)",icon:"fa-solid fa-calendar-check",children:x.tasksDueThisWeek.length>0?c.jsx("ul",{className:"divide-y divide-slate-200 -mx-6",children:x.tasksDueThisWeek.map(w=>{var C;return c.jsxs("li",{className:"px-6 py-3",children:[c.jsx("div",{className:"font-semibold text-slate-800",children:w.title}),c.jsxs("div",{className:"text-sm text-slate-500",children:[c.jsx("span",{className:"font-medium text-teal-700",children:m.get(w.projectId)}),c.jsx("span",{className:"mx-1",children:"|"}),"Due: ",new Date(w.dueDate).toLocaleDateString()]}),c.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Assigned to: ",((C=y.get(w.assignedMemberId))==null?void 0:C.name)||"Unassigned"]})]},w.id)})}):c.jsx("p",{className:"text-center text-slate-500 py-4",children:"No tasks are due in the next 7 days."})}),c.jsx(Yd,{title:"Top Contributors (by Hours)",icon:"fa-solid fa-award",children:x.topContributors.length>0?c.jsx("ul",{className:"space-y-4",children:x.topContributors.map(({memberId:w,hours:C})=>{const M=y.get(w),D=C/T*100;return c.jsx("li",{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{className:"h-9 w-9 rounded-full object-cover",src:(M==null?void 0:M.imageUrl)||`https://ui-avatars.com/api/?name=${M==null?void 0:M.name}&background=random`,alt:""}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"font-semibold text-slate-800",children:(M==null?void 0:M.name)||"Unknown Member"}),c.jsxs("span",{className:"font-bold text-slate-600",children:[C.toFixed(1),"h"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mt-1",children:c.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${D}%`}})})]})]})},w)})}):c.jsx("p",{className:"text-center text-slate-500 py-4",children:"No approved hours have been logged yet."})})]})]})]})},Mw=({members:t,onAddMember:e,onEditMember:n,onDeleteMember:i,onViewMember:s})=>c.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Collective Members"}),c.jsxs("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Member"]})]}),t.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("i",{className:"fa-solid fa-users text-6xl text-slate-300"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No members have been added."}),c.jsx("p",{className:"text-slate-500 mt-1",children:'Click "Add New Member" to build your collective!'})]}):c.jsx("ul",{className:"divide-y divide-slate-200",children:t.map(o=>c.jsxs("li",{className:"py-4 flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[c.jsxs("div",{className:"flex items-center mb-3 sm:mb-0",children:[c.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:o.imageUrl||`https://ui-avatars.com/api/?name=${o.firstName}+${o.lastName}&background=random`,alt:""}),c.jsxs("div",{className:"ml-4",children:[c.jsxs("p",{className:"text-lg font-semibold text-teal-700 hover:underline cursor-pointer",onClick:()=>s(o.id),children:[o.firstName," ",o.lastName]}),c.jsx("p",{className:"text-sm text-slate-500",children:o.email})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[c.jsxs("button",{onClick:()=>s(o.id),className:"px-3 py-1 text-sm text-slate-600 bg-white hover:bg-slate-50 rounded-md border border-slate-300","aria-label":`View ${o.firstName}`,children:[c.jsx("i",{className:"fa fa-eye mr-1"}),"View"]}),c.jsxs("button",{onClick:()=>n(o.id),className:"px-3 py-1 text-sm text-slate-600 bg-white hover:bg-slate-50 rounded-md border border-slate-300","aria-label":`Edit ${o.firstName}`,children:[c.jsx("i",{className:"fa fa-pencil mr-1"}),"Edit"]}),c.jsxs("button",{onClick:()=>i(o.id),className:"px-3 py-1 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-md border border-red-200","aria-label":`Delete ${o.firstName}`,children:[c.jsx("i",{className:"fa fa-trash-alt mr-1"}),"Delete"]})]})]},o.id))})]}),kw=({member:t,onSave:e,onCancel:n})=>{const[i,s]=ve.useState(t),o=ve.useCallback((d,h)=>{s(m=>({...m,[d]:h}))},[]),u=d=>{d.preventDefault(),e(i)};return c.jsxs("form",{onSubmit:u,className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsx("div",{className:"flex justify-between items-start mb-6 border-b pb-4",children:c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t.id?"Edit Member":"Add New Member"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(ot,{label:"First Name",htmlFor:"firstName",required:!0,children:c.jsx(kt,{id:"firstName",value:i.firstName,onChange:d=>o("firstName",d.target.value)})}),c.jsx(ot,{label:"Last Name",htmlFor:"lastName",required:!0,children:c.jsx(kt,{id:"lastName",value:i.lastName,onChange:d=>o("lastName",d.target.value)})})]}),c.jsx(ot,{label:"Member ID / Number",htmlFor:"memberId",children:c.jsx(kt,{id:"memberId",value:i.memberId,onChange:d=>o("memberId",d.target.value)})}),c.jsx(ot,{label:"Email",htmlFor:"email",required:!0,children:c.jsx(kt,{type:"email",id:"email",value:i.email,onChange:d=>o("email",d.target.value)})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ot,{label:"City",htmlFor:"city",children:c.jsx(kt,{id:"city",value:i.city,onChange:d=>o("city",d.target.value)})}),c.jsx(ot,{label:"Province/Territory",htmlFor:"province",children:c.jsx(Jt,{id:"province",options:rw,value:i.province,onChange:d=>o("province",d.target.value)})}),c.jsx(ot,{label:"Postal Code",htmlFor:"postalCode",children:c.jsx(kt,{id:"postalCode",value:i.postalCode,onChange:d=>o("postalCode",d.target.value)})})]}),c.jsx(ot,{label:"Image URL",htmlFor:"imageUrl",instructions:"A direct URL to a profile picture for this member.",children:c.jsx(kt,{id:"imageUrl",value:i.imageUrl,onChange:d=>o("imageUrl",d.target.value)})}),c.jsx(ot,{label:"Availability",htmlFor:"availability",children:c.jsx(Jt,{id:"availability",options:ow,value:i.availability,onChange:d=>o("availability",d.target.value)})}),c.jsx(ot,{label:"Short Bio",htmlFor:"shortBio",instructions:"A brief summary for quick reference.",children:c.jsx(oi,{id:"shortBio",rows:4,value:i.shortBio,onChange:d=>o("shortBio",d.target.value),wordLimit:250})}),c.jsx(ot,{label:"Full Artist Bio",htmlFor:"artistBio",instructions:"A more detailed biography for grant applications or press kits.",children:c.jsx(oi,{id:"artistBio",rows:8,value:i.artistBio,onChange:d=>o("artistBio",d.target.value),wordLimit:500})})]}),c.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-slate-200 mt-6 space-x-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Member"})]})]})},Ao=({label:t,value:e,children:n,className:i})=>c.jsxs("div",{className:i,children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:t}),e&&c.jsx("div",{className:"mt-1 text-slate-900",children:e}),n&&c.jsx("div",{className:"mt-1 text-slate-900 prose prose-slate max-w-none prose-p:my-1 prose-ul:my-1 whitespace-pre-wrap",children:n})]}),Dw=({status:t})=>{const e={Backlog:"bg-slate-100 text-slate-800","To Do":"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800"};return c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${e[t]||e.Backlog}`,children:t})},jw=({type:t})=>{const e={Paid:"bg-blue-100 text-blue-800","In-Kind":"bg-purple-100 text-purple-800",Volunteer:"bg-orange-100 text-orange-800"};return c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${e[t]}`,children:t})},Iw=({value:t,max:e,color:n="bg-teal-500",height:i="h-2"})=>{const s=e>0?Math.min(t/e*100,100):0;return c.jsx("div",{className:`w-full bg-slate-200 rounded-full ${i}`,children:c.jsx("div",{className:`${n} ${i} rounded-full transition-all duration-500`,style:{width:`${s}%`}})})},sy=t=>t.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Pw=t=>!t.isComplete&&t.dueDate&&new Date(t.dueDate)<new Date,Lw=({member:t,onBack:e})=>{const{state:{projects:n,tasks:i,activities:s}}=cn(),[o,u]=ve.useState("profile"),[d,h]=ve.useState(new Set),m=ve.useMemo(()=>new Map(n.map(E=>[E.id,E.projectTitle])),[n]),y=ve.useMemo(()=>{const E=i.filter(j=>j.assignedMemberId===t.id);return new Map(E.map(j=>[j.id,j]))},[i,t.id]),x=ve.useMemo(()=>{const E=s.filter(U=>U.memberId===t.id&&U.status==="Approved"),j=E.reduce((U,O)=>U+(O.hours||0),0),F=new Set(n.filter(U=>U.collaboratorDetails.some(O=>O.memberId===t.id)).map(U=>U.id)),B=n.filter(U=>["Pending","Active","On Hold"].includes(U.status)&&F.has(U.id)).length,H=n.filter(U=>["Completed","Terminated"].includes(U.status)&&F.has(U.id)).length,ee=i.filter(U=>U.assignedMemberId===t.id&&U.status==="Done").length,V=new Map;return E.forEach(U=>{const O=y.get(U.taskId);if(O){const ue=V.get(O.projectId)||0;V.set(O.projectId,ue+(U.hours||0))}}),{totalHoursAllTime:j,totalOngoingProjects:B,totalCompletedProjects:H,totalCompletedTasks:ee,hoursByProject:Array.from(V.entries()).map(([U,O])=>({projectId:U,projectName:m.get(U)||"Unknown Project",hours:O})).sort((U,O)=>O.hours-U.hours)}},[t.id,s,n,i,m,y]),T=E=>{h(j=>{const F=new Set(j);return F.has(E)?F.delete(E):F.add(E),F})},w=ve.useMemo(()=>n.filter(E=>E.collaboratorDetails.some(j=>j.memberId===t.id)).map(E=>{var U;const j=((U=E.collaboratorDetails.find(O=>O.memberId===t.id))==null?void 0:U.role)||"",F=Array.from(y.values()).filter(O=>O.projectId===E.id);let B=0,H=0;const ee=F.map(O=>{const I=s.filter($=>$.taskId===O.id&&$.memberId===t.id&&$.status==="Approved").map($=>{const K=($.hours||0)*(O.hourlyRate||0);return O.workType==="Paid"?B+=K:H+=K,{...$,value:K,workType:O.workType}}),k=I.reduce(($,K)=>$+(K.hours||0),0);return{...O,activities:I,loggedHours:k}}),V=ee.filter(O=>O.status==="Done").length;return{project:E,role:j,tasks:ee,completedTasks:V,totalPaidValue:B,totalInKindValue:H}}),[n,y,s,t.id]),C=Math.max(...x.hoursByProject.map(E=>E.hours),1),M=[{id:"profile",label:"Profile Information",icon:"fa-solid fa-user"},{id:"activity",label:"Activity Report",icon:"fa-solid fa-chart-line"}],D=()=>{switch(o){case"profile":const E=w.filter(B=>["Pending","Active","On Hold"].includes(B.project.status)),j=w.filter(B=>["Completed","Terminated"].includes(B.project.status)),F=B=>c.jsx("div",{className:"mt-2 space-y-3",children:B.map(H=>{const ee=d.has(H.project.id);return c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg",children:[c.jsxs("button",{onClick:()=>T(H.project.id),className:"w-full text-left p-3 flex flex-col gap-3 hover:bg-slate-100 rounded-t-lg transition-colors duration-150","aria-expanded":ee,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold text-slate-800",children:H.project.projectTitle}),H.role&&c.jsxs("span",{className:"text-slate-500 text-sm",children:[" as ",H.role]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"px-2.5 py-1 text-xs font-semibold text-teal-800 bg-teal-100 rounded-full",children:[H.tasks.length," Task",H.tasks.length!==1?"s":""]}),c.jsx("i",{className:`fa-solid fa-chevron-down text-slate-500 transition-transform ${ee?"rotate-180":""}`})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[c.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"Task Progress"}),c.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",children:[H.completedTasks," / ",H.tasks.length," Done"]})]}),c.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[c.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"Total Paid"}),c.jsx("div",{className:"text-sm font-bold text-blue-600 mt-1",children:sy(H.totalPaidValue)})]}),c.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[c.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"In-Kind Value"}),c.jsx("div",{className:"text-sm font-bold text-purple-600 mt-1",children:sy(H.totalInKindValue)})]})]})]}),ee&&c.jsx("div",{className:"border-t border-slate-200 bg-white p-3 space-y-3",children:H.tasks.length>0?H.tasks.map(V=>c.jsxs("div",{className:"bg-white border border-slate-200 rounded-md p-3",children:[c.jsxs("div",{className:"flex justify-between items-start gap-2",children:[c.jsx("h4",{className:"font-bold text-slate-800",children:V.title}),c.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[c.jsx(Dw,{status:V.status}),c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:V.taskCode})]})]}),c.jsxs("p",{className:`text-xs mt-1 ${Pw(V)?"text-red-500 font-bold":"text-slate-500"}`,children:["Due: ",V.dueDate?new Date(V.dueDate).toLocaleDateString():"N/A"]}),c.jsx("p",{className:"text-sm text-slate-600 my-2",children:V.description}),V.taskType==="Time-Based"&&c.jsxs("div",{className:"my-3",children:[c.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 mb-1",children:[c.jsx("span",{children:"Hours Logged"}),c.jsxs("span",{children:[V.loggedHours.toFixed(1)," / ",V.estimatedHours,"h"]})]}),c.jsx(Iw,{value:V.loggedHours,max:V.estimatedHours})]}),V.activities.length>0&&c.jsxs("div",{className:"mt-3",children:[c.jsx("h5",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Approved Activity Logs:"}),c.jsx("table",{className:"min-w-full text-xs",children:c.jsx("tbody",{className:"divide-y divide-slate-100",children:V.activities.map(U=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-1.5 pr-2 w-full",children:U.description}),c.jsx("td",{className:"py-1.5 px-2 whitespace-nowrap",children:new Date(U.endDate).toLocaleDateString()}),c.jsxs("td",{className:"py-1.5 px-2 whitespace-nowrap font-bold",children:[U.hours,"h"]}),c.jsx("td",{className:"py-1.5 pl-2 text-right",children:c.jsx(jw,{type:U.workType})})]},U.id))})})]})]},V.id)):c.jsx("p",{className:"text-slate-500 italic text-center py-4",children:"No tasks assigned for this project."})})]},H.project.id)})});return c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"md:col-span-1 flex flex-col items-center",children:[c.jsx("img",{className:"h-48 w-48 rounded-full object-cover shadow-lg border-4 border-white",src:t.imageUrl||`https://ui-avatars.com/api/?name=${t.firstName}+${t.lastName}&background=random&size=256`,alt:`Profile of ${t.firstName} ${t.lastName}`}),c.jsxs("div",{className:"mt-6 w-full space-y-4 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[c.jsx(Ao,{label:"Email",value:c.jsx("a",{href:`mailto:${t.email}`,className:"text-teal-600 hover:underline break-all",children:t.email})}),c.jsx(Ao,{label:"Location",value:`${t.city||"N/A"}, ${t.province}`}),c.jsx(Ao,{label:"Availability",value:t.availability||"N/A"}),c.jsx(Ao,{label:"Member ID",value:t.memberId||"N/A"})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsx(Ao,{label:"Short Bio",children:c.jsx("p",{children:t.shortBio||"No short bio provided."})}),c.jsx(Ao,{label:"Full Artist Bio",children:c.jsx("p",{children:t.artistBio||"No full artist bio provided."})})]})]}),c.jsxs("div",{className:"mt-12 space-y-8",children:[c.jsx(Ao,{label:"Active & Ongoing Projects",children:E.length>0?F(E):c.jsx("p",{className:"text-slate-500 italic mt-2",children:"No active project assignments."})}),c.jsx(Ao,{label:"Completed Projects",children:j.length>0?F(j):c.jsx("p",{className:"text-slate-500 italic mt-2",children:"No completed project assignments."})})]})]});case"activity":return c.jsx("div",{className:"space-y-8",children:c.jsxs(Ao,{label:"Contribution Snapshot",children:[c.jsxs("div",{className:"bg-slate-50/70 border border-slate-200 rounded-lg p-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[c.jsx("p",{className:"text-4xl font-extrabold text-red-600",children:x.totalHoursAllTime.toFixed(1)}),c.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Hours Logged"})]}),c.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[c.jsx("p",{className:"text-4xl font-extrabold text-teal-600",children:x.totalOngoingProjects}),c.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Active & Ongoing Projects"})]}),c.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[c.jsx("p",{className:"text-4xl font-extrabold text-green-600",children:x.totalCompletedProjects}),c.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Completed Projects"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-4xl font-extrabold text-blue-600",children:x.totalCompletedTasks}),c.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Completed Tasks"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Hours by Project"}),c.jsx("div",{className:"space-y-2",children:x.hoursByProject.map(B=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[c.jsx("span",{className:"text-slate-700",children:B.projectName}),c.jsxs("span",{className:"text-slate-500",children:[B.hours.toFixed(1),"h"]})]}),c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:c.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${B.hours/C*100}%`}})})]},B.projectId))})]})]})});default:return null}};return c.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-200 pb-5",children:[c.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[t.firstName," ",t.lastName]}),c.jsxs("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 shadow-sm",children:[c.jsx("i",{className:"fa fa-arrow-left mr-2"}),"Back to List"]})]}),c.jsx("div",{className:"border-b border-slate-200 mb-8",children:c.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:M.map(E=>c.jsxs("button",{type:"button",onClick:()=>u(E.id),className:`group whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md flex items-center gap-2 ${o===E.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":o===E.id?"page":void 0,children:[c.jsx("i",{className:`${E.icon} ${o===E.id?"text-teal-600":"text-slate-400 group-hover:text-slate-600"}`}),E.label]},E.id))})}),c.jsx("div",{children:D()})]})},Rw=()=>{const{state:t,dispatch:e,notify:n}=cn(),{members:i}=t,[s,o]=ve.useState("list"),[u,d]=ve.useState(null),[h,m]=ve.useState(!1),[y,x]=ve.useState(null),T=()=>{const B={...Q5,id:`mem_${Date.now()}`};d(B),o("edit")},w=B=>{const H=i.find(ee=>ee.id===B);H&&(d(H),o("view"))},C=B=>{const H=i.find(ee=>ee.id===B);H&&(d(H),o("edit"))},M=B=>{x(B),m(!0)},D=()=>{y&&(e({type:"DELETE_MEMBER",payload:y}),n("Member deleted and unassigned from all projects and tasks.","success"),o("list"),d(null),m(!1),x(null))},E=B=>{const H=!i.some(V=>V.id===B.id),ee=H?[...i,B]:i.map(V=>V.id===B.id?B:V);e({type:"SET_MEMBERS",payload:ee}),n(H?"Member added successfully!":"Member updated successfully!","success"),o("list"),d(null)},j=()=>{o("list"),d(null)},F=()=>{switch(s){case"edit":return u&&c.jsx(kw,{member:u,onSave:E,onCancel:j},u.id);case"view":return u&&c.jsx(Lw,{member:u,onBack:j});case"list":default:return c.jsx(Mw,{members:i,onAddMember:T,onEditMember:C,onDeleteMember:M,onViewMember:w})}};return c.jsx("div",{className:"font-sans text-slate-800",children:c.jsxs("main",{className:"w-full",children:[F(),h&&c.jsx(Vr,{isOpen:h,onClose:()=>m(!1),onConfirm:D,title:"Delete Member",message:c.jsxs(c.Fragment,{children:["Are you sure you want to delete this member?",c.jsx("br",{}),"They will be removed from all projects and unassigned from all tasks.",c.jsx("strong",{className:"font-bold text-red-700",children:" This action cannot be undone."})]}),confirmButtonText:"Delete Member"})]})})},Fw=t=>{const e="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",n={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${e} ${n[t]||n.Backlog}`},Oh=t=>!t.isComplete&&t.dueDate&&new Date(t.dueDate)<new Date,Ow=({task:t,onEditTask:e,onDeleteTask:n,projectMap:i,assigneeName:s})=>c.jsxs("div",{className:`bg-white p-4 rounded-lg border shadow-sm ${Oh(t)?"border-red-300":"border-slate-200"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"font-bold text-slate-800 pr-2",children:t.title}),c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded flex-shrink-0",children:t.taskCode})]}),c.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-3",children:i.get(t.projectId)||"N/A"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4 h-10 overflow-hidden",children:t.description}),c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsxs("span",{className:"text-slate-500",children:["Due: ",c.jsx("span",{className:Oh(t)?"font-bold text-red-600":"font-medium text-slate-700",children:t.dueDate?new Date(t.dueDate).toLocaleDateString():"N/A"})]}),c.jsx("span",{className:"text-slate-500",children:s})]}),c.jsxs("div",{className:"flex justify-end items-center mt-4 pt-3 border-t border-slate-200 space-x-2",children:[c.jsx("button",{onClick:()=>e(t.id),className:"px-2 py-1 text-xs font-medium text-teal-700 bg-teal-50 hover:bg-teal-100 rounded-md",children:"Edit"}),c.jsx("button",{onClick:()=>n(t.id),className:"px-2 py-1 text-xs font-medium text-red-700 bg-red-50 hover:bg-red-100 rounded-md",children:"Delete"})]})]}),Bw=({tasks:t,onAddTask:e,onEditTask:n,onDeleteTask:i,onToggleTaskComplete:s,selectedProjectId:o})=>{const{state:{projects:u,members:d}}=cn(),[h,m]=ve.useState("list"),[y,x]=ve.useState(""),[T,w]=ve.useState(""),[C,M]=ve.useState("updatedAt"),[D,E]=ve.useState("desc"),[j,F]=ve.useState("all"),[B,H]=ve.useState(null),ee=ve.useMemo(()=>new Map(d.map(I=>[I.id,`${I.firstName} ${I.lastName}`])),[d]),V=ve.useMemo(()=>new Map(u.map(I=>[I.id,I.projectTitle])),[u]),U=ve.useMemo(()=>t.filter(k=>{const $=!o||k.projectId===o,K=!y||k.assignedMemberId===y,ce=V.get(k.projectId)||"",q=!T||k.title.toLowerCase().includes(T.toLowerCase())||k.description.toLowerCase().includes(T.toLowerCase())||k.taskCode&&k.taskCode.toLowerCase().includes(T.toLowerCase())||ce.toLowerCase().includes(T.toLowerCase()),G=new Date,ne=new Date(G.getTime()+7*24*60*60*1e3),oe=j==="all"||j==="overdue"&&Oh(k)||j==="dueThisWeek"&&k.dueDate&&new Date(k.dueDate)>=G&&new Date(k.dueDate)<=ne||j==="todo"&&k.status==="To Do"||j==="inProgress"&&k.status==="In Progress"||j==="done"&&k.status==="Done";return $&&K&&q&&oe}).sort((k,$)=>{let K=0;switch(C){case"dueDate":K=(k.dueDate?new Date(k.dueDate).getTime():1/0)-($.dueDate?new Date($.dueDate).getTime():1/0);break;case"assignee":K=(ee.get(k.assignedMemberId)||"Z").localeCompare(ee.get($.assignedMemberId)||"Z");break;case"updatedAt":default:K=($.updatedAt?new Date($.updatedAt).getTime():0)-(k.updatedAt?new Date(k.updatedAt).getTime():0);break}return D==="asc"?K:-K}),[t,o,y,T,V,C,D,j,ee]),O=ve.useMemo(()=>U.reduce((I,k)=>(I[k.status]||(I[k.status]=[]),I[k.status].push(k),I),{}),[U]),ue=I=>{s(I),H(I),setTimeout(()=>{H(null)},1500)};return c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 flex-grow",children:[c.jsx(kt,{placeholder:"Search tasks...",value:T,onChange:I=>w(I.target.value),className:"lg:col-span-2"}),c.jsx(Jt,{value:j,onChange:I=>F(I.target.value),options:N2}),c.jsx(Jt,{value:y,onChange:I=>x(I.target.value),options:[{value:"",label:"All Members"},...d.map(I=>({value:I.id,label:`${I.firstName} ${I.lastName}`}))]}),c.jsxs("div",{className:"flex",children:[c.jsx(Jt,{className:"rounded-r-none",value:C,onChange:I=>M(I.target.value),options:A2}),c.jsx("button",{onClick:()=>E(I=>I==="asc"?"desc":"asc"),className:"px-3 bg-slate-200 text-slate-600 rounded-r-md border-y border-r border-slate-400 hover:bg-slate-300",title:`Sort direction: ${D==="asc"?"Ascending":"Descending"}`,children:c.jsx("i",{className:`fa-solid ${D==="asc"?"fa-arrow-up":"fa-arrow-down"}`})})]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[c.jsxs("div",{className:"bg-slate-200 p-1 rounded-lg flex",children:[c.jsx("button",{onClick:()=>m("list"),className:`px-3 py-1 text-sm font-semibold rounded-md ${h==="list"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-500"}`,children:"List"}),c.jsx("button",{onClick:()=>m("board"),className:`px-3 py-1 text-sm font-semibold rounded-md ${h==="board"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-500"}`,children:"Board"})]}),c.jsxs("button",{onClick:e,disabled:!o,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",title:o?"Add New Task":"Please select a project to add a task",children:[c.jsx("i",{className:"fa fa-plus mr-2"}),"Add Task"]})]})]}),h==="list"&&c.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:U.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-check-double text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No tasks found"}),c.jsx("p",{className:"text-slate-500 mt-2 text-base",children:'Select a project and click "Add Task", or adjust your filters.'})]}):c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Task"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Assignee"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Status"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Dates"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Updated"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:U.map(I=>{var $;const k=Oh(I);return c.jsxs("tr",{className:`transition-colors duration-500 ${B===I.id?"bg-teal-50":""} ${k?"bg-red-50 hover:bg-red-100":"hover:bg-slate-50"}`,children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-xs font-bold bg-slate-200 text-slate-600 rounded-md px-2 py-1",children:I.taskCode||"N/A"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-slate-900",children:I.title}),c.jsx("div",{className:"text-sm text-slate-500",children:V.get(I.projectId)||"N/A"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex items-center",children:I.assignedMemberId&&ee.has(I.assignedMemberId)?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:c.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:(($=d.find(K=>K.id===I.assignedMemberId))==null?void 0:$.imageUrl)||`https://ui-avatars.com/api/?name=${ee.get(I.assignedMemberId)}&background=random`,alt:""})}),c.jsx("div",{className:"ml-3",children:c.jsx("div",{className:"text-sm font-medium text-slate-900",children:ee.get(I.assignedMemberId)||"Unassigned"})})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Unassigned"})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.taskType==="Milestone"?c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`complete-${I.id}`,checked:I.isComplete,onChange:()=>ue(I.id),className:"h-5 w-5 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),c.jsx("label",{htmlFor:`complete-${I.id}`,className:"ml-2 text-sm font-medium text-slate-700",children:I.isComplete?"Complete":"Incomplete"})]}):c.jsx("span",{className:Fw(I.status),children:I.status})}),c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${k?"text-red-600 font-semibold":"text-slate-600"}`,children:I.dueDate?new Date(I.dueDate).toLocaleDateString():"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:I.updatedAt?new Date(I.updatedAt).toLocaleDateString():"N/A"}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>n(I.id),className:"text-teal-600 hover:text-teal-900 mr-4 font-semibold",children:"Edit"}),c.jsx("button",{onClick:()=>i(I.id),className:"text-red-600 hover:text-red-900 font-semibold",children:"Delete"})]})]},I.id)})})]})}),h==="board"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["To Do","In Progress","Done","Backlog"].map(I=>c.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[c.jsxs("h3",{className:"font-bold text-slate-700 mb-4 px-2",children:[I," ",c.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",(O[I]||[]).length,")"]})]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(O[I]||[]).map(k=>c.jsx(Ow,{task:k,onEditTask:n,onDeleteTask:i,projectMap:V,assigneeName:ee.get(k.assignedMemberId)||"Unassigned"},k.id)),(!O[I]||O[I].length===0)&&c.jsx("div",{className:"text-center text-sm text-slate-400 p-8 border-2 border-dashed border-slate-300 rounded-lg",children:"Empty"})]})]},I))})]})},gh=t=>t.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Uw=(t=[])=>t.reduce((e,n)=>e+(n.amount||0),0),qw=t=>{const e="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",n={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${e} ${n[t]||n.Backlog}`},ry=({title:t,tasks:e,members:n,budgeted:i,allActivities:s})=>{const[o,u]=ve.useState(new Set),d=T=>{u(w=>{const C=new Set(w);return C.has(T)?C.delete(T):C.add(T),C})},{actualPaid:h,contributedValue:m}=ve.useMemo(()=>{let T=0,w=0;return e.forEach(C=>{if(C.taskType==="Milestone")return;s.filter(D=>D.taskId===C.id&&D.status==="Approved").forEach(D=>{const E=(D.hours||0)*(C.hourlyRate||0);C.workType==="Paid"?T+=E:w+=E})}),{actualPaid:T,contributedValue:w}},[e,s]),y=i-h,x=T=>s.filter(w=>w.taskId===T&&w.status==="Approved").reduce((w,C)=>w+(C.hours||0),0);return c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:t}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center my-4 border-y border-slate-200 py-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Budgeted"}),c.jsx("div",{className:"text-xl font-bold text-slate-700",children:gh(i)})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-wider flex items-center justify-center gap-1",children:[c.jsx("span",{children:"Actual Paid"}),c.jsxs("div",{className:"relative group",children:[c.jsx("i",{className:"fa-solid fa-circle-info text-slate-400 cursor-help"}),c.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-2 bg-slate-700 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 text-center",children:"Actuals include the value of 'Approved' time logs for tasks in this category. Direct expenses are not included in this workplan view."})]})]}),c.jsx("div",{className:"text-xl font-bold text-blue-600",children:gh(h)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Contributed"}),c.jsx("div",{className:"text-xl font-bold text-teal-600",children:gh(m)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Variance"}),c.jsx("div",{className:`text-xl font-bold ${y>=0?"text-green-600":"text-red-600"}`,children:gh(y)})]})]}),e.length>0?c.jsxs("table",{className:"min-w-full mt-3",children:[c.jsx("thead",{className:"sr-only",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Task"}),c.jsx("th",{children:"Assignee"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Hours"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(T=>{const w=n.find(j=>j.id===T.assignedMemberId),C=x(T.id),M=s.filter(j=>j.taskId===T.id&&j.status==="Approved"),D=o.has(T.id),E=T.taskType==="Milestone";return c.jsxs(kg.Fragment,{children:[c.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>d(T.id),children:[c.jsx("td",{className:"py-2.5 pr-2",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("i",{className:`fa-solid fa-chevron-right text-xs text-slate-400 mr-3 transition-transform ${D?"rotate-90":""}`}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-slate-800 flex items-center gap-2",children:[c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:T.taskCode}),c.jsx("span",{children:T.title})]}),c.jsx("div",{className:"text-xs text-slate-500",children:T.dueDate?new Date(T.dueDate).toLocaleDateString():"No due date"})]})]})}),c.jsx("td",{className:"py-2.5 px-2 text-sm text-slate-600 whitespace-nowrap",children:w?`${w.firstName} ${w.lastName}`:"Unassigned"}),c.jsx("td",{className:"py-2.5 px-2 whitespace-nowrap",children:E?c.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${T.isComplete?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:T.isComplete?"Milestone Complete":"Milestone"}):c.jsx("span",{className:qw(T.status),children:T.status})}),c.jsx("td",{className:"py-2.5 pl-2 text-right text-sm text-slate-600 whitespace-nowrap",children:!E&&c.jsxs(c.Fragment,{children:[c.jsxs("span",{title:"Actual Hours",className:"font-bold",children:[C,"h"]})," / ",c.jsxs("span",{title:"Estimated Hours",children:[T.estimatedHours,"h"]})]})})]}),D&&!E&&M.length>0&&c.jsx("tr",{className:"bg-slate-50",children:c.jsx("td",{colSpan:4,className:"p-0",children:c.jsxs("div",{className:"px-6 py-3",children:[c.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase mb-2 ml-4",children:"Approved Activities"}),c.jsx("table",{className:"min-w-full",children:c.jsx("tbody",{className:"divide-y divide-slate-200",children:M.map(j=>{const F=n.find(B=>B.id===j.memberId);return c.jsxs("tr",{children:[c.jsx("td",{className:"py-2 pl-6 pr-2 text-sm text-slate-600 w-1/3",children:j.description}),c.jsx("td",{className:"py-2 px-2 text-sm text-slate-500 w-1/4",children:F?`${F.firstName} ${F.lastName}`:"Unknown"}),c.jsx("td",{className:"py-2 px-2 text-sm text-slate-500 w-1/4",children:new Date(j.endDate).toLocaleDateString()}),c.jsxs("td",{className:"py-2 pl-2 pr-6 text-sm text-slate-600 text-right font-medium w-auto",children:[j.hours,"h"]})]},j.id)})})})]})})}),D&&!E&&M.length===0&&c.jsx("tr",{className:"bg-slate-50",children:c.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-slate-500 italic",children:"No approved time has been logged for this task."})})]},T.id)})})]}):c.jsx("p",{className:"text-sm text-slate-400 italic text-center py-2",children:"No tasks in this category."})]})},Vw=({selectedProjectId:t})=>{const{state:{tasks:e,projects:n,members:i,activities:s}}=cn(),o=Object.entries(Fa).map(([d,h])=>{const m=d.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase());return{key:d,label:m,fields:h}}),u=ve.useMemo(()=>{const d=n.filter(h=>e.some(m=>m.projectId===h.id));return t?d.filter(h=>h.id===t):d},[n,e,t]);return u.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-file-signature text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:t?"No Tasks for This Project":"No Projects with Tasks"}),c.jsx("p",{className:"text-slate-500 mt-2 text-base",children:t?"Create a task for this project to see it in the report.":"Assign tasks to a project to see the workplan report."})]}):c.jsx("div",{className:"space-y-12",children:u.map(d=>{const h=e.filter(y=>y.projectId===d.id),m=h.filter(y=>!y.budgetItemId);return c.jsxs("div",{className:"bg-slate-50 p-4 sm:p-6 rounded-lg",children:[c.jsx("h3",{className:"text-2xl font-bold text-teal-700 border-b-2 border-teal-200 pb-3",children:d.projectTitle}),o.map(y=>{const x=new Set(d.budget.expenses[y.key].map(C=>C.id)),T=h.filter(C=>C.taskType==="Time-Based"&&x.has(C.budgetItemId)),w=Uw(d.budget.expenses[y.key]);return T.length===0&&w===0?null:c.jsx(ry,{title:`Expenses: ${y.label}`,tasks:T,members:i,budgeted:w,allActivities:s},y.key)}),m.length>0&&c.jsx(ry,{title:"Uncategorized Tasks",tasks:m,members:i,budgeted:0,allActivities:s})]},d.id)})})},zw=t=>`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${{Approved:"bg-green-100 text-green-800",Pending:"bg-yellow-100 text-yellow-800"}[t]}`,Hw=t=>{const e="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",n={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${e} ${n[t]||n.Backlog}`},Gw=({task:t,projectMap:e,memberMap:n,onAddActivityForTask:i})=>{const s=n.get(t.assignedMemberId)||"Unassigned";return c.jsxs("tr",{className:"bg-slate-50/70 hover:bg-slate-100 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-900 flex items-center gap-2",children:[c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:t.taskCode}),c.jsx("span",{children:t.title})]}),c.jsx("div",{className:"text-xs text-slate-500 mb-1",children:e.get(t.projectId)}),c.jsx("p",{className:"text-sm text-slate-500 italic",children:"No activity logged"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:s}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:Hw(t.status),children:t.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("button",{onClick:()=>i(t.id),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:[c.jsx("i",{className:"fa fa-plus-circle mr-2"}),"Log Activity"]})})]})},$w=({activity:t,taskMap:e,projectMap:n,memberMap:i,onApproveActivity:s,onEditActivity:o,onDeleteActivity:u})=>{const d=e.get(t.taskId),h=i.get(t.memberId)||"Unknown",m=d?n.get(d.projectId):"Unknown";return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-900 flex items-center gap-2",children:[(d==null?void 0:d.taskCode)&&c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:d.taskCode}),c.jsx("span",{children:(d==null?void 0:d.title)||"Task not found"})]}),c.jsx("div",{className:"text-xs text-slate-500 mb-1",children:m}),c.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap max-w-sm",children:t.description})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-800",children:h}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[c.jsxs("div",{children:[new Date(t.startDate).toLocaleDateString()," - ",new Date(t.endDate).toLocaleDateString()]}),t.startTime&&t.endTime&&c.jsxs("div",{className:"text-xs text-slate-500",children:["(",t.startTime," - ",t.endTime,")"]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-800 font-semibold",children:[t.hours,"h"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:zw(t.status),children:t.status})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[t.status==="Pending"&&c.jsx("button",{onClick:()=>s(t.id),className:"text-green-600 hover:text-green-900 font-semibold",children:"Approve"}),c.jsx("button",{onClick:()=>o(t.id),className:"text-teal-600 hover:text-teal-900 font-semibold",children:"Edit"}),c.jsx("button",{onClick:()=>u(t.id),className:"text-red-600 hover:text-red-900 font-semibold",children:"Delete"})]})]})},Yw=({onAddActivity:t,onEditActivity:e,onDeleteActivity:n,onApproveActivity:i,onAddActivityForTask:s,selectedProjectId:o,searchTerm:u,setSearchTerm:d,filterMember:h,setFilterMember:m})=>{const{state:{activities:y,tasks:x,projects:T,members:w}}=cn(),[C,M]=ve.useState("date-desc"),[D,E]=ve.useState("all"),[j,F]=ve.useState(!0),B=ve.useMemo(()=>new Map(x.map(O=>[O.id,O])),[x]),H=ve.useMemo(()=>new Map(T.map(O=>[O.id,O.projectTitle])),[T]),ee=ve.useMemo(()=>new Map(w.map(O=>[O.id,`${O.firstName} ${O.lastName}`])),[w]),{sortedActivities:V,placeholderTasks:U}=ve.useMemo(()=>{const O=u.toLowerCase(),ue=y.filter(K=>{var L;const ce=B.get(K.taskId);if(!ce||!(!o||ce.projectId===o))return!1;const G=!h||K.memberId===h,ne=D==="all"||K.status.toLowerCase()===D,oe=((L=ee.get(K.memberId))==null?void 0:L.toLowerCase())||"",P=ce.title.toLowerCase(),ae=!u||K.description.toLowerCase().includes(O)||P.includes(O)||oe.includes(O);return G&&ne&&ae}),I=ue.sort((K,ce)=>{switch(C){case"date-asc":return new Date(K.endDate).getTime()-new Date(ce.endDate).getTime();case"updatedAt":return(ce.updatedAt?new Date(ce.updatedAt).getTime():0)-(K.updatedAt?new Date(K.updatedAt).getTime():0);case"date-desc":default:return new Date(ce.endDate).getTime()-new Date(K.endDate).getTime()}}),k=new Set(ue.map(K=>K.taskId)),$=x.filter(K=>!(!o||K.projectId===o)||!(!h||K.assignedMemberId===h)?!1:!k.has(K.id)&&K.taskType==="Time-Based");return{sortedActivities:I,placeholderTasks:$}},[y,x,o,h,D,u,C,B,ee]);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 flex-grow",children:[c.jsx(kt,{placeholder:"Search descriptions, tasks...",value:u,onChange:O=>d(O.target.value)}),c.jsx(Jt,{value:h,onChange:O=>m(O.target.value),options:[{value:"",label:"All Members"},...w.map(O=>({value:O.id,label:`${O.firstName} ${O.lastName}`}))]}),c.jsx(Jt,{value:D,onChange:O=>E(O.target.value),options:iw}),c.jsx(Jt,{value:C,onChange:O=>M(O.target.value),options:nw})]}),c.jsxs("button",{onClick:t,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Activity"]})]}),c.jsx("div",{className:"flex justify-end mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"show-placeholders",checked:j,onChange:()=>F(!j),className:"h-4 w-4 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),c.jsx("label",{htmlFor:"show-placeholders",className:"ml-2 block text-sm text-slate-700",children:"Show tasks awaiting activity logs"})]})}),c.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:V.length===0&&(!j||U.length===0)?c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-hourglass-end text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No Activities Found"}),c.jsx("p",{className:"text-slate-500 mt-2 text-base",children:"Try adjusting your filters or add a new activity."})]}):c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Task / Description"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Member"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Date"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Hours"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Updated"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Status"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[V.map(O=>c.jsx($w,{activity:O,taskMap:B,projectMap:H,memberMap:ee,onApproveActivity:i,onEditActivity:e,onDeleteActivity:n},O.id)),j&&U.map(O=>c.jsx(Gw,{task:O,projectMap:H,memberMap:ee,onAddActivityForTask:s},`ph-${O.id}`))]})]})})]})},Ww=()=>{const{state:t,dispatch:e,notify:n}=cn(),{tasks:i,projects:s,members:o,activities:u}=t,[d,h]=ve.useState("workplan"),[m,y]=ve.useState(""),[x,T]=ve.useState(!1),[w,C]=ve.useState(null),[M,D]=ve.useState(!1),[E,j]=ve.useState(null),[F,B]=ve.useState(""),[H,ee]=ve.useState(""),[V,U]=ve.useState(!1),[O,ue]=ve.useState(null),I=()=>{const ie=s.find(he=>he.id===m);let X="";if(ie){const he=(ie.projectTitle.match(/\b(\w)/g)||["T"]).join("").toUpperCase().substring(0,4),fe=i.filter(je=>je.projectId===m&&je.taskCode.startsWith(he));let Ce=0;fe.forEach(je=>{const ze=je.taskCode.split("-")[1];if(ze){const Ye=parseInt(ze,10);!isNaN(Ye)&&Ye>Ce&&(Ce=Ye)}}),X=`${he}-${Ce+1}`}else X=`TASK-${i.filter(he=>!he.projectId).length+1}`;const pe={...Fh,id:`task_${Date.now()}`,projectId:m,taskCode:X};C(pe),T(!0)},k=ie=>{const X=i.find(pe=>pe.id===ie);X&&(C(X),T(!0))},$=ie=>{ue(ie),U(!0)},K=()=>{O&&(e({type:"DELETE_TASK",payload:O}),n("Task and related activities deleted.","success"),U(!1),ue(null))},ce=ie=>{const X=!i.some(fe=>fe.id===ie.id),pe=new Date().toISOString(),he={...ie,updatedAt:pe};e({type:X?"ADD_TASK":"UPDATE_TASK",payload:he}),n(X?"Task created successfully!":"Task updated successfully!","success"),T(!1),C(null)},q=ie=>{const X=i.find(pe=>pe.id===ie);if(X){const pe={...X,isComplete:!X.isComplete,status:X.isComplete?"To Do":"Done",updatedAt:new Date().toISOString()};e({type:"UPDATE_TASK",payload:pe}),n(X.isComplete?`Task '${X.title}' marked as incomplete.`:`Task '${X.title}' marked as complete.`,"success")}},G=()=>{const ie={...Jm,id:"",createdAt:""};j(ie),D(!0)},ne=ie=>{const X=i.find(he=>he.id===ie);if(!X)return;const pe={...Jm,taskId:X.id,description:""};j(pe),D(!0)},oe=ie=>{const X=u.find(pe=>pe.id===ie);X&&(j(X),D(!0))},P=ie=>{window.confirm("Are you sure you want to delete this activity?")&&(e({type:"DELETE_ACTIVITY",payload:ie}),n("Activity deleted.","success"))},ae=ie=>{e({type:"APPROVE_ACTIVITY",payload:ie}),n("Activity approved.","success")},L=ie=>{const X=new Date().toISOString();if(ie.id&&ie.createdAt){const he={...ie,updatedAt:X};delete he.memberIds,e({type:"UPDATE_ACTIVITY",payload:he}),n("Activity updated successfully!","success")}else if(ie.memberIds&&ie.memberIds.length>0){const{memberIds:he,...fe}=ie,Ce=he.map(je=>({...fe,id:`act_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,memberId:je,status:"Pending",createdAt:X,updatedAt:X}));e({type:"ADD_ACTIVITIES",payload:Ce}),n(`${Ce.length} new activity log(s) created!`,"success"),B(""),ee("")}D(!1),j(null)},J=ie=>{y(ie),B(""),ee("")},Y=()=>{const ie=[{value:"",label:"All Projects"},...s.map(pe=>({value:pe.id,label:pe.projectTitle}))],X=i.filter(pe=>!m||pe.projectId===m);return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b border-slate-200 pb-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Task & Activity Management"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Select a project and view to manage your workplan."})]}),c.jsx("div",{className:"w-full md:w-64",children:c.jsx(ot,{label:"Filter by Project",htmlFor:"project_filter",className:"mb-0",children:c.jsx(Jt,{id:"project_filter",value:m,onChange:pe=>J(pe.target.value),options:ie})})})]}),c.jsx("div",{className:"border-b border-slate-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:["workplan","tasks","activities"].map(pe=>c.jsx("button",{type:"button",onClick:()=>h(pe),className:`whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md capitalize ${d===pe?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:pe==="workplan"?"Workplan Report":pe},pe))})}),c.jsxs("div",{className:"py-2",children:[d==="workplan"&&c.jsx(Vw,{selectedProjectId:m}),d==="tasks"&&c.jsx(Bw,{tasks:X,onAddTask:I,onEditTask:k,onDeleteTask:$,onToggleTaskComplete:q,selectedProjectId:m}),d==="activities"&&c.jsx(Yw,{onAddActivity:G,onEditActivity:oe,onDeleteActivity:P,onApproveActivity:ae,onAddActivityForTask:ne,selectedProjectId:m,searchTerm:F,setSearchTerm:B,filterMember:H,setFilterMember:ee})]}),x&&w&&c.jsx(E2,{task:w,onSave:ce,onCancel:()=>T(!1)}),M&&E&&c.jsx(M2,{activity:E,onSave:L,onCancel:()=>D(!1),selectedProjectId:m}),V&&c.jsx(Vr,{isOpen:V,onClose:()=>U(!1),onConfirm:K,title:"Delete Task",message:"Are you sure you want to delete this task? All associated time tracking activities will also be deleted. This cannot be undone.",confirmButtonText:"Delete Task"})]})};return c.jsx("div",{className:"font-sans text-slate-800",children:c.jsx("main",{className:"w-full",children:Y()})})},Ra=t=>(t||0).toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Ts=({title:t,className:e=""})=>c.jsx("div",{className:`bg-slate-700 text-white font-semibold p-1.5 mt-4 text-sm ${e}`,children:t}),Ji=({headers:t,rows:e,isTotal:n=!1})=>c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm border-collapse border border-slate-300",children:[!n&&c.jsx("thead",{children:c.jsx("tr",{children:t.map((i,s)=>c.jsx("th",{className:`p-2 border border-slate-300 bg-slate-100 font-semibold text-slate-600 text-left ${i.toLowerCase().includes("projected")||i.toLowerCase().includes("actual")||i.toLowerCase().includes("requested")||i.toLowerCase().includes("awarded")||i.toLowerCase().includes("capacity")||i.toLowerCase().includes("price")||i.toLowerCase().includes("audience")?"text-right":""}`,children:i},s))})}),c.jsx("tbody",{children:e.map((i,s)=>c.jsx("tr",{className:"border-t border-slate-300 bg-white hover:bg-slate-50",children:i.map((o,u)=>c.jsx("td",{className:`p-2 border-b border-slate-300 ${n?"font-bold":""} ${typeof o=="number"||typeof o=="string"&&o.startsWith("$")?"text-right":""}`,children:o},u))},s))})]})}),Jw=({project:t,actuals:e,settings:n})=>{const i=t.budget,{revenueLabels:s,expenseLabels:o}=n.budget,u=ve.useMemo(()=>{const M=Object.values(_l).flat();return new Map(M.map(D=>[D.key,s[D.key]!==void 0&&s[D.key]!==""?s[D.key]:D.label]))},[s]),d=ve.useMemo(()=>{const M=Object.values(Fa).flat();return new Map(M.map(D=>[D.key,o[D.key]!==void 0&&o[D.key]!==""?o[D.key]:D.label]))},[o]),{totalRevenue:h,totalExpenses:m,projectedAudience:y,totalTickets:x}=Pg(i),T=Array.from(e.values()).reduce((M,D)=>M+D,0),w=M=>e.get(M)||0,C=(M,D,E=!0)=>M.map(j=>{const F=j.amount||0,B=w(j.id),H=[D.get(j.source)||j.source];return E?(H.push(Ra(F)),H.push(Ra(B)),H.push(j.description)):(H.push(Ra(F)),H.push(Ra(B))),H});return c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Budget Report"}),c.jsxs("div",{className:"bg-slate-50 border p-4 rounded-md mt-6",children:[c.jsx(Ts,{title:"Total budget"}),c.jsx(Ji,{headers:["","Projected revenues","Actual revenues","Projected expenses","Actual expenses"],rows:[["Total budget",Ra(h),Ra(h),Ra(m),Ra(T)]],isTotal:!0}),c.jsx(Ts,{title:"Revenue: Grants"}),c.jsx(Ji,{headers:["","Requested","Awarded","Description"],rows:C(i.revenues.grants,u)}),c.jsx(Ts,{title:"Revenue: Tickets and box office"}),c.jsx(Ji,{headers:["","Number of venues (projected)","Number of venues (actual)","% of venue sold out (projected)","% of venue sold out (actual)","Average venue capacity (projected)","Average venue capacity (actual)","Description"],rows:[["Venue information",i.revenues.tickets.numVenues,"N/A",`${i.revenues.tickets.percentCapacity}%`,"N/A",i.revenues.tickets.venueCapacity,"N/A",i.revenues.tickets.description]]}),c.jsx("div",{className:"mt-[-1px]",children:c.jsx(Ji,{headers:["","Projected","Actual","Description"],rows:[["Average ticket price",Ra(i.revenues.tickets.avgTicketPrice),"N/A",""]]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-[-1px]",children:[c.jsx(Ji,{headers:["","Projected","Actual"],rows:[["Total audience",y.toFixed(0),"N/A"]]}),c.jsx(Ji,{headers:["","Projected","Actual"],rows:[["Total tickets or box office",Ra(x),"N/A"]]})]}),c.jsx(Ts,{title:"Revenue: Sales"}),c.jsx(Ji,{headers:["Source","Projected","Actual","Description"],rows:C(i.revenues.sales,u)}),c.jsx(Ts,{title:"Revenue: Fundraising"}),c.jsx(Ji,{headers:["Source","Projected","Actual","Description"],rows:C(i.revenues.fundraising,u)}),c.jsx(Ts,{title:"Revenue: Contributions"}),c.jsx(Ji,{headers:["Source","Projected","Actual","Description"],rows:C(i.revenues.contributions,u)}),c.jsx("div",{className:"mt-4",children:c.jsx(Ji,{headers:["","Projected","Actual"],rows:[["Total revenues",Ra(h),Ra(h)]],isTotal:!0})}),c.jsx(Ts,{title:"Expenses: Professional fees and honorariums"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual","Description"],rows:C(i.expenses.professionalFees,d)}),c.jsx(Ts,{title:"Expenses: Travel"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual","Description"],rows:C(i.expenses.travel,d)}),c.jsx(Ts,{title:"Expenses: Production and publication costs"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual","Description"],rows:C(i.expenses.production,d)}),c.jsx(Ts,{title:"Expenses: Administration"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual","Description"],rows:C(i.expenses.administration,d)}),c.jsx(Ts,{title:"Expenses: Research"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual"],rows:C(i.expenses.research,d,!1)}),c.jsx(Ts,{title:"Expenses: Professional development"}),c.jsx(Ji,{headers:["Expense Item","Projected","Actual"],rows:C(i.expenses.professionalDevelopment,d,!1)}),c.jsx("div",{className:"mt-4",children:c.jsx(Ji,{headers:["","Projected","Actual"],rows:[["Total expenses",Ra(m),Ra(T)]],isTotal:!0})})]})]})},Kw=({options:t,selectedValue:e,onChange:n,name:i})=>c.jsx("div",{className:"space-y-2",children:t.map(s=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:`${i}-${s.value}`,name:i,type:"radio",value:s.value,checked:e===s.value,onChange:()=>n(s.value),className:"h-4 w-4 text-teal-600 border-slate-300 focus:ring-teal-500"}),c.jsx("label",{htmlFor:`${i}-${s.value}`,className:"ml-3 block text-sm font-medium text-slate-700",children:s.label})]},s.value))}),Zw="modulepreload",Xw=function(t){return"/"+t},oy={},Km=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(n.map(m=>{if(m=Xw(m),m in oy)return;oy[m]=!0;const y=m.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":Zw,y||(T.as="script"),T.crossOrigin="",T.href=m,h&&T.setAttribute("nonce",h),document.head.appendChild(T),y)return new Promise((w,C)=>{T.addEventListener("load",w),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function An(t){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}var Oa=Uint8Array,Sa=Uint16Array,uf=Uint32Array,rp=new Oa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),op=new Oa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zm=new Oa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k2=function(t,e){for(var n=new Sa(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new uf(n[30]),i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)s[o]=o-n[i]<<5|i;return[n,s]},D2=k2(rp,2),j2=D2[0],Xm=D2[1];j2[28]=258,Xm[258]=28;var I2=k2(op,0),Qw=I2[0],ly=I2[1],Qm=new Sa(32768);for(var zn=0;zn<32768;++zn){var Tl=(zn&43690)>>>1|(zn&21845)<<1;Tl=(Tl&52428)>>>2|(Tl&13107)<<2,Tl=(Tl&61680)>>>4|(Tl&3855)<<4,Qm[zn]=((Tl&65280)>>>8|(Tl&255)<<8)>>>1}var Ur=function(t,e,n){for(var i=t.length,s=0,o=new Sa(e);s<i;++s)++o[t[s]-1];var u=new Sa(e);for(s=0;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var d;if(n){d=new Sa(1<<e);var h=15-e;for(s=0;s<i;++s)if(t[s])for(var m=s<<4|t[s],y=e-t[s],x=u[t[s]-1]++<<y,T=x|(1<<y)-1;x<=T;++x)d[Qm[x]>>>h]=m}else for(d=new Sa(i),s=0;s<i;++s)d[s]=Qm[u[t[s]-1]++]>>>15-t[s];return d},jl=new Oa(288);for(var zn=0;zn<144;++zn)jl[zn]=8;for(var zn=144;zn<256;++zn)jl[zn]=9;for(var zn=256;zn<280;++zn)jl[zn]=7;for(var zn=280;zn<288;++zn)jl[zn]=8;var cf=new Oa(32);for(var zn=0;zn<32;++zn)cf[zn]=5;var eS=Ur(jl,9,0),tS=Ur(jl,9,1),nS=Ur(cf,5,0),iS=Ur(cf,5,1),Mm=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},tr=function(t,e,n){var i=e/8>>0;return(t[i]|t[i+1]<<8)>>>(e&7)&n},km=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},Lg=function(t){return(t/8>>0)+(t&7&&1)},P2=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof Sa?Sa:t instanceof uf?uf:Oa)(n-e);return i.set(t.subarray(e,n)),i},aS=function(t,e,n){var i=t.length,s=!e||n,o=!n||n.i;n||(n={}),e||(e=new Oa(i*3));var u=function(X){var pe=e.length;if(X>pe){var he=new Oa(Math.max(pe*2,X));he.set(e),e=he}},d=n.f||0,h=n.p||0,m=n.b||0,y=n.l,x=n.d,T=n.m,w=n.n,C=i*8;do{if(!y){n.f=d=tr(t,h,1);var M=tr(t,h+1,3);if(h+=3,M)if(M==1)y=tS,x=iS,T=9,w=5;else if(M==2){var F=tr(t,h,31)+257,B=tr(t,h+10,15)+4,H=F+tr(t,h+5,31)+1;h+=14;for(var ee=new Oa(H),V=new Oa(19),U=0;U<B;++U)V[Zm[U]]=tr(t,h+U*3,7);h+=B*3;var O=Mm(V),ue=(1<<O)-1;if(!o&&h+H*(O+7)>C)break;for(var I=Ur(V,O,1),U=0;U<H;){var k=I[tr(t,h,ue)];h+=k&15;var D=k>>>4;if(D<16)ee[U++]=D;else{var $=0,K=0;for(D==16?(K=3+tr(t,h,3),h+=2,$=ee[U-1]):D==17?(K=3+tr(t,h,7),h+=3):D==18&&(K=11+tr(t,h,127),h+=7);K--;)ee[U++]=$}}var ce=ee.subarray(0,F),q=ee.subarray(F);T=Mm(ce),w=Mm(q),y=Ur(ce,T,1),x=Ur(q,w,1)}else throw"invalid block type";else{var D=Lg(h)+4,E=t[D-4]|t[D-3]<<8,j=D+E;if(j>i){if(o)throw"unexpected EOF";break}s&&u(m+E),e.set(t.subarray(D,j),m),n.b=m+=E,n.p=h=j*8;continue}if(h>C)throw"unexpected EOF"}s&&u(m+131072);for(var G=(1<<T)-1,ne=(1<<w)-1,oe=T+w+18;o||h+oe<C;){var $=y[km(t,h)&G],P=$>>>4;if(h+=$&15,h>C)throw"unexpected EOF";if(!$)throw"invalid length/literal";if(P<256)e[m++]=P;else if(P==256){y=null;break}else{var ae=P-254;if(P>264){var U=P-257,L=rp[U];ae=tr(t,h,(1<<L)-1)+j2[U],h+=L}var J=x[km(t,h)&ne],Y=J>>>4;if(!J)throw"invalid distance";h+=J&15;var q=Qw[Y];if(Y>3){var L=op[Y];q+=km(t,h)&(1<<L)-1,h+=L}if(h>C)throw"unexpected EOF";s&&u(m+131072);for(var ie=m+ae;m<ie;m+=4)e[m]=e[m-q],e[m+1]=e[m+1-q],e[m+2]=e[m+2-q],e[m+3]=e[m+3-q];m=ie}}n.l=y,n.p=h,n.b=m,y&&(d=1,n.m=T,n.d=x,n.n=w)}while(!d);return m==e.length?e:P2(e,0,m)},No=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},Wd=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},Dm=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var s=n.length,o=n.slice();if(!s)return[new Oa(0),0];if(s==1){var u=new Oa(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort(function(H,ee){return H.f-ee.f}),n.push({s:-1,f:25001});var d=n[0],h=n[1],m=0,y=1,x=2;for(n[0]={s:-1,f:d.f+h.f,l:d,r:h};y!=s-1;)d=n[n[m].f<n[x].f?m++:x++],h=n[m!=y&&n[m].f<n[x].f?m++:x++],n[y++]={s:-1,f:d.f+h.f,l:d,r:h};for(var T=o[0].s,i=1;i<s;++i)o[i].s>T&&(T=o[i].s);var w=new Sa(T+1),C=eg(n[y-1],w,0);if(C>e){var i=0,M=0,D=C-e,E=1<<D;for(o.sort(function(ee,V){return w[V.s]-w[ee.s]||ee.f-V.f});i<s;++i){var j=o[i].s;if(w[j]>e)M+=E-(1<<C-w[j]),w[j]=e;else break}for(M>>>=D;M>0;){var F=o[i].s;w[F]<e?M-=1<<e-w[F]++-1:++i}for(;i>=0&&M;--i){var B=o[i].s;w[B]==e&&(--w[B],++M)}C=e}return[new Oa(w),C]},eg=function(t,e,n){return t.s==-1?Math.max(eg(t.l,e,n+1),eg(t.r,e,n+1)):e[t.s]=n},uy=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sa(++e),i=0,s=t[0],o=1,u=function(h){n[i++]=h},d=1;d<=e;++d)if(t[d]==s&&d!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=t[d]}return[n.subarray(0,i),e]},Jd=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},tg=function(t,e,n){var i=n.length,s=Lg(e+2);t[s]=i&255,t[s+1]=i>>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var o=0;o<i;++o)t[s+o+4]=n[o];return(s+4+i)*8},cy=function(t,e,n,i,s,o,u,d,h,m,y){No(e,y++,n),++s[256];for(var x=Dm(s,15),T=x[0],w=x[1],C=Dm(o,15),M=C[0],D=C[1],E=uy(T),j=E[0],F=E[1],B=uy(M),H=B[0],ee=B[1],V=new Sa(19),U=0;U<j.length;++U)V[j[U]&31]++;for(var U=0;U<H.length;++U)V[H[U]&31]++;for(var O=Dm(V,7),ue=O[0],I=O[1],k=19;k>4&&!ue[Zm[k-1]];--k);var $=m+5<<3,K=Jd(s,jl)+Jd(o,cf)+u,ce=Jd(s,T)+Jd(o,M)+u+14+3*k+Jd(V,ue)+(2*V[16]+3*V[17]+7*V[18]);if($<=K&&$<=ce)return tg(e,y,t.subarray(h,h+m));var q,G,ne,oe;if(No(e,y,1+(ce<K)),y+=2,ce<K){q=Ur(T,w,0),G=T,ne=Ur(M,D,0),oe=M;var P=Ur(ue,I,0);No(e,y,F-257),No(e,y+5,ee-1),No(e,y+10,k-4),y+=14;for(var U=0;U<k;++U)No(e,y+3*U,ue[Zm[U]]);y+=3*k;for(var ae=[j,H],L=0;L<2;++L)for(var J=ae[L],U=0;U<J.length;++U){var Y=J[U]&31;No(e,y,P[Y]),y+=ue[Y],Y>15&&(No(e,y,J[U]>>>5&127),y+=J[U]>>>12)}}else q=eS,G=jl,ne=nS,oe=cf;for(var U=0;U<d;++U)if(i[U]>255){var Y=i[U]>>>18&31;Wd(e,y,q[Y+257]),y+=G[Y+257],Y>7&&(No(e,y,i[U]>>>23&31),y+=rp[Y]);var ie=i[U]&31;Wd(e,y,ne[ie]),y+=oe[ie],ie>3&&(Wd(e,y,i[U]>>>5&8191),y+=op[ie])}else Wd(e,y,q[i[U]]),y+=G[i[U]];return Wd(e,y,q[256]),y+G[256]},sS=new uf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rS=function(t,e,n,i,s,o){var u=t.length,d=new Oa(i+u+5*(1+Math.floor(u/7e3))+s),h=d.subarray(i,d.length-s),m=0;if(!e||u<8)for(var y=0;y<=u;y+=65535){var x=y+65535;x<u?m=tg(h,m,t.subarray(y,x)):(h[y]=o,m=tg(h,m,t.subarray(y,u)))}else{for(var T=sS[e-1],w=T>>>13,C=T&8191,M=(1<<n)-1,D=new Sa(32768),E=new Sa(M+1),j=Math.ceil(n/3),F=2*j,B=function(Ze){return(t[Ze]^t[Ze+1]<<j^t[Ze+2]<<F)&M},H=new uf(25e3),ee=new Sa(288),V=new Sa(32),U=0,O=0,y=0,ue=0,I=0,k=0;y<u;++y){var $=B(y),K=y&32767,ce=E[$];if(D[K]=ce,E[$]=K,I<=y){var q=u-y;if((U>7e3||ue>24576)&&q>423){m=cy(t,h,0,H,ee,V,O,ue,k,y-k,m),ue=U=O=0,k=y;for(var G=0;G<286;++G)ee[G]=0;for(var G=0;G<30;++G)V[G]=0}var ne=2,oe=0,P=C,ae=K-ce&32767;if(q>2&&$==B(y-ae))for(var L=Math.min(w,q)-1,J=Math.min(32767,y),Y=Math.min(258,q);ae<=J&&--P&&K!=ce;){if(t[y+ne]==t[y+ne-ae]){for(var ie=0;ie<Y&&t[y+ie]==t[y+ie-ae];++ie);if(ie>ne){if(ne=ie,oe=ae,ie>L)break;for(var X=Math.min(ae,ie-2),pe=0,G=0;G<X;++G){var he=y-ae+G+32768&32767,fe=D[he],Ce=he-fe+32768&32767;Ce>pe&&(pe=Ce,ce=he)}}}K=ce,ce=D[K],ae+=K-ce+32768&32767}if(oe){H[ue++]=268435456|Xm[ne]<<18|ly[oe];var je=Xm[ne]&31,ze=ly[oe]&31;O+=rp[je]+op[ze],++ee[257+je],++V[ze],I=y+ne,++U}else H[ue++]=t[y],++ee[t[y]]}}m=cy(t,h,o,H,ee,V,O,ue,k,y-k,m)}return P2(d,0,i+Lg(m)+s)},oS=function(){var t=1,e=0;return{p:function(n){for(var i=t,s=e,o=n.length,u=0;u!=o;){for(var d=Math.min(u+5552,o);u<d;++u)i+=n[u],s+=i;i%=65521,s%=65521}t=i,e=s},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},lS=function(t,e,n,i,s){return rS(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,i,!0)},uS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},cS=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=i<<6|(i?32-2*i:1)},dS=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ng(t,e){e===void 0&&(e={});var n=oS();n.p(t);var i=lS(t,e,2,4);return cS(i,e),uS(i,i.length-4,n.d()),i}function fS(t,e){return aS((dS(t),t.subarray(2,-4)),e)}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jm(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var jn={log:jm,warn:function(t){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):jm.call(null,arguments))},error:function(t){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):jm(t))}};function Im(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Tu(i.response,e,n)},i.onerror=function(){jn.error("could not download file")},i.send()}function dy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ef,ig,Tu=_t.saveAs||((typeof window>"u"?"undefined":An(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=_t.URL||_t.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?dy(s.href)?Im(t,e,n):vh(s,s.target="_blank"):vh(s)):(s.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){vh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(dy(t))Im(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){vh(i)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:An(o)!=="object"&&(jn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return Im(t,e,n);var s=t.type==="application/octet-stream",o=/constructor/i.test(_t.HTMLElement)||_t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":An(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var y=d.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=y:location=y,i=null},d.readAsDataURL(t)}else{var h=_t.URL||_t.webkitURL,m=h.createObjectURL(t);i?i.location=m:location.href=m,i=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function L2(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,o=n[i].process,u=s.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),m.length==1&&(m="0"+m),"#"+d+h+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pm(t,e){var n=t[0],i=t[1],s=t[2],o=t[3];n=oa(n,i,s,o,e[0],7,-680876936),o=oa(o,n,i,s,e[1],12,-389564586),s=oa(s,o,n,i,e[2],17,606105819),i=oa(i,s,o,n,e[3],22,-1044525330),n=oa(n,i,s,o,e[4],7,-176418897),o=oa(o,n,i,s,e[5],12,1200080426),s=oa(s,o,n,i,e[6],17,-1473231341),i=oa(i,s,o,n,e[7],22,-45705983),n=oa(n,i,s,o,e[8],7,1770035416),o=oa(o,n,i,s,e[9],12,-1958414417),s=oa(s,o,n,i,e[10],17,-42063),i=oa(i,s,o,n,e[11],22,-1990404162),n=oa(n,i,s,o,e[12],7,1804603682),o=oa(o,n,i,s,e[13],12,-40341101),s=oa(s,o,n,i,e[14],17,-1502002290),n=la(n,i=oa(i,s,o,n,e[15],22,1236535329),s,o,e[1],5,-165796510),o=la(o,n,i,s,e[6],9,-1069501632),s=la(s,o,n,i,e[11],14,643717713),i=la(i,s,o,n,e[0],20,-373897302),n=la(n,i,s,o,e[5],5,-701558691),o=la(o,n,i,s,e[10],9,38016083),s=la(s,o,n,i,e[15],14,-660478335),i=la(i,s,o,n,e[4],20,-405537848),n=la(n,i,s,o,e[9],5,568446438),o=la(o,n,i,s,e[14],9,-1019803690),s=la(s,o,n,i,e[3],14,-187363961),i=la(i,s,o,n,e[8],20,1163531501),n=la(n,i,s,o,e[13],5,-1444681467),o=la(o,n,i,s,e[2],9,-51403784),s=la(s,o,n,i,e[7],14,1735328473),n=ua(n,i=la(i,s,o,n,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ua(o,n,i,s,e[8],11,-2022574463),s=ua(s,o,n,i,e[11],16,1839030562),i=ua(i,s,o,n,e[14],23,-35309556),n=ua(n,i,s,o,e[1],4,-1530992060),o=ua(o,n,i,s,e[4],11,1272893353),s=ua(s,o,n,i,e[7],16,-155497632),i=ua(i,s,o,n,e[10],23,-1094730640),n=ua(n,i,s,o,e[13],4,681279174),o=ua(o,n,i,s,e[0],11,-358537222),s=ua(s,o,n,i,e[3],16,-722521979),i=ua(i,s,o,n,e[6],23,76029189),n=ua(n,i,s,o,e[9],4,-640364487),o=ua(o,n,i,s,e[12],11,-421815835),s=ua(s,o,n,i,e[15],16,530742520),n=ca(n,i=ua(i,s,o,n,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ca(o,n,i,s,e[7],10,1126891415),s=ca(s,o,n,i,e[14],15,-1416354905),i=ca(i,s,o,n,e[5],21,-57434055),n=ca(n,i,s,o,e[12],6,1700485571),o=ca(o,n,i,s,e[3],10,-1894986606),s=ca(s,o,n,i,e[10],15,-1051523),i=ca(i,s,o,n,e[1],21,-2054922799),n=ca(n,i,s,o,e[8],6,1873313359),o=ca(o,n,i,s,e[15],10,-30611744),s=ca(s,o,n,i,e[6],15,-1560198380),i=ca(i,s,o,n,e[13],21,1309151649),n=ca(n,i,s,o,e[4],6,-145523070),o=ca(o,n,i,s,e[11],10,-1120210379),s=ca(s,o,n,i,e[2],15,718787259),i=ca(i,s,o,n,e[9],21,-343485551),t[0]=Ml(n,t[0]),t[1]=Ml(i,t[1]),t[2]=Ml(s,t[2]),t[3]=Ml(o,t[3])}function lp(t,e,n,i,s,o){return e=Ml(Ml(e,t),Ml(i,o)),Ml(e<<s|e>>>32-s,n)}function oa(t,e,n,i,s,o,u){return lp(e&n|~e&i,t,e,s,o,u)}function la(t,e,n,i,s,o,u){return lp(e&i|n&~i,t,e,s,o,u)}function ua(t,e,n,i,s,o,u){return lp(e^n^i,t,e,s,o,u)}function ca(t,e,n,i,s,o,u){return lp(n^(e|~i),t,e,s,o,u)}function R2(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Pm(i,hS(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Pm(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Pm(i,s),i}function hS(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}ef=_t.atob.bind(_t),ig=_t.btoa.bind(_t);var fy="0123456789abcdef".split("");function pS(t){for(var e="",n=0;n<4;n++)e+=fy[t>>8*n+4&15]+fy[t>>8*n&15];return e}function mS(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ag(t){return R2(t).map(mS).join("")}var gS=function(t){for(var e=0;e<t.length;e++)t[e]=pS(t[e]);return t.join("")}(R2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ml(t,e){if(gS){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sg(t,e){var n,i,s,o;if(t!==n){for(var u=(s=t,o=1+(256/t.length>>0),new Array(o+1).join(s)),d=[],h=0;h<256;h++)d[h]=h;var m=0;for(h=0;h<256;h++){var y=d[h];m=(m+y+u.charCodeAt(h))%256,d[h]=d[m],d[m]=y}n=t,i=d}else d=i;var x=e.length,T=0,w=0,C="";for(h=0;h<x;h++)w=(w+(y=d[T=(T+1)%256]))%256,d[T]=d[w],d[w]=y,u=d[(d[T]+d[w])%256],C+=String.fromCharCode(e.charCodeAt(h)^u);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hy={print:4,modify:8,copy:16,"annot-forms":32};function Lc(t,e,n,i){this.v=1,this.r=2;var s=192;t.forEach(function(d){if(hy.perm!==void 0)throw new Error("Invalid permission: "+d);s+=hy[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=ag(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=sg(this.encryptionKey,this.padding)}function Rc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[i]}return e}function py(t){if(An(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[i,!!s],o},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[n]){var u=e[n][o];try{u[0].apply(t,i)}catch(d){_t.console&&jn.error("jsPDF PubSub Error",d.message,d)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function df(t){if(!(this instanceof df))return new df(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function F2(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function El(t,e,n,i,s){if(!(this instanceof El))return new El(t,e,n,i,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,F2.call(this,i,s)}function Au(t,e,n,i,s){if(!(this instanceof Au))return new Au(t,e,n,i,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,F2.call(this,i,s)}function Tt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],u=[],d=1,h=16,m="S",y=null;An(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,s=t.format||s,o=t.compress||t.compressPdf||o,(y=t.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),m=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),i=i||"mm",n=(""+(n||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,T={},w={internal:{},__private__:{}};w.__private__.PubSub=py;var C="1.3",M=w.__private__.getPdfVersion=function(){return C};w.__private__.setPdfVersion=function(N){C=N};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return D};var E=w.__private__.getPageFormat=function(N){return D[N]};s=s||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},F=j.COMPAT;function B(){this.saveGraphicsState(),ge(new mt(at,0,0,-at,0,gr()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),m="n",F=j.ADVANCED}function H(){this.restoreGraphicsState(),m="S",F=j.COMPAT}var ee=w.__private__.combineFontStyleAndFontWeight=function(N,Z){if(N=="bold"&&Z=="normal"||N=="bold"&&Z==400||N=="normal"&&Z=="italic"||N=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(N=Z==400||Z==="normal"?N==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||N!=="normal"?(Z==700?"bold":Z)+""+N:"bold"),N};w.advancedAPI=function(N){var Z=F===j.COMPAT;return Z&&B.call(this),typeof N!="function"||(N(this),Z&&H.call(this)),this},w.compatAPI=function(N){var Z=F===j.ADVANCED;return Z&&H.call(this),typeof N!="function"||(N(this),Z&&B.call(this)),this},w.isAdvancedAPI=function(){return F===j.ADVANCED};var V,U=function(N){if(F!==j.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=w.roundToPrecision=w.__private__.roundToPrecision=function(N,Z){var me=e||Z;if(isNaN(N)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(me).replace(/0+$/,"")};V=w.hpf=w.__private__.hpf=typeof h=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return O(N,h)}:h==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return O(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return O(N,16)};var ue=w.f2=w.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return O(N,2)},I=w.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return O(N,3)},k=w.scale=w.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return F===j.COMPAT?N*at:F===j.ADVANCED?N:void 0},$=function(N){return F===j.COMPAT?gr()-N:F===j.ADVANCED?N:void 0},K=function(N){return k($(N))};w.__private__.setPrecision=w.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var ce,q="00000000000000000000000000000000",G=w.__private__.getFileId=function(){return q},ne=w.__private__.setFileId=function(N){return q=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(xi=new Lc(y.userPermissions,y.userPassword,y.ownerPassword,q)),q};w.setFileId=function(N){return ne(N),this},w.getFileId=function(){return G()};var oe=w.__private__.convertDateToPDFDate=function(N){var Z=N.getTimezoneOffset(),me=Z<0?"+":"-",xe=Math.floor(Math.abs(Z/60)),_e=Math.abs(Z%60),Oe=[me,Y(xe),"'",Y(_e),"'"].join("");return["D:",N.getFullYear(),Y(N.getMonth()+1),Y(N.getDate()),Y(N.getHours()),Y(N.getMinutes()),Y(N.getSeconds()),Oe].join("")},P=w.__private__.convertPDFDateToDate=function(N){var Z=parseInt(N.substr(2,4),10),me=parseInt(N.substr(6,2),10)-1,xe=parseInt(N.substr(8,2),10),_e=parseInt(N.substr(10,2),10),Oe=parseInt(N.substr(12,2),10),We=parseInt(N.substr(14,2),10);return new Date(Z,me,xe,_e,Oe,We,0)},ae=w.__private__.setCreationDate=function(N){var Z;if(N===void 0&&(N=new Date),N instanceof Date)Z=oe(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=N}return ce=Z},L=w.__private__.getCreationDate=function(N){var Z=ce;return N==="jsDate"&&(Z=P(ce)),Z};w.setCreationDate=function(N){return ae(N),this},w.getCreationDate=function(N){return L(N)};var J,Y=w.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ie=w.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},X=0,pe=[],he=[],fe=0,Ce=[],je=[],ze=!1,Ye=he,Ze=function(){X=0,fe=0,he=[],pe=[],Ce=[],ma=ni(),ga=ni()};w.__private__.setCustomOutputDestination=function(N){ze=!0,Ye=N};var Fe=function(N){ze||(Ye=N)};w.__private__.resetCustomOutputDestination=function(){ze=!1,Ye=he};var ge=w.__private__.out=function(N){return N=N.toString(),fe+=N.length+1,Ye.push(N),Ye},bt=w.__private__.write=function(N){return ge(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},dt=w.__private__.getArrayBuffer=function(N){for(var Z=N.length,me=new ArrayBuffer(Z),xe=new Uint8Array(me);Z--;)xe[Z]=N.charCodeAt(Z);return me},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Je};var Qe=t.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(N){return Qe=F===j.ADVANCED?N/at:N,this};var tt,nt=w.__private__.getFontSize=w.getFontSize=function(){return F===j.COMPAT?Qe:Qe*at},gt=t.R2L||!1;w.__private__.setR2L=w.setR2L=function(N){return gt=N,this},w.__private__.getR2L=w.getR2L=function(){return gt};var It,qt=w.__private__.setZoomMode=function(N){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))tt=N;else if(isNaN(N)){if(Z.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');tt=N}else tt=parseInt(N,10)};w.__private__.getZoomMode=function(){return tt};var Ot,Dt=w.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');It=N};w.__private__.getPageMode=function(){return It};var Kt=w.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ot=N};w.__private__.getLayoutMode=function(){return Ot},w.__private__.setDisplayMode=w.setDisplayMode=function(N,Z,me){return qt(N),Kt(Z),Dt(me),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(N){if(Object.keys(ft).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[N]},w.__private__.getDocumentProperties=function(){return ft},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(N){for(var Z in ft)ft.hasOwnProperty(Z)&&N[Z]&&(ft[Z]=N[Z]);return this},w.__private__.setDocumentProperty=function(N,Z){if(Object.keys(ft).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[N]=Z};var Yt,at,Di,Zt,Ki,tn={},yn={},Zi=[],dn={},rr={},On={},fa={},ha=null,Hn=0,jt=[],ln=new py(w),Cs=t.hotfixes||[],li={},Ua={},as=[],mt=function N(Z,me,xe,_e,Oe,We){if(!(this instanceof N))return new N(Z,me,xe,_e,Oe,We);isNaN(Z)&&(Z=1),isNaN(me)&&(me=0),isNaN(xe)&&(xe=0),isNaN(_e)&&(_e=1),isNaN(Oe)&&(Oe=0),isNaN(We)&&(We=0),this._matrix=[Z,me,xe,_e,Oe,We]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(N)},mt.prototype.multiply=function(N){var Z=N.sx*this.sx+N.shy*this.shx,me=N.sx*this.shy+N.shy*this.sy,xe=N.shx*this.sx+N.sy*this.shx,_e=N.shx*this.shy+N.sy*this.sy,Oe=N.tx*this.sx+N.ty*this.shx+this.tx,We=N.tx*this.shy+N.ty*this.sy+this.ty;return new mt(Z,me,xe,_e,Oe,We)},mt.prototype.decompose=function(){var N=this.sx,Z=this.shy,me=this.shx,xe=this.sy,_e=this.tx,Oe=this.ty,We=Math.sqrt(N*N+Z*Z),it=(N/=We)*me+(Z/=We)*xe;me-=N*it,xe-=Z*it;var ht=Math.sqrt(me*me+xe*xe);return it/=ht,N*(xe/=ht)<Z*(me/=ht)&&(N=-N,Z=-Z,it=-it,We=-We),{scale:new mt(We,0,0,ht,0,0),translate:new mt(1,0,0,1,_e,Oe),rotate:new mt(N,Z,-Z,N,0,0),skew:new mt(1,0,it,1,0,0)}},mt.prototype.toString=function(N){return this.join(" ")},mt.prototype.inversed=function(){var N=this.sx,Z=this.shy,me=this.shx,xe=this.sy,_e=this.tx,Oe=this.ty,We=1/(N*xe-Z*me),it=xe*We,ht=-Z*We,Rt=-me*We,Vt=N*We;return new mt(it,ht,Rt,Vt,-it*_e-Rt*Oe,-ht*_e-Vt*Oe)},mt.prototype.applyToPoint=function(N){var Z=N.x*this.sx+N.y*this.shx+this.tx,me=N.x*this.shy+N.y*this.sy+this.ty;return new zo(Z,me)},mt.prototype.applyToRectangle=function(N){var Z=this.applyToPoint(N),me=this.applyToPoint(new zo(N.x+N.w,N.y+N.h));return new Yl(Z.x,Z.y,me.x-Z.x,me.y-Z.y)},mt.prototype.clone=function(){var N=this.sx,Z=this.shy,me=this.shx,xe=this.sy,_e=this.tx,Oe=this.ty;return new mt(N,Z,me,xe,_e,Oe)},w.Matrix=mt;var Cn=w.matrixMult=function(N,Z){return Z.multiply(N)},Bn=new mt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Bn;var ui=function(N,Z){if(!rr[N]){var me=(Z instanceof El?"Sh":"P")+(Object.keys(dn).length+1).toString(10);Z.id=me,rr[N]=me,dn[me]=Z,ln.publish("addPattern",Z)}};w.ShadingPattern=El,w.TilingPattern=Au,w.addShadingPattern=function(N,Z){return U("addShadingPattern()"),ui(N,Z),this},w.beginTilingPattern=function(N){U("beginTilingPattern()"),Ho(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},w.endTilingPattern=function(N,Z){U("endTilingPattern()"),Z.stream=je[J].join(`
`),ui(N,Z),ln.publish("endTilingPattern",Z),as.pop().restore()};var Jn=w.__private__.newObject=function(){var N=ni();return pa(N,!0),N},ni=w.__private__.newObjectDeferred=function(){return X++,pe[X]=function(){return fe},X},pa=function(N,Z){return Z=typeof Z=="boolean"&&Z,pe[N]=fe,Z&&ge(N+" 0 obj"),N},Gr=w.__private__.newAdditionalObject=function(){var N={objId:ni(),content:""};return Ce.push(N),N},ma=ni(),ga=ni(),ji=w.__private__.decodeColorString=function(N){var Z=N.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var me=parseFloat(Z[0]);Z=[me,me,me,"r"]}for(var xe="#",_e=0;_e<3;_e++)xe+=("0"+Math.floor(255*parseFloat(Z[_e])).toString(16)).slice(-2);return xe},Ii=w.__private__.encodeColorString=function(N){var Z;typeof N=="string"&&(N={ch1:N});var me=N.ch1,xe=N.ch2,_e=N.ch3,Oe=N.ch4,We=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var it=new L2(me);if(it.ok)me=it.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var ht=parseInt(me.substr(1),16);me=ht>>16&255,xe=ht>>8&255,_e=255&ht}if(xe===void 0||Oe===void 0&&me===xe&&xe===_e)if(typeof me=="string")Z=me+" "+We[0];else switch(N.precision){case 2:Z=ue(me/255)+" "+We[0];break;case 3:default:Z=I(me/255)+" "+We[0]}else if(Oe===void 0||An(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return Z=["1.","1.","1.",We[1]].join(" ");if(typeof me=="string")Z=[me,xe,_e,We[1]].join(" ");else switch(N.precision){case 2:Z=[ue(me/255),ue(xe/255),ue(_e/255),We[1]].join(" ");break;default:case 3:Z=[I(me/255),I(xe/255),I(_e/255),We[1]].join(" ")}}else if(typeof me=="string")Z=[me,xe,_e,Oe,We[2]].join(" ");else switch(N.precision){case 2:Z=[ue(me),ue(xe),ue(_e),ue(Oe),We[2]].join(" ");break;case 3:default:Z=[I(me),I(xe),I(_e),I(Oe),We[2]].join(" ")}return Z},Xi=w.__private__.getFilters=function(){return u},Ni=w.__private__.putStream=function(N){var Z=(N=N||{}).data||"",me=N.filters||Xi(),xe=N.alreadyAppliedFilters||[],_e=N.addLength1||!1,Oe=Z.length,We=N.objectId,it=function(Zn){return Zn};if(y!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(it=xi.encryptor(We,0));var ht={};me===!0&&(me=["FlateEncode"]);var Rt=N.additionalKeyValues||[],Vt=(ht=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(Z,me):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(ht.data.length!==0&&(Rt.push({key:"Length",value:ht.data.length}),_e===!0&&Rt.push({key:"Length1",value:Oe})),Vt.length!=0)if(Vt.split("/").length-1==1)Rt.push({key:"Filter",value:Vt});else{Rt.push({key:"Filter",value:"["+Vt+"]"});for(var Xt=0;Xt<Rt.length;Xt+=1)if(Rt[Xt].key==="DecodeParms"){for(var In=[],Un=0;Un<ht.reverseChain.split("/").length-1;Un+=1)In.push("null");In.push(Rt[Xt].value),Rt[Xt].value="["+In.join(" ")+"]"}}ge("<<");for(var Kn=0;Kn<Rt.length;Kn++)ge("/"+Rt[Kn].key+" "+Rt[Kn].value);ge(">>"),ht.data.length!==0&&(ge("stream"),ge(it(ht.data)),ge("endstream"))},xn=w.__private__.putPage=function(N){var Z=N.number,me=N.data,xe=N.objId,_e=N.contentsObjId;pa(xe,!0),ge("<</Type /Page"),ge("/Parent "+N.rootDictionaryObjId+" 0 R"),ge("/Resources "+N.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(V(N.mediaBox.bottomLeftX))+" "+parseFloat(V(N.mediaBox.bottomLeftY))+" "+V(N.mediaBox.topRightX)+" "+V(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ge("/CropBox ["+V(N.cropBox.bottomLeftX)+" "+V(N.cropBox.bottomLeftY)+" "+V(N.cropBox.topRightX)+" "+V(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ge("/BleedBox ["+V(N.bleedBox.bottomLeftX)+" "+V(N.bleedBox.bottomLeftY)+" "+V(N.bleedBox.topRightX)+" "+V(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ge("/TrimBox ["+V(N.trimBox.bottomLeftX)+" "+V(N.trimBox.bottomLeftY)+" "+V(N.trimBox.topRightX)+" "+V(N.trimBox.topRightY)+"]"),N.artBox!==null&&ge("/ArtBox ["+V(N.artBox.bottomLeftX)+" "+V(N.artBox.bottomLeftY)+" "+V(N.artBox.topRightX)+" "+V(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ge("/UserUnit "+N.userUnit),ln.publish("putPage",{objId:xe,pageContext:jt[Z],pageNumber:Z,page:me}),ge("/Contents "+_e+" 0 R"),ge(">>"),ge("endobj");var Oe=me.join(`
`);return F===j.ADVANCED&&(Oe+=`
Q`),pa(_e,!0),Ni({data:Oe,filters:Xi(),objectId:_e}),ge("endobj"),xe},or=w.__private__.putPages=function(){var N,Z,me=[];for(N=1;N<=Hn;N++)jt[N].objId=ni(),jt[N].contentsObjId=ni();for(N=1;N<=Hn;N++)me.push(xn({number:N,data:je[N],objId:jt[N].objId,contentsObjId:jt[N].contentsObjId,mediaBox:jt[N].mediaBox,cropBox:jt[N].cropBox,bleedBox:jt[N].bleedBox,trimBox:jt[N].trimBox,artBox:jt[N].artBox,userUnit:jt[N].userUnit,rootDictionaryObjId:ma,resourceDictionaryObjId:ga}));pa(ma,!0),ge("<</Type /Pages");var xe="/Kids [";for(Z=0;Z<Hn;Z++)xe+=me[Z]+" 0 R ";ge(xe+"]"),ge("/Count "+Hn),ge(">>"),ge("endobj"),ln.publish("postPutPages")},$r=function(N){ln.publish("putFont",{font:N,out:ge,newObject:Jn,putStream:Ni}),N.isAlreadyPutted!==!0&&(N.objectNumber=Jn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Rc(N.postScriptName)),ge("/Subtype /Type1"),typeof N.encoding=="string"&&ge("/Encoding /"+N.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Aa=function(){for(var N in tn)tn.hasOwnProperty(N)&&(x===!1||x===!0&&T.hasOwnProperty(N))&&$r(tn[N])},qa=function(N){N.objectNumber=Jn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[V(N.x),V(N.y),V(N.x+N.width),V(N.y+N.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var me=N.pages[1].join(`
`);Ni({data:me,additionalKeyValues:Z,objectId:N.objectNumber}),ge("endobj")},Io=function(){for(var N in li)li.hasOwnProperty(N)&&qa(li[N])},Rl=function(N,Z){var me,xe=[],_e=1/(Z-1);for(me=0;me<1;me+=_e)xe.push(me);if(xe.push(1),N[0].offset!=0){var Oe={offset:0,color:N[0].color};N.unshift(Oe)}if(N[N.length-1].offset!=1){var We={offset:1,color:N[N.length-1].color};N.push(We)}for(var it="",ht=0,Rt=0;Rt<xe.length;Rt++){for(me=xe[Rt];me>N[ht+1].offset;)ht++;var Vt=N[ht].offset,Xt=(me-Vt)/(N[ht+1].offset-Vt),In=N[ht].color,Un=N[ht+1].color;it+=ie(Math.round((1-Xt)*In[0]+Xt*Un[0]).toString(16))+ie(Math.round((1-Xt)*In[1]+Xt*Un[1]).toString(16))+ie(Math.round((1-Xt)*In[2]+Xt*Un[2]).toString(16))}return it.trim()},Bu=function(N,Z){Z||(Z=21);var me=Jn(),xe=Rl(N.colors,Z),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+Z+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ni({data:xe,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ge("endobj"),N.objectNumber=Jn(),ge("<< /ShadingType "+N.type),ge("/ColorSpace /DeviceRGB");var Oe="/Coords ["+V(parseFloat(N.coords[0]))+" "+V(parseFloat(N.coords[1]))+" ";N.type===2?Oe+=V(parseFloat(N.coords[2]))+" "+V(parseFloat(N.coords[3])):Oe+=V(parseFloat(N.coords[2]))+" "+V(parseFloat(N.coords[3]))+" "+V(parseFloat(N.coords[4]))+" "+V(parseFloat(N.coords[5])),ge(Oe+="]"),N.matrix&&ge("/Matrix ["+N.matrix.toString()+"]"),ge("/Function "+me+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Xc=function(N,Z){var me=ni(),xe=Jn();Z.push({resourcesOid:me,objectOid:xe}),N.objectNumber=xe;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+N.boundingBox.map(V).join(" ")+"]"}),_e.push({key:"XStep",value:V(N.xStep)}),_e.push({key:"YStep",value:V(N.yStep)}),_e.push({key:"Resources",value:me+" 0 R"}),N.matrix&&_e.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Ni({data:N.stream,additionalKeyValues:_e,objectId:N.objectNumber}),ge("endobj")},_s=function(N){var Z;for(Z in dn)dn.hasOwnProperty(Z)&&(dn[Z]instanceof El?Bu(dn[Z]):dn[Z]instanceof Au&&Xc(dn[Z],N))},Yr=function(N){for(var Z in N.objectNumber=Jn(),ge("<<"),N)switch(Z){case"opacity":ge("/ca "+ue(N[Z]));break;case"stroke-opacity":ge("/CA "+ue(N[Z]))}ge(">>"),ge("endobj")},Va=function(){var N;for(N in On)On.hasOwnProperty(N)&&Yr(On[N])},Wr=function(){for(var N in ge("/XObject <<"),li)li.hasOwnProperty(N)&&li[N].objectNumber>=0&&ge("/"+N+" "+li[N].objectNumber+" 0 R");ln.publish("putXobjectDict"),ge(">>")},Uu=function(){xi.oid=Jn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+xi.v),ge("/R "+xi.r),ge("/U <"+xi.toHexString(xi.U)+">"),ge("/O <"+xi.toHexString(xi.O)+">"),ge("/P "+xi.P),ge(">>"),ge("endobj")},Es=function(){for(var N in ge("/Font <<"),tn)tn.hasOwnProperty(N)&&(x===!1||x===!0&&T.hasOwnProperty(N))&&ge("/"+N+" "+tn[N].objectNumber+" 0 R");ge(">>")},Fl=function(){if(Object.keys(dn).length>0){for(var N in ge("/Shading <<"),dn)dn.hasOwnProperty(N)&&dn[N]instanceof El&&dn[N].objectNumber>=0&&ge("/"+N+" "+dn[N].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),ge(">>")}},lr=function(N){if(Object.keys(dn).length>0){for(var Z in ge("/Pattern <<"),dn)dn.hasOwnProperty(Z)&&dn[Z]instanceof w.TilingPattern&&dn[Z].objectNumber>=0&&dn[Z].objectNumber<N&&ge("/"+Z+" "+dn[Z].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),ge(">>")}},Qc=function(){if(Object.keys(On).length>0){var N;for(N in ge("/ExtGState <<"),On)On.hasOwnProperty(N)&&On[N].objectNumber>=0&&ge("/"+N+" "+On[N].objectNumber+" 0 R");ln.publish("putGStateDict"),ge(">>")}},Gn=function(N){pa(N.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Es(),Fl(),lr(N.objectOid),Qc(),Wr(),ge(">>"),ge("endobj")},qi=function(){var N=[];Aa(),Va(),Io(),_s(N),ln.publish("putResources"),N.forEach(Gn),Gn({resourcesOid:ga,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources")},Ol=function(){ln.publish("putAdditionalObjects");for(var N=0;N<Ce.length;N++){var Z=Ce[N];pa(Z.objId,!0),ge(Z.content),ge("endobj")}ln.publish("postPutAdditionalObjects")},qu=function(N){yn[N.fontName]=yn[N.fontName]||{},yn[N.fontName][N.fontStyle]=N.id},ur=function(N,Z,me,xe,_e){var Oe={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:N,fontName:Z,fontStyle:me,encoding:xe,isStandardFont:_e||!1,metadata:{}};return ln.publish("addFont",{font:Oe,instance:this}),tn[Oe.id]=Oe,qu(Oe),Oe.id},Vu=function(N){for(var Z=0,me=Je.length;Z<me;Z++){var xe=ur.call(this,N[Z][0],N[Z][1],N[Z][2],Je[Z][3],!0);x===!1&&(T[xe]=!0);var _e=N[Z][0].split("-");qu({id:xe,fontName:_e[0],fontStyle:_e[1]||""})}ln.publish("addFonts",{fonts:tn,dictionary:yn})},Qi=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(xe){var Z=xe.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var me="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+xe.message;if(!_t.console)throw new Error(me);_t.console.error(me,xe),_t.alert&&alert(me)}},N.foo.bar=N,N.foo},Po=function(N,Z){var me,xe,_e,Oe,We,it,ht,Rt,Vt;if(_e=(Z=Z||{}).sourceEncoding||"Unicode",We=Z.outputEncoding,(Z.autoencode||We)&&tn[Yt].metadata&&tn[Yt].metadata[_e]&&tn[Yt].metadata[_e].encoding&&(Oe=tn[Yt].metadata[_e].encoding,!We&&tn[Yt].encoding&&(We=tn[Yt].encoding),!We&&Oe.codePages&&(We=Oe.codePages[0]),typeof We=="string"&&(We=Oe[We]),We)){for(ht=!1,it=[],me=0,xe=N.length;me<xe;me++)(Rt=We[N.charCodeAt(me)])?it.push(String.fromCharCode(Rt)):it.push(N[me]),it[me].charCodeAt(0)>>8&&(ht=!0);N=it.join("")}for(me=N.length;ht===void 0&&me!==0;)N.charCodeAt(me-1)>>8&&(ht=!0),me--;if(!ht)return N;for(it=Z.noBOM?[]:[254,255],me=0,xe=N.length;me<xe;me++){if((Vt=(Rt=N.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(Vt),it.push(Rt-(Vt<<8))}return String.fromCharCode.apply(void 0,it)},kn=w.__private__.pdfEscape=w.pdfEscape=function(N,Z){return Po(N,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=w.__private__.beginPage=function(N){je[++Hn]=[],jt[Hn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Ms(Hn),Fe(je[J])},Bl=function(N,Z){var me,xe,_e;switch(n=Z||n,typeof N=="string"&&(me=E(N.toLowerCase()),Array.isArray(me)&&(xe=me[0],_e=me[1])),Array.isArray(N)&&(xe=N[0]*at,_e=N[1]*at),isNaN(xe)&&(xe=s[0],_e=s[1]),(xe>14400||_e>14400)&&(jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),_e=Math.min(14400,_e)),s=[xe,_e],n.substr(0,1)){case"l":_e>xe&&(s=[_e,xe]);break;case"p":xe>_e&&(s=[_e,xe])}Jr(s),Wu(hr),ge(za),$l!==0&&ge($l+" J"),Vo!==0&&ge(Vo+" j"),ln.publish("addPage",{pageNumber:Hn})},Ul=function(N){N>0&&N<=Hn&&(je.splice(N,1),jt.splice(N,1),Hn--,J>Hn&&(J=Hn),this.setPage(J))},Ms=function(N){N>0&&N<=Hn&&(J=N)},zu=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return je.length-1},ql=function(N,Z,me){var xe,_e=void 0;return me=me||{},N=N!==void 0?N:tn[Yt].fontName,Z=Z!==void 0?Z:tn[Yt].fontStyle,xe=N.toLowerCase(),yn[xe]!==void 0&&yn[xe][Z]!==void 0?_e=yn[xe][Z]:yn[N]!==void 0&&yn[N][Z]!==void 0?_e=yn[N][Z]:me.disableWarning===!1&&jn.warn("Unable to look up font label for font '"+N+"', '"+Z+"'. Refer to getFontList() for available fonts."),_e||me.noFallback||(_e=yn.times[Z])==null&&(_e=yn.times.normal),_e},cr=w.__private__.putInfo=function(){var N=Jn(),Z=function(xe){return xe};for(var me in y!==null&&(Z=xi.encryptor(N,0)),ge("<<"),ge("/Producer ("+kn(Z("jsPDF "+Tt.version))+")"),ft)ft.hasOwnProperty(me)&&ft[me]&&ge("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+kn(Z(ft[me]))+")");ge("/CreationDate ("+kn(Z(ce))+")"),ge(">>"),ge("endobj")},Vl=w.__private__.putCatalog=function(N){var Z=(N=N||{}).rootDictionaryObjId||ma;switch(Jn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+Z+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+tt;me.substr(me.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+ue(tt)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}It&&ge("/PageMode /"+It),ln.publish("putCatalog"),ge(">>"),ge("endobj")},Hu=w.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(X+1)),ge("/Root "+X+" 0 R"),ge("/Info "+(X-1)+" 0 R"),y!==null&&ge("/Encrypt "+xi.oid+" 0 R"),ge("/ID [ <"+q+"> <"+q+"> ]"),ge(">>")},Gu=w.__private__.putHeader=function(){ge("%PDF-"+C),ge("%ºß¬à")},zl=w.__private__.putXRef=function(){var N="0000000000";ge("xref"),ge("0 "+(X+1)),ge("0000000000 65535 f ");for(var Z=1;Z<=X;Z++)typeof pe[Z]=="function"?ge((N+pe[Z]()).slice(-10)+" 00000 n "):pe[Z]!==void 0?ge((N+pe[Z]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},ks=w.__private__.buildDocument=function(){Ze(),Fe(he),ln.publish("buildDocument"),Gu(),or(),Ol(),qi(),y!==null&&Uu(),cr(),Vl();var N=fe;return zl(),Hu(),ge("startxref"),ge(""+N),ge("%%EOF"),Fe(je[J]),he.join(`
`)},Lo=w.__private__.getBlob=function(N){return new Blob([dt(N)],{type:"application/pdf"})},Ds=w.output=w.__private__.output=Qi(function(N,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",N){case void 0:return ks();case"save":w.save(Z.filename);break;case"arraybuffer":return dt(ks());case"blob":return Lo(ks());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(Lo(ks()))||void 0;jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",xe=ks();try{me=ig(xe)}catch{me=ig(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+Z.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(_e=Z.pdfObjectUrl,Oe="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",it=_t.open();return it!==null&&it.document.write(We),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Rt=_t.open();if(Rt!==null){Rt.document.write(ht);var Vt=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=Z.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Vt.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',In=_t.open();if(In!==null&&(In.document.write(Xt),In.document.title=Z.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",Z);default:return null}}),Ro=function(N){return Array.isArray(Cs)===!0&&Cs.indexOf(N)>-1};switch(i){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);at=i}var xi=null;ae(),ne();var dr=function(N){return y!==null?xi.encryptor(N,0):function(Z){return Z}},js=w.__private__.getPageInfo=w.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[N].objId,pageNumber:N,pageContext:jt[N]}},Et=w.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in jt)if(jt[Z].objId===N)break;return js(Z)},Hl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:jt[J].objId,pageNumber:J,pageContext:jt[J]}};w.addPage=function(){return Bl.apply(this,arguments),this},w.setPage=function(){return Ms.apply(this,arguments),Fe.call(this,je[J]),this},w.insertPage=function(N){return this.addPage(),this.movePage(J,N),this},w.movePage=function(N,Z){var me,xe;if(N>Z){me=je[N],xe=jt[N];for(var _e=N;_e>Z;_e--)je[_e]=je[_e-1],jt[_e]=jt[_e-1];je[Z]=me,jt[Z]=xe,this.setPage(Z)}else if(N<Z){me=je[N],xe=jt[N];for(var Oe=N;Oe<Z;Oe++)je[Oe]=je[Oe+1],jt[Oe]=jt[Oe+1];je[Z]=me,jt[Z]=xe,this.setPage(Z)}return this},w.deletePage=function(){return Ul.apply(this,arguments),this},w.__private__.text=w.text=function(N,Z,me,xe,_e){var Oe,We,it,ht,Rt,Vt,Xt,In,Un,Kn=(xe=xe||{}).scope||this;if(typeof N=="number"&&typeof Z=="number"&&(typeof me=="string"||Array.isArray(me))){var Zn=me;me=Z,Z=N,N=Zn}if(arguments[3]instanceof mt?(U("The transform parameter of text() with a Matrix value"),Un=_e):(it=arguments[4],ht=arguments[5],An(Xt=arguments[3])==="object"&&Xt!==null||(typeof it=="string"&&(ht=it,it=null),typeof Xt=="string"&&(ht=Xt,Xt=null),typeof Xt=="number"&&(it=Xt,Xt=null),xe={flags:Xt,angle:it,align:ht})),isNaN(Z)||isNaN(me)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Kn;var bi="",Ha=!1,ya=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:va,ls=Kn.internal.scaleFactor;function Kl(_n){return _n=_n.split("	").join(Array(xe.TabLen||9).join(" ")),kn(_n,Xt)}function Ls(_n){for(var bn,$n=_n.concat(),Xn=[],ci=$n.length;ci--;)typeof(bn=$n.shift())=="string"?Xn.push(bn):Array.isArray(_n)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Xn.push(bn[0]):Xn.push([bn[0],bn[1],bn[2]]);return Xn}function Rs(_n,bn){var $n;if(typeof _n=="string")$n=bn(_n)[0];else if(Array.isArray(_n)){for(var Xn,ci,Us=_n.concat(),_i=[],zi=Us.length;zi--;)typeof(Xn=Us.shift())=="string"?_i.push(bn(Xn)[0]):Array.isArray(Xn)&&typeof Xn[0]=="string"&&(ci=bn(Xn[0],Xn[1],Xn[2]),_i.push([ci[0],ci[1],ci[2]]));$n=_i}return $n}var Yo=!1,vr=!0;if(typeof N=="string")Yo=!0;else if(Array.isArray(N)){var Wo=N.concat();We=[];for(var Qr,Li=Wo.length;Li--;)(typeof(Qr=Wo.shift())!="string"||Array.isArray(Qr)&&typeof Qr[0]!="string")&&(vr=!1);Yo=vr}if(Yo===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var yr=Qe/Kn.internal.scaleFactor,eo=yr*(ya-1);switch(xe.baseline){case"bottom":me-=eo;break;case"top":me+=yr-eo;break;case"hanging":me+=yr-2*eo;break;case"middle":me+=yr/2-eo}if((Vt=xe.maxWidth||0)>0&&(typeof N=="string"?N=Kn.splitTextToSize(N,Vt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(_n,bn){return _n.concat(Kn.splitTextToSize(bn,Vt))},[]))),Oe={text:N,x:Z,y:me,options:xe,mutex:{pdfEscape:kn,activeFontKey:Yt,fonts:tn,activeFontSize:Qe}},ln.publish("preProcessText",Oe),N=Oe.text,it=(xe=Oe.options).angle,!(Un instanceof mt)&&it&&typeof it=="number"){it*=Math.PI/180,xe.rotationDirection===0&&(it=-it),F===j.ADVANCED&&(it=-it);var to=Math.cos(it),Jo=Math.sin(it);Un=new mt(to,Jo,-Jo,to,0,0)}else it&&it instanceof mt&&(Un=it);F!==j.ADVANCED||Un||(Un=Bn),(Rt=xe.charSpace||qo)!==void 0&&(bi+=V(k(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=xe.horizontalScale)!==void 0&&(bi+=V(100*In)+` Tz
`),xe.lang;var ta=-1,ad=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Zl=Kn.internal.getCurrentPageInfo().pageContext;switch(ad){case 0:case!1:case"fill":ta=0;break;case 1:case!0:case"stroke":ta=1;break;case 2:case"fillThenStroke":ta=2;break;case 3:case"invisible":ta=3;break;case 4:case"fillAndAddForClipping":ta=4;break;case 5:case"strokeAndAddPathForClipping":ta=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ta=6;break;case 7:case"addToPathForClipping":ta=7}var Ku=Zl.usedRenderingMode!==void 0?Zl.usedRenderingMode:-1;ta!==-1?bi+=ta+` Tr
`:Ku!==-1&&(bi+=`0 Tr
`),ta!==-1&&(Zl.usedRenderingMode=ta),ht=xe.align||"left";var Ga,Ci=Qe*ya,no=Kn.internal.pageSize.getWidth(),Zu=tn[Yt];Rt=xe.charSpace||qo,Vt=xe.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Fs=[];if(Object.prototype.toString.call(N)==="[object Array]"){var xa;We=Ls(N),ht!=="left"&&(Ga=We.map(function(_n){return Kn.getStringUnitWidth(_n,{font:Zu,charSpace:Rt,fontSize:Qe,doKerning:!1})*Qe/ls}));var Ea,us=0;if(ht==="right"){Z-=Ga[0],N=[],Li=We.length;for(var cs=0;cs<Li;cs++)cs===0?(Ea=_a(Z),xa=Ps(me)):(Ea=k(us-Ga[cs]),xa=-Ci),N.push([We[cs],Ea,xa]),us=Ga[cs]}else if(ht==="center"){Z-=Ga[0]/2,N=[],Li=We.length;for(var na=0;na<Li;na++)na===0?(Ea=_a(Z),xa=Ps(me)):(Ea=k((us-Ga[na])/2),xa=-Ci),N.push([We[na],Ea,xa]),us=Ga[na]}else if(ht==="left"){N=[],Li=We.length;for(var xr=0;xr<Li;xr++)N.push(We[xr])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');N=[],Li=We.length,Vt=Vt!==0?Vt:no;for(var Vi=0;Vi<Li;Vi++)xa=Vi===0?Ps(me):-Ci,Ea=Vi===0?_a(Z):0,Vi<Li-1?Fs.push(V(k((Vt-Ga[Vi])/(We[Vi].split(" ").length-1)))):Fs.push(0),N.push([We[Vi],Ea,xa])}}var br=typeof xe.R2L=="boolean"?xe.R2L:gt;br===!0&&(N=Rs(N,function(_n,bn,$n){return[_n.split("").reverse().join(""),bn,$n]})),Oe={text:N,x:Z,y:me,options:xe,mutex:{pdfEscape:kn,activeFontKey:Yt,fonts:tn,activeFontSize:Qe}},ln.publish("postProcessText",Oe),N=Oe.text,Ha=Oe.mutex.isHex||!1;var Ko=tn[Yt].encoding;Ko!=="WinAnsiEncoding"&&Ko!=="StandardEncoding"||(N=Rs(N,function(_n,bn,$n){return[Kl(_n),bn,$n]})),We=Ls(N),N=[];for(var ia,Ri,$a,wr=0,Ma=1,Sr=Array.isArray(We[0])?Ma:wr,Os="",Zo=function(_n,bn,$n){var Xn="";return $n instanceof mt?($n=typeof xe.angle=="number"?Cn($n,new mt(1,0,0,1,_n,bn)):Cn(new mt(1,0,0,1,_n,bn),$n),F===j.ADVANCED&&($n=Cn(new mt(1,0,0,-1,0,0),$n)),Xn=$n.join(" ")+` Tm
`):Xn=V(_n)+" "+V(bn)+` Td
`,Xn},ka=0;ka<We.length;ka++){switch(Os="",Sr){case Ma:$a=(Ha?"<":"(")+We[ka][0]+(Ha?">":")"),ia=parseFloat(We[ka][1]),Ri=parseFloat(We[ka][2]);break;case wr:$a=(Ha?"<":"(")+We[ka]+(Ha?">":")"),ia=_a(Z),Ri=Ps(me)}Fs!==void 0&&Fs[ka]!==void 0&&(Os=Fs[ka]+` Tw
`),ka===0?N.push(Os+Zo(ia,Ri,Un)+$a):Sr===wr?N.push(Os+$a):Sr===Ma&&N.push(Os+Zo(ia,Ri,Un)+$a)}N=Sr===wr?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Bs=`BT
/`;return Bs+=Yt+" "+Qe+` Tf
`,Bs+=V(Qe*ya)+` TL
`,Bs+=Zr+`
`,Bs+=bi,Bs+=N,ge(Bs+="ET"),T[Yt]=!0,Kn};var $u=w.__private__.clip=w.clip=function(N){return ge(N==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return $u("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ge("n"),this};var ea=w.__private__.isValidStyle=function(N){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(Z=!0),Z};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(N){return ea(N)&&(m=N),this};var Na=w.__private__.getStyle=w.getStyle=function(N){var Z=m;switch(N){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=N}return Z},Fo=w.close=function(){return ge("h"),this};w.stroke=function(){return ge("S"),this},w.fill=function(N){return ss("f",N),this},w.fillEvenOdd=function(N){return ss("f*",N),this},w.fillStroke=function(N){return ss("B",N),this},w.fillStrokeEvenOdd=function(N){return ss("B*",N),this};var ss=function(N,Z){An(Z)==="object"?Oo(Z,N):ge(N)},Ca=function(N){N===null||F===j.ADVANCED&&N===void 0||(N=Na(N),ge(N))};function Gl(N,Z,me,xe,_e){var Oe=new Au(Z||this.boundingBox,me||this.xStep,xe||this.yStep,this.gState,_e||this.matrix);Oe.stream=this.stream;var We=N+"$$"+this.cloneIndex+++"$$";return ui(We,Oe),Oe}var Oo=function(N,Z){var me=rr[N.key],xe=dn[me];if(xe instanceof El)ge("q"),ge(Yu(Z)),xe.gState&&w.setGState(xe.gState),ge(N.matrix.toString()+" cm"),ge("/"+me+" sh"),ge("Q");else if(xe instanceof Au){var _e=new mt(1,0,0,-1,0,gr());N.matrix&&(_e=_e.multiply(N.matrix||Bn),me=Gl.call(xe,N.key,N.boundingBox,N.xStep,N.yStep,_e).id),ge("q"),ge("/Pattern cs"),ge("/"+me+" scn"),xe.gState&&w.setGState(xe.gState),ge(Z),ge("Q")}},Yu=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fr=w.moveTo=function(N,Z){return ge(V(k(N))+" "+V(K(Z))+" m"),this},rs=w.lineTo=function(N,Z){return ge(V(k(N))+" "+V(K(Z))+" l"),this},Is=w.curveTo=function(N,Z,me,xe,_e,Oe){return ge([V(k(N)),V(K(Z)),V(k(me)),V(K(xe)),V(k(_e)),V(K(Oe)),"c"].join(" ")),this};w.__private__.line=w.line=function(N,Z,me,xe,_e){if(isNaN(N)||isNaN(Z)||isNaN(me)||isNaN(xe)||!ea(_e))throw new Error("Invalid arguments passed to jsPDF.line");return F===j.COMPAT?this.lines([[me-N,xe-Z]],N,Z,[1,1],_e||"S"):this.lines([[me-N,xe-Z]],N,Z,[1,1]).stroke()},w.__private__.lines=w.lines=function(N,Z,me,xe,_e,Oe){var We,it,ht,Rt,Vt,Xt,In,Un,Kn,Zn,bi,Ha;if(typeof N=="number"&&(Ha=me,me=Z,Z=N,N=Ha),xe=xe||[1,1],Oe=Oe||!1,isNaN(Z)||isNaN(me)||!Array.isArray(N)||!Array.isArray(xe)||!ea(_e)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fr(Z,me),We=xe[0],it=xe[1],Rt=N.length,Zn=Z,bi=me,ht=0;ht<Rt;ht++)(Vt=N[ht]).length===2?(Zn=Vt[0]*We+Zn,bi=Vt[1]*it+bi,rs(Zn,bi)):(Xt=Vt[0]*We+Zn,In=Vt[1]*it+bi,Un=Vt[2]*We+Zn,Kn=Vt[3]*it+bi,Zn=Vt[4]*We+Zn,bi=Vt[5]*it+bi,Is(Xt,In,Un,Kn,Zn,bi));return Oe&&Fo(),Ca(_e),this},w.path=function(N){for(var Z=0;Z<N.length;Z++){var me=N[Z],xe=me.c;switch(me.op){case"m":fr(xe[0],xe[1]);break;case"l":rs(xe[0],xe[1]);break;case"c":Is.apply(this,xe);break;case"h":Fo()}}return this},w.__private__.rect=w.rect=function(N,Z,me,xe,_e){if(isNaN(N)||isNaN(Z)||isNaN(me)||isNaN(xe)||!ea(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return F===j.COMPAT&&(xe=-xe),ge([V(k(N)),V(K(Z)),V(k(me)),V(k(xe)),"re"].join(" ")),Ca(_e),this},w.__private__.triangle=w.triangle=function(N,Z,me,xe,_e,Oe,We){if(isNaN(N)||isNaN(Z)||isNaN(me)||isNaN(xe)||isNaN(_e)||isNaN(Oe)||!ea(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-N,xe-Z],[_e-me,Oe-xe],[N-_e,Z-Oe]],N,Z,[1,1],We,!0),this},w.__private__.roundedRect=w.roundedRect=function(N,Z,me,xe,_e,Oe,We){if(isNaN(N)||isNaN(Z)||isNaN(me)||isNaN(xe)||isNaN(_e)||isNaN(Oe)||!ea(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*me),Oe=Math.min(Oe,.5*xe),this.lines([[me-2*_e,0],[_e*it,0,_e,Oe-Oe*it,_e,Oe],[0,xe-2*Oe],[0,Oe*it,-_e*it,Oe,-_e,Oe],[2*_e-me,0],[-_e*it,0,-_e,-Oe*it,-_e,-Oe],[0,2*Oe-xe],[0,-Oe*it,_e*it,-Oe,_e,-Oe]],N+_e,Z,[1,1],We,!0),this},w.__private__.ellipse=w.ellipse=function(N,Z,me,xe,_e){if(isNaN(N)||isNaN(Z)||isNaN(me)||isNaN(xe)||!ea(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*me,We=4/3*(Math.SQRT2-1)*xe;return fr(N+me,Z),Is(N+me,Z-We,N+Oe,Z-xe,N,Z-xe),Is(N-Oe,Z-xe,N-me,Z-We,N-me,Z),Is(N-me,Z+We,N-Oe,Z+xe,N,Z+xe),Is(N+Oe,Z+xe,N+me,Z+We,N+me,Z),Ca(_e),this},w.__private__.circle=w.circle=function(N,Z,me,xe){if(isNaN(N)||isNaN(Z)||isNaN(me)||!ea(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,Z,me,me,xe)},w.setFont=function(N,Z,me){return me&&(Z=ee(Z,me)),Yt=ql(N,Z,{disableWarning:!1}),this};var Pi=w.__private__.getFont=w.getFont=function(){return tn[ql.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var N,Z,me={};for(N in yn)if(yn.hasOwnProperty(N))for(Z in me[N]=[],yn[N])yn[N].hasOwnProperty(Z)&&me[N].push(Z);return me},w.addFont=function(N,Z,me,xe,_e){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(me=ee(me,xe)),_e=_e||"Identity-H",ur.call(this,N,Z,me,_e)};var va,hr=t.lineWidth||.200025,os=w.__private__.getLineWidth=w.getLineWidth=function(){return hr},Wu=w.__private__.setLineWidth=w.setLineWidth=function(N){return hr=N,ge(V(k(N))+" w"),this};w.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(N,Z){if(N=N||[],Z=Z||0,isNaN(Z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(me){return V(k(me))}).join(" "),Z=V(k(Z)),ge("["+N+"] "+Z+" d"),this};var Bo=w.__private__.getLineHeight=w.getLineHeight=function(){return Qe*va};w.__private__.getLineHeight=w.getLineHeight=function(){return Qe*va};var Uo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(va=N),this},pr=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return va};Uo(t.lineHeight);var _a=w.__private__.getHorizontalCoordinate=function(N){return k(N)},Ps=w.__private__.getVerticalCoordinate=function(N){return F===j.ADVANCED?N:jt[J].mediaBox.topRightY-jt[J].mediaBox.bottomLeftY-k(N)},ed=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(N){return V(_a(N))},mr=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(N){return V(Ps(N))},za=t.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return ji(za)},w.__private__.setStrokeColor=w.setDrawColor=function(N,Z,me,xe){return za=Ii({ch1:N,ch2:Z,ch3:me,ch4:xe,pdfColorType:"draw",precision:2}),ge(za),this};var Kr=t.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return ji(Kr)},w.__private__.setFillColor=w.setFillColor=function(N,Z,me,xe){return Kr=Ii({ch1:N,ch2:Z,ch3:me,ch4:xe,pdfColorType:"fill",precision:2}),ge(Kr),this};var Zr=t.textColor||"0 g",td=w.__private__.getTextColor=w.getTextColor=function(){return ji(Zr)};w.__private__.setTextColor=w.setTextColor=function(N,Z,me,xe){return Zr=Ii({ch1:N,ch2:Z,ch3:me,ch4:xe,pdfColorType:"text",precision:3}),this};var qo=t.charSpace,nd=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(qo||0)};w.__private__.setCharSpace=w.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qo=N,this};var $l=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(N){var Z=w.CapJoinStyles[N];if(Z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $l=Z,ge(Z+" J"),this};var Vo=0;w.__private__.setLineJoin=w.setLineJoin=function(N){var Z=w.CapJoinStyles[N];if(Z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=Z,ge(Z+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(V(k(N))+" M"),this},w.GState=df,w.setGState=function(N){(N=typeof N=="string"?On[fa[N]]:Ju(null,N)).equals(ha)||(ge("/"+N.id+" gs"),ha=N)};var Ju=function(N,Z){if(!N||!fa[N]){var me=!1;for(var xe in On)if(On.hasOwnProperty(xe)&&On[xe].equals(Z)){me=!0;break}if(me)Z=On[xe];else{var _e="GS"+(Object.keys(On).length+1).toString(10);On[_e]=Z,Z.id=_e}return N&&(fa[N]=Z.id),ln.publish("addGState",Z),Z}};w.addGState=function(N,Z){return Ju(N,Z),this},w.saveGraphicsState=function(){return ge("q"),Zi.push({key:Yt,size:Qe,color:Zr}),this},w.restoreGraphicsState=function(){ge("Q");var N=Zi.pop();return Yt=N.key,Qe=N.size,Zr=N.color,ha=null,this},w.setCurrentTransformationMatrix=function(N){return ge(N.toString()+" cm"),this},w.comment=function(N){return ge("#"+N),this};var zo=function(N,Z){var me=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Oe){isNaN(Oe)||(me=parseFloat(Oe))}});var xe=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Oe){isNaN(Oe)||(xe=parseFloat(Oe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Oe){_e=Oe.toString()}}),this},Yl=function(N,Z,me,xe){zo.call(this,N,Z),this.type="rect";var _e=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(We){isNaN(We)||(_e=parseFloat(We))}});var Oe=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(We){isNaN(We)||(Oe=parseFloat(We))}}),this},Wl=function(){this.page=Hn,this.currentPage=J,this.pages=je.slice(0),this.pagesContext=jt.slice(0),this.x=Di,this.y=Zt,this.matrix=Ki,this.width=Xr(J),this.height=gr(J),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Wl.prototype.restore=function(){Hn=this.page,J=this.currentPage,jt=this.pagesContext,je=this.pages,Di=this.x,Zt=this.y,Ki=this.matrix,$o(J,this.width),Jl(J,this.height),Ye=this.outputDestination};var Ho=function(N,Z,me,xe,_e){as.push(new Wl),Hn=J=0,je=[],Di=N,Zt=Z,Ki=_e,Jr([me,xe])},id=function(N){if(Ua[N])as.pop().restore();else{var Z=new Wl,me="Xo"+(Object.keys(li).length+1).toString(10);Z.id=me,Ua[N]=me,li[me]=Z,ln.publish("addFormObject",Z),as.pop().restore()}};for(var Go in w.beginFormObject=function(N,Z,me,xe,_e){return Ho(N,Z,me,xe,_e),this},w.endFormObject=function(N){return id(N),this},w.doFormObject=function(N,Z){var me=li[Ua[N]];return ge("q"),ge(Z.toString()+" cm"),ge("/"+me.id+" Do"),ge("Q"),this},w.getFormObject=function(N){var Z=li[Ua[N]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},w.save=function(N,Z){return N=N||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Tu(Lo(ks()),N),typeof Tu.unload=="function"&&_t.setTimeout&&setTimeout(Tu.unload,911),this):new Promise(function(me,xe){try{var _e=Tu(Lo(ks()),N);typeof Tu.unload=="function"&&_t.setTimeout&&setTimeout(Tu.unload,911),me(_e)}catch(Oe){xe(Oe.message)}})},Tt.API)Tt.API.hasOwnProperty(Go)&&(Go==="events"&&Tt.API.events.length?function(N,Z){var me,xe,_e;for(_e=Z.length-1;_e!==-1;_e--)me=Z[_e][0],xe=Z[_e][1],N.subscribe.apply(N,[me].concat(typeof xe=="function"?[xe]:xe))}(ln,Tt.API.events):w[Go]=Tt.API[Go]);var Xr=w.getPageWidth=function(N){return(jt[N=N||J].mediaBox.topRightX-jt[N].mediaBox.bottomLeftX)/at},$o=w.setPageWidth=function(N,Z){jt[N].mediaBox.topRightX=Z*at+jt[N].mediaBox.bottomLeftX},gr=w.getPageHeight=function(N){return(jt[N=N||J].mediaBox.topRightY-jt[N].mediaBox.bottomLeftY)/at},Jl=w.setPageHeight=function(N,Z){jt[N].mediaBox.topRightY=Z*at+jt[N].mediaBox.bottomLeftY};return w.internal={pdfEscape:kn,getStyle:Na,getFont:Pi,getFontSize:nt,getCharSpace:nd,getTextColor:td,getLineHeight:Bo,getLineHeightFactor:pr,getLineWidth:os,write:bt,getHorizontalCoordinate:_a,getVerticalCoordinate:Ps,getCoordinateString:ed,getVerticalCoordinateString:mr,collections:{},newObject:Jn,newAdditionalObject:Gr,newObjectDeferred:ni,newObjectDeferredBegin:pa,getFilters:Xi,putStream:Ni,events:ln,scaleFactor:at,pageSize:{getWidth:function(){return Xr(J)},setWidth:function(N){$o(J,N)},getHeight:function(){return gr(J)},setHeight:function(N){Jl(J,N)}},encryptionOptions:y,encryption:xi,getEncryptor:dr,output:Ds,getNumberOfPages:zu,pages:je,out:ge,f2:ue,f3:I,getPageInfo:js,getPageInfoByObjId:Et,getCurrentPageInfo:Hl,getPDFVersion:M,Point:zo,Rectangle:Yl,Matrix:mt,hasHotfix:Ro},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Xr(J)},set:function(N){$o(J,N)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return gr(J)},set:function(N){Jl(J,N)},enumerable:!0,configurable:!0}),Vu.call(w,Je),Yt="F1",Bl(s,n),ln.publish("initialized"),w}Lc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Lc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lc.prototype.processOwnerPassword=function(t,e){return sg(ag(e).substr(0,5),t)},Lc.prototype.encryptor=function(t,e){var n=ag(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return sg(n,i)}},df.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||An(t)!==An(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},Tt.API={events:[]},Tt.version="2.5.1";var ri=Tt.API,Rg=1,Fu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(t){return t.toFixed(2)},Al=function(t){return t.toFixed(5)};ri.__acroform__={};var Ba=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},my=function(t){return t*Rg},Rr=function(t){var e=new B2,n=lt.internal.getHeight(t)||0,i=lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ut(i)),Number(Ut(n))],e},vS=ri.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},yS=ri.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},xS=ri.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},gi=ri.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xS(t,e-1)},vi=ri.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vS(t,e-1)},yi=ri.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return yS(t,e-1)},bS=ri.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=t[0],o=t[1],u=t[2],d=t[3],h={};return h.lowerLeft_X=n(s)||0,h.lowerLeft_Y=i(o+d)||0,h.upperRight_X=n(s+u)||0,h.upperRight_Y=i(o)||0,[Number(Ut(h.lowerLeft_X)),Number(Ut(h.lowerLeft_Y)),Number(Ut(h.upperRight_X)),Number(Ut(h.upperRight_Y))]},wS=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=rg(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Ut(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Rr(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},rg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=n,u=lt.internal.getHeight(t)||0;u=u<0?-u:u;var d=lt.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(I,k,$){if(I+1<s.length){var K=k+" "+s[I+1][0];return yh(K,t,$).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var m,y,x=yh("3",t,o).height,T=t.multiline?u-o:(u-x)/2,w=T+=2,C=0,M=0,D=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+yh(e,t,o=12).width+", FieldWidth:"+d+`
`;break}for(var E="",j=0,F=0;F<s.length;F++)if(s.hasOwnProperty(F)){var B=!1;if(s[F].length!==1&&D!==s[F].length-1){if((x+2)*(j+2)+2>u)continue e;E+=s[F][D],B=!0,M=F,F--}else{E=(E+=s[F][D]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var H=parseInt(F),ee=h(H,E,o),V=F>=s.length-1;if(ee&&!V){E+=" ",D=0;continue}if(ee||V){if(V)M=H;else if(t.multiline&&(x+2)*(j+2)+2>u)continue e}else{if(!t.multiline||(x+2)*(j+2)+2>u)continue e;M=H}}for(var U="",O=C;O<=M;O++){var ue=s[O];if(t.multiline){if(O===M){U+=ue[D]+" ",D=(D+1)%ue.length;continue}if(O===C){U+=ue[ue.length-1]+" ";continue}}U+=ue[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,y=yh(U,t,o).width,t.textAlign){case"right":m=d-y-2;break;case"center":m=(d-y)/2;break;case"left":default:m=2}e+=Ut(m)+" "+Ut(w)+` Td
`,e+="("+Fu(U)+`) Tj
`,e+=-Ut(m)+` 0 Td
`,w=-(o+2),y=0,C=B?M:M+1,j++,E=""}break}return i.text=e,i.fontSize=o,i},yh=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},SS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TS=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},AS=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),An(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[i]}},NS=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ar.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(SS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new U2,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&TS(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,s){var o=!i;for(var u in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var d=i[u],h=[],m=d.Rect;if(d.Rect&&(d.Rect=bS(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=lt.createDefaultAppearanceStream(d),An(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var y=wS(d);h.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(d.appearanceStreamContent){var x="";for(var T in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(T)){var w=d.appearanceStreamContent[T];if(x+="/"+T+" ",x+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var C=w[u];typeof C=="function"&&(C=C.call(s,d)),x+="/"+u+" "+C+" ",s.internal.acroformPlugin.xForms.indexOf(C)>=0||s.internal.acroformPlugin.xForms.push(C)}}else typeof(C=w)=="function"&&(C=C.call(s,d)),x+="/"+u+" "+C,s.internal.acroformPlugin.xForms.indexOf(C)>=0||s.internal.acroformPlugin.xForms.push(C);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:d.objId}),s.internal.out("endobj")}o&&AS(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},O2=ri.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(u){return u};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(o!==0&&(s+=" "),An(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),s+="("+Fu(i(t[o].toString()))+")"):s+=t[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lm=function(t,e,n){var i=function(s){return s};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Fu(i(t))+")"},Fr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fr.prototype.toString=function(){return this.objId+" 0 R"},Fr.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Fr.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],s=this[i];s&&(Array.isArray(s)?t.push({key:i,value:O2(s,this.objId,this.scope)}):s instanceof Fr?(s.scope=this.scope,t.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:i,value:s}))}return t};var B2=function(){Fr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ba(B2,Fr);var U2=function(){Fr.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Fu(n(t))+")"}},set:function(n){t=n}})};Ba(U2,Fr);var ar=function t(){Fr.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gi(e,3)},set:function(E){E?this.F=vi(e,3):this.F=yi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Bh)return;o="FieldObject"+t.FieldNum++}var E=function(j){return j};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Fu(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Rg:m},set:function(E){m=E}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(E){y=E}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Bh||this instanceof kl))return Lm(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=E}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof ki?T:Lm(T,this.objId,this.scope)},set:function(E){E=E.toString(),T=this instanceof ki?E:E.substr(0,1)==="("?Dc(E.substr(1,E.length-2)):Dc(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ki?Dc(T.substr(1,T.length-1)):T},set:function(E){E=E.toString(),T=this instanceof ki?"/"+E:E}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ki?w:Lm(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=this instanceof ki?E:E.substr(0,1)==="("?Dc(E.substr(1,E.length-2)):Dc(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ki?Dc(w.substr(1,w.length-1)):w},set:function(E){E=E.toString(),w=this instanceof ki?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(E){E=!!E,M=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(E){C=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,1)},set:function(E){E?this.Ff=vi(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,2)},set:function(E){E?this.Ff=vi(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,3)},set:function(E){E?this.Ff=vi(this.Ff,3):this.Ff=yi(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');D=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(D){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};Ba(ar,Fr);var Nu=function(){ar.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return O2(e,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=function(o,u,d){d||(d=1);for(var h,m=[];h=u.exec(o);)m.push(h[d]);return m}(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,18)},set:function(n){n?this.Ff=vi(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vi(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,20)},set:function(n){n?(this.Ff=vi(this.Ff,20),e.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,22)},set:function(n){n?this.Ff=vi(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,23)},set:function(n){n?this.Ff=vi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,27)},set:function(n){n?this.Ff=vi(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ba(Nu,ar);var Cu=function(){Nu.call(this),this.fontName="helvetica",this.combo=!1};Ba(Cu,Nu);var _u=function(){Cu.call(this),this.combo=!0};Ba(_u,Cu);var tf=function(){_u.call(this),this.edit=!0};Ba(tf,_u);var ki=function(){ar.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,15)},set:function(n){n?this.Ff=vi(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,16)},set:function(n){n?this.Ff=vi(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,17)},set:function(n){n?this.Ff=vi(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,26)},set:function(n){n?this.Ff=vi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Fu(n(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){An(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ba(ki,ar);var nf=function(){ki.call(this),this.pushButton=!0};Ba(nf,ki);var Eu=function(){ki.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ba(Eu,ki);var Bh=function(){var t,e;ar.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),i)u.push("/"+o+" ("+Fu(s(i[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){An(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ba(Bh,ar),Eu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Eu.prototype.createOption=function(t){var e=new Bh;return e.Parent=this,e.optionName=t,this.Kids.push(e),CS.call(this.scope,e),e};var af=function(){ki.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Ba(af,ki);var kl=function(){ar.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,13)},set:function(e){e?this.Ff=vi(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,21)},set:function(e){e?this.Ff=vi(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,23)},set:function(e){e?this.Ff=vi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,24)},set:function(e){e?this.Ff=vi(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,25)},set:function(e){e?this.Ff=vi(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,26)},set:function(e){e?this.Ff=vi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ba(kl,ar);var sf=function(){kl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,14)},set:function(t){t?this.Ff=vi(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};Ba(sf,kl);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),o=rg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ut(lt.internal.getWidth(t))+" "+Ut(lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Ut(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=[],o=lt.internal.getHeight(t),u=lt.internal.getWidth(t),d=rg(t,t.caption);return s.push("1 g"),s.push("0 0 "+Ut(u)+" "+Ut(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ut(u-1)+" "+Ut(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Ut(d.fontSize)+" Tf "+i),s.push(d.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(lt.internal.getWidth(t))+" "+Ut(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Circle.YesNormal,e.D[t]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=[],i=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=lt.internal.Bezier_C,o=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Al(lt.internal.getWidth(t)/2)+" "+Al(lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],i=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*lt.internal.Bezier_C).toFixed(5)),u=Number((i*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Al(lt.internal.getWidth(t)/2)+" "+Al(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Al(lt.internal.getWidth(t)/2)+" "+Al(lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),n.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),n.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),n.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],i=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Al(lt.internal.getWidth(t)/2)+" "+Al(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Cross.YesNormal,e.D[t]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=[],i=lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ut(lt.internal.getWidth(t)-2)+" "+Ut(lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ut(i.x1.x)+" "+Ut(i.x1.y)+" m"),n.push(Ut(i.x2.x)+" "+Ut(i.x2.y)+" l"),n.push(Ut(i.x4.x)+" "+Ut(i.x4.y)+" m"),n.push(Ut(i.x3.x)+" "+Ut(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=lt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ut(lt.internal.getWidth(t))+" "+Ut(lt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ut(lt.internal.getWidth(t)-2)+" "+Ut(lt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Ut(n.x1.x)+" "+Ut(n.x1.y)+" m"),i.push(Ut(n.x2.x)+" "+Ut(n.x2.y)+" l"),i.push(Ut(n.x4.x)+" "+Ut(n.x4.y)+" m"),i.push(Ut(n.x3.x)+" "+Ut(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(lt.internal.getWidth(t))+" "+Ut(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=lt.internal.getWidth(t),n=lt.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},lt.internal.getWidth=function(t){var e=0;return An(t)==="object"&&(e=my(t.Rect[2])),e},lt.internal.getHeight=function(t){var e=0;return An(t)==="object"&&(e=my(t.Rect[3])),e};var CS=ri.addField=function(t){if(NS(this,t),!(t instanceof ar))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=Nu,ri.AcroFormListBox=Cu,ri.AcroFormComboBox=_u,ri.AcroFormEditBox=tf,ri.AcroFormButton=ki,ri.AcroFormPushButton=nf,ri.AcroFormRadioButton=Eu,ri.AcroFormCheckBox=af,ri.AcroFormTextField=kl,ri.AcroFormPasswordField=sf,ri.AcroFormAppearance=lt,ri.AcroForm={ChoiceField:Nu,ListBox:Cu,ComboBox:_u,EditBox:tf,Button:ki,PushButton:nf,RadioButton:Eu,CheckBox:af,TextField:kl,PasswordField:sf,Appearance:lt},Tt.AcroForm={ChoiceField:Nu,ListBox:Cu,ComboBox:_u,EditBox:tf,Button:ki,PushButton:nf,RadioButton:Eu,CheckBox:af,TextField:kl,PasswordField:sf,Appearance:lt};var _S=Tt.AcroForm;function q2(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,k){var $,K,ce,q,G,ne=e;if((k=k||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ee(I))for(G in n)for(ce=n[G],$=0;$<ce.length;$+=1){for(q=!0,K=0;K<ce[$].length;K+=1)if(ce[$][K]!==void 0&&ce[$][K]!==I[K]){q=!1;break}if(q===!0){ne=G;break}}else for(G in n)for(ce=n[G],$=0;$<ce.length;$+=1){for(q=!0,K=0;K<ce[$].length;K+=1)if(ce[$][K]!==void 0&&ce[$][K]!==I.charCodeAt(K)){q=!1;break}if(q===!0){ne=G;break}}return ne===e&&k!==e&&(ne=k),ne},s=function I(k){for(var $=this.internal.write,K=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:k.width}),q.push({key:"Height",value:k.height}),k.colorSpace===D.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===D.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var G="",ne=0,oe=k.transparency.length;ne<oe;ne++)G+=k.transparency[ne]+" "+k.transparency[ne]+" ";q.push({key:"Mask",value:"["+G+"]"})}k.sMask!==void 0&&q.push({key:"SMask",value:k.objectId+1+" 0 R"});var P=k.filter!==void 0?["/"+k.filter]:void 0;if(K({data:k.data,additionalKeyValues:q,alreadyAppliedFilters:P,objectId:k.objectId}),$("endobj"),"sMask"in k&&k.sMask!==void 0){var ae="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,L={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ae,data:k.sMask};"filter"in k&&(L.filter=k.filter),I.call(this,L)}if(k.colorSpace===D.INDEXED){var J=this.internal.newObject();K({data:U(new Uint8Array(k.palette)),objectId:J}),$("endobj")}},o=function(){var I=this.internal.collections.addImage_images;for(var k in I)s.call(this,I[k])},u=function(){var I,k=this.internal.collections.addImage_images,$=this.internal.write;for(var K in k)$("/I"+(I=k[K]).index,I.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var I=this.internal.collections.addImage_images;return d.call(this),I},m=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(I){return typeof t["process"+I.toUpperCase()]=="function"},x=function(I){return An(I)==="object"&&I.nodeType===1},T=function(I,k){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var $=""+I.getAttribute("src");if($.indexOf("data:image/")===0)return ef(unescape($).split("base64,").pop());var K=t.loadFile($,!0);if(K!==void 0)return K}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ce;switch(k){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return ef(I.toDataURL(ce,1).split("base64,").pop())}},w=function(I){var k=this.internal.collections.addImage_images;if(k){for(var $ in k)if(I===k[$].alias)return k[$]}},C=function(I,k,$){return I||k||(I=-96,k=-96),I<0&&(I=-1*$.width*72/I/this.internal.scaleFactor),k<0&&(k=-1*$.height*72/k/this.internal.scaleFactor),I===0&&(I=k*$.width/$.height),k===0&&(k=I*$.height/$.width),[I,k]},M=function(I,k,$,K,ce,q){var G=C.call(this,$,K,ce),ne=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,P=h.call(this);if($=G[0],K=G[1],P[ce.index]=ce,q){q*=Math.PI/180;var ae=Math.cos(q),L=Math.sin(q),J=function(ie){return ie.toFixed(4)},Y=[J(ae),J(L),J(-1*L),J(ae),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,ne(I),oe(k+K),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ne($),"0","0",ne(K),"0","0","cm"].join(" "))):this.internal.write([ne($),"0","0",ne(K),ne(I),oe(k+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(I){var k,$,K=0;if(typeof I=="string")for($=I.length,k=0;k<$;k++)K=(K<<5)-K+I.charCodeAt(k),K|=0;else if(ee(I))for($=I.byteLength/2,k=0;k<$;k++)K=(K<<5)-K+I[k],K|=0;return K},F=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var k=!0;return I.length===0&&(k=!1),I.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(k=!1),k},B=t.__addimage__.extractImageFromDataUrl=function(I){var k=(I=I||"").split("base64,"),$=null;if(k.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(K)&&($={mimeType:K[1],charset:K[2],data:k[1]})}return $},H=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return H()&&I instanceof ArrayBuffer};var ee=t.__addimage__.isArrayBufferView=function(I){return H()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},V=t.__addimage__.binaryStringToUint8Array=function(I){for(var k=I.length,$=new Uint8Array(k),K=0;K<k;K++)$[K]=I.charCodeAt(K);return $},U=t.__addimage__.arrayBufferToBinaryString=function(I){for(var k="",$=ee(I)?I:new Uint8Array(I),K=0;K<$.length;K+=8192)k+=String.fromCharCode.apply(null,$.subarray(K,K+8192));return k};t.addImage=function(){var I,k,$,K,ce,q,G,ne,oe;if(typeof arguments[1]=="number"?(k=e,$=arguments[1],K=arguments[2],ce=arguments[3],q=arguments[4],G=arguments[5],ne=arguments[6],oe=arguments[7]):(k=arguments[1],$=arguments[2],K=arguments[3],ce=arguments[4],q=arguments[5],G=arguments[6],ne=arguments[7],oe=arguments[8]),An(I=arguments[0])==="object"&&!x(I)&&"imageData"in I){var P=I;I=P.imageData,k=P.format||k||e,$=P.x||$||0,K=P.y||K||0,ce=P.w||P.width||ce,q=P.h||P.height||q,G=P.alias||G,ne=P.compression||ne,oe=P.rotation||P.angle||oe}var ae=this.internal.getFilters();if(ne===void 0&&ae.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN($)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var L=O.call(this,I,k,G,ne);return M.call(this,$,K,ce,q,L,oe),this};var O=function(I,k,$,K){var ce,q,G;if(typeof I=="string"&&i(I)===e){I=unescape(I);var ne=ue(I,!1);(ne!==""||(ne=t.loadFile(I,!0))!==void 0)&&(I=ne)}if(x(I)&&(I=T(I,k)),k=i(I,k),!y(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((G=$)==null||G.length===0)&&($=function(oe){return typeof oe=="string"||ee(oe)?j(oe):ee(oe.data)?j(oe.data):null}(I)),(ce=w.call(this,$))||(H()&&(I instanceof Uint8Array||k==="RGBA"||(q=I,I=V(I))),ce=this["process"+k.toUpperCase()](I,m.call(this),$,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:E.NONE}(K),q)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ue=t.__addimage__.convertBase64ToBinaryString=function(I,k){var $;k=typeof k!="boolean"||k;var K,ce="";if(typeof I=="string"){K=($=B(I))!==null?$.data:I;try{ce=ef(K)}catch(q){if(k)throw F(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(I){var k,$,K="";if(x(I)&&(I=T(I)),typeof I=="string"&&i(I)===e&&((K=ue(I,!1))===""&&(K=t.loadFile(I)||""),I=K),$=i(I),!y($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!H()||I instanceof Uint8Array||(I=V(I)),!(k=this["process"+$.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=$,k}})(Tt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Tt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,s,o,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,y=!1,x=0;x<m.length&&!y;x++)switch((i=m[x]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var T=0;T<m.length;T++){i=m[T];var w=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(M.objId),j=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+w(E(i.contents))+")",o+=" /Popup "+D.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+w(E(j))+") >>",M.content=o;var F=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+F,i.open&&(o+=" /Open true"),o+=" >>",D.content=o,this.internal.write(M.objId,"0 R",D.objId,"0 R");break;case"freetext":s="/Rect ["+u(i.bounds.x)+" "+d(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var B=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(C(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var H=this.annotations._nameMap[i.options.name];i.options.pageNumber=H.page,i.options.top=H.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(C(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ee=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ee+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,s,o,u){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(n),y:m(i),w:h(n+s),h:m(i+o)},options:u,type:"link"})},t.textWithLink=function(n,i,s,o){var u,d,h=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var y=this.splitTextToSize(n,d).length;u=Math.ceil(m*y)}else d=h,u=m;return this.text(n,i,s,o),s+=.2*m,o.align==="center"&&(i-=h/2),o.align==="right"&&(i-=h),this.link(i,s-m,d,u,o),h},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(Tt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=t.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&s.indexOf(M.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var y=t.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(M){var D=0,E=n,j="",F=0;for(D=0;D<M.length;D+=1)E[M.charCodeAt(D)]!==void 0?(F++,typeof(E=E[M.charCodeAt(D)])=="number"&&(j+=String.fromCharCode(E),E=n,F=0),D===M.length-1&&(E=n,j+=M.charAt(D-(F-1)),D-=F-1,F=0)):(E=n,j+=M.charAt(D-F),D-=F,F=0);return j};t.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var T=t.__arabicParser__.getCorrectForm=function(M,D,E){return u(M)?o(M)===!1?-1:!m(M)||!u(D)&&!u(E)||!u(E)&&d(D)||d(M)&&!u(D)||d(M)&&h(D)||d(M)&&d(D)?0:y(M)&&u(D)&&!d(D)&&u(E)&&m(E)?3:d(M)||!u(E)?1:2:-1},w=function(M){var D=0,E=0,j=0,F="",B="",H="",ee=(M=M||"").split("\\s+"),V=[];for(D=0;D<ee.length;D+=1){for(V.push(""),E=0;E<ee[D].length;E+=1)F=ee[D][E],B=ee[D][E-1],H=ee[D][E+1],u(F)?(j=T(F,B,H),V[D]+=j!==-1?String.fromCharCode(e[F.charCodeAt(0)][j]):F):V[D]+=F;V[D]=x(V[D])}return V.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var M,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(D)){var j=0;for(E=[],j=0;j<D.length;j+=1)Array.isArray(D[j])?E.push([w(D[j][0]),D[j][1],D[j][2]]):E.push([w(D[j])]);M=E}else M=w(D);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};t.events.push(["preProcessText",C])}(Tt.API),Tt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Tt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(M){h=M}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(M){m=M}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(M){y=M}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(M){T=M}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(M){C=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,m){i.call(this);var y=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),T=m.scaleFactor||this.internal.scaleFactor,w=0,C=0,M=0,D=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=m.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(F,B){return F.concat(D.splitTextToSize(B,E))},[])):h=Array.isArray(h)?h:[h];for(var j=0;j<h.length;j++)w<(M=this.getStringUnitWidth(h[j],{font:x})*y)&&(w=M);return w!==0&&(C=h.length),{w:w/=T,h:Math.max((C*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/T,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var m=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,T=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,w&&T&&(this.printHeaderRow(h.lineNumber,!0),h.y+=T[0].height)):h.y=m.y+m.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-y,h.y+y,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+y,{align:"center",baseline:"top",maxWidth:h.width-y-y}):this.text(h.text,h.x+y,h.y+y,{align:"left",baseline:"top",maxWidth:h.width-y-y})),this.internal.__cell__.lastCell=h,this};t.table=function(h,m,y,x,T){if(i.call(this),!y)throw new Error("No data for PDF table.");var w,C,M,D,E=[],j=[],F=[],B={},H={},ee=[],V=[],U=(T=T||{}).autoSize||!1,O=T.printHeaders!==!1,ue=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,I=T.margins||Object.assign({width:this.getPageWidth()},e),k=typeof T.padding=="number"?T.padding:3,$=T.headerBackgroundColor||"#c8c8c8",K=T.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=ue,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=K,this.setFontSize(ue),x==null)j=E=Object.keys(y[0]),F=E.map(function(){return"left"});else if(Array.isArray(x)&&An(x[0])==="object")for(E=x.map(function(P){return P.name}),j=x.map(function(P){return P.prompt||P.name||""}),F=x.map(function(P){return P.align||"left"}),w=0;w<x.length;w+=1)H[x[w].name]=x[w].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(j=E=x,F=E.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(w=0;w<E.length;w+=1){for(B[D=E[w]]=y.map(function(P){return P[D]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(j[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=B[D],this.setFont(void 0,"normal"),M=0;M<C.length;M+=1)ee.push(this.getTextDimensions(C[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[D]=Math.max.apply(null,ee)+k+k,ee=[]}if(O){var ce={};for(w=0;w<E.length;w+=1)ce[E[w]]={},ce[E[w]].text=j[w],ce[E[w]].align=F[w];var q=d.call(this,ce,H);V=E.map(function(P){return new o(h,m,H[P],q,ce[P].text,void 0,ce[P].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var G=x.reduce(function(P,ae){return P[ae.name]=ae.align,P},{});for(w=0;w<y.length;w+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:w,data:y[w]},this);var ne=d.call(this,y[w],H);for(M=0;M<E.length;M+=1){var oe=y[w][E[M]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:w,col:M,data:oe},this),u.call(this,new o(h,m,H[E[M]],ne,oe,w+2,G[E[M]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var d=function(h,m){var y=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(h).map(function(w){var C=h[w];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,m[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*x/T+y+y},this).reduce(function(w,C){return Math.max(w,C)},0)};t.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(y.y=this.internal.__cell__.margins.top||0,T.push(y)),y.lineNumber=h;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(C)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),n=!1}}(Tt.API);var V2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},z2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],og=q2(z2),H2=[100,200,300,400,500,600,700,800,900],ES=q2(H2);function lg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return V2[o=o||"normal"]?o:"normal"}(t.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(o){return typeof og[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,i].join(" ")}}}function gy(t,e,n,i){var s;for(s=n;s>=0&&s<e.length;s+=i)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=i)if(t[e[s]])return t[e[s]]}var MS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yy(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function kS(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},MS,n.genericFontFamilies||{}),o=null,u=null,d=0;d<e.length;++d)if(s[(o=lg(e[d])).family]&&(o.family=s[o.family]),t.hasOwnProperty(o.family)){u=t[o.family];break}if(!(u=u||t[i]))throw new Error("Could not find a font-family for the rule '"+yy(o)+"' and default family '"+i+"'.");if(u=function(h,m){if(m[h])return m[h];var y=og[h],x=y<=og.normal?-1:1,T=gy(m,z2,y,x);if(!T)throw new Error("Could not find a matching font-stretch value for "+h);return T}(o.stretch,u),u=function(h,m){if(m[h])return m[h];for(var y=V2[h],x=0;x<y.length;++x)if(m[y[x]])return m[y[x]];throw new Error("Could not find a matching font-style for "+h)}(o.style,u),!(u=function(h,m){if(m[h])return m[h];if(h===400&&m[500])return m[500];if(h===500&&m[400])return m[400];var y=ES[h],x=gy(m,H2,y,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(o.weight,u)))throw new Error("Failed to resolve a font for the rule '"+yy(o)+"'.");return u}function xy(t){return t.trimLeft()}function DS(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function jS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var xh,by,wy,Rm=["times"];(function(t){var e,n,i,s,o,u,d,h,m,y=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,m=new y}]);var x=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=L;Object.defineProperty(this,"pdf",{get:function(){return J}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Fe){Y=!!Fe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Fe){ie=!!Fe}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(Fe){isNaN(Fe)||(X=Fe)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Fe){isNaN(Fe)||(pe=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Fe){var ge;typeof Fe=="number"?ge=[Fe,Fe,Fe,Fe]:((ge=new Array(4))[0]=Fe[0],ge[1]=Fe.length>=2?Fe[1]:ge[0],ge[2]=Fe.length>=3?Fe[2]:ge[0],ge[3]=Fe.length>=4?Fe[3]:ge[1]),m.margin=ge}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Fe){he=Fe}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Fe){fe=Fe}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Fe){Ce=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Fe){Fe instanceof y&&(m=Fe)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Fe){m.path=Fe}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Fe){je=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ge;ge=T(Fe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ge=T(Fe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var ze=null;function Ye(Fe,ge){if(ze===null){var bt=function(dt){var Je=[];return Object.keys(dt).forEach(function(Qe){dt[Qe].forEach(function(tt){var nt=null;switch(tt){case"bold":nt={family:Qe,weight:"bold"};break;case"italic":nt={family:Qe,style:"italic"};break;case"bolditalic":nt={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:Qe}}nt!==null&&(nt.ref={name:Qe,style:tt},Je.push(nt))})}),Je}(Fe.getFontList());ze=function(dt){for(var Je={},Qe=0;Qe<dt.length;++Qe){var tt=lg(dt[Qe]),nt=tt.family,gt=tt.stretch,It=tt.style,qt=tt.weight;Je[nt]=Je[nt]||{},Je[nt][gt]=Je[nt][gt]||{},Je[nt][gt][It]=Je[nt][gt][It]||{},Je[nt][gt][It][qt]=tt}return Je}(bt.concat(ge))}return ze}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Fe){ze=null,Ze=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ge;if(this.ctx.font=Fe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var bt=ge[1],dt=(ge[2],ge[3]),Je=ge[4],Qe=(ge[5],ge[6]),tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(tt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var nt=function(ft){var Yt,at,Di=[],Zt=ft.trim();if(Zt==="")return Rm;if(Zt in vy)return[vy[Zt]];for(;Zt!=="";){switch(at=null,Yt=(Zt=xy(Zt)).charAt(0)){case'"':case"'":at=DS(Zt.substring(1),Yt);break;default:at=jS(Zt)}if(at===null||(Di.push(at[0]),(Zt=xy(at[1]))!==""&&Zt.charAt(0)!==","))return Rm;Zt=Zt.replace(/^,/,"")}return Di}(Qe);if(this.fontFaces){var gt=kS(Ye(this.pdf,this.fontFaces),nt.map(function(ft){return{family:ft,stretch:"normal",weight:dt,style:bt}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var It="";(dt==="bold"||parseInt(dt,10)>=700||bt==="bold")&&(It="bold"),bt==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var qt="",Ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Dt=0;Dt<nt.length;Dt++){if(this.pdf.internal.getFont(nt[Dt],It,{noFallback:!0,disableWarning:!0})!==void 0){qt=nt[Dt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(nt[Dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=nt[Dt],It="bold";else if(this.pdf.internal.getFont(nt[Dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=nt[Dt],It="normal";break}}if(qt===""){for(var Kt=0;Kt<nt.length;Kt++)if(Ot[nt[Kt]]){qt=Ot[nt[Kt]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};x.prototype.setLineDash=function(L){this.lineDash=L},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){B.call(this,"fill",!1)},x.prototype.stroke=function(){B.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(L,J){if(isNaN(L)||isNaN(J))throw jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new u(L,J));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new u(L,J)},x.prototype.closePath=function(){var L=new u(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&An(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){L=new u(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},x.prototype.lineTo=function(L,J){if(isNaN(L)||isNaN(J))throw jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new u(L,J));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new u(Y.x,Y.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},x.prototype.quadraticCurveTo=function(L,J,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(L)||isNaN(J))throw jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new u(Y,ie)),pe=this.ctx.transform.applyToPoint(new u(L,J));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},x.prototype.bezierCurveTo=function(L,J,Y,ie,X,pe){if(isNaN(X)||isNaN(pe)||isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie))throw jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new u(X,pe)),fe=this.ctx.transform.applyToPoint(new u(L,J)),Ce=this.ctx.transform.applyToPoint(new u(Y,ie));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ce.x,y2:Ce.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},x.prototype.arc=function(L,J,Y,ie,X,pe){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie)||isNaN(X))throw jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new u(L,J));L=he.x,J=he.y;var fe=this.ctx.transform.applyToPoint(new u(0,Y)),Ce=this.ctx.transform.applyToPoint(new u(0,0));Y=Math.sqrt(Math.pow(fe.x-Ce.x,2)+Math.pow(fe.y-Ce.y,2))}Math.abs(X-ie)>=2*Math.PI&&(ie=0,X=2*Math.PI),this.path.push({type:"arc",x:L,y:J,radius:Y,startAngle:ie,endAngle:X,counterclockwise:pe})},x.prototype.arcTo=function(L,J,Y,ie,X){throw new Error("arcTo not implemented.")},x.prototype.rect=function(L,J,Y,ie){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie))throw jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,J),this.lineTo(L+Y,J),this.lineTo(L+Y,J+ie),this.lineTo(L,J+ie),this.lineTo(L,J),this.lineTo(L+Y,J),this.lineTo(L,J)},x.prototype.fillRect=function(L,J,Y,ie){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie))throw jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,J,Y,ie),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},x.prototype.strokeRect=function(L,J,Y,ie){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie))throw jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(L,J,Y,ie),this.stroke())},x.prototype.clearRect=function(L,J,Y,ie){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie))throw jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,J,Y,ie))},x.prototype.save=function(L){L=typeof L!="boolean"||L;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},x.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(J),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(L){var J,Y,ie,X;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))J=0,Y=0,ie=0,X=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pe!==null)J=parseInt(pe[1]),Y=parseInt(pe[2]),ie=parseInt(pe[3]),X=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)J=parseInt(pe[1]),Y=parseInt(pe[2]),ie=parseInt(pe[3]),X=parseFloat(pe[4]);else{if(X=1,typeof L=="string"&&L.charAt(0)!=="#"){var he=new L2(L);L=he.ok?he.toHex():"#000000"}L.length===4?(J=L.substring(1,2),J+=J,Y=L.substring(2,3),Y+=Y,ie=L.substring(3,4),ie+=ie):(J=L.substring(1,3),Y=L.substring(3,5),ie=L.substring(5,7)),J=parseInt(J,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:J,g:Y,b:ie,a:X,style:L}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(L,J,Y,ie){if(isNaN(J)||isNaN(Y)||typeof L!="string")throw jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!w.call(this)){var X=ne(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;k.call(this,{text:L,x:J,y:Y,scale:pe,angle:X,align:this.textAlign,maxWidth:ie})}},x.prototype.strokeText=function(L,J,Y,ie){if(isNaN(J)||isNaN(Y)||typeof L!="string")throw jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){ie=isNaN(ie)?void 0:ie;var X=ne(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;k.call(this,{text:L,x:J,y:Y,scale:pe,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:ie})}},x.prototype.measureText=function(L){if(typeof L!="string")throw jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Y=this.pdf.internal.scaleFactor,ie=J.internal.getFontSize(),X=J.getStringUnitWidth(L)*ie/J.internal.scaleFactor,pe=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new pe({width:X*=Math.round(96*Y/72*1e4)/1e4})},x.prototype.scale=function(L,J){if(isNaN(L)||isNaN(J))throw jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new h(L,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},x.prototype.rotate=function(L){if(isNaN(L))throw jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},x.prototype.translate=function(L,J){if(isNaN(L)||isNaN(J))throw jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new h(1,0,0,1,L,J);this.ctx.transform=this.ctx.transform.multiply(Y)},x.prototype.transform=function(L,J,Y,ie,X,pe){if(isNaN(L)||isNaN(J)||isNaN(Y)||isNaN(ie)||isNaN(X)||isNaN(pe))throw jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new h(L,J,Y,ie,X,pe);this.ctx.transform=this.ctx.transform.multiply(he)},x.prototype.setTransform=function(L,J,Y,ie,X,pe){L=isNaN(L)?1:L,J=isNaN(J)?0:J,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,X=isNaN(X)?0:X,pe=isNaN(pe)?0:pe,this.ctx.transform=new h(L,J,Y,ie,X,pe)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(L,J,Y,ie,X,pe,he,fe,Ce){var je=this.pdf.getImageProperties(L),ze=1,Ye=1,Ze=1,Fe=1;ie!==void 0&&fe!==void 0&&(Ze=fe/ie,Fe=Ce/X,ze=je.width/ie*fe/ie,Ye=je.height/X*Ce/X),pe===void 0&&(pe=J,he=Y,J=0,Y=0),ie!==void 0&&fe===void 0&&(fe=ie,Ce=X),ie===void 0&&fe===void 0&&(fe=je.width,Ce=je.height);for(var ge,bt=this.ctx.transform.decompose(),dt=ne(bt.rotate.shx),Je=new h,Qe=(Je=(Je=(Je=Je.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new d(pe-J*Ze,he-Y*Fe,ie*ze,X*Ye)),tt=D.call(this,Qe),nt=[],gt=0;gt<tt.length;gt+=1)nt.indexOf(tt[gt])===-1&&nt.push(tt[gt]);if(F(nt),this.autoPaging)for(var It=nt[0],qt=nt[nt.length-1],Ot=It;Ot<qt+1;Ot++){this.pdf.setPage(Ot);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Ot===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Ot===1?0:ft+(Ot-2)*Yt;if(this.ctx.clip_path.length!==0){var Di=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ge,this.posX+this.margin[3],-at+Kt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Di}var Zt=JSON.parse(JSON.stringify(Qe));Zt=j([Zt],this.posX+this.margin[3],-at+Kt+this.ctx.prevPageLastElemOffset)[0];var Ki=(Ot>It||Ot<qt)&&M.call(this);Ki&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Yt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,dt),Ki&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,dt)};var D=function(L,J,Y){var ie=[];J=J||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+X)/Y)+1);break;case"arc":ie.push(Math.floor((L.y+X-L.radius)/Y)+1),ie.push(Math.floor((L.y+X+L.radius)/Y)+1);break;case"qct":var pe=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((pe.y+X)/Y)+1),ie.push(Math.floor((pe.y+pe.h+X)/Y)+1);break;case"bct":var he=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((he.y+X)/Y)+1),ie.push(Math.floor((he.y+he.h+X)/Y)+1);break;case"rect":ie.push(Math.floor((L.y+X)/Y)+1),ie.push(Math.floor((L.y+L.h+X)/Y)+1)}for(var fe=0;fe<ie.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[fe];)E.call(this);return ie},E=function(){var L=this.fillStyle,J=this.strokeStyle,Y=this.font,ie=this.lineCap,X=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=J,this.font=Y,this.lineCap=ie,this.lineWidth=X,this.lineJoin=pe},j=function(L,J,Y){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=J,L[ie].y2+=Y;case"qct":L[ie].x1+=J,L[ie].y1+=Y;case"mt":case"lt":case"arc":default:L[ie].x+=J,L[ie].y+=Y}return L},F=function(L){return L.sort(function(J,Y){return J-Y})},B=function(L,J){for(var Y,ie,X=this.fillStyle,pe=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Ce=Math.abs(fe*this.ctx.transform.scaleX),je=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),Ze=[],Fe=0;Fe<Ye.length;Fe++)if(Ye[Fe].x!==void 0)for(var ge=D.call(this,Ye[Fe]),bt=0;bt<ge.length;bt+=1)Ze.indexOf(ge[bt])===-1&&Ze.push(ge[bt]);for(var dt=0;dt<Ze.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Ze[dt];)E.call(this);if(F(Ze),this.autoPaging)for(var Je=Ze[0],Qe=Ze[Ze.length-1],tt=Je;tt<Qe+1;tt++){this.pdf.setPage(tt),this.fillStyle=X,this.strokeStyle=pe,this.lineCap=he,this.lineWidth=Ce,this.lineJoin=je;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=tt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=tt===1?0:It+(tt-2)*qt;if(this.ctx.clip_path.length!==0){var Dt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Y,this.posX+this.margin[3],-Ot+gt+this.ctx.prevPageLastElemOffset),H.call(this,L,!0),this.path=Dt}if(ie=JSON.parse(JSON.stringify(ze)),this.path=j(ie,this.posX+this.margin[3],-Ot+gt+this.ctx.prevPageLastElemOffset),J===!1||tt===0){var Kt=(tt>Je||tt<Qe)&&M.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,qt,null).clip().discardPath()),H.call(this,L,J),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ce,H.call(this,L,J),this.lineWidth=fe;this.path=ze},H=function(L,J){if((L!=="stroke"||J||!C.call(this))&&(L==="stroke"||J||!w.call(this))){for(var Y,ie,X=[],pe=this.path,he=0;he<pe.length;he++){var fe=pe[he];switch(fe.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ce=X.length;if(pe[he-1]&&!isNaN(pe[he-1].x)&&(Y=[fe.x-pe[he-1].x,fe.y-pe[he-1].y],Ce>0)){for(;Ce>=0;Ce--)if(X[Ce-1].close!==!0&&X[Ce-1].begin!==!0){X[Ce-1].deltas.push(Y),X[Ce-1].abs.push(fe);break}}break;case"bct":Y=[fe.x1-pe[he-1].x,fe.y1-pe[he-1].y,fe.x2-pe[he-1].x,fe.y2-pe[he-1].y,fe.x-pe[he-1].x,fe.y-pe[he-1].y],X[X.length-1].deltas.push(Y);break;case"qct":var je=pe[he-1].x+2/3*(fe.x1-pe[he-1].x),ze=pe[he-1].y+2/3*(fe.y1-pe[he-1].y),Ye=fe.x+2/3*(fe.x1-fe.x),Ze=fe.y+2/3*(fe.y1-fe.y),Fe=fe.x,ge=fe.y;Y=[je-pe[he-1].x,ze-pe[he-1].y,Ye-pe[he-1].x,Ze-pe[he-1].y,Fe-pe[he-1].x,ge-pe[he-1].y],X[X.length-1].deltas.push(Y);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(fe)}}ie=J?null:L==="stroke"?"stroke":"fill";for(var bt=!1,dt=0;dt<X.length;dt++)if(X[dt].arc)for(var Je=X[dt].abs,Qe=0;Qe<Je.length;Qe++){var tt=Je[Qe];tt.type==="arc"?U.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,J,!bt):$.call(this,tt.x,tt.y),bt=!0}else if(X[dt].close===!0)this.pdf.internal.out("h"),bt=!1;else if(X[dt].begin!==!0){var nt=X[dt].start.x,gt=X[dt].start.y;K.call(this,X[dt].deltas,nt,gt),bt=!0}ie&&O.call(this,ie),J&&ue.call(this)}},ee=function(L){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Y;case"top":return L+J-Y;case"hanging":return L+J-2*Y;case"middle":return L+J/2-Y;case"ideographic":return L;case"alphabetic":default:return L}},V=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(J,Y){this.colorStops.push([J,Y])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(L,J,Y,ie,X,pe,he,fe,Ce){for(var je=q.call(this,Y,ie,X,pe),ze=0;ze<je.length;ze++){var Ye=je[ze];ze===0&&(Ce?I.call(this,Ye.x1+L,Ye.y1+J):$.call(this,Ye.x1+L,Ye.y1+J)),ce.call(this,L,J,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}fe?ue.call(this):O.call(this,he)},O=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ue=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(L,J){this.pdf.internal.out(n(L)+" "+i(J)+" m")},k=function(L){var J;switch(L.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var Y=this.pdf.getTextDimensions(L.text),ie=ee.call(this,L.y),X=V.call(this,ie)-Y.h,pe=this.ctx.transform.applyToPoint(new u(L.x,ie)),he=this.ctx.transform.decompose(),fe=new h;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ce,je,ze,Ye=this.ctx.transform.applyToRectangle(new d(L.x,ie,Y.w,Y.h)),Ze=fe.applyToRectangle(new d(L.x,X,Y.w,Y.h)),Fe=D.call(this,Ze),ge=[],bt=0;bt<Fe.length;bt+=1)ge.indexOf(Fe[bt])===-1&&ge.push(Fe[bt]);if(F(ge),this.autoPaging)for(var dt=ge[0],Je=ge[ge.length-1],Qe=dt;Qe<Je+1;Qe++){this.pdf.setPage(Qe);var tt=Qe===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],It=gt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Ot=qt-this.margin[3],Dt=Qe===1?0:nt+(Qe-2)*It;if(this.ctx.clip_path.length!==0){var Kt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-1*Dt+tt),H.call(this,"fill",!0),this.path=Kt}var ft=j([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-Dt+tt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*L.scale),ze=this.lineWidth,this.lineWidth=ze*L.scale);var Yt=this.autoPaging!=="text";if(Yt||ft.y+ft.h<=gt){if(Yt||ft.y>=tt&&ft.x<=qt){var at=Yt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||qt-ft.x)[0],Di=j([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Dt+tt+this.ctx.prevPageLastElemOffset)[0],Zt=Yt&&(Qe>dt||Qe<Je)&&M.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,It,null).clip().discardPath()),this.pdf.text(at,Di.x,Di.y,{angle:L.angle,align:J,renderingMode:L.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else ft.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-ft.y);L.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ze)}else L.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*L.scale),ze=this.lineWidth,this.lineWidth=ze*L.scale),this.pdf.text(L.text,pe.x+this.posX,pe.y+this.posY,{angle:L.angle,align:J,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ze)},$=function(L,J,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(n(L+Y)+" "+i(J+ie)+" l")},K=function(L,J,Y){return this.pdf.lines(L,J,Y,null,null)},ce=function(L,J,Y,ie,X,pe,he,fe){this.pdf.internal.out([e(s(Y+L)),e(o(ie+J)),e(s(X+L)),e(o(pe+J)),e(s(he+L)),e(o(fe+J)),"c"].join(" "))},q=function(L,J,Y,ie){for(var X=2*Math.PI,pe=Math.PI/2;J>Y;)J-=X;var he=Math.abs(Y-J);he<X&&ie&&(he=X-he);for(var fe=[],Ce=ie?-1:1,je=J;he>1e-5;){var ze=je+Ce*Math.min(he,pe);fe.push(G.call(this,L,je,ze)),he-=Math.abs(ze-je),je=ze}return fe},G=function(L,J,Y){var ie=(Y-J)/2,X=L*Math.cos(ie),pe=L*Math.sin(ie),he=X,fe=-pe,Ce=he*he+fe*fe,je=Ce+he*X+fe*pe,ze=4/3*(Math.sqrt(2*Ce*je)-je)/(he*pe-fe*X),Ye=he-ze*fe,Ze=fe+ze*he,Fe=Ye,ge=-Ze,bt=ie+J,dt=Math.cos(bt),Je=Math.sin(bt);return{x1:L*Math.cos(J),y1:L*Math.sin(J),x2:Ye*dt-Ze*Je,y2:Ye*Je+Ze*dt,x3:Fe*dt-ge*Je,y3:Fe*Je+ge*dt,x4:L*Math.cos(Y),y4:L*Math.sin(Y)}},ne=function(L){return 180*L/Math.PI},oe=function(L,J,Y,ie,X,pe){var he=L+.5*(Y-L),fe=J+.5*(ie-J),Ce=X+.5*(Y-X),je=pe+.5*(ie-pe),ze=Math.min(L,X,he,Ce),Ye=Math.max(L,X,he,Ce),Ze=Math.min(J,pe,fe,je),Fe=Math.max(J,pe,fe,je);return new d(ze,Ze,Ye-ze,Fe-Ze)},P=function(L,J,Y,ie,X,pe,he,fe){var Ce,je,ze,Ye,Ze,Fe,ge,bt,dt,Je,Qe,tt,nt,gt,It=Y-L,qt=ie-J,Ot=X-Y,Dt=pe-ie,Kt=he-X,ft=fe-pe;for(je=0;je<41;je++)dt=(ge=(ze=L+(Ce=je/40)*It)+Ce*((Ze=Y+Ce*Ot)-ze))+Ce*(Ze+Ce*(X+Ce*Kt-Ze)-ge),Je=(bt=(Ye=J+Ce*qt)+Ce*((Fe=ie+Ce*Dt)-Ye))+Ce*(Fe+Ce*(pe+Ce*ft-Fe)-bt),je==0?(Qe=dt,tt=Je,nt=dt,gt=Je):(Qe=Math.min(Qe,dt),tt=Math.min(tt,Je),nt=Math.max(nt,dt),gt=Math.max(gt,Je));return new d(Math.round(Qe),Math.round(tt),Math.round(nt-Qe),Math.round(gt-tt))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,J,Y=(L=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:J}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Tt.API),function(t){var e=function(o){var u,d,h,m,y,x,T,w,C,M;for(d=[],h=0,m=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;m>h;h+=4)(y=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(x=(y=((y=((y=((y=(y-(M=y%85))/85)-(C=y%85))/85)-(w=y%85))/85)-(T=y%85))/85)%85,d.push(x+33,T+33,w+33,C+33,M+33)):d.push(122);return function(D,E){for(var j=E;j>0;j--)D.pop()}(d,u.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var u,d,h,m,y,x=String,T="length",w=255,C="charCodeAt",M="slice",D="replace";for(o[M](-2),o=o[M](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),h=[],m=0,y=(o+=u="uuuuu"[M](o[T]%5||5))[T];y>m;m+=5)d=52200625*(o[C](m)-33)+614125*(o[C](m+1)-33)+7225*(o[C](m+2)-33)+85*(o[C](m+3)-33)+(o[C](m+4)-33),h.push(w&d>>24,w&d>>16,w&d>>8,w&d);return function(E,j){for(var F=j;F>0;F--)E.pop()}(h,u[T]),x.fromCharCode.apply(x,h)},i=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var d="",h=0;h<o.length;h+=2)d+=String.fromCharCode("0x"+(o[h]+o[h+1]));return d},s=function(o){for(var u=new Uint8Array(o.length),d=o.length;d--;)u[d]=o.charCodeAt(d);return o=(u=ng(u)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};t.processDataByFilters=function(o,u){var d=0,h=o||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}}(Tt.API),function(t){t.loadFile=function(e,n,i){return function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=function(h,m,y){var x=new XMLHttpRequest,T=0,w=function(C){var M=C.length,D=[],E=String.fromCharCode;for(T=0;T<M;T+=1)D.push(E(255&C.charCodeAt(T)));return D.join("")};if(x.open("GET",h,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(x.onload=function(){x.status===200?y(w(this.responseText)):y(void 0)}),x.send(null),m&&x.status===200)return w(x.responseText)}(s,o,u)}catch{}return d}(e,n,i)},t.loadImageFile=t.loadFile}(Tt.API),function(t){function e(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):Km(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):Km(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var i=function(u){var d=An(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(u,d){var h=document.createElement(u);for(var m in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[m]=d.style[m];return h},o=function u(d){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),h);return m=(m=m.setProgress(1,u,1,[u])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,d){return u.__proto__=d||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,d){return this.then(function(){switch(d=d||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(n).then(function(h){return this.set({src:s("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function h(m,y){for(var x=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),T=m.firstChild;T;T=T.nextSibling)y!==!0&&T.nodeType===1&&T.nodeName==="SCRIPT"||x.appendChild(h(T,y));return m.nodeType===1&&(m.nodeName==="CANVAS"?(x.width=m.width,x.height=m.height,x.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(x.value=m.value),x.addEventListener("load",function(){x.scrollTop=m.scrollTop,x.scrollLeft=m.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var T=0;T<m.length;++T){var w=m[T],C=w.src.find(function(M){return M.format==="truetype"});C&&h.addFont(C.url,w.ref.name,w.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},o.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(i(u)!=="object")return this;var d=Object.keys(u||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(u,d){return this.then(function(){var h=u in o.template.prop?this.prop[u]:this.opt[u];return d?d(h):h})},o.prototype.setMargin=function(u){return this.then(function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function d(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(u=u||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,d,h,m){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,d,h,m){return this.setProgress(u?this.progress.val+u:null,d||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(u,d){var h=this;return this.thenCore(u,d,function(m,y){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,m),x}).then(m,y).then(function(x){return h.updateProgress(1),x})})},o.prototype.thenCore=function(u,d,h){h=h||Promise.prototype.then,u&&(u=u.bind(this)),d&&(d=d.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),y=h.call(m,u,d);return o.convert(y,this.__proto__)},o.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},o.prototype.thenList=function(u){var d=this;return u.forEach(function(h){d=d.thenCore(h)}),d},o.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return o.convert(d,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Tt.getPageSize=function(u,d,h){if(An(u)==="object"){var m=u;u=m.orientation,d=m.unit||d,h=m.format||h}d=d||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var y,x=(""+h).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+d}var w,C=0,M=0;if(T.hasOwnProperty(x))C=T[x][1]/y,M=T[x][0]/y;else try{C=h[1],M=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",M>C&&(w=M,M=C,C=w);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>M&&(w=M,M=C,C=w)}return{width:M,height:C,unit:d,k:y,orientation:u}},t.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(lg):null;var h=new o(d);return d.worker?h:h.from(u).doCallback()}}(Tt.API),Tt.API.addJS=function(t){return wy=t,this.internal.events.subscribe("postPutResources",function(){xh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),by=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xh!==void 0&&by!==void 0&&this.internal.out("/Names <</JavaScript "+xh+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],d=i.exec(u);if(d!=null){var h=d[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,y=[];for(o=0;o<m;o++){var x=n.internal.newObject();y.push(x);var T=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<y.length;o++)n.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,o){var u={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var u=i.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var h=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])}(Tt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,s,o,u,d){var h,m=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(h=function(x){for(var T,w=256*x.charCodeAt(4)+x.charCodeAt(5),C=x.length,M={width:0,height:0,numcomponents:1},D=4;D<C;D+=2){if(D+=w,e.indexOf(x.charCodeAt(D+1))!==-1){T=256*x.charCodeAt(D+5)+x.charCodeAt(D+6),M={width:256*x.charCodeAt(D+7)+x.charCodeAt(D+8),height:T,numcomponents:x.charCodeAt(D+9)};break}w=256*x.charCodeAt(D+2)+x.charCodeAt(D+3)}return M}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}y={data:n,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:m,index:i,alias:s}}return y}}(Tt.API);var jc,bh,Sy,Ty,Ay,IS=function(){var t,e,n;function i(o){var u,d,h,m,y,x,T,w,C,M,D,E,j,F;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(u=this.readUInt32(),C=(function(){var B,H;for(H=[],B=0;B<4;++B)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),m=this.readUInt16()||100,x.delay=1e3*y/m,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,u-=4),o=(x!=null?x.data:void 0)||this.imgData,E=0;0<=u?E<u:E>u;0<=u?++E:--E)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((M=h-this.transparency.indexed.length)>0)for(j=0;0<=M?j<M:j>M;0<=M?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":T=(D=this.read(u)).indexOf(0),w=String.fromCharCode.apply(String,D.slice(0,T)),this.text[w]=String.fromCharCode.apply(String,D.slice(T+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var u,d;for(d=[],u=0;0<=o?u<o:u>o;0<=o?++u:--u)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var u=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*u),h=0,m=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function y(x,T,w,C){var M,D,E,j,F,B,H,ee,V,U,O,ue,I,k,$,K,ce,q,G,ne,oe,P=Math.ceil((m.width-x)/w),ae=Math.ceil((m.height-T)/C),L=m.width==P&&m.height==ae;for(k=u*P,ue=L?d:new Uint8Array(k*ae),B=o.length,I=0,D=0;I<ae&&h<B;){switch(o[h++]){case 0:for(j=ce=0;ce<k;j=ce+=1)ue[D++]=o[h++];break;case 1:for(j=q=0;q<k;j=q+=1)M=o[h++],F=j<u?0:ue[D-u],ue[D++]=(M+F)%256;break;case 2:for(j=G=0;G<k;j=G+=1)M=o[h++],E=(j-j%u)/u,$=I&&ue[(I-1)*k+E*u+j%u],ue[D++]=($+M)%256;break;case 3:for(j=ne=0;ne<k;j=ne+=1)M=o[h++],E=(j-j%u)/u,F=j<u?0:ue[D-u],$=I&&ue[(I-1)*k+E*u+j%u],ue[D++]=(M+Math.floor((F+$)/2))%256;break;case 4:for(j=oe=0;oe<k;j=oe+=1)M=o[h++],E=(j-j%u)/u,F=j<u?0:ue[D-u],I===0?$=K=0:($=ue[(I-1)*k+E*u+j%u],K=E&&ue[(I-1)*k+(E-1)*u+j%u]),H=F+$-K,ee=Math.abs(H-F),U=Math.abs(H-$),O=Math.abs(H-K),V=ee<=U&&ee<=O?F:U<=O?$:K,ue[D++]=(M+V)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!L){var J=((T+I*C)*m.width+x)*u,Y=I*k;for(j=0;j<P;j+=1){for(var ie=0;ie<u;ie+=1)d[J++]=ue[Y++];J+=(w-1)*u}}I++}}return o=fS(o),m.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),d},i.prototype.decodePalette=function(){var o,u,d,h,m,y,x,T,w;for(d=this.palette,y=this.transparency.indexed||[],m=new Uint8Array((y.length||0)+d.length),h=0,o=0,u=x=0,T=d.length;x<T;u=x+=3)m[h++]=d[u],m[h++]=d[u+1],m[h++]=d[u+2],m[h++]=(w=y[o++])!=null?w:255;return m},i.prototype.copyToImageData=function(o,u){var d,h,m,y,x,T,w,C,M,D,E;if(h=this.colors,M=null,d=this.hasAlphaChannel,this.palette.length&&(M=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),h=4,d=!0),C=(m=o.data||o).length,x=M||u,y=T=0,h===1)for(;y<C;)w=M?4*u[y/4]:T,D=x[w++],m[y++]=D,m[y++]=D,m[y++]=D,m[y++]=d?x[w++]:255,T=w;else for(;y<C;)w=M?4*u[y/4]:T,m[y++]=x[w++],m[y++]=x[w++],m[y++]=x[w++],m[y++]=d?x[w++]:255,T=w},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(_t)==="[object Window]"){try{e=_t.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(o){var u;if(s()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var u,d,h,m,y,x,T,w;if(this.animation){for(w=[],d=y=0,x=(T=this.animation.frames).length;y<x;d=++y)u=T[d],h=o.createImageData(u.width,u.height),m=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(h,m),u.imageData=h,w.push(u.image=t(h));return w}},i.prototype.renderFrame=function(o,u){var d,h,m;return d=(h=this.animation.frames)[u],m=h[u-1],u===0&&o.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?o.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&o.putImageData(m.imageData,m.xOffset,m.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(o){var u,d,h,m,y,x,T=this;return d=0,x=this.animation,m=x.numFrames,h=x.frames,y=x.numPlays,(u=function(){var w,C;if(w=d++%m,C=h[w],T.renderFrame(o,w),m>1&&d/m<y)return T.animation._timeout=setTimeout(u,C.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var u,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,u=o.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(d=u.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),u.putImageData(d,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function PS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,u=1<<(7&s)+1;t[e++],t[e++];var d=null,h=null;o&&(d=e,h=u,e+=3*u);var m=!0,y=[],x=0,T=null,w=0,C=null;for(this.width=n,this.height=i;m&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=t[e++];x=t[e++]|t[e++]<<8,T=t[e++],(1&M)==0&&(T=null),w=M>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var D=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,B=t[e++],H=B>>6&1,ee=1<<(7&B)+1,V=d,U=h,O=!1;B>>7&&(O=!0,V=e,U=ee,e+=3*ee);var ue=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}y.push({x:D,y:E,width:j,height:F,has_local_palette:O,palette_offset:V,palette_size:U,data_offset:ue,data_length:e-ue,transparent_index:T,interlaced:!!H,delay:x,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return C},this.frameInfo=function(k){if(k<0||k>=y.length)throw new Error("Frame index out of range.");return y[k]},this.decodeAndBlitFrameBGRA=function(k,$){var K=this.frameInfo(k),ce=K.width*K.height,q=new Uint8Array(ce);Ny(t,K.data_offset,q,ce);var G=K.palette_offset,ne=K.transparent_index;ne===null&&(ne=256);var oe=K.width,P=n-oe,ae=oe,L=4*(K.y*n+K.x),J=4*((K.y+K.height)*n+K.x),Y=L,ie=4*P;K.interlaced===!0&&(ie+=4*n*7);for(var X=8,pe=0,he=q.length;pe<he;++pe){var fe=q[pe];if(ae===0&&(ae=oe,(Y+=ie)>=J&&(ie=4*P+4*n*(X-1),Y=L+(oe+P)*(X<<1),X>>=1)),fe===ne)Y+=4;else{var Ce=t[G+3*fe],je=t[G+3*fe+1],ze=t[G+3*fe+2];$[Y++]=ze,$[Y++]=je,$[Y++]=Ce,$[Y++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(k,$){var K=this.frameInfo(k),ce=K.width*K.height,q=new Uint8Array(ce);Ny(t,K.data_offset,q,ce);var G=K.palette_offset,ne=K.transparent_index;ne===null&&(ne=256);var oe=K.width,P=n-oe,ae=oe,L=4*(K.y*n+K.x),J=4*((K.y+K.height)*n+K.x),Y=L,ie=4*P;K.interlaced===!0&&(ie+=4*n*7);for(var X=8,pe=0,he=q.length;pe<he;++pe){var fe=q[pe];if(ae===0&&(ae=oe,(Y+=ie)>=J&&(ie=4*P+4*n*(X-1),Y=L+(oe+P)*(X<<1),X>>=1)),fe===ne)Y+=4;else{var Ce=t[G+3*fe],je=t[G+3*fe+1],ze=t[G+3*fe+2];$[Y++]=Ce,$[Y++]=je,$[Y++]=ze,$[Y++]=255}--ae}}}function Ny(t,e,n,i){for(var s=t[e++],o=1<<s,u=o+1,d=u+1,h=s+1,m=(1<<h)-1,y=0,x=0,T=0,w=t[e++],C=new Int32Array(4096),M=null;;){for(;y<16&&w!==0;)x|=t[e++]<<y,y+=8,w===1?w=t[e++]:--w;if(y<h)break;var D=x&m;if(x>>=h,y-=h,D!==o){if(D===u)break;for(var E=D<d?D:M,j=0,F=E;F>o;)F=C[F]>>8,++j;var B=F;if(T+j+(E!==D?1:0)>i)return void jn.log("Warning, gif stream longer than expected.");n[T++]=B;var H=T+=j;for(E!==D&&(n[T++]=B),F=E;j--;)F=C[F],n[--H]=255&F,F>>=8;M!==null&&d<4096&&(C[d++]=M<<8|B,d>=m+1&&h<12&&(++h,m=m<<1|1)),M=D}else d=u+1,m=(1<<(h=s+1))-1,M=null}return T!==i&&jn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fm(t){var e,n,i,s,o,u=Math.floor,d=new Array(64),h=new Array(64),m=new Array(64),y=new Array(64),x=new Array(65535),T=new Array(65535),w=new Array(64),C=new Array(64),M=[],D=0,E=7,j=new Array(64),F=new Array(64),B=new Array(64),H=new Array(256),ee=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(L,J){for(var Y=0,ie=0,X=new Array,pe=1;pe<=16;pe++){for(var he=1;he<=L[pe];he++)X[J[ie]]=[],X[J[ie]][0]=Y,X[J[ie]][1]=pe,ie++,Y++;Y*=2}return X}function G(L){for(var J=L[0],Y=L[1]-1;Y>=0;)J&1<<Y&&(D|=1<<E),Y--,--E<0&&(D==255?(ne(255),ne(0)):ne(D),E=7,D=0)}function ne(L){M.push(L)}function oe(L){ne(L>>8&255),ne(255&L)}function P(L,J,Y,ie,X){for(var pe,he=X[0],fe=X[240],Ce=function(Je,Qe){var tt,nt,gt,It,qt,Ot,Dt,Kt,ft,Yt,at=0;for(ft=0;ft<8;++ft){tt=Je[at],nt=Je[at+1],gt=Je[at+2],It=Je[at+3],qt=Je[at+4],Ot=Je[at+5],Dt=Je[at+6];var Di=tt+(Kt=Je[at+7]),Zt=tt-Kt,Ki=nt+Dt,tn=nt-Dt,yn=gt+Ot,Zi=gt-Ot,dn=It+qt,rr=It-qt,On=Di+dn,fa=Di-dn,ha=Ki+yn,Hn=Ki-yn;Je[at]=On+ha,Je[at+4]=On-ha;var jt=.707106781*(Hn+fa);Je[at+2]=fa+jt,Je[at+6]=fa-jt;var ln=.382683433*((On=rr+Zi)-(Hn=tn+Zt)),Cs=.5411961*On+ln,li=1.306562965*Hn+ln,Ua=.707106781*(ha=Zi+tn),as=Zt+Ua,mt=Zt-Ua;Je[at+5]=mt+Cs,Je[at+3]=mt-Cs,Je[at+1]=as+li,Je[at+7]=as-li,at+=8}for(at=0,ft=0;ft<8;++ft){tt=Je[at],nt=Je[at+8],gt=Je[at+16],It=Je[at+24],qt=Je[at+32],Ot=Je[at+40],Dt=Je[at+48];var Cn=tt+(Kt=Je[at+56]),Bn=tt-Kt,ui=nt+Dt,Jn=nt-Dt,ni=gt+Ot,pa=gt-Ot,Gr=It+qt,ma=It-qt,ga=Cn+Gr,ji=Cn-Gr,Ii=ui+ni,Xi=ui-ni;Je[at]=ga+Ii,Je[at+32]=ga-Ii;var Ni=.707106781*(Xi+ji);Je[at+16]=ji+Ni,Je[at+48]=ji-Ni;var xn=.382683433*((ga=ma+pa)-(Xi=Jn+Bn)),or=.5411961*ga+xn,$r=1.306562965*Xi+xn,Aa=.707106781*(Ii=pa+Jn),qa=Bn+Aa,Io=Bn-Aa;Je[at+40]=Io+or,Je[at+24]=Io-or,Je[at+8]=qa+$r,Je[at+56]=qa-$r,at++}for(ft=0;ft<64;++ft)Yt=Je[ft]*Qe[ft],w[ft]=Yt>0?Yt+.5|0:Yt-.5|0;return w}(L,J),je=0;je<64;++je)C[V[je]]=Ce[je];var ze=C[0]-Y;Y=C[0],ze==0?G(ie[0]):(G(ie[T[pe=32767+ze]]),G(x[pe]));for(var Ye=63;Ye>0&&C[Ye]==0;)Ye--;if(Ye==0)return G(he),Y;for(var Ze,Fe=1;Fe<=Ye;){for(var ge=Fe;C[Fe]==0&&Fe<=Ye;)++Fe;var bt=Fe-ge;if(bt>=16){Ze=bt>>4;for(var dt=1;dt<=Ze;++dt)G(fe);bt&=15}pe=32767+C[Fe],G(X[(bt<<4)+T[pe]]),G(x[pe]),Fe++}return Ye!=63&&G(he),Y}function ae(L){L=Math.min(Math.max(L,1),100),o!=L&&(function(J){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var X=u((Y[ie]*J+50)/100);X=Math.min(Math.max(X,1),255),d[V[ie]]=X}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=u((pe[he]*J+50)/100);fe=Math.min(Math.max(fe,1),255),h[V[he]]=fe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ze=0;ze<8;ze++)for(var Ye=0;Ye<8;Ye++)m[je]=1/(d[V[je]]*Ce[ze]*Ce[Ye]*8),y[je]=1/(h[V[je]]*Ce[ze]*Ce[Ye]*8),je++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,J){J&&ae(J),M=new Array,D=0,E=7,oe(65496),oe(65504),oe(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),oe(1),oe(1),ne(0),ne(0),function(){oe(65499),oe(132),ne(0);for(var nt=0;nt<64;nt++)ne(d[nt]);ne(1);for(var gt=0;gt<64;gt++)ne(h[gt])}(),function(nt,gt){oe(65472),oe(17),ne(8),oe(gt),oe(nt),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(L.width,L.height),function(){oe(65476),oe(418),ne(0);for(var nt=0;nt<16;nt++)ne(U[nt+1]);for(var gt=0;gt<=11;gt++)ne(O[gt]);ne(16);for(var It=0;It<16;It++)ne(ue[It+1]);for(var qt=0;qt<=161;qt++)ne(I[qt]);ne(1);for(var Ot=0;Ot<16;Ot++)ne(k[Ot+1]);for(var Dt=0;Dt<=11;Dt++)ne($[Dt]);ne(17);for(var Kt=0;Kt<16;Kt++)ne(K[Kt+1]);for(var ft=0;ft<=161;ft++)ne(ce[ft])}(),oe(65498),oe(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Y=0,ie=0,X=0;D=0,E=7,this.encode.displayName="_encode_";for(var pe,he,fe,Ce,je,ze,Ye,Ze,Fe,ge=L.data,bt=L.width,dt=L.height,Je=4*bt,Qe=0;Qe<dt;){for(pe=0;pe<Je;){for(je=Je*Qe+pe,Ye=-1,Ze=0,Fe=0;Fe<64;Fe++)ze=je+(Ze=Fe>>3)*Je+(Ye=4*(7&Fe)),Qe+Ze>=dt&&(ze-=Je*(Qe+1+Ze-dt)),pe+Ye>=Je&&(ze-=pe+Ye-Je+4),he=ge[ze++],fe=ge[ze++],Ce=ge[ze++],j[Fe]=(ee[he]+ee[fe+256>>0]+ee[Ce+512>>0]>>16)-128,F[Fe]=(ee[he+768>>0]+ee[fe+1024>>0]+ee[Ce+1280>>0]>>16)-128,B[Fe]=(ee[he+1280>>0]+ee[fe+1536>>0]+ee[Ce+1792>>0]>>16)-128;Y=P(j,m,Y,e,i),ie=P(F,y,ie,n,s),X=P(B,y,X,n,s),pe+=32}Qe+=8}if(E>=0){var tt=[];tt[1]=E+1,tt[0]=(1<<E+1)-1,G(tt)}return oe(65497),new Uint8Array(M)},t=t||50,function(){for(var L=String.fromCharCode,J=0;J<256;J++)H[J]=L(J)}(),e=q(U,O),n=q(k,$),i=q(ue,I),s=q(K,ce),function(){for(var L=1,J=2,Y=1;Y<=15;Y++){for(var ie=L;ie<J;ie++)T[32767+ie]=Y,x[32767+ie]=[],x[32767+ie][1]=Y,x[32767+ie][0]=ie;for(var X=-(J-1);X<=-L;X++)T[32767+X]=Y,x[32767+X]=[],x[32767+X][1]=Y,x[32767+X][0]=J-1+X;L<<=1,J<<=1}}(),function(){for(var L=0;L<256;L++)ee[L]=19595*L,ee[L+256>>0]=38470*L,ee[L+512>>0]=7471*L+32768,ee[L+768>>0]=-11059*L,ee[L+1024>>0]=-21709*L,ee[L+1280>>0]=32768*L+8421375,ee[L+1536>>0]=-27439*L,ee[L+1792>>0]=-5329*L}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nr(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Cy(t){function e(U){if(!U)throw Error("assert :P")}function n(U,O,ue){for(var I=0;4>I;I++)if(U[O+I]!=ue.charCodeAt(I))return!0;return!1}function i(U,O,ue,I,k){for(var $=0;$<k;$++)U[O+$]=ue[I+$]}function s(U,O,ue,I){for(var k=0;k<I;k++)U[O+k]=ue}function o(U){return new Int32Array(U)}function u(U,O){for(var ue=[],I=0;I<U;I++)ue.push(new O);return ue}function d(U,O){var ue=[];return function I(k,$,K){for(var ce=K[$],q=0;q<ce&&(k.push(K.length>$+1?[]:new O),!(K.length<$+1));q++)I(k[q],$+1,K)}(ue,0,U),ue}var h=function(){var U=this;function O(v,S){for(var _=1<<S-1>>>0;v&_;)_>>>=1;return _?(v&_-1)+_:v}function ue(v,S,_,R,W){e(!(R%_));do v[S+(R-=_)]=W;while(0<R)}function I(v,S,_,R,W){if(e(2328>=W),512>=W)var Q=o(512);else if((Q=o(W))==null)return 0;return function(te,se,le,de,be,ke){var Ee,Ae,He=se,Re=1<<le,we=o(16),Te=o(16);for(e(be!=0),e(de!=null),e(te!=null),e(0<le),Ae=0;Ae<be;++Ae){if(15<de[Ae])return 0;++we[de[Ae]]}if(we[0]==be)return 0;for(Te[1]=0,Ee=1;15>Ee;++Ee){if(we[Ee]>1<<Ee)return 0;Te[Ee+1]=Te[Ee]+we[Ee]}for(Ae=0;Ae<be;++Ae)Ee=de[Ae],0<de[Ae]&&(ke[Te[Ee]++]=Ae);if(Te[15]==1)return(de=new k).g=0,de.value=ke[0],ue(te,He,1,Re,de),Re;var Be,Ge=-1,qe=Re-1,st=0,Xe=1,vt=1,et=1<<le;for(Ae=0,Ee=1,be=2;Ee<=le;++Ee,be<<=1){if(Xe+=vt<<=1,0>(vt-=we[Ee]))return 0;for(;0<we[Ee];--we[Ee])(de=new k).g=Ee,de.value=ke[Ae++],ue(te,He+st,be,et,de),st=O(st,Ee)}for(Ee=le+1,be=2;15>=Ee;++Ee,be<<=1){if(Xe+=vt<<=1,0>(vt-=we[Ee]))return 0;for(;0<we[Ee];--we[Ee]){if(de=new k,(st&qe)!=Ge){for(He+=et,Be=1<<(Ge=Ee)-le;15>Ge&&!(0>=(Be-=we[Ge]));)++Ge,Be<<=1;Re+=et=1<<(Be=Ge-le),te[se+(Ge=st&qe)].g=Be+le,te[se+Ge].value=He-se-Ge}de.g=Ee-le,de.value=ke[Ae++],ue(te,He+(st>>le),be,et,de),st=O(st,Ee)}}return Xe!=2*Te[15]-1?0:Re}(v,S,_,R,W,Q)}function k(){this.value=this.g=0}function $(){this.value=this.g=0}function K(){this.G=u(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Li,$)}function ce(v,S,_,R){e(v!=null),e(S!=null),e(2147483648>R),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=_,v.Jd=S,v.Yc=_+R,v.Zc=4<=R?_+R-4+1:_,pe(v)}function q(v,S){for(var _=0;0<S--;)_|=fe(v,128)<<S;return _}function G(v,S){var _=q(v,S);return he(v)?-_:_}function ne(v,S,_,R){var W,Q=0;for(e(v!=null),e(S!=null),e(4294967288>R),v.Sb=R,v.Ra=0,v.u=0,v.h=0,4<R&&(R=4),W=0;W<R;++W)Q+=S[_+W]<<8*W;v.Ra=Q,v.bb=R,v.oa=S,v.pa=_}function oe(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<to-8>>>0,++v.bb,v.u-=8;Y(v)&&(v.h=1,v.u=0)}function P(v,S){if(e(0<=S),!v.h&&S<=eo){var _=J(v)&yr[S];return v.u+=S,oe(v),_}return v.h=1,v.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(v){return v.Ra>>>(v.u&to-1)>>>0}function Y(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>to}function ie(v,S){v.u=S,v.h=Y(v)}function X(v){v.u>=Jo&&(e(v.u>=Jo),oe(v))}function pe(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function he(v){return q(v,1)}function fe(v,S){var _=v.Ca;0>v.b&&pe(v);var R=v.b,W=_*S>>>8,Q=(v.I>>>R>W)+0;for(Q?(_-=W,v.I-=W+1<<R>>>0):_=W+1,R=_,W=0;256<=R;)W+=8,R>>=8;return R=7^W+ta[R],v.b-=R,v.Ca=(_<<R)-1,Q}function Ce(v,S,_){v[S+0]=_>>24&255,v[S+1]=_>>16&255,v[S+2]=_>>8&255,v[S+3]=_>>0&255}function je(v,S){return v[S+0]<<0|v[S+1]<<8}function ze(v,S){return je(v,S)|v[S+2]<<16}function Ye(v,S){return je(v,S)|je(v,S+2)<<16}function Ze(v,S){var _=1<<S;return e(v!=null),e(0<S),v.X=o(_),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function Fe(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),i(S.X,0,v.X,0,1<<S.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function bt(v,S,_,R){e(_!=null),e(R!=null);var W=_[0],Q=R[0];return W==0&&(W=(v*Q+S/2)/S),Q==0&&(Q=(S*W+v/2)/v),0>=W||0>=Q?0:(_[0]=W,R[0]=Q,1)}function dt(v,S){return v+(1<<S)-1>>>S}function Je(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function Qe(v,S){U[S]=function(_,R,W,Q,te,se,le){var de;for(de=0;de<te;++de){var be=U[v](se[le+de-1],W,Q+de);se[le+de]=Je(_[R+de],be)}}}function tt(){this.ud=this.hd=this.jd=0}function nt(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function gt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function It(v,S){return gt(v+(v-S+.5>>1))}function qt(v,S,_){return Math.abs(S-_)-Math.abs(v-_)}function Ot(v,S,_,R,W,Q,te){for(R=Q[te-1],_=0;_<W;++_)Q[te+_]=R=Je(v[S+_],R)}function Dt(v,S,_,R,W){var Q;for(Q=0;Q<_;++Q){var te=v[S+Q],se=te>>8&255,le=16711935&(le=(le=16711935&te)+((se<<16)+se));R[W+Q]=(4278255360&te)+le>>>0}}function Kt(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function ft(v,S,_,R,W,Q){var te;for(te=0;te<R;++te){var se=S[_+te],le=se>>>8,de=se,be=255&(be=(be=se>>>16)+((v.jd<<24>>24)*(le<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(le<<24>>24)>>>5))+((v.ud<<24>>24)*(be<<24>>24)>>>5)),W[Q+te]=(4278255360&se)+(be<<16)+de}}function Yt(v,S,_,R,W){U[S]=function(Q,te,se,le,de,be,ke,Ee,Ae){for(le=ke;le<Ee;++le)for(ke=0;ke<Ae;++ke)de[be++]=W(se[R(Q[te++])])},U[v]=function(Q,te,se,le,de,be,ke){var Ee=8>>Q.b,Ae=Q.Ea,He=Q.K[0],Re=Q.w;if(8>Ee)for(Q=(1<<Q.b)-1,Re=(1<<Ee)-1;te<se;++te){var we,Te=0;for(we=0;we<Ae;++we)we&Q||(Te=R(le[de++])),be[ke++]=W(He[Te&Re]),Te>>=Ee}else U["VP8LMapColor"+_](le,de,He,Re,be,ke,te,se,Ae)}}function at(v,S,_,R,W){for(_=S+_;S<_;){var Q=v[S++];R[W++]=Q>>16&255,R[W++]=Q>>8&255,R[W++]=Q>>0&255}}function Di(v,S,_,R,W){for(_=S+_;S<_;){var Q=v[S++];R[W++]=Q>>16&255,R[W++]=Q>>8&255,R[W++]=Q>>0&255,R[W++]=Q>>24&255}}function Zt(v,S,_,R,W){for(_=S+_;S<_;){var Q=(te=v[S++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;R[W++]=Q,R[W++]=te}}function Ki(v,S,_,R,W){for(_=S+_;S<_;){var Q=(te=v[S++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;R[W++]=Q,R[W++]=te}}function tn(v,S,_,R,W){for(_=S+_;S<_;){var Q=v[S++];R[W++]=Q>>0&255,R[W++]=Q>>8&255,R[W++]=Q>>16&255}}function yn(v,S,_,R,W,Q){if(Q==0)for(_=S+_;S<_;)Ce(R,((Q=v[S++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),W+=32;else i(R,W,v,S,_)}function Zi(v,S){U[S][0]=U[v+"0"],U[S][1]=U[v+"1"],U[S][2]=U[v+"2"],U[S][3]=U[v+"3"],U[S][4]=U[v+"4"],U[S][5]=U[v+"5"],U[S][6]=U[v+"6"],U[S][7]=U[v+"7"],U[S][8]=U[v+"8"],U[S][9]=U[v+"9"],U[S][10]=U[v+"10"],U[S][11]=U[v+"11"],U[S][12]=U[v+"12"],U[S][13]=U[v+"13"],U[S][14]=U[v+"0"],U[S][15]=U[v+"0"]}function dn(v){return v==tu||v==Tr||v==Vs||v==Qo}function rr(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rr,this.f.kb=new On,this.sd=null}function ha(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function ln(v,S){var _=v.T,R=S.ba.f.RGBA,W=R.eb,Q=R.fb+v.ka*R.A,te=Si[S.ba.S],se=v.y,le=v.O,de=v.f,be=v.N,ke=v.ea,Ee=v.W,Ae=S.cc,He=S.dc,Re=S.Mc,we=S.Nc,Te=v.ka,Be=v.ka+v.T,Ge=v.U,qe=Ge+1>>1;for(Te==0?te(se,le,null,null,de,be,ke,Ee,de,be,ke,Ee,W,Q,null,null,Ge):(te(S.ec,S.fc,se,le,Ae,He,Re,we,de,be,ke,Ee,W,Q-R.A,W,Q,Ge),++_);Te+2<Be;Te+=2)Ae=de,He=be,Re=ke,we=Ee,be+=v.Rc,Ee+=v.Rc,Q+=2*R.A,te(se,(le+=2*v.fa)-v.fa,se,le,Ae,He,Re,we,de,be,ke,Ee,W,Q-R.A,W,Q,Ge);return le+=v.fa,v.j+Be<v.o?(i(S.ec,S.fc,se,le,Ge),i(S.cc,S.dc,de,be,qe),i(S.Mc,S.Nc,ke,Ee,qe),_--):1&Be||te(se,le,null,null,de,be,ke,Ee,de,be,ke,Ee,W,Q+R.A,null,null,Ge),_}function Cs(v,S,_){var R=v.F,W=[v.J];if(R!=null){var Q=v.U,te=S.ba.S,se=te==ro||te==Vs;S=S.ba.f.RGBA;var le=[0],de=v.ka;le[0]=v.T,v.Kb&&(de==0?--le[0]:(--de,W[0]-=v.width),v.j+v.ka+v.T==v.o&&(le[0]=v.o-v.j-de));var be=S.eb;de=S.fb+de*S.A,v=zi(R,W[0],v.width,Q,le,be,de+(se?0:3),S.A),e(_==le),v&&dn(te)&&Us(be,de,se,Q,le,S.A)}return 0}function li(v){var S=v.ma,_=S.ba.S,R=11>_,W=_==Xo||_==eu||_==ro||_==qs||_==12||dn(_);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!vr(S.Oa,v,W?11:12))return 0;if(W&&dn(_)&&We(),v.da)alert("todo:use_scaling");else{if(R){if(S.Ib=jt,v.Kb){if(_=v.U+1>>1,S.memory=o(v.U+2*_),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+_,S.Ib=ln,We()}}else alert("todo:EmitYUV");W&&(S.Jb=Cs,R&&_e())}if(R&&!bf){for(v=0;256>v;++v)pp[v]=89858*(v-128)+fi>>ms,au[v]=-22014*(v-128)+fi,rd[v]=-45773*(v-128),hi[v]=113618*(v-128)+fi>>ms;for(v=Cr;v<rc;++v)S=76283*(v-16)+fi>>ms,su[v-Cr]=ya(S,255),od[v-Cr]=ya(S+8>>4,15);bf=1}return 1}function Ua(v){var S=v.ma,_=v.U,R=v.T;return e(!(1&v.ka)),0>=_||0>=R?0:(_=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,_),S.Dc+=_,1)}function as(v){v.ma.memory=null}function mt(v,S,_,R){return P(v,8)!=47?0:(S[0]=P(v,14)+1,_[0]=P(v,14)+1,R[0]=P(v,1),P(v,3)!=0?0:!v.h)}function Cn(v,S){if(4>v)return v+1;var _=v-2>>1;return(2+(1&v)<<_)+P(S,_)+1}function Bn(v,S){return 120<S?S-120:1<=(_=((_=Hs[S-1])>>4)*v+(8-(15&_)))?_:1;var _}function ui(v,S,_){var R=J(_),W=v[S+=255&R].g-8;return 0<W&&(ie(_,_.u+8),R=J(_),S+=v[S].value,S+=R&(1<<W)-1),ie(_,_.u+v[S].g),v[S].value}function Jn(v,S,_){return _.g+=v.g,_.value+=v.value<<S>>>0,e(8>=_.g),v.g}function ni(v,S,_){var R=v.xc;return e((S=R==0?0:v.vc[v.md*(_>>R)+(S>>R)])<v.Wb),v.Ya[S]}function pa(v,S,_,R){var W=v.ab,Q=v.c*S,te=v.C;S=te+S;var se=_,le=R;for(R=v.Ta,_=v.Ua;0<W--;){var de=v.gc[W],be=te,ke=S,Ee=se,Ae=le,He=(le=R,se=_,de.Ea);switch(e(be<ke),e(ke<=de.nc),de.hc){case 2:Ku(Ee,Ae,(ke-be)*He,le,se);break;case 0:var Re=be,we=ke,Te=le,Be=se,Ge=(et=de).Ea;Re==0&&(ad(Ee,Ae,null,null,1,Te,Be),Ot(Ee,Ae+1,0,0,Ge-1,Te,Be+1),Ae+=Ge,Be+=Ge,++Re);for(var qe=1<<et.b,st=qe-1,Xe=dt(Ge,et.b),vt=et.K,et=et.w+(Re>>et.b)*Xe;Re<we;){var sn=vt,fn=et,Gt=1;for(Zl(Ee,Ae,Te,Be-Ge,1,Te,Be);Gt<Ge;){var zt=(Gt&~st)+qe;zt>Ge&&(zt=Ge),(0,Fs[sn[fn++]>>8&15])(Ee,Ae+ +Gt,Te,Be+Gt-Ge,zt-Gt,Te,Be+Gt),Gt=zt}Ae+=Ge,Be+=Ge,++Re&st||(et+=Xe)}ke!=de.nc&&i(le,se-He,le,se+(ke-be-1)*He,He);break;case 1:for(He=Ee,we=Ae,Ge=(Ee=de.Ea)-(Be=Ee&~(Te=(Ae=1<<de.b)-1)),Re=dt(Ee,de.b),qe=de.K,de=de.w+(be>>de.b)*Re;be<ke;){for(st=qe,Xe=de,vt=new tt,et=we+Be,sn=we+Ee;we<et;)Kt(st[Xe++],vt),xa(vt,He,we,Ae,le,se),we+=Ae,se+=Ae;we<sn&&(Kt(st[Xe++],vt),xa(vt,He,we,Ge,le,se),we+=Ge,se+=Ge),++be&Te||(de+=Re)}break;case 3:if(Ee==le&&Ae==se&&0<de.b){for(we=le,Ee=He=se+(ke-be)*He-(Be=(ke-be)*dt(de.Ea,de.b)),Ae=le,Te=se,Re=[],Be=(Ge=Be)-1;0<=Be;--Be)Re[Be]=Ae[Te+Be];for(Be=Ge-1;0<=Be;--Be)we[Ee+Be]=Re[Be];Ga(de,be,ke,le,He,le,se)}else Ga(de,be,ke,Ee,Ae,le,se)}se=R,le=_}le!=_&&i(R,_,se,le,Q)}function Gr(v,S){var _=v.V,R=v.Ba+v.c*v.C,W=S-v.C;if(e(S<=v.l.o),e(16>=W),0<W){var Q=v.l,te=v.Ta,se=v.Ua,le=Q.width;if(pa(v,W,_,R),W=se=[se],e((_=v.C)<(R=S)),e(Q.v<Q.va),R>Q.o&&(R=Q.o),_<Q.j){var de=Q.j-_;_=Q.j,W[0]+=de*le}if(_>=R?_=0:(W[0]+=4*Q.v,Q.ka=_-Q.j,Q.U=Q.va-Q.v,Q.T=R-_,_=1),_){if(se=se[0],11>(_=v.ca).S){var be=_.f.RGBA,ke=(R=_.S,W=Q.U,Q=Q.T,de=be.eb,be.A),Ee=Q;for(be=be.fb+v.Ma*be.A;0<Ee--;){var Ae=te,He=se,Re=W,we=de,Te=be;switch(R){case Fi:Ea(Ae,He,Re,we,Te);break;case Xo:us(Ae,He,Re,we,Te);break;case tu:us(Ae,He,Re,we,Te),Us(we,Te,0,Re,1,0);break;case ds:xr(Ae,He,Re,we,Te);break;case eu:yn(Ae,He,Re,we,Te,1);break;case Tr:yn(Ae,He,Re,we,Te,1),Us(we,Te,0,Re,1,0);break;case ro:yn(Ae,He,Re,we,Te,0);break;case Vs:yn(Ae,He,Re,we,Te,0),Us(we,Te,1,Re,1,0);break;case qs:cs(Ae,He,Re,we,Te);break;case Qo:cs(Ae,He,Re,we,Te),_i(we,Te,Re,1,0);break;case tc:na(Ae,He,Re,we,Te);break;default:e(0)}se+=le,be+=ke}v.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=_.height)}}v.C=S,e(v.C<=v.i)}function ma(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var _=v.Ya[S].G,R=v.Ya[S].H;if(0<_[1][R[1]+0].g||0<_[2][R[2]+0].g||0<_[3][R[3]+0].g)return 0}return 1}function ga(v,S,_,R,W,Q){if(v.Z!=0){var te=v.qd,se=v.rd;for(e(hs[v.Z]!=null);S<_;++S)hs[v.Z](te,se,R,W,R,W,Q),te=R,se=W,W+=Q;v.qd=te,v.rd=se}}function ji(v,S){var _=v.l.ma,R=_.Z==0||_.Z==1?v.l.j:v.C;if(R=v.C<R?R:v.C,e(S<=v.l.o),S>R){var W=v.l.width,Q=_.ca,te=_.tb+W*R,se=v.V,le=v.Ba+v.c*R,de=v.gc;e(v.ab==1),e(de[0].hc==3),no(de[0],R,S,se,le,Q,te),ga(_,R,S,Q,te,W)}v.C=v.Ma=S}function Ii(v,S,_,R,W,Q,te){var se=v.$/R,le=v.$%R,de=v.m,be=v.s,ke=_+v.$,Ee=ke;W=_+R*W;var Ae=_+R*Q,He=280+be.ua,Re=v.Pb?se:16777216,we=0<be.ua?be.Wa:null,Te=be.wc,Be=ke<Ae?ni(be,le,se):null;e(v.C<Q),e(Ae<=W);var Ge=!1;e:for(;;){for(;Ge||ke<Ae;){var qe=0;if(se>=Re){var st=ke-_;e((Re=v).Pb),Re.wd=Re.m,Re.xd=st,0<Re.s.ua&&Fe(Re.s.Wa,Re.s.vb),Re=se+vf}if(le&Te||(Be=ni(be,le,se)),e(Be!=null),Be.Qb&&(S[ke]=Be.qb,Ge=!0),!Ge)if(X(de),Be.jc){qe=de,st=S;var Xe=ke,vt=Be.pd[J(qe)&Li-1];e(Be.jc),256>vt.g?(ie(qe,qe.u+vt.g),st[Xe]=vt.value,qe=0):(ie(qe,qe.u+vt.g-256),e(256<=vt.value),qe=vt.value),qe==0&&(Ge=!0)}else qe=ui(Be.G[0],Be.H[0],de);if(de.h)break;if(Ge||256>qe){if(!Ge)if(Be.nd)S[ke]=(Be.qb|qe<<8)>>>0;else{if(X(de),Ge=ui(Be.G[1],Be.H[1],de),X(de),st=ui(Be.G[2],Be.H[2],de),Xe=ui(Be.G[3],Be.H[3],de),de.h)break;S[ke]=(Xe<<24|Ge<<16|qe<<8|st)>>>0}if(Ge=!1,++ke,++le>=R&&(le=0,++se,te!=null&&se<=Q&&!(se%16)&&te(v,se),we!=null))for(;Ee<ke;)qe=S[Ee++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else if(280>qe){if(qe=Cn(qe-256,de),st=ui(Be.G[4],Be.H[4],de),X(de),st=Bn(R,st=Cn(st,de)),de.h)break;if(ke-_<st||W-ke<qe)break e;for(Xe=0;Xe<qe;++Xe)S[ke+Xe]=S[ke+Xe-st];for(ke+=qe,le+=qe;le>=R;)le-=R,++se,te!=null&&se<=Q&&!(se%16)&&te(v,se);if(e(ke<=W),le&Te&&(Be=ni(be,le,se)),we!=null)for(;Ee<ke;)qe=S[Ee++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else{if(!(qe<He))break e;for(Ge=qe-280,e(we!=null);Ee<ke;)qe=S[Ee++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe;qe=ke,e(!(Ge>>>(st=we).Xa)),S[qe]=st.X[Ge],Ge=!0}Ge||e(de.h==Y(de))}if(v.Pb&&de.h&&ke<W)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Fe(v.s.vb,v.s.Wa);else{if(de.h)break e;te!=null&&te(v,se>Q?Q:se),v.a=0,v.$=ke-_}return 1}return v.a=3,0}function Xi(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function Ni(){var v=new id;return v==null?null:(v.a=0,v.xb=el,Zi("Predictor","VP8LPredictors"),Zi("Predictor","VP8LPredictors_C"),Zi("PredictorAdd","VP8LPredictorsAdd"),Zi("PredictorAdd","VP8LPredictorsAdd_C"),Ku=Dt,xa=ft,Ea=at,us=Di,cs=Zt,na=Ki,xr=tn,U.VP8LMapColor32b=Ci,U.VP8LMapColor8b=Zu,v)}function xn(v,S,_,R,W){var Q=1,te=[v],se=[S],le=R.m,de=R.s,be=null,ke=0;e:for(;;){if(_)for(;Q&&P(le,1);){var Ee=te,Ae=se,He=R,Re=1,we=He.m,Te=He.gc[He.ab],Be=P(we,2);if(He.Oc&1<<Be)Q=0;else{switch(He.Oc|=1<<Be,Te.hc=Be,Te.Ea=Ee[0],Te.nc=Ae[0],Te.K=[null],++He.ab,e(4>=He.ab),Be){case 0:case 1:Te.b=P(we,3)+2,Re=xn(dt(Te.Ea,Te.b),dt(Te.nc,Te.b),0,He,Te.K),Te.K=Te.K[0];break;case 3:var Ge,qe=P(we,8)+1,st=16<qe?0:4<qe?1:2<qe?2:3;if(Ee[0]=dt(Te.Ea,st),Te.b=st,Ge=Re=xn(qe,1,0,He,Te.K)){var Xe,vt=qe,et=Te,sn=1<<(8>>et.b),fn=o(sn);if(fn==null)Ge=0;else{var Gt=et.K[0],zt=et.w;for(fn[0]=et.K[0][0],Xe=1;Xe<1*vt;++Xe)fn[Xe]=Je(Gt[zt+Xe],fn[Xe-1]);for(;Xe<4*sn;++Xe)fn[Xe]=0;et.K[0]=null,et.K[0]=fn,Ge=1}}Re=Ge;break;case 2:break;default:e(0)}Q=Re}}if(te=te[0],se=se[0],Q&&P(le,1)&&!(Q=1<=(ke=P(le,4))&&11>=ke)){R.a=3;break e}var vn;if(vn=Q)t:{var hn,Pt,wn,wt=R,Ct=te,nn=se,rn=ke,Ti=_,pi=wt.m,Qn=wt.s,ei=[null],ii=1,Ia=0,pn=lo[rn];n:for(;;){if(Ti&&P(pi,1)){var ai=P(pi,3)+2,Ya=dt(Ct,ai),_r=dt(nn,ai),fo=Ya*_r;if(!xn(Ya,_r,0,wt,ei))break n;for(ei=ei[0],Qn.xc=ai,hn=0;hn<fo;++hn){var Er=ei[hn]>>8&65535;ei[hn]=Er,Er>=ii&&(ii=Er+1)}}if(pi.h)break n;for(Pt=0;5>Pt;++Pt){var Pn=ba[Pt];!Pt&&0<rn&&(Pn+=1<<rn),Ia<Pn&&(Ia=Pn)}var ru=u(ii*pn,k),oc=ii,Gi=u(oc,K);if(Gi==null)var qn=null;else e(65536>=oc),qn=Gi;var ho=o(Ia);if(qn==null||ho==null||ru==null){wt.a=1;break n}var Mr=ru;for(hn=wn=0;hn<ii;++hn){var aa=qn[hn],kr=aa.G,sa=aa.H,ou=0,nl=1,lc=0;for(Pt=0;5>Pt;++Pt){Pn=ba[Pt],kr[Pt]=Mr,sa[Pt]=wn,!Pt&&0<rn&&(Pn+=1<<rn);a:{var lu,uc=Pn,uu=wt,il=ho,Tf=Mr,Af=wn,cu=0,Ws=uu.m,gp=P(Ws,1);if(s(il,0,0,uc),gp){var Nf=P(Ws,1)+1,Cf=P(Ws,1),ld=P(Ws,Cf==0?1:8);il[ld]=1,Nf==2&&(il[ld=P(Ws,8)]=1);var al=1}else{var ud=o(19),cd=P(Ws,4)+4;if(19<cd){uu.a=3;var du=0;break a}for(lu=0;lu<cd;++lu)ud[zs[lu]]=P(Ws,3);var cc=void 0,sl=void 0,_f=uu,Ef=ud,Js=uc,fu=il,dc=0,Wa=_f.m,rl=8,dd=u(128,k);i:for(;I(dd,0,7,Ef,19);){if(P(Wa,1)){var Mf=2+2*P(Wa,3);if((cc=2+P(Wa,Mf))>Js)break i}else cc=Js;for(sl=0;sl<Js&&cc--;){X(Wa);var fd=dd[0+(127&J(Wa))];ie(Wa,Wa.u+fd.g);var po=fd.value;if(16>po)fu[sl++]=po,po!=0&&(rl=po);else{var kf=po==16,hd=po-16,pd=ja[hd],md=P(Wa,nc[hd])+pd;if(sl+md>Js)break i;for(var Df=kf?rl:0;0<md--;)fu[sl++]=Df}}dc=1;break i}dc||(_f.a=3),al=dc}(al=al&&!Ws.h)&&(cu=I(Tf,Af,8,il,uc)),al&&cu!=0?du=cu:(uu.a=3,du=0)}if(du==0)break n;if(nl&&oo[Pt]==1&&(nl=Mr[wn].g==0),ou+=Mr[wn].g,wn+=du,3>=Pt){var mo,fc=ho[0];for(mo=1;mo<Pn;++mo)ho[mo]>fc&&(fc=ho[mo]);lc+=fc}}if(aa.nd=nl,aa.Qb=0,nl&&(aa.qb=(kr[3][sa[3]+0].value<<24|kr[1][sa[1]+0].value<<16|kr[2][sa[2]+0].value)>>>0,ou==0&&256>kr[0][sa[0]+0].value&&(aa.Qb=1,aa.qb+=kr[0][sa[0]+0].value<<8)),aa.jc=!aa.Qb&&6>lc,aa.jc){var hu,Ks=aa;for(hu=0;hu<Li;++hu){var gs=hu,Zs=Ks.pd[gs],pu=Ks.G[0][Ks.H[0]+gs];256<=pu.value?(Zs.g=pu.g+256,Zs.value=pu.value):(Zs.g=0,Zs.value=0,gs>>=Jn(pu,8,Zs),gs>>=Jn(Ks.G[1][Ks.H[1]+gs],16,Zs),gs>>=Jn(Ks.G[2][Ks.H[2]+gs],0,Zs),Jn(Ks.G[3][Ks.H[3]+gs],24,Zs))}}}Qn.vc=ei,Qn.Wb=ii,Qn.Ya=qn,Qn.yc=ru,vn=1;break t}vn=0}if(!(Q=vn)){R.a=3;break e}if(0<ke){if(de.ua=1<<ke,!Ze(de.Wa,ke)){R.a=1,Q=0;break e}}else de.ua=0;var mu=R,gd=te,jf=se,vd=mu.s,yd=vd.xc;if(mu.c=gd,mu.i=jf,vd.md=dt(gd,yd),vd.wc=yd==0?-1:(1<<yd)-1,_){R.xb=xf;break e}if((be=o(te*se))==null){R.a=1,Q=0;break e}Q=(Q=Ii(R,be,0,te,se,se,null))&&!le.h;break e}return Q?(W!=null?W[0]=be:(e(be==null),e(_)),R.$=0,_||Xi(de)):Xi(de),Q}function or(v,S){var _=v.c*v.i,R=_+S+16*S;return e(v.c<=S),v.V=o(R),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+_+S,1)}function $r(v,S){var _=v.C,R=S-_,W=v.V,Q=v.Ba+v.c*_;for(e(S<=v.l.o);0<R;){var te=16<R?16:R,se=v.l.ma,le=v.l.width,de=le*te,be=se.ca,ke=se.tb+le*_,Ee=v.Ta,Ae=v.Ua;pa(v,te,W,Q),io(Ee,Ae,be,ke,de),ga(se,_,_+te,be,ke,le),R-=te,W+=te*v.c,_+=te}e(_==S),v.C=v.Ma=S}function Aa(){this.ub=this.yd=this.td=this.Rb=0}function qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Io(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Rl(){this.Yb=function(){var v=[];return function S(_,R,W){for(var Q=W[R],te=0;te<Q&&(_.push(W.length>R+1?[]:0),!(W.length<R+1));te++)S(_[te],R+1,W)}(v,0,[3,11]),v}()}function Bu(){this.jb=o(3),this.Wc=d([4,8],Rl),this.Xc=d([4,17],Rl)}function Xc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _s(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function Va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wr(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uu(){this.uc=this.M=this.Nb=0,this.wa=Array(new _s),this.Y=0,this.ya=Array(new Wr),this.aa=0,this.l=new lr}function Es(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Fl(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Aa,this.Kc=new qa,this.ed=new Xc,this.Qa=new Io,this.Ic=this.$c=this.Aa=0,this.D=new Uu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,ae),this.ia=0,this.pb=u(4,Va),this.Pa=new Bu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Es),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new _s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wr),this.L=this.aa=0,this.gd=d([4,2],_s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qc(){var v=new Fl;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,di||(di=qu)),v}function Gn(v,S,_){return v.a==0&&(v.a=S,v.sc=_,v.cb=0),0}function qi(v,S,_){return 3<=_&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function Ol(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return Gn(v,2,"null VP8Io passed to VP8GetHeaders()");var _=S.data,R=S.w,W=S.ha;if(4>W)return Gn(v,7,"Truncated header.");var Q=_[R+0]|_[R+1]<<8|_[R+2]<<16,te=v.Od;if(te.Rb=!(1&Q),te.td=Q>>1&7,te.yd=Q>>4&1,te.ub=Q>>5,3<te.td)return Gn(v,3,"Incorrect keyframe parameters.");if(!te.yd)return Gn(v,4,"Frame not displayable.");R+=3,W-=3;var se=v.Kc;if(te.Rb){if(7>W)return Gn(v,7,"cannot parse picture header");if(!qi(_,R,W))return Gn(v,3,"Bad code word");se.c=16383&(_[R+4]<<8|_[R+3]),se.Td=_[R+4]>>6,se.i=16383&(_[R+6]<<8|_[R+5]),se.Ud=_[R+6]>>6,R+=7,W-=7,v.za=se.c+15>>4,v.Ub=se.i+15>>4,S.width=se.c,S.height=se.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((Q=v.Pa).jb,0,255,Q.jb.length),e((Q=v.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,s(Q.Zb,0,0,Q.Zb.length),s(Q.Lb,0,0,Q.Lb)}if(te.ub>W)return Gn(v,7,"bad partition length");ce(Q=v.m,_,R,te.ub),R+=te.ub,W-=te.ub,te.Rb&&(se.Ld=he(Q),se.Kd=he(Q)),se=v.Qa;var le,de=v.Pa;if(e(Q!=null),e(se!=null),se.Cb=he(Q),se.Cb){if(se.Bb=he(Q),he(Q)){for(se.Fb=he(Q),le=0;4>le;++le)se.Zb[le]=he(Q)?G(Q,7):0;for(le=0;4>le;++le)se.Lb[le]=he(Q)?G(Q,6):0}if(se.Bb)for(le=0;3>le;++le)de.jb[le]=he(Q)?q(Q,8):255}else se.Bb=0;if(Q.Ka)return Gn(v,3,"cannot parse segment header");if((se=v.ed).zd=he(Q),se.Tb=q(Q,6),se.wb=q(Q,3),se.Pc=he(Q),se.Pc&&he(Q)){for(de=0;4>de;++de)he(Q)&&(se.vd[de]=G(Q,6));for(de=0;4>de;++de)he(Q)&&(se.od[de]=G(Q,6))}if(v.L=se.Tb==0?0:se.zd?1:2,Q.Ka)return Gn(v,3,"cannot parse filter header");var be=W;if(W=le=R,R=le+be,se=be,v.Xb=(1<<q(v.m,2))-1,be<3*(de=v.Xb))_=7;else{for(le+=3*de,se-=3*de,be=0;be<de;++be){var ke=_[W+0]|_[W+1]<<8|_[W+2]<<16;ke>se&&(ke=se),ce(v.Jc[+be],_,le,ke),le+=ke,se-=ke,W+=3}ce(v.Jc[+de],_,le,se),_=le<R?0:5}if(_!=0)return Gn(v,_,"cannot parse partitions");for(_=q(le=v.m,7),W=he(le)?G(le,4):0,R=he(le)?G(le,4):0,se=he(le)?G(le,4):0,de=he(le)?G(le,4):0,le=he(le)?G(le,4):0,be=v.Qa,ke=0;4>ke;++ke){if(be.Cb){var Ee=be.Zb[ke];be.Fb||(Ee+=_)}else{if(0<ke){v.pb[ke]=v.pb[0];continue}Ee=_}var Ae=v.pb[ke];Ae.Sc[0]=nu[ya(Ee+W,127)],Ae.Sc[1]=iu[ya(Ee+0,127)],Ae.Eb[0]=2*nu[ya(Ee+R,127)],Ae.Eb[1]=101581*iu[ya(Ee+se,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=nu[ya(Ee+de,117)],Ae.Qc[1]=iu[ya(Ee+le,127)],Ae.lc=Ee+le}if(!te.Rb)return Gn(v,4,"Not a key frame.");for(he(Q),te=v.Pa,_=0;4>_;++_){for(W=0;8>W;++W)for(R=0;3>R;++R)for(se=0;11>se;++se)de=fe(Q,uo[_][W][R][se])?q(Q,8):fs[_][W][R][se],te.Wc[_][W].Yb[R][se]=de;for(W=0;17>W;++W)te.Xc[_][W]=te.Wc[_][yf[W]]}return v.kc=he(Q),v.kc&&(v.Bd=q(Q,8)),v.cb=1}function qu(v,S,_,R,W,Q,te){var se=S[W].Yb[_];for(_=0;16>W;++W){if(!fe(v,se[_+0]))return W;for(;!fe(v,se[_+1]);)if(se=S[++W].Yb[0],_=0,W==16)return 16;var le=S[W+1].Yb;if(fe(v,se[_+2])){var de=v,be=0;if(fe(de,(Ee=se)[(ke=_)+3]))if(fe(de,Ee[ke+6])){for(se=0,ke=2*(be=fe(de,Ee[ke+8]))+(Ee=fe(de,Ee[ke+9+be])),be=0,Ee=Yn[ke];Ee[se];++se)be+=be+fe(de,Ee[se]);be+=3+(8<<ke)}else fe(de,Ee[ke+7])?(be=7+2*fe(de,165),be+=fe(de,145)):be=5+fe(de,159);else be=fe(de,Ee[ke+4])?3+fe(de,Ee[ke+5]):2;se=le[2]}else be=1,se=le[1];le=te+un[W],0>(de=v).b&&pe(de);var ke,Ee=de.b,Ae=(ke=de.Ca>>1)-(de.I>>Ee)>>31;--de.b,de.Ca+=Ae,de.Ca|=1,de.I-=(ke+1&Ae)<<Ee,Q[le]=((be^Ae)-Ae)*R[(0<W)+0]}return 16}function ur(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,s(v.zc,0,0,v.zc.length),v.ja=0}function Vu(v,S){if(v==null)return 0;if(S==null)return Gn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Ol(v,S))return 0;if(e(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var _=Ys[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-_>>4,v.zb=S.j-_>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+_>>4,v.Hb=S.va+15+_>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var R=v.ed;for(_=0;4>_;++_){var W;if(v.Qa.Cb){var Q=v.Qa.Lb[_];v.Qa.Fb||(Q+=R.Tb)}else Q=R.Tb;for(W=0;1>=W;++W){var te=v.gd[_][W],se=Q;if(R.Pc&&(se+=R.vd[0],W&&(se+=R.od[0])),0<(se=0>se?0:63<se?63:se)){var le=se;0<R.wb&&(le=4<R.wb?le>>2:le>>1)>9-R.wb&&(le=9-R.wb),1>le&&(le=1),te.dd=le,te.tc=2*se+le,te.ld=40<=se?2:15<=se?1:0}else te.tc=0;te.La=W}}}_=0}else Gn(v,6,"Frame setup failed"),_=v.a;if(_=_==0){if(_){v.$c=0,0<v.Aa||(v.Ic=wf);e:{_=v.Ic,R=4*(le=v.za);var de=32*le,be=le+1,ke=0<v.L?le*(0<v.Aa?2:1):0,Ee=(v.Aa==2?2:1)*le;if((te=R+832+(W=3*(16*_+Ys[v.L])/2*de)+(Q=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=te)_=0;else{if(te>v.Vb){if(v.Vb=0,v.Ec=o(te),v.Fc=0,v.Ec==null){_=Gn(v,1,"no memory during frame initialization.");break e}v.Vb=te}te=v.Ec,se=v.Fc,v.Ac=te,v.Bc=se,se+=R,v.Gd=u(de,Es),v.Hd=0,v.rb=u(be+1,Yr),v.sb=1,v.wa=ke?u(ke,_s):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=le),e(!0),v.oc=te,v.pc=se,se+=832,v.ya=u(Ee,Wr),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=le),v.R=16*le,v.B=8*le,le=(de=Ys[v.L])*v.R,de=de/2*v.B,v.sa=te,v.ta=se+le,v.qa=v.sa,v.ra=v.ta+16*_*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*_*v.B+de,v.$c=0,se+=W,v.mb=Q?te:null,v.nb=Q?se:null,e(se+Q<=v.Fc+v.Vb),ur(v),s(v.Ac,v.Bc,0,R),_=1}}if(_){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!ao){for(_=-255;255>=_;++_)Xu[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Xl[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Ql[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Qu[255+_]=0>_?0:255<_?255:_;ao=1}Vi=cr,br=Ul,ia=Ms,Ri=zu,$a=ql,Ko=Bl,wr=Kr,Ma=Zr,Sr=nd,Os=$l,Zo=td,ka=qo,Bs=Vo,_n=Ju,bn=pr,$n=_a,Xn=Ps,ci=ed,Hi[0]=ea,Hi[1]=Hu,Hi[2]=Hl,Hi[3]=$u,Hi[4]=Na,Hi[5]=ss,Hi[6]=Fo,Hi[7]=Ca,Hi[8]=Oo,Hi[9]=Gl,Gs[0]=Ro,Gs[1]=zl,Gs[2]=ks,Gs[3]=Lo,Gs[4]=xi,Gs[5]=dr,Gs[6]=js,wa[0]=Is,wa[1]=Gu,wa[2]=Yu,wa[3]=fr,wa[4]=va,wa[5]=Pi,wa[6]=hr,_=1}else _=0}_&&(_=function(Ae,He){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Re,we=Ae.Jc[Ae.M&Ae.Xb],Te=Ae.m,Be=Ae;for(Re=0;Re<Be.za;++Re){var Ge=Te,qe=Be,st=qe.Ac,Xe=qe.Bc+4*Re,vt=qe.zc,et=qe.ya[qe.aa+Re];if(qe.Qa.Bb?et.$b=fe(Ge,qe.Pa.jb[0])?2+fe(Ge,qe.Pa.jb[2]):fe(Ge,qe.Pa.jb[1]):et.$b=0,qe.kc&&(et.Ad=fe(Ge,qe.Bd)),et.Za=!fe(Ge,145)+0,et.Za){var sn=et.Ob,fn=0;for(qe=0;4>qe;++qe){var Gt,zt=vt[0+qe];for(Gt=0;4>Gt;++Gt){zt=sd[st[Xe+Gt]][zt];for(var vn=Ar[fe(Ge,zt[0])];0<vn;)vn=Ar[2*vn+fe(Ge,zt[vn])];zt=-vn,st[Xe+Gt]=zt}i(sn,fn,st,Xe,4),fn+=4,vt[0+qe]=zt}}else zt=fe(Ge,156)?fe(Ge,128)?1:3:fe(Ge,163)?2:0,et.Ob[0]=zt,s(st,Xe,zt,4),s(vt,0,zt,4);et.Dd=fe(Ge,142)?fe(Ge,114)?fe(Ge,183)?1:3:2:0}if(Be.m.Ka)return Gn(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Be=we,Ge=(Te=Ae).rb[Te.sb-1],st=Te.rb[Te.sb+Te.ja],Re=Te.ya[Te.aa+Te.ja],Xe=Te.kc?Re.Ad:0)Ge.la=st.la=0,Re.Za||(Ge.Na=st.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var hn,Pt;if(Ge=st,st=Be,Xe=Te.Pa.Xc,vt=Te.ya[Te.aa+Te.ja],et=Te.pb[vt.$b],qe=vt.ad,sn=0,fn=Te.rb[Te.sb-1],zt=Gt=0,s(qe,sn,0,384),vt.Za)var wn=0,wt=Xe[3];else{vn=o(16);var Ct=Ge.Na+fn.Na;if(Ct=di(st,Xe[1],Ct,et.Eb,0,vn,0),Ge.Na=fn.Na=(0<Ct)+0,1<Ct)Vi(vn,0,qe,sn);else{var nn=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)qe[sn+vn]=nn}wn=1,wt=Xe[0]}var rn=15&Ge.la,Ti=15&fn.la;for(vn=0;4>vn;++vn){var pi=1&Ti;for(nn=Pt=0;4>nn;++nn)rn=rn>>1|(pi=(Ct=di(st,wt,Ct=pi+(1&rn),et.Sc,wn,qe,sn))>wn)<<7,Pt=Pt<<2|(3<Ct?3:1<Ct?2:qe[sn+0]!=0),sn+=16;rn>>=4,Ti=Ti>>1|pi<<7,Gt=(Gt<<8|Pt)>>>0}for(wt=rn,wn=Ti>>4,hn=0;4>hn;hn+=2){for(Pt=0,rn=Ge.la>>4+hn,Ti=fn.la>>4+hn,vn=0;2>vn;++vn){for(pi=1&Ti,nn=0;2>nn;++nn)Ct=pi+(1&rn),rn=rn>>1|(pi=0<(Ct=di(st,Xe[2],Ct,et.Qc,0,qe,sn)))<<3,Pt=Pt<<2|(3<Ct?3:1<Ct?2:qe[sn+0]!=0),sn+=16;rn>>=2,Ti=Ti>>1|pi<<5}zt|=Pt<<4*hn,wt|=rn<<4<<hn,wn|=(240&Ti)<<hn}Ge.la=wt,fn.la=wn,vt.Hc=Gt,vt.Gc=zt,vt.ia=43690&zt?0:et.ia,Xe=!(Gt|zt)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Re.$b][Re.Za],Te.wa[Te.Y+Te.ja].La|=!Xe),Be.Ka)return Gn(Ae,7,"Premature end-of-file encountered.")}if(ur(Ae),Te=He,Be=1,Re=(we=Ae).D,Ge=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Re.M=we.M,Re.uc=Ge,Rs(we,Re),Be=1,Re=(Pt=we.D).Nb,Ge=(zt=Ys[we.L])*we.R,st=zt/2*we.B,vn=16*Re*we.R,nn=8*Re*we.B,Xe=we.sa,vt=we.ta-Ge+vn,et=we.qa,qe=we.ra-st+nn,sn=we.Ha,fn=we.Ia-st+nn,Ti=(rn=Pt.M)==0,Gt=rn>=we.Va-1,we.Aa==2&&Rs(we,Pt),Pt.uc)for(pi=(Ct=we).D.M,e(Ct.D.uc),Pt=Ct.yb;Pt<Ct.Hb;++Pt){wn=Pt,wt=pi;var Qn=(ei=(Pn=Ct).D).Nb;hn=Pn.R;var ei=ei.wa[ei.Y+wn],ii=Pn.sa,Ia=Pn.ta+16*Qn*hn+16*wn,pn=ei.dd,ai=ei.tc;if(ai!=0)if(e(3<=ai),Pn.L==1)0<wn&&$n(ii,Ia,hn,ai+4),ei.La&&ci(ii,Ia,hn,ai),0<wt&&bn(ii,Ia,hn,ai+4),ei.La&&Xn(ii,Ia,hn,ai);else{var Ya=Pn.B,_r=Pn.qa,fo=Pn.ra+8*Qn*Ya+8*wn,Er=Pn.Ha,Pn=Pn.Ia+8*Qn*Ya+8*wn;Qn=ei.ld,0<wn&&(Ma(ii,Ia,hn,ai+4,pn,Qn),Os(_r,fo,Er,Pn,Ya,ai+4,pn,Qn)),ei.La&&(ka(ii,Ia,hn,ai,pn,Qn),_n(_r,fo,Er,Pn,Ya,ai,pn,Qn)),0<wt&&(wr(ii,Ia,hn,ai+4,pn,Qn),Sr(_r,fo,Er,Pn,Ya,ai+4,pn,Qn)),ei.La&&(Zo(ii,Ia,hn,ai,pn,Qn),Bs(_r,fo,Er,Pn,Ya,ai,pn,Qn))}}if(we.ia&&alert("todo:DitherRow"),Te.put!=null){if(Pt=16*rn,rn=16*(rn+1),Ti?(Te.y=we.sa,Te.O=we.ta+vn,Te.f=we.qa,Te.N=we.ra+nn,Te.ea=we.Ha,Te.W=we.Ia+nn):(Pt-=zt,Te.y=Xe,Te.O=vt,Te.f=et,Te.N=qe,Te.ea=sn,Te.W=fn),Gt||(rn-=zt),rn>Te.o&&(rn=Te.o),Te.F=null,Te.J=null,we.Fa!=null&&0<we.Fa.length&&Pt<rn&&(Te.J=Jl(we,Te,Pt,rn-Pt),Te.F=we.mb,Te.F==null&&Te.F.length==0)){Be=Gn(we,3,"Could not decode alpha data.");break e}Pt<Te.j&&(zt=Te.j-Pt,Pt=Te.j,e(!(1&zt)),Te.O+=we.R*zt,Te.N+=we.B*(zt>>1),Te.W+=we.B*(zt>>1),Te.F!=null&&(Te.J+=Te.width*zt)),Pt<rn&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Pt-Te.j,Te.U=Te.va-Te.v,Te.T=rn-Pt,Be=Te.put(Te))}Re+1!=we.Ic||Gt||(i(we.sa,we.ta-Ge,Xe,vt+16*we.R,Ge),i(we.qa,we.ra-st,et,qe+8*we.B,st),i(we.Ha,we.Ia-st,sn,fn+8*we.B,st))}if(!Be)return Gn(Ae,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),_&=1}return _?(v.cb=0,_):0}function Qi(v,S,_,R,W){W=v[S+_+32*R]+(W>>3),v[S+_+32*R]=-256&W?0>W?0:255:W}function Po(v,S,_,R,W,Q){Qi(v,S,0,_,R+W),Qi(v,S,1,_,R+Q),Qi(v,S,2,_,R-Q),Qi(v,S,3,_,R-W)}function kn(v){return(20091*v>>16)+v}function Jr(v,S,_,R){var W,Q=0,te=o(16);for(W=0;4>W;++W){var se=v[S+0]+v[S+8],le=v[S+0]-v[S+8],de=(35468*v[S+4]>>16)-kn(v[S+12]),be=kn(v[S+4])+(35468*v[S+12]>>16);te[Q+0]=se+be,te[Q+1]=le+de,te[Q+2]=le-de,te[Q+3]=se-be,Q+=4,S++}for(W=Q=0;4>W;++W)se=(v=te[Q+0]+4)+te[Q+8],le=v-te[Q+8],de=(35468*te[Q+4]>>16)-kn(te[Q+12]),Qi(_,R,0,0,se+(be=kn(te[Q+4])+(35468*te[Q+12]>>16))),Qi(_,R,1,0,le+de),Qi(_,R,2,0,le-de),Qi(_,R,3,0,se-be),Q++,R+=32}function Bl(v,S,_,R){var W=v[S+0]+4,Q=35468*v[S+4]>>16,te=kn(v[S+4]),se=35468*v[S+1]>>16;Po(_,R,0,W+te,v=kn(v[S+1]),se),Po(_,R,1,W+Q,v,se),Po(_,R,2,W-Q,v,se),Po(_,R,3,W-te,v,se)}function Ul(v,S,_,R,W){Jr(v,S,_,R),W&&Jr(v,S+16,_,R+4)}function Ms(v,S,_,R){br(v,S+0,_,R,1),br(v,S+32,_,R+128,1)}function zu(v,S,_,R){var W;for(v=v[S+0]+4,W=0;4>W;++W)for(S=0;4>S;++S)Qi(_,R,S,W,v)}function ql(v,S,_,R){v[S+0]&&Ri(v,S+0,_,R),v[S+16]&&Ri(v,S+16,_,R+4),v[S+32]&&Ri(v,S+32,_,R+128),v[S+48]&&Ri(v,S+48,_,R+128+4)}function cr(v,S,_,R){var W,Q=o(16);for(W=0;4>W;++W){var te=v[S+0+W]+v[S+12+W],se=v[S+4+W]+v[S+8+W],le=v[S+4+W]-v[S+8+W],de=v[S+0+W]-v[S+12+W];Q[0+W]=te+se,Q[8+W]=te-se,Q[4+W]=de+le,Q[12+W]=de-le}for(W=0;4>W;++W)te=(v=Q[0+4*W]+3)+Q[3+4*W],se=Q[1+4*W]+Q[2+4*W],le=Q[1+4*W]-Q[2+4*W],de=v-Q[3+4*W],_[R+0]=te+se>>3,_[R+16]=de+le>>3,_[R+32]=te-se>>3,_[R+48]=de-le>>3,R+=64}function Vl(v,S,_){var R,W=S-32,Q=wi,te=255-v[W-1];for(R=0;R<_;++R){var se,le=Q,de=te+v[S-1];for(se=0;se<_;++se)v[S+se]=le[de+v[W+se]];S+=32}}function Hu(v,S){Vl(v,S,4)}function Gu(v,S){Vl(v,S,8)}function zl(v,S){Vl(v,S,16)}function ks(v,S){var _;for(_=0;16>_;++_)i(v,S+32*_,v,S-32,16)}function Lo(v,S){var _;for(_=16;0<_;--_)s(v,S,v[S-1],16),S+=32}function Ds(v,S,_){var R;for(R=0;16>R;++R)s(S,_+32*R,v,16)}function Ro(v,S){var _,R=16;for(_=0;16>_;++_)R+=v[S-1+32*_]+v[S+_-32];Ds(R>>5,v,S)}function xi(v,S){var _,R=8;for(_=0;16>_;++_)R+=v[S-1+32*_];Ds(R>>4,v,S)}function dr(v,S){var _,R=8;for(_=0;16>_;++_)R+=v[S+_-32];Ds(R>>4,v,S)}function js(v,S){Ds(128,v,S)}function Et(v,S,_){return v+2*S+_+2>>2}function Hl(v,S){var _,R=S-32;for(R=new Uint8Array([Et(v[R-1],v[R+0],v[R+1]),Et(v[R+0],v[R+1],v[R+2]),Et(v[R+1],v[R+2],v[R+3]),Et(v[R+2],v[R+3],v[R+4])]),_=0;4>_;++_)i(v,S+32*_,R,0,R.length)}function $u(v,S){var _=v[S-1],R=v[S-1+32],W=v[S-1+64],Q=v[S-1+96];Ce(v,S+0,16843009*Et(v[S-1-32],_,R)),Ce(v,S+32,16843009*Et(_,R,W)),Ce(v,S+64,16843009*Et(R,W,Q)),Ce(v,S+96,16843009*Et(W,Q,Q))}function ea(v,S){var _,R=4;for(_=0;4>_;++_)R+=v[S+_-32]+v[S-1+32*_];for(R>>=3,_=0;4>_;++_)s(v,S+32*_,R,4)}function Na(v,S){var _=v[S-1+0],R=v[S-1+32],W=v[S-1+64],Q=v[S-1-32],te=v[S+0-32],se=v[S+1-32],le=v[S+2-32],de=v[S+3-32];v[S+0+96]=Et(R,W,v[S-1+96]),v[S+1+96]=v[S+0+64]=Et(_,R,W),v[S+2+96]=v[S+1+64]=v[S+0+32]=Et(Q,_,R),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=Et(te,Q,_),v[S+3+64]=v[S+2+32]=v[S+1+0]=Et(se,te,Q),v[S+3+32]=v[S+2+0]=Et(le,se,te),v[S+3+0]=Et(de,le,se)}function Fo(v,S){var _=v[S+1-32],R=v[S+2-32],W=v[S+3-32],Q=v[S+4-32],te=v[S+5-32],se=v[S+6-32],le=v[S+7-32];v[S+0+0]=Et(v[S+0-32],_,R),v[S+1+0]=v[S+0+32]=Et(_,R,W),v[S+2+0]=v[S+1+32]=v[S+0+64]=Et(R,W,Q),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=Et(W,Q,te),v[S+3+32]=v[S+2+64]=v[S+1+96]=Et(Q,te,se),v[S+3+64]=v[S+2+96]=Et(te,se,le),v[S+3+96]=Et(se,le,le)}function ss(v,S){var _=v[S-1+0],R=v[S-1+32],W=v[S-1+64],Q=v[S-1-32],te=v[S+0-32],se=v[S+1-32],le=v[S+2-32],de=v[S+3-32];v[S+0+0]=v[S+1+64]=Q+te+1>>1,v[S+1+0]=v[S+2+64]=te+se+1>>1,v[S+2+0]=v[S+3+64]=se+le+1>>1,v[S+3+0]=le+de+1>>1,v[S+0+96]=Et(W,R,_),v[S+0+64]=Et(R,_,Q),v[S+0+32]=v[S+1+96]=Et(_,Q,te),v[S+1+32]=v[S+2+96]=Et(Q,te,se),v[S+2+32]=v[S+3+96]=Et(te,se,le),v[S+3+32]=Et(se,le,de)}function Ca(v,S){var _=v[S+0-32],R=v[S+1-32],W=v[S+2-32],Q=v[S+3-32],te=v[S+4-32],se=v[S+5-32],le=v[S+6-32],de=v[S+7-32];v[S+0+0]=_+R+1>>1,v[S+1+0]=v[S+0+64]=R+W+1>>1,v[S+2+0]=v[S+1+64]=W+Q+1>>1,v[S+3+0]=v[S+2+64]=Q+te+1>>1,v[S+0+32]=Et(_,R,W),v[S+1+32]=v[S+0+96]=Et(R,W,Q),v[S+2+32]=v[S+1+96]=Et(W,Q,te),v[S+3+32]=v[S+2+96]=Et(Q,te,se),v[S+3+64]=Et(te,se,le),v[S+3+96]=Et(se,le,de)}function Gl(v,S){var _=v[S-1+0],R=v[S-1+32],W=v[S-1+64],Q=v[S-1+96];v[S+0+0]=_+R+1>>1,v[S+2+0]=v[S+0+32]=R+W+1>>1,v[S+2+32]=v[S+0+64]=W+Q+1>>1,v[S+1+0]=Et(_,R,W),v[S+3+0]=v[S+1+32]=Et(R,W,Q),v[S+3+32]=v[S+1+64]=Et(W,Q,Q),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=Q}function Oo(v,S){var _=v[S-1+0],R=v[S-1+32],W=v[S-1+64],Q=v[S-1+96],te=v[S-1-32],se=v[S+0-32],le=v[S+1-32],de=v[S+2-32];v[S+0+0]=v[S+2+32]=_+te+1>>1,v[S+0+32]=v[S+2+64]=R+_+1>>1,v[S+0+64]=v[S+2+96]=W+R+1>>1,v[S+0+96]=Q+W+1>>1,v[S+3+0]=Et(se,le,de),v[S+2+0]=Et(te,se,le),v[S+1+0]=v[S+3+32]=Et(_,te,se),v[S+1+32]=v[S+3+64]=Et(R,_,te),v[S+1+64]=v[S+3+96]=Et(W,R,_),v[S+1+96]=Et(Q,W,R)}function Yu(v,S){var _;for(_=0;8>_;++_)i(v,S+32*_,v,S-32,8)}function fr(v,S){var _;for(_=0;8>_;++_)s(v,S,v[S-1],8),S+=32}function rs(v,S,_){var R;for(R=0;8>R;++R)s(S,_+32*R,v,8)}function Is(v,S){var _,R=8;for(_=0;8>_;++_)R+=v[S+_-32]+v[S-1+32*_];rs(R>>4,v,S)}function Pi(v,S){var _,R=4;for(_=0;8>_;++_)R+=v[S+_-32];rs(R>>3,v,S)}function va(v,S){var _,R=4;for(_=0;8>_;++_)R+=v[S-1+32*_];rs(R>>3,v,S)}function hr(v,S){rs(128,v,S)}function os(v,S,_){var R=v[S-_],W=v[S+0],Q=3*(W-R)+ec[1020+v[S-2*_]-v[S+_]],te=so[112+(Q+4>>3)];v[S-_]=wi[255+R+so[112+(Q+3>>3)]],v[S+0]=wi[255+W-te]}function Wu(v,S,_,R){var W=v[S+0],Q=v[S+_];return Da[255+v[S-2*_]-v[S-_]]>R||Da[255+Q-W]>R}function Bo(v,S,_,R){return 4*Da[255+v[S-_]-v[S+0]]+Da[255+v[S-2*_]-v[S+_]]<=R}function Uo(v,S,_,R,W){var Q=v[S-3*_],te=v[S-2*_],se=v[S-_],le=v[S+0],de=v[S+_],be=v[S+2*_],ke=v[S+3*_];return 4*Da[255+se-le]+Da[255+te-de]>R?0:Da[255+v[S-4*_]-Q]<=W&&Da[255+Q-te]<=W&&Da[255+te-se]<=W&&Da[255+ke-be]<=W&&Da[255+be-de]<=W&&Da[255+de-le]<=W}function pr(v,S,_,R){var W=2*R+1;for(R=0;16>R;++R)Bo(v,S+R,_,W)&&os(v,S+R,_)}function _a(v,S,_,R){var W=2*R+1;for(R=0;16>R;++R)Bo(v,S+R*_,1,W)&&os(v,S+R*_,1)}function Ps(v,S,_,R){var W;for(W=3;0<W;--W)pr(v,S+=4*_,_,R)}function ed(v,S,_,R){var W;for(W=3;0<W;--W)_a(v,S+=4,_,R)}function mr(v,S,_,R,W,Q,te,se){for(Q=2*Q+1;0<W--;){if(Uo(v,S,_,Q,te))if(Wu(v,S,_,se))os(v,S,_);else{var le=v,de=S,be=_,ke=le[de-2*be],Ee=le[de-be],Ae=le[de+0],He=le[de+be],Re=le[de+2*be],we=27*(Be=ec[1020+3*(Ae-Ee)+ec[1020+ke-He]])+63>>7,Te=18*Be+63>>7,Be=9*Be+63>>7;le[de-3*be]=wi[255+le[de-3*be]+Be],le[de-2*be]=wi[255+ke+Te],le[de-be]=wi[255+Ee+we],le[de+0]=wi[255+Ae-we],le[de+be]=wi[255+He-Te],le[de+2*be]=wi[255+Re-Be]}S+=R}}function za(v,S,_,R,W,Q,te,se){for(Q=2*Q+1;0<W--;){if(Uo(v,S,_,Q,te))if(Wu(v,S,_,se))os(v,S,_);else{var le=v,de=S,be=_,ke=le[de-be],Ee=le[de+0],Ae=le[de+be],He=so[112+((Re=3*(Ee-ke))+4>>3)],Re=so[112+(Re+3>>3)],we=He+1>>1;le[de-2*be]=wi[255+le[de-2*be]+we],le[de-be]=wi[255+ke+Re],le[de+0]=wi[255+Ee-He],le[de+be]=wi[255+Ae-we]}S+=R}}function Kr(v,S,_,R,W,Q){mr(v,S,_,1,16,R,W,Q)}function Zr(v,S,_,R,W,Q){mr(v,S,1,_,16,R,W,Q)}function td(v,S,_,R,W,Q){var te;for(te=3;0<te;--te)za(v,S+=4*_,_,1,16,R,W,Q)}function qo(v,S,_,R,W,Q){var te;for(te=3;0<te;--te)za(v,S+=4,1,_,16,R,W,Q)}function nd(v,S,_,R,W,Q,te,se){mr(v,S,W,1,8,Q,te,se),mr(_,R,W,1,8,Q,te,se)}function $l(v,S,_,R,W,Q,te,se){mr(v,S,1,W,8,Q,te,se),mr(_,R,1,W,8,Q,te,se)}function Vo(v,S,_,R,W,Q,te,se){za(v,S+4*W,W,1,8,Q,te,se),za(_,R+4*W,W,1,8,Q,te,se)}function Ju(v,S,_,R,W,Q,te,se){za(v,S+4,1,W,8,Q,te,se),za(_,R+4,1,W,8,Q,te,se)}function zo(){this.ba=new fa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Yl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ho(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new k}function id(){this.xb=this.a=0,this.l=new lr,this.ca=new fa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ho,this.ab=0,this.gc=u(4,Wl),this.Oc=0}function Go(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xr(v,S,_,R,W,Q,te){for(v=v==null?0:v[S+0],S=0;S<te;++S)W[Q+S]=v+_[R+S]&255,v=W[Q+S]}function $o(v,S,_,R,W,Q,te){var se;if(v==null)Xr(null,null,_,R,W,Q,te);else for(se=0;se<te;++se)W[Q+se]=v[S+se]+_[R+se]&255}function gr(v,S,_,R,W,Q,te){if(v==null)Xr(null,null,_,R,W,Q,te);else{var se,le=v[S+0],de=le,be=le;for(se=0;se<te;++se)de=be+(le=v[S+se])-de,be=_[R+se]+(-256&de?0>de?0:255:de)&255,de=le,W[Q+se]=be}}function Jl(v,S,_,R){var W=S.width,Q=S.o;if(e(v!=null&&S!=null),0>_||0>=R||_+R>Q)return null;if(!v.Cc){if(v.ga==null){var te;if(v.ga=new Go,(te=v.ga==null)||(te=S.width*S.o,e(v.Gb.length==0),v.Gb=o(te),v.Uc=0,v.Gb==null?te=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,te=1),te=!te),!te){te=v.ga;var se=v.Fa,le=v.P,de=v.qc,be=v.mb,ke=v.nb,Ee=le+1,Ae=de-1,He=te.l;if(e(se!=null&&be!=null&&S!=null),hs[0]=null,hs[1]=Xr,hs[2]=$o,hs[3]=gr,te.ca=be,te.tb=ke,te.c=S.width,te.i=S.height,e(0<te.c&&0<te.i),1>=de)S=0;else if(te.$a=se[le+0]>>0&3,te.Z=se[le+0]>>2&3,te.Lc=se[le+0]>>4&3,le=se[le+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||le)S=0;else if(He.put=Ua,He.ac=li,He.bc=as,He.ma=te,He.width=S.width,He.height=S.height,He.Da=S.Da,He.v=S.v,He.va=S.va,He.j=S.j,He.o=S.o,te.$a)e:{e(te.$a==1),S=Ni();t:for(;;){if(S==null){S=0;break e}if(e(te!=null),te.mc=S,S.c=te.c,S.i=te.i,S.l=te.l,S.l.ma=te,S.l.width=te.c,S.l.height=te.i,S.a=0,ne(S.m,se,Ee,Ae),!xn(te.c,te.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ma(S.s)?(te.ic=1,se=S.c*S.i,S.Ta=null,S.Ua=0,S.V=o(se),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(te.ic=0,S=or(S,te.c)),!S))break t;S=1;break e}te.mc=null,S=0}else S=Ae>=te.c*te.i;te=!S}if(te)return null;v.ga.Lc!=1?v.Ga=0:R=Q-_}e(v.ga!=null),e(_+R<=Q);e:{if(S=(se=v.ga).c,Q=se.l.o,se.$a==0){if(Ee=v.rc,Ae=v.Vc,He=v.Fa,le=v.P+1+_*S,de=v.mb,be=v.nb+_*S,e(le<=v.P+v.qc),se.Z!=0)for(e(hs[se.Z]!=null),te=0;te<R;++te)hs[se.Z](Ee,Ae,He,le,de,be,S),Ee=de,Ae=be,be+=S,le+=S;else for(te=0;te<R;++te)i(de,be,He,le,S),Ee=de,Ae=be,be+=S,le+=S;v.rc=Ee,v.Vc=Ae}else{if(e(se.mc!=null),S=_+R,e((te=se.mc)!=null),e(S<=te.i),te.C>=S)S=1;else if(se.ic||_e(),se.ic){se=te.V,Ee=te.Ba,Ae=te.c;var Re=te.i,we=(He=1,le=te.$/Ae,de=te.$%Ae,be=te.m,ke=te.s,te.$),Te=Ae*Re,Be=Ae*S,Ge=ke.wc,qe=we<Be?ni(ke,de,le):null;e(we<=Te),e(S<=Re),e(ma(ke));t:for(;;){for(;!be.h&&we<Be;){if(de&Ge||(qe=ni(ke,de,le)),e(qe!=null),X(be),256>(Re=ui(qe.G[0],qe.H[0],be)))se[Ee+we]=Re,++we,++de>=Ae&&(de=0,++le<=S&&!(le%16)&&ji(te,le));else{if(!(280>Re)){He=0;break t}Re=Cn(Re-256,be);var st,Xe=ui(qe.G[4],qe.H[4],be);if(X(be),!(we>=(Xe=Bn(Ae,Xe=Cn(Xe,be)))&&Te-we>=Re)){He=0;break t}for(st=0;st<Re;++st)se[Ee+we+st]=se[Ee+we+st-Xe];for(we+=Re,de+=Re;de>=Ae;)de-=Ae,++le<=S&&!(le%16)&&ji(te,le);we<Be&&de&Ge&&(qe=ni(ke,de,le))}e(be.h==Y(be))}ji(te,le>S?S:le);break t}!He||be.h&&we<Te?(He=0,te.a=be.h?5:3):te.$=we,S=He}else S=Ii(te,te.V,te.Ba,te.c,te.i,S,$r);if(!S){R=0;break e}}_+R>=Q&&(v.Cc=1),R=1}if(!R)return null;if(v.Cc&&((R=v.ga)!=null&&(R.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+_*W}function N(v,S,_,R,W,Q){for(;0<W--;){var te,se=v,le=S+(_?1:0),de=v,be=S+(_?0:3);for(te=0;te<R;++te){var ke=de[be+4*te];ke!=255&&(ke*=32897,se[le+4*te+0]=se[le+4*te+0]*ke>>23,se[le+4*te+1]=se[le+4*te+1]*ke>>23,se[le+4*te+2]=se[le+4*te+2]*ke>>23)}S+=Q}}function Z(v,S,_,R,W){for(;0<R--;){var Q;for(Q=0;Q<_;++Q){var te=v[S+2*Q+0],se=15&(de=v[S+2*Q+1]),le=4369*se,de=(240&de|de>>4)*le>>16;v[S+2*Q+0]=(240&te|te>>4)*le>>16&240|(15&te|te<<4)*le>>16>>4&15,v[S+2*Q+1]=240&de|se}S+=W}}function me(v,S,_,R,W,Q,te,se){var le,de,be=255;for(de=0;de<W;++de){for(le=0;le<R;++le){var ke=v[S+le];Q[te+4*le]=ke,be&=ke}S+=_,te+=se}return be!=255}function xe(v,S,_,R,W){var Q;for(Q=0;Q<W;++Q)_[R+Q]=v[S+Q]>>8}function _e(){Us=N,_i=Z,zi=me,io=xe}function Oe(v,S,_){U[v]=function(R,W,Q,te,se,le,de,be,ke,Ee,Ae,He,Re,we,Te,Be,Ge){var qe,st=Ge-1>>1,Xe=se[le+0]|de[be+0]<<16,vt=ke[Ee+0]|Ae[He+0]<<16;e(R!=null);var et=3*Xe+vt+131074>>2;for(S(R[W+0],255&et,et>>16,Re,we),Q!=null&&(et=3*vt+Xe+131074>>2,S(Q[te+0],255&et,et>>16,Te,Be)),qe=1;qe<=st;++qe){var sn=se[le+qe]|de[be+qe]<<16,fn=ke[Ee+qe]|Ae[He+qe]<<16,Gt=Xe+sn+vt+fn+524296,zt=Gt+2*(sn+vt)>>3;et=zt+Xe>>1,Xe=(Gt=Gt+2*(Xe+fn)>>3)+sn>>1,S(R[W+2*qe-1],255&et,et>>16,Re,we+(2*qe-1)*_),S(R[W+2*qe-0],255&Xe,Xe>>16,Re,we+(2*qe-0)*_),Q!=null&&(et=Gt+vt>>1,Xe=zt+fn>>1,S(Q[te+2*qe-1],255&et,et>>16,Te,Be+(2*qe-1)*_),S(Q[te+2*qe+0],255&Xe,Xe>>16,Te,Be+(2*qe+0)*_)),Xe=sn,vt=fn}1&Ge||(et=3*Xe+vt+131074>>2,S(R[W+Ge-1],255&et,et>>16,Re,we+(Ge-1)*_),Q!=null&&(et=3*vt+Xe+131074>>2,S(Q[te+Ge-1],255&et,et>>16,Te,Be+(Ge-1)*_)))}}function We(){Si[Fi]=$s,Si[Xo]=ps,Si[ds]=Nr,Si[eu]=ic,Si[ro]=ac,Si[qs]=tl,Si[tc]=sc,Si[tu]=ps,Si[Tr]=ic,Si[Vs]=ac,Si[Qo]=tl}function it(v){return v&-16384?0>v?0:255:v>>hp}function ht(v,S){return it((19077*v>>8)+(26149*S>>8)-14234)}function Rt(v,S,_){return it((19077*v>>8)-(6419*S>>8)-(13320*_>>8)+8708)}function Vt(v,S){return it((19077*v>>8)+(33050*S>>8)-17685)}function Xt(v,S,_,R,W){R[W+0]=ht(v,_),R[W+1]=Rt(v,S,_),R[W+2]=Vt(v,S)}function In(v,S,_,R,W){R[W+0]=Vt(v,S),R[W+1]=Rt(v,S,_),R[W+2]=ht(v,_)}function Un(v,S,_,R,W){var Q=Rt(v,S,_);S=Q<<3&224|Vt(v,S)>>3,R[W+0]=248&ht(v,_)|Q>>5,R[W+1]=S}function Kn(v,S,_,R,W){var Q=240&Vt(v,S)|15;R[W+0]=240&ht(v,_)|Rt(v,S,_)>>4,R[W+1]=Q}function Zn(v,S,_,R,W){R[W+0]=255,Xt(v,S,_,R,W+1)}function bi(v,S,_,R,W){In(v,S,_,R,W),R[W+3]=255}function Ha(v,S,_,R,W){Xt(v,S,_,R,W),R[W+3]=255}function ya(v,S){return 0>v?0:v>S?S:v}function ls(v,S,_){U[v]=function(R,W,Q,te,se,le,de,be,ke){for(var Ee=be+(-2&ke)*_;be!=Ee;)S(R[W+0],Q[te+0],se[le+0],de,be),S(R[W+1],Q[te+0],se[le+0],de,be+_),W+=2,++te,++le,be+=2*_;1&ke&&S(R[W+0],Q[te+0],se[le+0],de,be)}}function Kl(v,S,_){return _==0?v==0?S==0?6:5:S==0?4:0:_}function Ls(v,S,_,R,W){switch(v>>>30){case 3:br(S,_,R,W,0);break;case 2:Ko(S,_,R,W);break;case 1:Ri(S,_,R,W)}}function Rs(v,S){var _,R,W=S.M,Q=S.Nb,te=v.oc,se=v.pc+40,le=v.oc,de=v.pc+584,be=v.oc,ke=v.pc+600;for(_=0;16>_;++_)te[se+32*_-1]=129;for(_=0;8>_;++_)le[de+32*_-1]=129,be[ke+32*_-1]=129;for(0<W?te[se-1-32]=le[de-1-32]=be[ke-1-32]=129:(s(te,se-32-1,127,21),s(le,de-32-1,127,9),s(be,ke-32-1,127,9)),R=0;R<v.za;++R){var Ee=S.ya[S.aa+R];if(0<R){for(_=-1;16>_;++_)i(te,se+32*_-4,te,se+32*_+12,4);for(_=-1;8>_;++_)i(le,de+32*_-4,le,de+32*_+4,4),i(be,ke+32*_-4,be,ke+32*_+4,4)}var Ae=v.Gd,He=v.Hd+R,Re=Ee.ad,we=Ee.Hc;if(0<W&&(i(te,se-32,Ae[He].y,0,16),i(le,de-32,Ae[He].f,0,8),i(be,ke-32,Ae[He].ea,0,8)),Ee.Za){var Te=te,Be=se-32+16;for(0<W&&(R>=v.za-1?s(Te,Be,Ae[He].y[15],4):i(Te,Be,Ae[He+1].y,0,4)),_=0;4>_;_++)Te[Be+128+_]=Te[Be+256+_]=Te[Be+384+_]=Te[Be+0+_];for(_=0;16>_;++_,we<<=2)Te=te,Be=se+co[_],Hi[Ee.Ob[_]](Te,Be),Ls(we,Re,16*+_,Te,Be)}else if(Te=Kl(R,W,Ee.Ob[0]),Gs[Te](te,se),we!=0)for(_=0;16>_;++_,we<<=2)Ls(we,Re,16*+_,te,se+co[_]);for(_=Ee.Gc,Te=Kl(R,W,Ee.Dd),wa[Te](le,de),wa[Te](be,ke),we=Re,Te=le,Be=de,255&(Ee=_>>0)&&(170&Ee?ia(we,256,Te,Be):$a(we,256,Te,Be)),Ee=be,we=ke,255&(_>>=8)&&(170&_?ia(Re,320,Ee,we):$a(Re,320,Ee,we)),W<v.Ub-1&&(i(Ae[He].y,0,te,se+480,16),i(Ae[He].f,0,le,de+224,8),i(Ae[He].ea,0,be,ke+224,8)),_=8*Q*v.B,Ae=v.sa,He=v.ta+16*R+16*Q*v.R,Re=v.qa,Ee=v.ra+8*R+_,we=v.Ha,Te=v.Ia+8*R+_,_=0;16>_;++_)i(Ae,He+_*v.R,te,se+32*_,16);for(_=0;8>_;++_)i(Re,Ee+_*v.B,le,de+32*_,8),i(we,Te+_*v.B,be,ke+32*_,8)}}function Yo(v,S,_,R,W,Q,te,se,le){var de=[0],be=[0],ke=0,Ee=le!=null?le.kd:0,Ae=le??new Yl;if(v==null||12>_)return 7;Ae.data=v,Ae.w=S,Ae.ha=_,S=[S],_=[_],Ae.gb=[Ae.gb];e:{var He=S,Re=_,we=Ae.gb;if(e(v!=null),e(Re!=null),e(we!=null),we[0]=0,12<=Re[0]&&!n(v,He[0],"RIFF")){if(n(v,He[0]+8,"WEBP")){we=3;break e}var Te=Ye(v,He[0]+4);if(12>Te||4294967286<Te){we=3;break e}if(Ee&&Te>Re[0]-8){we=7;break e}we[0]=Te,He[0]+=12,Re[0]-=12}we=0}if(we!=0)return we;for(Te=0<Ae.gb[0],_=_[0];;){e:{var Be=v;Re=S,we=_;var Ge=de,qe=be,st=He=[0];if((et=ke=[ke])[0]=0,8>we[0])we=7;else{if(!n(Be,Re[0],"VP8X")){if(Ye(Be,Re[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Xe=Ye(Be,Re[0]+8),vt=1+ze(Be,Re[0]+12);if(2147483648<=vt*(Be=1+ze(Be,Re[0]+15))){we=3;break e}st!=null&&(st[0]=Xe),Ge!=null&&(Ge[0]=vt),qe!=null&&(qe[0]=Be),Re[0]+=18,we[0]-=18,et[0]=1}we=0}}if(ke=ke[0],He=He[0],we!=0)return we;if(Re=!!(2&He),!Te&&ke)return 3;if(Q!=null&&(Q[0]=!!(16&He)),te!=null&&(te[0]=Re),se!=null&&(se[0]=0),te=de[0],He=be[0],ke&&Re&&le==null){we=0;break}if(4>_){we=7;break}if(Te&&ke||!Te&&!ke&&!n(v,S[0],"ALPH")){_=[_],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Xe=v,we=S,Te=_;var et=Ae.gb;Ge=Ae.na,qe=Ae.P,st=Ae.Sa,vt=22,e(Xe!=null),e(Te!=null),Be=we[0];var sn=Te[0];for(e(Ge!=null),e(st!=null),Ge[0]=null,qe[0]=null,st[0]=0;;){if(we[0]=Be,Te[0]=sn,8>sn){we=7;break e}var fn=Ye(Xe,Be+4);if(4294967286<fn){we=3;break e}var Gt=8+fn+1&-2;if(vt+=Gt,0<et&&vt>et){we=3;break e}if(!n(Xe,Be,"VP8 ")||!n(Xe,Be,"VP8L")){we=0;break e}if(sn[0]<Gt){we=7;break e}n(Xe,Be,"ALPH")||(Ge[0]=Xe,qe[0]=Be+8,st[0]=fn),Be+=Gt,sn-=Gt}}if(_=_[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],we!=0)break}_=[_],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(et=v,we=S,Te=_,Ge=Ae.gb[0],qe=Ae.Ja,st=Ae.xa,Xe=we[0],Be=!n(et,Xe,"VP8 "),vt=!n(et,Xe,"VP8L"),e(et!=null),e(Te!=null),e(qe!=null),e(st!=null),8>Te[0])we=7;else{if(Be||vt){if(et=Ye(et,Xe+4),12<=Ge&&et>Ge-12){we=3;break e}if(Ee&&et>Te[0]-8){we=7;break e}qe[0]=et,we[0]+=8,Te[0]-=8,st[0]=vt}else st[0]=5<=Te[0]&&et[Xe+0]==47&&!(et[Xe+4]>>5),qe[0]=Te[0];we=0}if(_=_[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],S=S[0],we!=0)break;if(4294967286<Ae.Ja)return 3;if(se==null||Re||(se[0]=Ae.xa?2:1),te=[te],He=[He],Ae.xa){if(5>_){we=7;break}se=te,Ee=He,Re=Q,v==null||5>_?v=0:5<=_&&v[S+0]==47&&!(v[S+4]>>5)?(Te=[0],et=[0],Ge=[0],ne(qe=new L,v,S,_),mt(qe,Te,et,Ge)?(se!=null&&(se[0]=Te[0]),Ee!=null&&(Ee[0]=et[0]),Re!=null&&(Re[0]=Ge[0]),v=1):v=0):v=0}else{if(10>_){we=7;break}se=He,v==null||10>_||!qi(v,S+3,_-3)?v=0:(Ee=v[S+0]|v[S+1]<<8|v[S+2]<<16,Re=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Ae.Ja||!Re||!v?v=0:(te&&(te[0]=Re),se&&(se[0]=v),v=1))}if(!v||(te=te[0],He=He[0],ke&&(de[0]!=te||be[0]!=He)))return 3;le!=null&&(le[0]=Ae,le.offset=S-le.w,e(4294967286>S-le.w),e(le.offset==le.ha-_));break}return we==0||we==7&&ke&&le==null?(Q!=null&&(Q[0]|=Ae.na!=null&&0<Ae.na.length),R!=null&&(R[0]=te),W!=null&&(W[0]=He),0):we}function vr(v,S,_){var R=S.width,W=S.height,Q=0,te=0,se=R,le=W;if(S.Da=v!=null&&0<v.Da,S.Da&&(se=v.cd,le=v.bd,Q=v.v,te=v.j,11>_||(Q&=-2,te&=-2),0>Q||0>te||0>=se||0>=le||Q+se>R||te+le>W))return 0;if(S.v=Q,S.j=te,S.va=Q+se,S.o=te+le,S.U=se,S.T=le,S.da=v!=null&&0<v.da,S.da){if(!bt(se,le,_=[v.ib],Q=[v.hb]))return 0;S.ib=_[0],S.hb=Q[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*R/4&&S.hb<3*W/4,S.Kb=0),1}function Wo(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function Qr(v,S,_,R){if(R==null||0>=v||0>=S)return 2;if(_!=null){if(_.Da){var W=_.cd,Q=_.bd,te=-2&_.v,se=-2&_.j;if(0>te||0>se||0>=W||0>=Q||te+W>v||se+Q>S)return 2;v=W,S=Q}if(_.da){if(!bt(v,S,W=[_.ib],Q=[_.hb]))return 2;v=W[0],S=Q[0]}}R.width=v,R.height=S;e:{var le=R.width,de=R.height;if(v=R.S,0>=le||0>=de||!(v>=Fi&&13>v))v=2;else{if(0>=R.Rd&&R.sd==null){te=Q=W=S=0;var be=(se=le*Sf[v])*de;if(11>v||(Q=(de+1)/2*(S=(le+1)/2),v==12&&(te=(W=le)*de)),(de=o(be+2*Q+te))==null){v=1;break e}R.sd=de,11>v?((le=R.f.RGBA).eb=de,le.fb=0,le.A=se,le.size=be):((le=R.f.kb).y=de,le.O=0,le.fa=se,le.Fd=be,le.f=de,le.N=0+be,le.Ab=S,le.Cd=Q,le.ea=de,le.W=0+be+Q,le.Db=S,le.Ed=Q,v==12&&(le.F=de,le.J=0+be+2*Q),le.Tc=te,le.lb=W)}if(S=1,W=R.S,Q=R.width,te=R.height,W>=Fi&&13>W)if(11>W)v=R.f.RGBA,S&=(se=Math.abs(v.A))*(te-1)+Q<=v.size,S&=se>=Q*Sf[W],S&=v.eb!=null;else{v=R.f.kb,se=(Q+1)/2,be=(te+1)/2,le=Math.abs(v.fa),de=Math.abs(v.Ab);var ke=Math.abs(v.Db),Ee=Math.abs(v.lb),Ae=Ee*(te-1)+Q;S&=le*(te-1)+Q<=v.Fd,S&=de*(be-1)+se<=v.Cd,S=(S&=ke*(be-1)+se<=v.Ed)&le>=Q&de>=se&ke>=se,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,W==12&&(S&=Ee>=Q,S&=Ae<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||_!=null&&_.fd&&(v=Wo(R)),v}var Li=64,yr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eo=24,to=32,Jo=8,ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(v){return v},U.Predictor2=function(v,S,_){return S[_+0]},U.Predictor3=function(v,S,_){return S[_+1]},U.Predictor4=function(v,S,_){return S[_-1]},U.Predictor5=function(v,S,_){return nt(nt(v,S[_+1]),S[_+0])},U.Predictor6=function(v,S,_){return nt(v,S[_-1])},U.Predictor7=function(v,S,_){return nt(v,S[_+0])},U.Predictor8=function(v,S,_){return nt(S[_-1],S[_+0])},U.Predictor9=function(v,S,_){return nt(S[_+0],S[_+1])},U.Predictor10=function(v,S,_){return nt(nt(v,S[_-1]),nt(S[_+0],S[_+1]))},U.Predictor11=function(v,S,_){var R=S[_+0];return 0>=qt(R>>24&255,v>>24&255,(S=S[_-1])>>24&255)+qt(R>>16&255,v>>16&255,S>>16&255)+qt(R>>8&255,v>>8&255,S>>8&255)+qt(255&R,255&v,255&S)?R:v},U.Predictor12=function(v,S,_){var R=S[_+0];return(gt((v>>24&255)+(R>>24&255)-((S=S[_-1])>>24&255))<<24|gt((v>>16&255)+(R>>16&255)-(S>>16&255))<<16|gt((v>>8&255)+(R>>8&255)-(S>>8&255))<<8|gt((255&v)+(255&R)-(255&S)))>>>0},U.Predictor13=function(v,S,_){var R=S[_-1];return(It((v=nt(v,S[_+0]))>>24&255,R>>24&255)<<24|It(v>>16&255,R>>16&255)<<16|It(v>>8&255,R>>8&255)<<8|It(v>>0&255,R>>0&255))>>>0};var ad=U.PredictorAdd0;U.PredictorAdd1=Ot,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Zl=U.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Ku,Ga=U.ColorIndexInverseTransform,Ci=U.MapARGB,no=U.VP8LColorIndexInverseTransformAlpha,Zu=U.MapAlpha,Fs=U.VP8LPredictorsAdd=[];Fs.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var xa,Ea,us,cs,na,xr,Vi,br,Ko,ia,Ri,$a,wr,Ma,Sr,Os,Zo,ka,Bs,_n,bn,$n,Xn,ci,Us,_i,zi,io,Xu=o(511),Xl=o(2041),Ql=o(225),Qu=o(767),ao=0,ec=Xl,so=Ql,wi=Qu,Da=Xu,Fi=0,Xo=1,ds=2,eu=3,ro=4,qs=5,tc=6,tu=7,Tr=8,Vs=9,Qo=10,nc=[2,3,7],ja=[3,3,11],ba=[280,256,256,256,40],oo=[0,1,1,1,0],zs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vf=8,nu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],iu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],di=null,Yn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],un=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ar=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gs=[],Hi=[],wa=[],xf=1,el=2,hs=[],Si=[];Oe("UpsampleRgbLinePair",Xt,3),Oe("UpsampleBgrLinePair",In,3),Oe("UpsampleRgbaLinePair",Ha,4),Oe("UpsampleBgraLinePair",bi,4),Oe("UpsampleArgbLinePair",Zn,4),Oe("UpsampleRgba4444LinePair",Kn,2),Oe("UpsampleRgb565LinePair",Un,2);var $s=U.UpsampleRgbLinePair,Nr=U.UpsampleBgrLinePair,ps=U.UpsampleRgbaLinePair,ic=U.UpsampleBgraLinePair,ac=U.UpsampleArgbLinePair,tl=U.UpsampleRgba4444LinePair,sc=U.UpsampleRgb565LinePair,ms=16,fi=1<<ms-1,Cr=-227,rc=482,hp=6,bf=0,pp=o(256),hi=o(256),rd=o(256),au=o(256),su=o(rc-Cr),od=o(rc-Cr);ls("YuvToRgbRow",Xt,3),ls("YuvToBgrRow",In,3),ls("YuvToRgbaRow",Ha,4),ls("YuvToBgraRow",bi,4),ls("YuvToArgbRow",Zn,4),ls("YuvToRgba4444Row",Kn,2),ls("YuvToRgb565Row",Un,2);var co=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ys=[0,2,8],mp=[8,7,6,4,4,2,2,2,1,1,1,1],wf=1;this.WebPDecodeRGBA=function(v,S,_,R,W){var Q=Xo,te=new zo,se=new fa;te.ba=se,se.S=Q,se.width=[se.width],se.height=[se.height];var le=se.width,de=se.height,be=new ha;if(be==null||v==null)var ke=2;else e(be!=null),ke=Yo(v,S,_,be.width,be.height,be.Pd,be.Qd,be.format,null);if(ke!=0?le=0:(le!=null&&(le[0]=be.width[0]),de!=null&&(de[0]=be.height[0]),le=1),le){se.width=se.width[0],se.height=se.height[0],R!=null&&(R[0]=se.width),W!=null&&(W[0]=se.height);e:{if(R=new lr,(W=new Yl).data=v,W.w=S,W.ha=_,W.kd=1,S=[0],e(W!=null),((v=Yo(W.data,W.w,W.ha,null,null,null,S,null,W))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(te!=null),R.data=W.data,R.w=W.w+W.offset,R.ha=W.ha-W.offset,R.put=Ua,R.ac=li,R.bc=as,R.ma=te,W.xa){if((v=Ni())==null){te=1;break e}if(function(Ee,Ae){var He=[0],Re=[0],we=[0];t:for(;;){if(Ee==null)return 0;if(Ae==null)return Ee.a=2,0;if(Ee.l=Ae,Ee.a=0,ne(Ee.m,Ae.data,Ae.w,Ae.ha),!mt(Ee.m,He,Re,we)){Ee.a=3;break t}if(Ee.xb=el,Ae.width=He[0],Ae.height=Re[0],!xn(He[0],Re[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(v,R)){if(R=(S=Qr(R.width,R.height,te.Oa,te.ba))==0){t:{R=v;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((_=R.l)!=null),e((W=_.ma)!=null),R.xb!=0){if(R.ca=W.ba,R.tb=W.tb,e(R.ca!=null),!vr(W.Oa,_,eu)){R.a=2;break n}if(!or(R,_.width)||_.da)break n;if((_.da||dn(R.ca.S))&&_e(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&_e()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Ze(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Ii(R,R.V,R.Ba,R.c,R.i,_.o,Gr))break n;W.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(S=v.a)}else S=v.a}else{if((v=new Qc)==null){te=1;break e}if(v.Fa=W.na,v.P=W.P,v.qc=W.Sa,Ol(v,R)){if((S=Qr(R.width,R.height,te.Oa,te.ba))==0){if(v.Aa=0,_=te.Oa,e((W=v)!=null),_!=null){if(0<(le=0>(le=_.Md)?0:100<le?255:255*le/100)){for(de=be=0;4>de;++de)12>(ke=W.pb[de]).lc&&(ke.ia=le*mp[0>ke.lc?0:ke.lc]>>3),be|=ke.ia;be&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=_.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}Vu(v,R)||(S=v.a)}}else S=v.a}S==0&&te.Oa!=null&&te.Oa.fd&&(S=Wo(te.ba))}te=S}Q=te!=0?null:11>Q?se.f.RGBA.eb:se.f.kb.y}else Q=null;return Q};var Sf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(U,O){for(var ue="",I=0;I<4;I++)ue+=String.fromCharCode(U[O++]);return ue}function y(U,O){return(U[O+0]<<0|U[O+1]<<8|U[O+2]<<16)>>>0}function x(U,O){return(U[O+0]<<0|U[O+1]<<8|U[O+2]<<16|U[O+3]<<24)>>>0}new h;var T=[0],w=[0],C=[],M=new h,D=t,E=function(U,O){var ue={},I=0,k=!1,$=0,K=0;if(ue.frames=[],!function(J,Y,ie,X){for(var pe=0;pe<X;pe++)if(J[Y+pe]!=ie.charCodeAt(pe))return!0;return!1}(U,O,"RIFF",4)){var ce,q;for(x(U,O+=4),O+=8;O<U.length;){var G=m(U,O),ne=x(U,O+=4);O+=4;var oe=ne+(1&ne);switch(G){case"VP8 ":case"VP8L":ue.frames[I]===void 0&&(ue.frames[I]={}),(L=ue.frames[I]).src_off=k?K:O-8,L.src_size=$+ne+8,I++,k&&(k=!1,$=0,K=0);break;case"VP8X":(L=ue.header={}).feature_flags=U[O];var P=O+4;L.canvas_width=1+y(U,P),P+=3,L.canvas_height=1+y(U,P),P+=3;break;case"ALPH":k=!0,$=oe+8,K=O-8;break;case"ANIM":(L=ue.header).bgcolor=x(U,O),P=O+4,L.loop_count=(ce=U)[(q=P)+0]<<0|ce[q+1]<<8,P+=2;break;case"ANMF":var ae,L;(L=ue.frames[I]={}).offset_x=2*y(U,O),O+=3,L.offset_y=2*y(U,O),O+=3,L.width=1+y(U,O),O+=3,L.height=1+y(U,O),O+=3,L.duration=y(U,O),O+=3,ae=U[O++],L.dispose=1&ae,L.blend=ae>>1&1}G!="ANMF"&&(O+=oe)}return ue}}(D,0);E.response=D,E.rgbaoutput=!0,E.dataurl=!1;var j=E.header?E.header:null,F=E.frames?E.frames:null;if(j){j.loop_counter=j.loop_count,T=[j.canvas_height],w=[j.canvas_width];for(var B=0;B<F.length&&F[B].blend!=0;B++);}var H=F[0],ee=M.WebPDecodeRGBA(D,H.src_off,H.src_size,w,T);H.rgba=ee,H.imgwidth=w[0],H.imgheight=T[0];for(var V=0;V<w[0]*T[0]*4;V++)C[V]=ee[V];return this.width=w,this.height=T,this.data=C,this}(function(t){var e=function(){return typeof ng=="function"},n=function(T,w,C,M){var D=4,E=u;switch(M){case t.image_compression.FAST:D=1,E=o;break;case t.image_compression.MEDIUM:D=6,E=d;break;case t.image_compression.SLOW:D=9,E=h}T=i(T,w,C,E);var j=ng(T,{level:D});return t.__addimage__.arrayBufferToBinaryString(j)},i=function(T,w,C,M){for(var D,E,j,F=T.length/w,B=new Uint8Array(T.length+F),H=y(),ee=0;ee<F;ee+=1){if(j=ee*w,D=T.subarray(j,j+w),M)B.set(M(D,C,E),j+ee);else{for(var V,U=H.length,O=[];V<U;V+=1)O[V]=H[V](D,C,E);var ue=x(O.concat());B.set(O[ue],j+ee)}E=D}return B},s=function(T){var w=Array.apply([],T);return w.unshift(0),w},o=function(T,w){var C,M=[],D=T.length;M[0]=1;for(var E=0;E<D;E+=1)C=T[E-w]||0,M[E+1]=T[E]-C+256&255;return M},u=function(T,w,C){var M,D=[],E=T.length;D[0]=2;for(var j=0;j<E;j+=1)M=C&&C[j]||0,D[j+1]=T[j]-M+256&255;return D},d=function(T,w,C){var M,D,E=[],j=T.length;E[0]=3;for(var F=0;F<j;F+=1)M=T[F-w]||0,D=C&&C[F]||0,E[F+1]=T[F]+256-(M+D>>>1)&255;return E},h=function(T,w,C){var M,D,E,j,F=[],B=T.length;F[0]=4;for(var H=0;H<B;H+=1)M=T[H-w]||0,D=C&&C[H]||0,E=C&&C[H-w]||0,j=m(M,D,E),F[H+1]=T[H]-j+256&255;return F},m=function(T,w,C){if(T===w&&w===C)return T;var M=Math.abs(w-C),D=Math.abs(T-C),E=Math.abs(T+w-C-C);return M<=D&&M<=E?T:D<=E?w:C},y=function(){return[s,o,u,d,h]},x=function(T){var w=T.map(function(C){return C.reduce(function(M,D){return M+Math.abs(D)},0)});return w.indexOf(Math.min.apply(null,w))};t.processPNG=function(T,w,C,M){var D,E,j,F,B,H,ee,V,U,O,ue,I,k,$,K,ce=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(T)&&(T=new Uint8Array(T)),this.__addimage__.isArrayBufferView(T)){if(T=(j=new IS(T)).imgData,E=j.bits,D=j.colorSpace,B=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){U=(V=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,ue=new Uint8Array(U*j.colors),O=new Uint8Array(U);var G,ne=j.pixelBitlength-j.bits;for($=0,K=0;$<U;$++){for(k=V[$],G=0;G<ne;)ue[K++]=k>>>G&255,G+=j.bits;O[$]=k>>>G&255}}if(j.bits===16){U=(V=new Uint32Array(j.decodePixels().buffer)).length,ue=new Uint8Array(U*(32/j.pixelBitlength)*j.colors),O=new Uint8Array(U*(32/j.pixelBitlength)),I=j.colors>1,$=0,K=0;for(var oe=0;$<U;)k=V[$++],ue[K++]=k>>>0&255,I&&(ue[K++]=k>>>16&255,k=V[$++],ue[K++]=k>>>0&255),O[oe++]=k>>>16&255;E=8}M!==t.image_compression.NONE&&e()?(T=n(ue,j.width*j.colors,j.colors,M),ee=n(O,j.width,1,M)):(T=ue,ee=O,ce=void 0)}if(j.colorType===3&&(D=this.color_spaces.INDEXED,H=j.palette,j.transparency.indexed)){var P=j.transparency.indexed,ae=0;for($=0,U=P.length;$<U;++$)ae+=P[$];if((ae/=255)===U-1&&P.indexOf(0)!==-1)F=[P.indexOf(0)];else if(ae!==U){for(V=j.decodePixels(),O=new Uint8Array(V.length),$=0,U=V.length;$<U;$++)O[$]=P[V[$]];ee=n(O,j.width,1)}}var L=function(J){var Y;switch(J){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(M);return ce===this.decode.FLATE_DECODE&&(q="/Predictor "+L+" "),q+="/Colors "+B+" /BitsPerComponent "+E+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:C,data:T,index:w,filter:ce,decodeParameters:q,transparency:F,palette:H,sMask:ee,predictor:L,width:j.width,height:j.height,bitsPerComponent:E,colorSpace:D}}}})(Tt.API),function(t){t.processGIF89A=function(e,n,i,s){var o=new PS(e),u=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:u,height:d},y=new Fm(100).encode(m,100);return t.processJPEG.call(this,y,n,i,s)},t.processGIF87A=t.processGIF89A}(Tt.API),nr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nr.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){jn.log("bit decode error:"+n)}},nr.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[u+4*d]=h.blue,this.data[u+4*d+1]=h.green,this.data[u+4*d+2]=h.red,this.data[u+4*d+3]=255}n!==0&&(this.pos+=4-n)}},nr.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*s*4,d=o>>4,h=15&o,m=this.palette[d];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*s+1>=this.width)break;m=this.palette[h],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},nr.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*i;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},nr.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,m=o>>15?255:0,y=i*this.width*4+4*s;this.data[y]=h,this.data[y+1]=d,this.data[y+2]=u,this.data[y+3]=m}this.pos+=t}},nr.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&e)/e*255|0,h=(u>>5&n)/n*255|0,m=(u>>11)/e*255|0,y=s*this.width*4+4*o;this.data[y]=m,this.data[y+1]=h,this.data[y+2]=d,this.data[y+3]=255}this.pos+=t}},nr.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},nr.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*n;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=i,this.data[d+3]=u}},nr.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,s){var o=new nr(e,!1),u=o.width,d=o.height,h={data:o.getData(),width:u,height:d},m=new Fm(100).encode(h,100);return t.processJPEG.call(this,m,n,i,s)}}(Tt.API),Cy.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,s){var o=new Cy(e),u=o.width,d=o.height,h={data:o.getData(),width:u,height:d},m=new Fm(100).encode(h,100);return t.processJPEG.call(this,m,n,i,s)}}(Tt.API),Tt.API.processRGBA=function(t,e,n){for(var i=t.data,s=i.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),d=0,h=0,m=0;m<s;m+=4){var y=i[m],x=i[m+1],T=i[m+2],w=i[m+3];o[d++]=y,o[d++]=x,o[d++]=T,u[h++]=w}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Tt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jc=Tt.API,bh=jc.getCharWidthsArray=function(t,e){var n,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:s.metadata.Unicode.widths,h=d.fof?d.fof:1,m=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=m.fof?m.fof:1,x=e.doKerning!==!1,T=0,w=t.length,C=0,M=d[0]||h,D=[];for(n=0;n<w;n++)i=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?D.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+u*(1e3/o)||0)/1e3):(T=x&&An(m[i])==="object"&&!isNaN(parseInt(m[i][C],10))?m[i][C]/y:0,D.push((d[i]||M)/h+T)),C=i;return D},Sy=jc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return jc.processArabic&&(t=jc.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,s)/n:bh.apply(this,arguments).reduce(function(o,u){return o+u},0)},Ty=function(t,e,n,i){for(var s=[],o=0,u=t.length,d=0;o!==u&&d+e[o]<n;)d+=e[o],o++;s.push(t.slice(0,o));var h=o;for(d=0;o!==u;)d+e[o]>i&&(s.push(t.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&s.push(t.slice(h,o)),s},Ay=function(t,e,n){n||(n={});var i,s,o,u,d,h,m,y=[],x=[y],T=n.textIndent||0,w=0,C=0,M=t.split(" "),D=bh.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?M[0].length+2:n.lineIndent||0){var E=Array(h).join(" "),j=[];M.map(function(B){(B=B.split(/\s*\n/)).length>1?j=j.concat(B.map(function(H,ee){return(ee&&H.length?`
`:"")+H})):j.push(B[0])}),M=j,h=Sy.apply(this,[E,n])}for(o=0,u=M.length;o<u;o++){var F=0;if(i=M[o],h&&i[0]==`
`&&(i=i.substr(1),F=1),T+w+(C=(s=bh.apply(this,[i,n])).reduce(function(B,H){return B+H},0))>e||F){if(C>e){for(d=Ty.apply(this,[i,s,e-(T+w),e]),y.push(d.shift()),y=[d.pop()];d.length;)x.push([d.shift()]);C=s.slice(i.length-(y[0]?y[0].length:0)).reduce(function(B,H){return B+H},0)}else y=[i];x.push(y),T=C+h,w=D}else y.push(i),T+=w+C,w=D}return m=h?function(B,H){return(H?E:"")+B.join(" ")}:function(B){return B.join(" ")},x.map(m)},jc.splitTextToSize=function(t,e,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var x=this.internal.getFont(y.fontName,y.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var d,h,m=[];for(d=0,h=i.length;d<h;d++)m=m.concat(Ay.apply(this,[i[d],u,o]));return m},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],i["0123456789abcdef"[s]]=e[s];var o=function(x){return"0x"+parseInt(x,10).toString(16)},u=t.__fontmetrics__.compress=function(x){var T,w,C,M,D=["{"];for(var E in x){if(T=x[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=o(E).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof T=="number")T<0?(C=o(T).slice(3),M="-"):(C=o(T).slice(2),M=""),C=M+C.slice(0,-1)+i[C.slice(-1)];else{if(An(T)!=="object")throw new Error("Don't know what to do with value type "+An(T)+".");C=u(T)}D.push(w+C)}return D.push("}"),D.join("")},d=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var T,w,C,M,D={},E=1,j=D,F=[],B="",H="",ee=x.length-1,V=1;V<ee;V+=1)(M=x[V])=="'"?T?(C=T.join(""),T=void 0):T=[]:T?T.push(M):M=="{"?(F.push([j,C]),j={},C=void 0):M=="}"?((w=F.pop())[0][w[1]]=j,C=void 0,j=w[0]):M=="-"?E=-1:C===void 0?n.hasOwnProperty(M)?(B+=n[M],C=parseInt(B,16)*E,E=1,B=""):B+=M:n.hasOwnProperty(M)?(H+=n[M],j[C]=parseInt(H,16)*E,E=1,C=void 0,H=""):H+=M;return D},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var T=x.font,w=y.Unicode[T.postScriptName];w&&(T.metadata.Unicode={},T.metadata.Unicode.widths=w.widths,T.metadata.Unicode.kerning=w.kerning);var C=m.Unicode[T.postScriptName];C&&(T.metadata.Unicode.encoding=C,T.encoding=C.codePages[0])}])}(Tt.API),function(t){var e=function(n){for(var i=n.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=n.charCodeAt(o);return s};t.API.events.push(["addFont",function(n){var i=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(ef(d)),u.metadata=t.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,i)}}])}(Tt),function(t){function e(){return(_t.canvg?Promise.resolve(_t.canvg):Km(()=>import("./index.es-BVuYvP-b.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Tt.API.addSvgAsImage=function(n,i,s,o,u,d,h,m){if(isNaN(i)||isNaN(s))throw jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(u))throw jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=o,y.height=u;var x=y.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,y.width,y.height);var T={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(C){return C.fromString(x,n,T)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(T)}).then(function(){w.addImage(y.toDataURL("image/jpeg",1),i,s,o,u,h,m)})}}(),Tt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,n);return this},Tt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),h=[],m=0,y=0,x=0;function T(C,M){var D,E=!1;for(D=0;D<C.length;D+=1)C[D]===M&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var w=d.length;for(x=0;x<w;x+=1)n[d[x]].value=n[d[x]].defaultValue,n[d[x]].explicitSet=!1}if(An(t)==="object"){for(s in t)if(o=t[s],T(d,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&T(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(m=0;m<o.length;m+=1)if(i=!0,o[m].length===1&&typeof o[m][0]=="number")h.push(String(o[m]-1));else if(o[m].length>1){for(y=0;y<o[m].length;y+=1)typeof o[m][y]!="number"&&(i=!1);i===!0&&h.push([o[m][0]-1,o[m][1]-1].join(" "))}n[s].value="["+h.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,M=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?M.push("/"+C+" /"+n[C].value):M.push("/"+C+" "+n[C].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+u.length+d.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+d+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Tt.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,u){for(var d,h=u.metadata.Unicode.widths,m=["","0","00","000","0000"],y=[""],x=0,T=o.length;x<T;++x){if(d=u.metadata.characterToGlyph(o.charCodeAt(x)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=o.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return y.join("");d=d.toString(16),y.push(m[4-d.length],d)}return y.join("")},i=function(o){var u,d,h,m,y,x,T;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,T=(d=Object.keys(o).sort(function(w,C){return w-C})).length;x<T;x++)u=d[x],h.length>=100&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(m=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),h.push("<"+u+"><"+m+">"));return h.length&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var d=u.font,h=u.out,m=u.newObject,y=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,T=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",C=0;C<T.length;C++)w+=String.fromCharCode(T[C]);var M=m();y({data:w,addLength1:!0,objectId:M}),h("endobj");var D=m();y({data:i(d.metadata.toUnicode),addLength1:!0,objectId:D}),h("endobj");var E=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Rc(d.fontName)),h("/FontFile2 "+M+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var j=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+Rc(d.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+t.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+D+" 0 R"),h("/BaseFont /"+Rc(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+j+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var d=u.font,h=u.out,m=u.newObject,y=u.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,T="",w=0;w<x.length;w++)T+=String.fromCharCode(x[w]);var C=m();y({data:T,addLength1:!0,objectId:C}),h("endobj");var M=m();y({data:i(d.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var D=m();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+C+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Rc(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=m();for(var E=0;E<d.metadata.hmtx.widths.length;E++)d.metadata.hmtx.widths[E]=parseInt(d.metadata.hmtx.widths[E]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Rc(d.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,d=o.text||"",h=o.x,m=o.y,y=o.options||{},x=o.mutex||{},T=x.pdfEscape,w=x.activeFontKey,C=x.fonts,M=w,D="",E=0,j="",F=C[M].encoding;if(C[M].encoding!=="Identity-H")return{text:d,x:h,y:m,options:y,mutex:x};for(j=d,M=w,Array.isArray(d)&&(j=d[0]),E=0;E<j.length;E+=1)C[M].metadata.hasOwnProperty("cmap")&&(u=C[M].metadata.cmap.unicode.codeMap[j[E].charCodeAt(0)]),u||j[E].charCodeAt(0)<256&&C[M].metadata.hasOwnProperty("Unicode")?D+=j[E]:D+="";var B="";return parseInt(M.slice(1))<14||F==="WinAnsiEncoding"?B=T(D,M).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(B=n(D,C[M])),x.isHex=!0,{text:B,x:h,y:m,options:y,mutex:x}};e.events.push(["postProcessText",function(o){var u=o.text||"",d=[],h={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?d.push([s(Object.assign({},h,{text:u[m][0]})).text,u[m][1],u[m][2]]):d.push(s(Object.assign({},h,{text:u[m]})).text);o.text=d}else o.text=s(Object.assign({},h,{text:u})).text}])}(Tt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Tt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var s,o,u,d,h,m,y,x=e,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,F=0;this.__bidiEngine__={};var B=function(I){var k=I.charCodeAt(),$=k>>8,K=M[$];return K!==void 0?x[256*K+(255&k)]:$===252||$===253?"AL":E.test($)?"L":$===8?"R":"N"},H=function(I){for(var k,$=0;$<I.length;$++){if((k=B(I.charAt($)))==="L")return!1;if(k==="R")return!0}return!1},ee=function(I,k,$,K){var ce,q,G,ne,oe=k[K];switch(oe){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(oe="AN");break;case"AL":j=!0,oe="R";break;case"WS":oe="N";break;case"CS":K<1||K+1>=k.length||(ce=$[K-1])!=="EN"&&ce!=="AN"||(q=k[K+1])!=="EN"&&q!=="AN"?oe="N":j&&(q="AN"),oe=q===ce?q:"N";break;case"ES":oe=(ce=K>0?$[K-1]:"B")==="EN"&&K+1<k.length&&k[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&$[K-1]==="EN"){oe="EN";break}if(j){oe="N";break}for(G=K+1,ne=k.length;G<ne&&k[G]==="ET";)G++;oe=G<ne&&k[G]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(ne=k.length,G=K+1;G<ne&&k[G]==="NSM";)G++;if(G<ne){var P=I[K],ae=P>=1425&&P<=2303||P===64286;if(ce=k[G],ae&&(ce==="R"||ce==="AL")){oe="R";break}}}oe=K<1||(ce=k[K-1])==="B"?"N":$[K-1];break;case"B":j=!1,s=!0,oe=F;break;case"S":o=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":oe="N"}return oe},V=function(I,k,$){var K=I.split("");return $&&U(K,$,{hiLevel:F}),K.reverse(),k&&k.reverse(),K.join("")},U=function(I,k,$){var K,ce,q,G,ne,oe=-1,P=I.length,ae=0,L=[],J=F?w:T,Y=[];for(j=!1,s=!1,o=!1,ce=0;ce<P;ce++)Y[ce]=B(I[ce]);for(q=0;q<P;q++){if(ne=ae,L[q]=ee(I,Y,L,q),K=240&(ae=J[ne][C[L[q]]]),ae&=15,k[q]=G=J[ae][5],K>0)if(K===16){for(ce=oe;ce<q;ce++)k[ce]=1;oe=-1}else oe=-1;if(J[ae][6])oe===-1&&(oe=q);else if(oe>-1){for(ce=oe;ce<q;ce++)k[ce]=G;oe=-1}Y[q]==="B"&&(k[q]=0),$.hiLevel|=G}o&&function(ie,X,pe){for(var he=0;he<pe;he++)if(ie[he]==="S"){X[he]=F;for(var fe=he-1;fe>=0&&ie[fe]==="WS";fe--)X[fe]=F}}(Y,k,P)},O=function(I,k,$,K,ce){if(!(ce.hiLevel<I)){if(I===1&&F===1&&!s)return k.reverse(),void($&&$.reverse());for(var q,G,ne,oe,P=k.length,ae=0;ae<P;){if(K[ae]>=I){for(ne=ae+1;ne<P&&K[ne]>=I;)ne++;for(oe=ae,G=ne-1;oe<G;oe++,G--)q=k[oe],k[oe]=k[G],k[G]=q,$&&(q=$[oe],$[oe]=$[G],$[G]=q);ae=ne}ae++}}},ue=function(I,k,$){var K=I.split(""),ce={hiLevel:F};return $||($=[]),U(K,$,ce),function(q,G,ne){if(ne.hiLevel!==0&&y)for(var oe,P=0;P<q.length;P++)G[P]===1&&(oe=D.indexOf(q[P]))>=0&&(q[P]=D[oe+1])}(K,$,ce),O(2,K,k,$,ce),O(1,K,k,$,ce),K.join("")};return this.__bidiEngine__.doBidiReorder=function(I,k,$){if(function(ce,q){if(q)for(var G=0;G<ce.length;G++)q[G]=G;d===void 0&&(d=H(ce)),m===void 0&&(m=H(ce))}(I,k),u||!h||m)if(u&&h&&d^m)F=d?1:0,I=V(I,k,$);else if(!u&&h&&m)F=d?1:0,I=ue(I,k,$),I=V(I,k);else if(!u||d||h||m){if(u&&!h&&d^m)I=V(I,k),d?(F=0,I=ue(I,k,$)):(F=1,I=ue(I,k,$),I=V(I,k));else if(u&&d&&!h&&m)F=1,I=ue(I,k,$),I=V(I,k);else if(!u&&!h&&d^m){var K=y;d?(F=1,I=ue(I,k,$),F=0,y=!1,I=ue(I,k,$),y=K):(F=0,I=ue(I,k,$),I=V(I,k),F=1,y=!1,I=ue(I,k,$),y=K,I=V(I,k))}}else F=0,I=ue(I,k,$);else F=d?1:0,I=ue(I,k,$);return I},this.__bidiEngine__.setOptions=function(I){I&&(u=I.isInputVisual,h=I.isOutputVisual,d=I.isInputRtl,m=I.isOutputRtl,y=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var s=i.text,o=(i.x,i.y,i.options||{}),u=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(u=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?u.push([n.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):u.push([n.doBidiReorder(s[d])]);i.text=u}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Tt),Tt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Il(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new JS(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new LS(this.contents),this.head=new FS(this),this.name=new VS(this),this.cmap=new G2(this),this.toUnicode={},this.hhea=new OS(this),this.maxp=new zS(this),this.hmtx=new HS(this),this.post=new US(this),this.os2=new BS(this),this.loca=new WS(this),this.glyf=new GS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.bbox).length;u<d;u++)e=h[u],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var s,o,u,d;for(u=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var sr,Il=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,s;for(s=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,s,o,u,d,h;return e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*s+16777216*o+65536*u+256*d+h},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)n=e[i],o.push(this.writeByte(n));return o},t}(),LS=function(){var t;function e(n){var i,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,s,o,u,d,h,m,y,x,T,w,C,M;for(M in w=Object.keys(n).length,h=Math.log(2),x=16*Math.floor(Math.log(w)/h),u=Math.floor(x/h),y=16*w-x,(s=new Il).writeInt(this.scalarType),s.writeShort(w),s.writeShort(x),s.writeShort(u),s.writeShort(y),o=16*w,m=s.pos+o,d=null,C=[],n)for(T=n[M],s.writeString(M),s.writeInt(t(T)),s.writeInt(m),s.writeInt(T.length),C=C.concat(T),M==="head"&&(d=m),m+=T.length;m%4;)C.push(0),m++;return s.write(C),i=2981146554-t(s.data),s.pos=d+8,s.writeUInt32(i),s.data},t=function(n){var i,s,o,u;for(n=$2.call(n);n.length%4;)n.push(0);for(o=new Il(n),s=0,i=0,u=n.length;i<u;i=i+=4)s+=o.readUInt32();return 4294967295&s},e}(),RS={}.hasOwnProperty,Hr=function(t,e){for(var n in e)RS.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};sr=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var FS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new Il).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e}(),_y=function(){function t(e,n){var i,s,o,u,d,h,m,y,x,T,w,C,M,D,E,j,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),T=w/2,e.pos+=6,o=function(){var B,H;for(H=[],h=B=0;0<=T?B<T:B>T;h=0<=T?++B:--B)H.push(e.readUInt16());return H}(),e.pos+=2,M=function(){var B,H;for(H=[],h=B=0;0<=T?B<T:B>T;h=0<=T?++B:--B)H.push(e.readUInt16());return H}(),m=function(){var B,H;for(H=[],h=B=0;0<=T?B<T:B>T;h=0<=T?++B:--B)H.push(e.readUInt16());return H}(),y=function(){var B,H;for(H=[],h=B=0;0<=T?B<T:B>T;h=0<=T?++B:--B)H.push(e.readUInt16());return H}(),s=(this.length-e.pos+this.offset)/2,d=function(){var B,H;for(H=[],h=B=0;0<=s?B<s:B>s;h=0<=s?++B:--B)H.push(e.readUInt16());return H}(),h=E=0,F=o.length;E<F;h=++E)for(D=o[h],i=j=C=M[h];C<=D?j<=D:j>=D;i=C<=D?++j:--j)y[h]===0?u=i+m[h]:(u=d[y[h]/2+(i-C)-(T-h)]||0)!==0&&(u+=m[h]),this.codeMap[i]=65535&u}e.pos=x}return t.encode=function(e,n){var i,s,o,u,d,h,m,y,x,T,w,C,M,D,E,j,F,B,H,ee,V,U,O,ue,I,k,$,K,ce,q,G,ne,oe,P,ae,L,J,Y,ie,X,pe,he,fe,Ce,je,ze;switch(K=new Il,u=Object.keys(e).sort(function(Ye,Ze){return Ye-Ze}),n){case"macroman":for(M=0,D=function(){var Ye=[];for(C=0;C<256;++C)Ye.push(0);return Ye}(),j={0:0},o={},ce=0,oe=u.length;ce<oe;ce++)j[fe=e[s=u[ce]]]==null&&(j[fe]=++M),o[s]={old:e[s],new:j[e[s]]},D[s]=j[e[s]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(D),{charMap:o,subtable:K.data,maxGlyphID:M+1};case"unicode":for(k=[],x=[],F=0,j={},i={},E=m=null,q=0,P=u.length;q<P;q++)j[H=e[s=u[q]]]==null&&(j[H]=++F),i[s]={old:H,new:j[H]},d=j[H]-s,E!=null&&d===m||(E&&x.push(E),k.push(s),m=d),E=s;for(E&&x.push(E),x.push(65535),k.push(65535),ue=2*(O=k.length),U=2*Math.pow(Math.log(O)/Math.LN2,2),T=Math.log(U/2)/Math.LN2,V=2*O-U,h=[],ee=[],w=[],C=G=0,ae=k.length;G<ae;C=++G){if(I=k[C],y=x[C],I===65535){h.push(0),ee.push(0);break}if(I-($=i[I].new)>=32768)for(h.push(0),ee.push(2*(w.length+O-C)),s=ne=I;I<=y?ne<=y:ne>=y;s=I<=y?++ne:--ne)w.push(i[s].new);else h.push($-I),ee.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*O+2*w.length),K.writeUInt16(0),K.writeUInt16(ue),K.writeUInt16(U),K.writeUInt16(T),K.writeUInt16(V),pe=0,L=x.length;pe<L;pe++)s=x[pe],K.writeUInt16(s);for(K.writeUInt16(0),he=0,J=k.length;he<J;he++)s=k[he],K.writeUInt16(s);for(Ce=0,Y=h.length;Ce<Y;Ce++)d=h[Ce],K.writeUInt16(d);for(je=0,ie=ee.length;je<ie;je++)B=ee[je],K.writeUInt16(B);for(ze=0,X=w.length;ze<X;ze++)M=w[ze],K.writeUInt16(M);return{charMap:i,subtable:K.data,maxGlyphID:F+1}}},t}(),G2=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,s,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)i=new _y(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var s,o;return i==null&&(i="macroman"),s=_y.encode(n,i),(o=new Il).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e}(),OS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),BS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,s;for(s=[],i=0;i<10;++i)s.push(n.readByte());return s}(),this.charRange=function(){var i,s;for(s=[],i=0;i<4;++i)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,s;for(s=[],i=0;i<2;i=++i)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),US=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="post",e.prototype.parse=function(n){var i,s,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var u;for(s=n.readUInt16(),this.glyphNameIndex=[],u=0;0<=s?u<s:u>s;u=0<=s?++u:--u)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)i=n.readByte(),o.push(this.names.push(n.readString(i)));return o;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var d,h,m;for(m=[],u=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;u=0<=h?++d:--d)m.push(n.readUInt32());return m}).call(this)}},e}(),qS=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},VS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="name",e.prototype.parse=function(n){var i,s,o,u,d,h,m,y,x,T,w;for(n.pos=this.offset,n.readShort(),i=n.readShort(),h=n.readShort(),s=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+h+n.readShort()});for(m={},u=x=0,T=s.length;x<T;u=++x)o=s[u],n.pos=o.offset,y=n.readString(o.length),d=new qS(y,o),m[w=o.nameID]==null&&(m[w]=[]),m[o.nameID].push(d);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},e}(),zS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),HS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,s,o,u,d,h,m;for(n.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,x;for(x=[],i=y=0;0<=o?y<o:y>o;i=0<=o?++y:--y)x.push(n.readInt16());return x}(),this.widths=(function(){var y,x,T,w;for(w=[],y=0,x=(T=this.metrics).length;y<x;y++)u=T[y],w.push(u.advance);return w}).call(this),s=this.widths[this.widths.length-1],m=[],i=d=0;0<=o?d<o:d>o;i=0<=o?++d:--d)m.push(this.widths.push(s));return m},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),$2=[].slice,GS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,s,o,u,d,h,m,y,x,T;return n in this.cache?this.cache[n]:(u=this.file.loca,i=this.file.contents,s=u.indexOf(n),(o=u.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+s,d=(h=new Il(i.read(o))).readShort(),y=h.readShort(),T=h.readShort(),m=h.readShort(),x=h.readShort(),this.cache[n]=d===-1?new YS(h,y,T,m,x):new $S(h,d,y,T,m,x),this.cache[n]))},e.prototype.encode=function(n,i,s){var o,u,d,h,m;for(d=[],u=[],h=0,m=i.length;h<m;h++)o=n[i[h]],u.push(d.length),o&&(d=d.concat(o.encode(s)));return u.push(d.length),{table:d,offsets:u}},e}(),$S=function(){function t(e,n,i,s,o,u){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),YS=function(){function t(e,n,i,s,o){var u,d;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new Il($2.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),WS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hr(e,sr),e.prototype.tag="loca",e.prototype.parse=function(n){var i,s;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,u;for(u=[],s=0,o=this.length;s<o;s+=2)u.push(2*n.readUInt16());return u}).call(this):(function(){var o,u;for(u=[],s=0,o=this.length;s<o;s+=4)u.push(n.readUInt32());return u}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var s=new Uint32Array(this.offsets.length),o=0,u=0,d=0;d<s.length;++d)if(s[d]=o,u<i.length&&i[u]==d){++u,s[d]=o;var h=this.offsets[d],m=this.offsets[d+1]-h;m>0&&(o+=m)}for(var y=new Array(4*s.length),x=0;x<s.length;++x)y[4*x+3]=255&s[x],y[4*x+2]=(65280&s[x])>>8,y[4*x+1]=(16711680&s[x])>>16,y[4*x]=(4278190080&s[x])>>24;return y},e}(),JS=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,s,o;for(n in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[n],e[n]=s[i];return e},t.prototype.glyphsFor=function(e){var n,i,s,o,u,d,h;for(s={},u=0,d=e.length;u<d;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(i=s[o])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(o in h=this.glyphsFor(n))i=h[o],s[o]=i;return s},t.prototype.encode=function(e,n){var i,s,o,u,d,h,m,y,x,T,w,C,M,D,E;for(s in i=G2.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},E=i.charMap)w[(h=E[s]).old]=h.new;for(C in T=i.maxGlyphID,u)C in w||(w[C]=T++);return y=function(j){var F,B;for(F in B={},j)B[j[F]]=F;return B}(w),x=Object.keys(y).sort(function(j,F){return j-F}),M=function(){var j,F,B;for(B=[],j=0,F=x.length;j<F;j++)d=x[j],B.push(y[d]);return B}(),o=this.font.glyf.encode(u,M,w),m=this.font.loca.encode(o.offsets,M),D={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();Tt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,s,o,u;if(Array.isArray(n))return"["+function(){var d,h,m;for(m=[],d=0,h=n.length;d<h;d++)i=n[d],m.push(e.convert(i));return m}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)u=n[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+n},e}();const KS=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:_S,AcroFormAppearance:lt,AcroFormButton:ki,AcroFormCheckBox:af,AcroFormChoiceField:Nu,AcroFormComboBox:_u,AcroFormEditBox:tf,AcroFormListBox:Cu,AcroFormPasswordField:sf,AcroFormPushButton:nf,AcroFormRadioButton:Eu,AcroFormTextField:kl,GState:df,ShadingPattern:El,TilingPattern:Au,default:Tt,jsPDF:Tt},Symbol.toStringTag,{value:"Module"}));var Eh={exports:{}};const ZS=Pb(KS);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var Ey=Eh.exports,My;function XS(){return My||(My=1,function(t,e){(function(i,s){t.exports=s(function(){try{return ZS}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ey<"u"?Ey:typeof window<"u"?window:typeof self<"u"?self:Ib,function(n){return function(){var i={172:function(d,h){var m=this&&this.__extends||function(){var T=function(w,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(M[E]=D[E])},T(w,C)};return function(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(w,C);function M(){this.constructor=w}w.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var y=function(){function T(w,C,M){this.table=C,this.pageNumber=C.pageNumber,this.pageCount=this.pageNumber,this.settings=C.settings,this.cursor=M,this.doc=w.getDocument()}return T}();h.HookData=y;var x=function(T){m(w,T);function w(C,M,D,E,j,F){var B=T.call(this,C,M,F)||this;return B.cell=D,B.row=E,B.column=j,B.section=E.section,B}return w}(y);h.CellHookData=x},340:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0});var y=m(4),x=m(136),T=m(744),w=m(776),C=m(664),M=m(972);function D(E){E.API.autoTable=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];var B;j.length===1?B=j[0]:(console.error("Use of deprecated autoTable initiation"),B=j[2]||{},B.columns=j[0],B.body=j[1]);var H=(0,w.parseInput)(this,B),ee=(0,M.createTable)(this,H);return(0,C.drawTable)(this,ee),this},E.API.lastAutoTable=!1,E.API.previousAutoTable=!1,E.API.autoTable.previous=!1,E.API.autoTableText=function(j,F,B,H){(0,x.default)(j,F,B,H,this)},E.API.autoTableSetDefaults=function(j){return T.DocHandler.setDefaults(j,this),this},E.autoTableSetDefaults=function(j,F){T.DocHandler.setDefaults(j,F)},E.API.autoTableHtmlToJson=function(j,F){var B;if(F===void 0&&(F=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var H=new T.DocHandler(this),ee=(0,y.parseHtml)(H,j,window,F,!1),V=ee.head,U=ee.body,O=((B=V[0])===null||B===void 0?void 0:B.map(function(ue){return ue.content}))||[];return{columns:O,rows:U,data:U}},E.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var j=this.lastAutoTable;return j&&j.finalY?j.finalY:0},E.API.autoTableAddPageContent=function(j){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),E.API.autoTable.globalDefaults||(E.API.autoTable.globalDefaults={}),E.API.autoTable.globalDefaults.addPageContent=j,this},E.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=D},136:function(d,h){Object.defineProperty(h,"__esModule",{value:!0});function m(y,x,T,w,C){w=w||{};var M=1.15,D=C.internal.scaleFactor,E=C.internal.getFontSize()/D,j=C.getLineHeightFactor?C.getLineHeightFactor():M,F=E*j,B=/\r\n|\r|\n/g,H="",ee=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(H=typeof y=="string"?y.split(B):y,ee=H.length||1),T+=E*(2-M),w.valign==="middle"?T-=ee/2*F:w.valign==="bottom"&&(T-=ee*F),w.halign==="center"||w.halign==="right"){var V=E;if(w.halign==="center"&&(V*=.5),H&&ee>=1){for(var U=0;U<H.length;U++)C.text(H[U],x-C.getStringUnitWidth(H[U])*V,T),T+=F;return C}x-=C.getStringUnitWidth(y)*V}return w.halign==="justify"?C.text(y,x,T,{maxWidth:w.maxWidth||100,align:"justify"}):C.text(y,x,T),C}h.default=m},420:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function m(C,M,D){D.applyStyles(M,!0);var E=Array.isArray(C)?C:[C],j=E.map(function(F){return D.getTextWidth(F)}).reduce(function(F,B){return Math.max(F,B)},0);return j}h.getStringWidth=m;function y(C,M,D,E){var j=M.settings.tableLineWidth,F=M.settings.tableLineColor;C.applyStyles({lineWidth:j,lineColor:F});var B=x(j,!1);B&&C.rect(D.x,D.y,M.getWidth(C.pageSize().width),E.y-D.y,B)}h.addTableBorder=y;function x(C,M){var D=C>0,E=M||M===0;return D&&E?"DF":D?"S":E?"F":null}h.getFillStyle=x;function T(C,M){var D,E,j,F;if(C=C||M,Array.isArray(C)){if(C.length>=4)return{top:C[0],right:C[1],bottom:C[2],left:C[3]};if(C.length===3)return{top:C[0],right:C[1],bottom:C[2],left:C[1]};if(C.length===2)return{top:C[0],right:C[1],bottom:C[0],left:C[1]};C.length===1?C=C[0]:C=M}return typeof C=="object"?(typeof C.vertical=="number"&&(C.top=C.vertical,C.bottom=C.vertical),typeof C.horizontal=="number"&&(C.right=C.horizontal,C.left=C.horizontal),{left:(D=C.left)!==null&&D!==void 0?D:M,top:(E=C.top)!==null&&E!==void 0?E:M,right:(j=C.right)!==null&&j!==void 0?j:M,bottom:(F=C.bottom)!==null&&F!==void 0?F:M}):(typeof C!="number"&&(C=M),{top:C,right:C,bottom:C,left:C})}h.parseSpacing=T;function w(C,M){var D=T(M.settings.margin,0);return C.pageSize().width-(D.left+D.right)}h.getPageAvailableWidth=w},796:function(d,h){var m=this&&this.__extends||function(){var w=function(C,M){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&(D[j]=E[j])},w(C,M)};return function(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");w(C,M);function D(){this.constructor=C}C.prototype=M===null?Object.create(M):(D.prototype=M.prototype,new D)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var y=function(w){m(C,w);function C(M){var D=w.call(this)||this;return D._element=M,D}return C}(Array);h.HtmlRowInput=y;function x(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=x;function T(w){var C={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return C[w]}h.getTheme=T},903:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var y=m(420);function x(D,E,j,F,B){var H={},ee=1.3333333333333333,V=w(E,function(oe){return B.getComputedStyle(oe).backgroundColor});V!=null&&(H.fillColor=V);var U=w(E,function(oe){return B.getComputedStyle(oe).color});U!=null&&(H.textColor=U);var O=M(F,j);O&&(H.cellPadding=O);var ue="borderTopColor",I=ee*j,k=F.borderTopWidth;if(F.borderBottomWidth===k&&F.borderRightWidth===k&&F.borderLeftWidth===k){var $=(parseFloat(k)||0)/I;$&&(H.lineWidth=$)}else H.lineWidth={top:(parseFloat(F.borderTopWidth)||0)/I,right:(parseFloat(F.borderRightWidth)||0)/I,bottom:(parseFloat(F.borderBottomWidth)||0)/I,left:(parseFloat(F.borderLeftWidth)||0)/I},H.lineWidth.top||(H.lineWidth.right?ue="borderRightColor":H.lineWidth.bottom?ue="borderBottomColor":H.lineWidth.left&&(ue="borderLeftColor"));console.log(H.lineWidth);var K=w(E,function(oe){return B.getComputedStyle(oe)[ue]});K!=null&&(H.lineColor=K);var ce=["left","right","center","justify"];ce.indexOf(F.textAlign)!==-1&&(H.halign=F.textAlign),ce=["middle","bottom","top"],ce.indexOf(F.verticalAlign)!==-1&&(H.valign=F.verticalAlign);var q=parseInt(F.fontSize||"");isNaN(q)||(H.fontSize=q/ee);var G=T(F);G&&(H.fontStyle=G);var ne=(F.fontFamily||"").toLowerCase();return D.indexOf(ne)!==-1&&(H.font=ne),H}h.parseCss=x;function T(D){var E="";return(D.fontWeight==="bold"||D.fontWeight==="bolder"||parseInt(D.fontWeight)>=700)&&(E="bold"),(D.fontStyle==="italic"||D.fontStyle==="oblique")&&(E+="italic"),E}function w(D,E){var j=C(D,E);if(!j)return null;var F=j.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!F||!Array.isArray(F))return null;var B=[parseInt(F[1]),parseInt(F[2]),parseInt(F[3])],H=parseInt(F[4]);return H===0||isNaN(B[0])||isNaN(B[1])||isNaN(B[2])?null:B}function C(D,E){var j=E(D);return j==="rgba(0, 0, 0, 0)"||j==="transparent"||j==="initial"||j==="inherit"?D.parentElement==null?null:C(D.parentElement,E):j}function M(D,E){var j=[D.paddingTop,D.paddingRight,D.paddingBottom,D.paddingLeft],F=96/(72/E),B=(parseInt(D.lineHeight)-parseInt(D.fontSize))/E/2,H=j.map(function(V){return parseInt(V||"0")/F}),ee=(0,y.parseSpacing)(H,0);return B>ee.top&&(ee.top=B),B>ee.bottom&&(ee.bottom=B),ee}},744:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var m={},y=function(){function x(T){this.jsPDFDocument=T,this.userStyles={textColor:T.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:T.internal.getFontSize(),fontStyle:T.internal.getFont().fontStyle,font:T.internal.getFont().fontName,lineWidth:T.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:T.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return x.setDefaults=function(T,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=T:m=T},x.unifyColor=function(T){return Array.isArray(T)?T:typeof T=="number"?[T,T,T]:typeof T=="string"?[T]:null},x.prototype.applyStyles=function(T,w){var C,M,D;w===void 0&&(w=!1),T.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T.fontStyle);var E=this.jsPDFDocument.internal.getFont(),j=E.fontStyle,F=E.fontName;if(T.font&&(F=T.font),T.fontStyle){j=T.fontStyle;var B=this.getFontList()[F];B&&B.indexOf(j)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(B[0]),j=B[0])}if(this.jsPDFDocument.setFont(F,j),T.fontSize&&this.jsPDFDocument.setFontSize(T.fontSize),!w){var H=x.unifyColor(T.fillColor);H&&(C=this.jsPDFDocument).setFillColor.apply(C,H),H=x.unifyColor(T.textColor),H&&(M=this.jsPDFDocument).setTextColor.apply(M,H),H=x.unifyColor(T.lineColor),H&&(D=this.jsPDFDocument).setDrawColor.apply(D,H),typeof T.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(T.lineWidth)}},x.prototype.splitTextToSize=function(T,w,C){return this.jsPDFDocument.splitTextToSize(T,w,C)},x.prototype.rect=function(T,w,C,M,D){return this.jsPDFDocument.rect(T,w,C,M,D)},x.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},x.prototype.getTextWidth=function(T){return this.jsPDFDocument.getTextWidth(T)},x.prototype.getDocument=function(){return this.jsPDFDocument},x.prototype.setPage=function(T){this.jsPDFDocument.setPage(T)},x.prototype.addPage=function(){return this.jsPDFDocument.addPage()},x.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},x.prototype.getGlobalOptions=function(){return m||{}},x.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},x.prototype.pageSize=function(){var T=this.jsPDFDocument.internal.pageSize;return T.width==null&&(T={width:T.getWidth(),height:T.getHeight()}),T},x.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},x.prototype.getLineHeightFactor=function(){var T=this.jsPDFDocument;return T.getLineHeightFactor?T.getLineHeightFactor():1.15},x.prototype.getLineHeight=function(T){return T/this.scaleFactor()*this.getLineHeightFactor()},x.prototype.pageNumber=function(){var T=this.jsPDFDocument.internal.getCurrentPageInfo();return T?T.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},x}();h.DocHandler=y},4:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var y=m(903),x=m(796);function T(M,D,E,j,F){var B,H;j===void 0&&(j=!1),F===void 0&&(F=!1);var ee;typeof D=="string"?ee=E.document.querySelector(D):ee=D;var V=Object.keys(M.getFontList()),U=M.scaleFactor(),O=[],ue=[],I=[];if(!ee)return console.error("Html table could not be found with input: ",D),{head:O,body:ue,foot:I};for(var k=0;k<ee.rows.length;k++){var $=ee.rows[k],K=(H=(B=$==null?void 0:$.parentElement)===null||B===void 0?void 0:B.tagName)===null||H===void 0?void 0:H.toLowerCase(),ce=w(V,U,E,$,j,F);ce&&(K==="thead"?O.push(ce):K==="tfoot"?I.push(ce):ue.push(ce))}return{head:O,body:ue,foot:I}}h.parseHtml=T;function w(M,D,E,j,F,B){for(var H=new x.HtmlRowInput(j),ee=0;ee<j.cells.length;ee++){var V=j.cells[ee],U=E.getComputedStyle(V);if(F||U.display!=="none"){var O=void 0;B&&(O=(0,y.parseCss)(M,V,D,U,E)),H.push({rowSpan:V.rowSpan,colSpan:V.colSpan,styles:O,_element:V,content:C(V)})}}var ue=E.getComputedStyle(j);if(H.length>0&&(F||ue.display!=="none"))return H}function C(M){var D=M.cloneNode(!0);return D.innerHTML=D.innerHTML.replace(/\n/g,"").replace(/ +/g," "),D.innerHTML=D.innerHTML.split(/<br.*?>/).map(function(E){return E.trim()}).join(`
`),D.innerText||D.textContent||""}},776:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var y=m(4),x=m(356),T=m(420),w=m(744),C=m(792);function M(ee,V){var U=new w.DocHandler(ee),O=U.getDocumentOptions(),ue=U.getGlobalOptions();(0,C.default)(U,ue,O,V);var I=(0,x.assign)({},ue,O,V),k;typeof window<"u"&&(k=window);var $=D(ue,O,V),K=E(ue,O,V),ce=j(U,I),q=B(U,I,k);return{id:V.tableId,content:q,hooks:K,styles:$,settings:ce}}h.parseInput=M;function D(ee,V,U){for(var O={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ue=function(K){if(K==="columnStyles"){var ce=ee[K],q=V[K],G=U[K];O.columnStyles=(0,x.assign)({},ce,q,G)}else{var ne=[ee,V,U],oe=ne.map(function(P){return P[K]||{}});O[K]=(0,x.assign)({},oe[0],oe[1],oe[2])}},I=0,k=Object.keys(O);I<k.length;I++){var $=k[I];ue($)}return O}function E(ee,V,U){for(var O=[ee,V,U],ue={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},I=0,k=O;I<k.length;I++){var $=k[I];$.didParseCell&&ue.didParseCell.push($.didParseCell),$.willDrawCell&&ue.willDrawCell.push($.willDrawCell),$.didDrawCell&&ue.didDrawCell.push($.didDrawCell),$.willDrawPage&&ue.willDrawPage.push($.willDrawPage),$.didDrawPage&&ue.didDrawPage.push($.didDrawPage)}return ue}function j(ee,V){var U,O,ue,I,k,$,K,ce,q,G,ne,oe,P=(0,T.parseSpacing)(V.margin,40/ee.scaleFactor()),ae=(U=F(ee,V.startY))!==null&&U!==void 0?U:P.top,L;V.showFoot===!0?L="everyPage":V.showFoot===!1?L="never":L=(O=V.showFoot)!==null&&O!==void 0?O:"everyPage";var J;V.showHead===!0?J="everyPage":V.showHead===!1?J="never":J=(ue=V.showHead)!==null&&ue!==void 0?ue:"everyPage";var Y=(I=V.useCss)!==null&&I!==void 0?I:!1,ie=V.theme||(Y?"plain":"striped"),X=!!V.horizontalPageBreak,pe=(k=V.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:($=V.includeHiddenHtml)!==null&&$!==void 0?$:!1,useCss:Y,theme:ie,startY:ae,margin:P,pageBreak:(K=V.pageBreak)!==null&&K!==void 0?K:"auto",rowPageBreak:(ce=V.rowPageBreak)!==null&&ce!==void 0?ce:"auto",tableWidth:(q=V.tableWidth)!==null&&q!==void 0?q:"auto",showHead:J,showFoot:L,tableLineWidth:(G=V.tableLineWidth)!==null&&G!==void 0?G:0,tableLineColor:(ne=V.tableLineColor)!==null&&ne!==void 0?ne:200,horizontalPageBreak:X,horizontalPageBreakRepeat:pe,horizontalPageBreakBehaviour:(oe=V.horizontalPageBreakBehaviour)!==null&&oe!==void 0?oe:"afterAllRows"}}function F(ee,V){var U=ee.getLastAutoTable(),O=ee.scaleFactor(),ue=ee.pageNumber(),I=!1;if(U&&U.startPageNumber){var k=U.startPageNumber+U.pageNumber-1;I=k===ue}return typeof V=="number"?V:(V==null||V===!1)&&I&&(U==null?void 0:U.finalY)!=null?U.finalY+20/O:null}function B(ee,V,U){var O=V.head||[],ue=V.body||[],I=V.foot||[];if(V.html){var k=V.includeHiddenHtml;if(U){var $=(0,y.parseHtml)(ee,V.html,U,k,V.useCss)||{};O=$.head||O,ue=$.body||O,I=$.foot||O}else console.error("Cannot parse html in non browser environment")}var K=V.columns||H(O,ue,I);return{columns:K,head:O,body:ue,foot:I}}function H(ee,V,U){var O=ee[0]||V[0]||U[0]||[],ue=[];return Object.keys(O).filter(function(I){return I!=="_element"}).forEach(function(I){var k=1,$;Array.isArray(O)?$=O[parseInt(I)]:$=O[I],typeof $=="object"&&!Array.isArray($)&&(k=($==null?void 0:$.colSpan)||1);for(var K=0;K<k;K++){var ce=void 0;Array.isArray(O)?ce=ue.length:ce=I+(K>0?"_".concat(K):"");var q={dataKey:ce};ue.push(q)}}),ue}},792:function(d,h){Object.defineProperty(h,"__esModule",{value:!0});function m(x,T,w,C){for(var M=function(F){F&&typeof F!="object"&&console.error("The options parameter should be of type object, is: "+typeof F),typeof F.extendWidth<"u"&&(F.tableWidth=F.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof F.margins<"u"&&(typeof F.margin>"u"&&(F.margin=F.margins),console.error("Use of deprecated option: margins, use margin instead.")),F.startY&&typeof F.startY!="number"&&(console.error("Invalid value for startY option",F.startY),delete F.startY),!F.didDrawPage&&(F.afterPageContent||F.beforePageContent||F.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),F.didDrawPage=function(I){x.applyStyles(x.userStyles),F.beforePageContent&&F.beforePageContent(I),x.applyStyles(x.userStyles),F.afterPageContent&&F.afterPageContent(I),x.applyStyles(x.userStyles),F.afterPageAdd&&I.pageNumber>1&&I.afterPageAdd(I),x.applyStyles(x.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(I){F[I]&&console.error('The "'.concat(I,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(I){var k=I[0],$=I[1];F[$]&&(console.error("Use of deprecated option ".concat($,". Use ").concat(k," instead")),F[k]=F[$])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(I){var k=typeof I=="string"?I:I[0],$=typeof I=="string"?I:I[1];typeof F[k]<"u"&&(typeof F.styles[$]>"u"&&(F.styles[$]=F[k]),console.error("Use of deprecated option: "+k+", use the style "+$+" instead."))});for(var B=0,H=["styles","bodyStyles","headStyles","footStyles"];B<H.length;B++){var ee=H[B];y(F[ee]||{})}for(var V=F.columnStyles||{},U=0,O=Object.keys(V);U<O.length;U++){var ue=O[U];y(V[ue]||{})}},D=0,E=[T,w,C];D<E.length;D++){var j=E[D];M(j)}}h.default=m;function y(x){x.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),x.minCellHeight||(x.minCellHeight=x.rowHeight)):x.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),x.cellWidth||(x.cellWidth=x.columnWidth))}},260:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var y=m(796),x=m(172),T=m(420),w=function(){function E(j,F){this.pageNumber=1,this.pageCount=1,this.id=j.id,this.settings=j.settings,this.styles=j.styles,this.hooks=j.hooks,this.columns=F.columns,this.head=F.head,this.body=F.body,this.foot=F.foot}return E.prototype.getHeadHeight=function(j){return this.head.reduce(function(F,B){return F+B.getMaxCellHeight(j)},0)},E.prototype.getFootHeight=function(j){return this.foot.reduce(function(F,B){return F+B.getMaxCellHeight(j)},0)},E.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},E.prototype.callCellHooks=function(j,F,B,H,ee,V){for(var U=0,O=F;U<O.length;U++){var ue=O[U],I=new x.CellHookData(j,this,B,H,ee,V),k=ue(I)===!1;if(B.text=Array.isArray(B.text)?B.text:[B.text],k)return!1}return!0},E.prototype.callEndPageHooks=function(j,F){j.applyStyles(j.userStyles);for(var B=0,H=this.hooks.didDrawPage;B<H.length;B++){var ee=H[B];ee(new x.HookData(j,this,F))}},E.prototype.callWillDrawPageHooks=function(j,F){for(var B=0,H=this.hooks.willDrawPage;B<H.length;B++){var ee=H[B];ee(new x.HookData(j,this,F))}},E.prototype.getWidth=function(j){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var F=this.columns.reduce(function(H,ee){return H+ee.wrappedWidth},0);return F}else{var B=this.settings.margin;return j-B.left-B.right}},E}();h.Table=w;var C=function(){function E(j,F,B,H,ee){ee===void 0&&(ee=!1),this.height=0,this.raw=j,j instanceof y.HtmlRowInput&&(this.raw=j._element,this.element=j._element),this.index=F,this.section=B,this.cells=H,this.spansMultiplePages=ee}return E.prototype.getMaxCellHeight=function(j){var F=this;return j.reduce(function(B,H){var ee;return Math.max(B,((ee=F.cells[H.index])===null||ee===void 0?void 0:ee.height)||0)},0)},E.prototype.hasRowSpan=function(j){var F=this;return j.filter(function(B){var H=F.cells[B.index];return H?H.rowSpan>1:!1}).length>0},E.prototype.canEntireRowFit=function(j,F){return this.getMaxCellHeight(F)<=j},E.prototype.getMinimumRowHeight=function(j,F){var B=this;return j.reduce(function(H,ee){var V=B.cells[ee.index];if(!V)return 0;var U=F.getLineHeight(V.styles.fontSize),O=V.padding("vertical"),ue=O+U;return ue>H?ue:H},0)},E}();h.Row=C;var M=function(){function E(j,F,B){var H,ee;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=F,this.section=B,this.raw=j;var V=j;j!=null&&typeof j=="object"&&!Array.isArray(j)?(this.rowSpan=j.rowSpan||1,this.colSpan=j.colSpan||1,V=(ee=(H=j.content)!==null&&H!==void 0?H:j.title)!==null&&ee!==void 0?ee:j,j._element&&(this.raw=j._element)):(this.rowSpan=1,this.colSpan=1);var U=V!=null?""+V:"",O=/\r\n|\r|\n/g;this.text=U.split(O)}return E.prototype.getTextPos=function(){var j;if(this.styles.valign==="top")j=this.y+this.padding("top");else if(this.styles.valign==="bottom")j=this.y+this.height-this.padding("bottom");else{var F=this.height-this.padding("vertical");j=this.y+F/2+this.padding("top")}var B;if(this.styles.halign==="right")B=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var H=this.width-this.padding("horizontal");B=this.x+H/2+this.padding("left")}else B=this.x+this.padding("left");return{x:B,y:j}},E.prototype.getContentHeight=function(j,F){F===void 0&&(F=1.15);var B=Array.isArray(this.text)?this.text.length:1,H=this.styles.fontSize/j*F,ee=B*H+this.padding("vertical");return Math.max(ee,this.styles.minCellHeight)},E.prototype.padding=function(j){var F=(0,T.parseSpacing)(this.styles.cellPadding,0);return j==="vertical"?F.top+F.bottom:j==="horizontal"?F.left+F.right:F[j]},E}();h.Cell=M;var D=function(){function E(j,F,B){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=j,this.raw=F,this.index=B}return E.prototype.getMaxCustomCellWidth=function(j){for(var F=0,B=0,H=j.allRows();B<H.length;B++){var ee=H[B],V=ee.cells[this.index];V&&typeof V.styles.cellWidth=="number"&&(F=Math.max(F,V.styles.cellWidth))}return F},E}();h.Column=D},356:function(d,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function m(y,x,T,w,C){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(y),D=1;D<arguments.length;D++){var E=arguments[D];if(E!=null)for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&(M[j]=E[j])}return M}h.assign=m},972:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var y=m(744),x=m(260),T=m(324),w=m(796),C=m(356);function M(ee,V){var U=new y.DocHandler(ee),O=D(V,U.scaleFactor()),ue=new x.Table(V,O);return(0,T.calculateWidths)(U,ue),U.applyStyles(U.userStyles),ue}h.createTable=M;function D(ee,V){var U=ee.content,O=B(U.columns);if(U.head.length===0){var ue=j(O,"head");ue&&U.head.push(ue)}if(U.foot.length===0){var ue=j(O,"foot");ue&&U.foot.push(ue)}var I=ee.settings.theme,k=ee.styles;return{columns:O,head:E("head",U.head,O,k,I,V),body:E("body",U.body,O,k,I,V),foot:E("foot",U.foot,O,k,I,V)}}function E(ee,V,U,O,ue,I){var k={},$=V.map(function(K,ce){for(var q=0,G={},ne=0,oe=0,P=0,ae=U;P<ae.length;P++){var L=ae[P];if(k[L.index]==null||k[L.index].left===0)if(oe===0){var J=void 0;Array.isArray(K)?J=K[L.index-ne-q]:J=K[L.dataKey];var Y={};typeof J=="object"&&!Array.isArray(J)&&(Y=(J==null?void 0:J.styles)||{});var ie=H(ee,L,ce,ue,O,I,Y),X=new x.Cell(J,ie,ee);G[L.dataKey]=X,G[L.index]=X,oe=X.colSpan-1,k[L.index]={left:X.rowSpan-1,times:oe}}else oe--,ne++;else k[L.index].left--,oe=k[L.index].times,q++}return new x.Row(K,ce,ee,G)});return $}function j(ee,V){var U={};return ee.forEach(function(O){if(O.raw!=null){var ue=F(V,O.raw);ue!=null&&(U[O.dataKey]=ue)}}),Object.keys(U).length>0?U:null}function F(ee,V){if(ee==="head"){if(typeof V=="object")return V.header||V.title||null;if(typeof V=="string"||typeof V=="number")return V}else if(ee==="foot"&&typeof V=="object")return V.footer;return null}function B(ee){return ee.map(function(V,U){var O,ue,I;return typeof V=="object"?I=(ue=(O=V.dataKey)!==null&&O!==void 0?O:V.key)!==null&&ue!==void 0?ue:U:I=U,new x.Column(I,V,U)})}function H(ee,V,U,O,ue,I,k){var $=(0,w.getTheme)(O),K;ee==="head"?K=ue.headStyles:ee==="body"?K=ue.bodyStyles:ee==="foot"&&(K=ue.footStyles);var ce=(0,C.assign)({},$.table,$[ee],ue.styles,K),q=ue.columnStyles[V.dataKey]||ue.columnStyles[V.index]||{},G=ee==="body"?q:{},ne=ee==="body"&&U%2===0?(0,C.assign)({},$.alternateRow,ue.alternateRowStyles):{},oe=(0,w.defaultStyles)(I),P=(0,C.assign)({},oe,ce,ne,G);return(0,C.assign)(P,k)}},664:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var y=m(420),x=m(260),T=m(744),w=m(356),C=m(136),M=m(224);function D(q,G){var ne=G.settings,oe=ne.startY,P=ne.margin,ae={x:P.left,y:oe},L=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns),J=oe+P.bottom+L;if(ne.pageBreak==="avoid"){var Y=G.body,ie=Y.reduce(function(he,fe){return he+fe.height},0);J+=ie}var X=new T.DocHandler(q);(ne.pageBreak==="always"||ne.startY!=null&&J>X.pageSize().height)&&(ce(X),ae.y=P.top),G.callWillDrawPageHooks(X,ae);var pe=(0,w.assign)({},ae);G.startPageNumber=X.pageNumber(),ne.horizontalPageBreak?E(X,G,pe,ae):(X.applyStyles(X.userStyles),(ne.showHead==="firstPage"||ne.showHead==="everyPage")&&G.head.forEach(function(he){return ue(X,G,he,ae,G.columns)}),X.applyStyles(X.userStyles),G.body.forEach(function(he,fe){var Ce=fe===G.body.length-1;O(X,G,he,Ce,pe,ae,G.columns)}),X.applyStyles(X.userStyles),(ne.showFoot==="lastPage"||ne.showFoot==="everyPage")&&G.foot.forEach(function(he){return ue(X,G,he,ae,G.columns)})),(0,y.addTableBorder)(X,G,pe,ae),G.callEndPageHooks(X,ae),G.finalY=ae.y,q.lastAutoTable=G,q.previousAutoTable=G,q.autoTable&&(q.autoTable.previous=G),X.applyStyles(X.userStyles)}h.drawTable=D;function E(q,G,ne,oe){var P=(0,M.calculateAllColumnsCanFitInPage)(q,G),ae=G.settings;if(ae.horizontalPageBreakBehaviour==="afterAllRows")P.forEach(function(ie,X){q.applyStyles(q.userStyles),X>0?K(q,G,ne,oe,ie.columns,!0):j(q,G,oe,ie.columns),F(q,G,ne,oe,ie.columns),H(q,G,oe,ie.columns)});else for(var L=-1,J=P[0],Y=function(){var ie=L;if(J){q.applyStyles(q.userStyles);var X=J.columns;L>=0?K(q,G,ne,oe,X,!0):j(q,G,oe,X),ie=B(q,G,L+1,oe,X),H(q,G,oe,X)}var pe=ie-L;P.slice(1).forEach(function(he){q.applyStyles(q.userStyles),K(q,G,ne,oe,he.columns,!0),B(q,G,L+1,oe,he.columns,pe),H(q,G,oe,he.columns)}),L=ie};L<G.body.length-1;)Y()}function j(q,G,ne,oe){var P=G.settings;q.applyStyles(q.userStyles),(P.showHead==="firstPage"||P.showHead==="everyPage")&&G.head.forEach(function(ae){return ue(q,G,ae,ne,oe)})}function F(q,G,ne,oe,P){q.applyStyles(q.userStyles),G.body.forEach(function(ae,L){var J=L===G.body.length-1;O(q,G,ae,J,ne,oe,P)})}function B(q,G,ne,oe,P,ae){q.applyStyles(q.userStyles),ae=ae??G.body.length;var L=Math.min(ne+ae,G.body.length),J=-1;return G.body.slice(ne,L).forEach(function(Y,ie){var X=ne+ie===G.body.length-1,pe=$(q,G,X,oe);Y.canEntireRowFit(pe,P)&&(ue(q,G,Y,oe,P),J=ne+ie)}),J}function H(q,G,ne,oe){var P=G.settings;q.applyStyles(q.userStyles),(P.showFoot==="lastPage"||P.showFoot==="everyPage")&&G.foot.forEach(function(ae){return ue(q,G,ae,ne,oe)})}function ee(q,G,ne){var oe=ne.getLineHeight(q.styles.fontSize),P=q.padding("vertical"),ae=Math.floor((G-P)/oe);return Math.max(0,ae)}function V(q,G,ne,oe){var P={};q.spansMultiplePages=!0,q.height=0;for(var ae=0,L=0,J=ne.columns;L<J.length;L++){var Y=J[L],ie=q.cells[Y.index];if(ie){Array.isArray(ie.text)||(ie.text=[ie.text]);var X=new x.Cell(ie.raw,ie.styles,ie.section);X=(0,w.assign)(X,ie),X.text=[];var pe=ee(ie,G,oe);ie.text.length>pe&&(X.text=ie.text.splice(pe,ie.text.length));var he=oe.scaleFactor(),fe=oe.getLineHeightFactor();ie.contentHeight=ie.getContentHeight(he,fe),ie.contentHeight>=G&&(ie.contentHeight=G,X.styles.minCellHeight-=G),ie.contentHeight>q.height&&(q.height=ie.contentHeight),X.contentHeight=X.getContentHeight(he,fe),X.contentHeight>ae&&(ae=X.contentHeight),P[Y.index]=X}}var Ce=new x.Row(q.raw,-1,q.section,P,!0);Ce.height=ae;for(var je=0,ze=ne.columns;je<ze.length;je++){var Y=ze[je],X=Ce.cells[Y.index];X&&(X.height=Ce.height);var ie=q.cells[Y.index];ie&&(ie.height=q.height)}return Ce}function U(q,G,ne,oe){var P=q.pageSize().height,ae=oe.settings.margin,L=ae.top+ae.bottom,J=P-L;G.section==="body"&&(J-=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns));var Y=G.getMinimumRowHeight(oe.columns,q),ie=Y<ne;if(Y>J)return console.error("Will not be able to print row ".concat(G.index," correctly since it's minimum height is larger than page height")),!0;if(!ie)return!1;var X=G.hasRowSpan(oe.columns),pe=G.getMaxCellHeight(oe.columns)>J;return pe?(X&&console.error("The content of row ".concat(G.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(X||oe.settings.rowPageBreak==="avoid")}function O(q,G,ne,oe,P,ae,L){var J=$(q,G,oe,ae);if(ne.canEntireRowFit(J,L))ue(q,G,ne,ae,L);else if(U(q,ne,J,G)){var Y=V(ne,J,G,q);ue(q,G,ne,ae,L),K(q,G,P,ae,L),O(q,G,Y,oe,P,ae,L)}else K(q,G,P,ae,L),O(q,G,ne,oe,P,ae,L)}function ue(q,G,ne,oe,P){oe.x=G.settings.margin.left;for(var ae=0,L=P;ae<L.length;ae++){var J=L[ae],Y=ne.cells[J.index];if(!Y){oe.x+=J.width;continue}q.applyStyles(Y.styles),Y.x=oe.x,Y.y=oe.y;var ie=G.callCellHooks(q,G.hooks.willDrawCell,Y,ne,J,oe);if(ie===!1){oe.x+=J.width;continue}I(q,Y,oe);var X=Y.getTextPos();(0,C.default)(Y.text,X.x,X.y,{halign:Y.styles.halign,valign:Y.styles.valign,maxWidth:Math.ceil(Y.width-Y.padding("left")-Y.padding("right"))},q.getDocument()),G.callCellHooks(q,G.hooks.didDrawCell,Y,ne,J,oe),oe.x+=J.width}oe.y+=ne.height}function I(q,G,ne){var oe=G.styles;if(q.getDocument().setFillColor(q.getDocument().getFillColor()),typeof oe.lineWidth=="number"){var P=(0,y.getFillStyle)(oe.lineWidth,oe.fillColor);P&&q.rect(G.x,ne.y,G.width,G.height,P)}else typeof oe.lineWidth=="object"&&(oe.fillColor&&q.rect(G.x,ne.y,G.width,G.height,"F"),k(q,G,ne,oe.lineWidth))}function k(q,G,ne,oe){var P,ae,L,J;oe.top&&(P=ne.x,ae=ne.y,L=ne.x+G.width,J=ne.y,oe.right&&(L+=.5*oe.right),oe.left&&(P-=.5*oe.left),Y(oe.top,P,ae,L,J)),oe.bottom&&(P=ne.x,ae=ne.y+G.height,L=ne.x+G.width,J=ne.y+G.height,oe.right&&(L+=.5*oe.right),oe.left&&(P-=.5*oe.left),Y(oe.bottom,P,ae,L,J)),oe.left&&(P=ne.x,ae=ne.y,L=ne.x,J=ne.y+G.height,oe.top&&(ae-=.5*oe.top),oe.bottom&&(J+=.5*oe.bottom),Y(oe.left,P,ae,L,J)),oe.right&&(P=ne.x+G.width,ae=ne.y,L=ne.x+G.width,J=ne.y+G.height,oe.top&&(ae-=.5*oe.top),oe.bottom&&(J+=.5*oe.bottom),Y(oe.right,P,ae,L,J));function Y(ie,X,pe,he,fe){q.getDocument().setLineWidth(ie),q.getDocument().line(X,pe,he,fe,"S")}}function $(q,G,ne,oe){var P=G.settings.margin.bottom,ae=G.settings.showFoot;return(ae==="everyPage"||ae==="lastPage"&&ne)&&(P+=G.getFootHeight(G.columns)),q.pageSize().height-oe.y-P}function K(q,G,ne,oe,P,ae){P===void 0&&(P=[]),ae===void 0&&(ae=!1),q.applyStyles(q.userStyles),G.settings.showFoot==="everyPage"&&!ae&&G.foot.forEach(function(J){return ue(q,G,J,oe,P)}),G.callEndPageHooks(q,oe);var L=G.settings.margin;(0,y.addTableBorder)(q,G,ne,oe),ce(q),G.pageNumber++,G.pageCount++,oe.x=L.left,oe.y=L.top,ne.y=L.top,G.callWillDrawPageHooks(q,oe),G.settings.showHead==="everyPage"&&(G.head.forEach(function(J){return ue(q,G,J,oe,P)}),q.applyStyles(q.userStyles))}h.addPage=K;function ce(q){var G=q.pageNumber();q.setPage(G+1);var ne=q.pageNumber();return ne===G?(q.addPage(),!0):!1}},224:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var y=m(420);function x(w,C,M){var D;M===void 0&&(M={});var E=(0,y.getPageAvailableWidth)(w,C),j=new Map,F=[],B=[],H=[];C.settings.horizontalPageBreakRepeat,Array.isArray(C.settings.horizontalPageBreakRepeat)?H=C.settings.horizontalPageBreakRepeat:(typeof C.settings.horizontalPageBreakRepeat=="string"||typeof C.settings.horizontalPageBreakRepeat=="number")&&(H=[C.settings.horizontalPageBreakRepeat]),H.forEach(function(O){var ue=C.columns.find(function(I){return I.dataKey===O||I.index===O});ue&&!j.has(ue.index)&&(j.set(ue.index,!0),F.push(ue.index),B.push(C.columns[ue.index]),E-=ue.wrappedWidth)});for(var ee=!0,V=(D=M==null?void 0:M.start)!==null&&D!==void 0?D:0;V<C.columns.length;){if(j.has(V)){V++;continue}var U=C.columns[V].wrappedWidth;if(ee||E>=U)ee=!1,F.push(V),B.push(C.columns[V]),E-=U;else break;V++}return{colIndexes:F,columns:B,lastIndex:V-1}}function T(w,C){for(var M=[],D=0;D<C.columns.length;D++){var E=x(w,C,{start:D});E.columns.length&&(M.push(E),D=E.lastIndex)}return M}h.calculateAllColumnsCanFitInPage=T},324:function(d,h,m){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var y=m(420);function x(F,B){T(F,B);var H=[],ee=0;B.columns.forEach(function(U){var O=U.getMaxCustomCellWidth(B);O?U.width=O:(U.width=U.wrappedWidth,H.push(U)),ee+=U.width});var V=B.getWidth(F.pageSize().width)-ee;V&&(V=w(H,V,function(U){return Math.max(U.minReadableWidth,U.minWidth)})),V&&(V=w(H,V,function(U){return U.minWidth})),V=Math.abs(V),!B.settings.horizontalPageBreak&&V>.1/F.scaleFactor()&&(V=V<1?V:Math.round(V),console.warn("Of the table content, ".concat(V," units width could not fit page"))),M(B),D(B,F),C(B)}h.calculateWidths=x;function T(F,B){var H=F.scaleFactor(),ee=B.settings.horizontalPageBreak,V=(0,y.getPageAvailableWidth)(F,B);B.allRows().forEach(function(U){for(var O=0,ue=B.columns;O<ue.length;O++){var I=ue[O],k=U.cells[I.index];if(k){var $=B.hooks.didParseCell;B.callCellHooks(F,$,k,U,I,null);var K=k.padding("horizontal");k.contentWidth=(0,y.getStringWidth)(k.text,k.styles,F)+K;var ce=(0,y.getStringWidth)(k.text.join(" ").split(/\s+/),k.styles,F);if(k.minReadableWidth=ce+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||ee===!0)k.contentWidth>V?(k.minWidth=V,k.wrappedWidth=V):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var q=10/H;k.minWidth=k.styles.minCellWidth||q,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),B.allRows().forEach(function(U){for(var O=0,ue=B.columns;O<ue.length;O++){var I=ue[O],k=U.cells[I.index];if(k&&k.colSpan===1)I.wrappedWidth=Math.max(I.wrappedWidth,k.wrappedWidth),I.minWidth=Math.max(I.minWidth,k.minWidth),I.minReadableWidth=Math.max(I.minReadableWidth,k.minReadableWidth);else{var $=B.styles.columnStyles[I.dataKey]||B.styles.columnStyles[I.index]||{},K=$.cellWidth||$.minCellWidth;K&&typeof K=="number"&&(I.minWidth=K,I.wrappedWidth=K)}k&&(k.colSpan>1&&!I.minWidth&&(I.minWidth=k.minWidth),k.colSpan>1&&!I.wrappedWidth&&(I.wrappedWidth=k.minWidth))}})}function w(F,B,H){for(var ee=B,V=F.reduce(function(q,G){return q+G.wrappedWidth},0),U=0;U<F.length;U++){var O=F[U],ue=O.wrappedWidth/V,I=ee*ue,k=O.width+I,$=H(O),K=k<$?$:k;B-=K-O.width,O.width=K}if(B=Math.round(B*1e10)/1e10,B){var ce=F.filter(function(q){return B<0?q.width>H(q):!0});ce.length&&(B=w(ce,B,H))}return B}h.resizeColumns=w;function C(F){for(var B={},H=1,ee=F.allRows(),V=0;V<ee.length;V++)for(var U=ee[V],O=0,ue=F.columns;O<ue.length;O++){var I=ue[O],k=B[I.index];if(H>1)H--,delete U.cells[I.index];else if(k)k.cell.height+=U.height,H=k.cell.colSpan,delete U.cells[I.index],k.left--,k.left<=1&&delete B[I.index];else{var $=U.cells[I.index];if(!$)continue;if($.height=U.height,$.rowSpan>1){var K=ee.length-V,ce=$.rowSpan>K?K:$.rowSpan;B[I.index]={cell:$,left:ce,row:U}}}}}function M(F){for(var B=F.allRows(),H=0;H<B.length;H++)for(var ee=B[H],V=null,U=0,O=0,ue=0;ue<F.columns.length;ue++){var I=F.columns[ue];if(O-=1,O>1&&F.columns[ue+1])U+=I.width,delete ee.cells[I.index];else if(V){var k=V;delete ee.cells[I.index],V=null,k.width=I.width+U}else{var k=ee.cells[I.index];if(!k)continue;if(O=k.colSpan,U=0,k.colSpan>1){V=k,U+=I.width;continue}k.width=I.width+U}}}function D(F,B){for(var H={count:0,height:0},ee=0,V=F.allRows();ee<V.length;ee++){for(var U=V[ee],O=0,ue=F.columns;O<ue.length;O++){var I=ue[O],k=U.cells[I.index];if(k){B.applyStyles(k.styles,!0);var $=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=B.splitTextToSize(k.text,$+1/B.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=E(k.text,$,k.styles,B,"...");else if(k.styles.overflow==="hidden")k.text=E(k.text,$,k.styles,B,"");else if(typeof k.styles.overflow=="function"){var K=k.styles.overflow(k.text,$);typeof K=="string"?k.text=[K]:k.text=K}k.contentHeight=k.getContentHeight(B.scaleFactor(),B.getLineHeightFactor());var ce=k.contentHeight/k.rowSpan;k.rowSpan>1&&H.count*H.height<ce*k.rowSpan?H={height:ce,count:k.rowSpan}:H&&H.count>0&&H.height>ce&&(ce=H.height),ce>U.height&&(U.height=ce)}}H.count--}}function E(F,B,H,ee,V){return F.map(function(U){return j(U,B,H,ee,V)})}h.ellipsize=E;function j(F,B,H,ee,V){var U=1e4*ee.scaleFactor();if(B=Math.ceil(B*U)/U,B>=(0,y.getStringWidth)(F,H,ee))return F;for(;B<(0,y.getStringWidth)(F+V,H,ee)&&!(F.length<=1);)F=F.substring(0,F.length-1);return F.trim()+V}},964:function(d){if(typeof n>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}d.exports=n}},s={};function o(d){var h=s[d];if(h!==void 0)return h.exports;var m=s[d]={exports:{}};return i[d].call(m.exports,m,m.exports,o),m.exports}var u={};return function(){var d=u;Object.defineProperty(d,"__esModule",{value:!0}),d.Cell=d.Column=d.Row=d.Table=d.CellHookData=d.__drawTable=d.__createTable=d.applyPlugin=void 0;var h=o(340),m=o(776),y=o(664),x=o(972),T=o(260);Object.defineProperty(d,"Table",{enumerable:!0,get:function(){return T.Table}});var w=o(172);Object.defineProperty(d,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var C=o(260);Object.defineProperty(d,"Cell",{enumerable:!0,get:function(){return C.Cell}}),Object.defineProperty(d,"Column",{enumerable:!0,get:function(){return C.Column}}),Object.defineProperty(d,"Row",{enumerable:!0,get:function(){return C.Row}});function M(B){(0,h.default)(B)}d.applyPlugin=M;function D(B,H){var ee=(0,m.parseInput)(B,H),V=(0,x.createTable)(B,ee);(0,y.drawTable)(B,V)}function E(B,H){var ee=(0,m.parseInput)(B,H);return(0,x.createTable)(B,ee)}d.__createTable=E;function j(B,H){(0,y.drawTable)(B,H)}d.__drawTable=j;try{var F=o(964);F.jsPDF&&(F=F.jsPDF),M(F)}catch{}d.default=D}(),u}()})}(Eh)),Eh.exports}var QS=XS();const eT=Eg(QS),tT=async(t,e,n,i,s,o,u)=>{const{IMPACT_QUESTIONS:d,IMPACT_OPTIONS:h,PEOPLE_INVOLVED_OPTIONS:m,GRANT_ACTIVITIES_OPTIONS:y}=o,{expenseLabels:x}=u.budget,T=new Map(Object.values(Fa).flat().map(k=>[k.key,x[k.key]!==void 0&&x[k.key]!==""?x[k.key]:k.label])),w=new Tt("p","pt","a4"),C=w.internal.pageSize.getHeight(),M=w.internal.pageSize.getWidth(),D=40;let E=0;const j=()=>{w.addPage(),E=D},F=(k,$,K,ce={})=>{const q=ce.fontSize||10,G=ce.fontStyle||"normal",ne=ce.color||"#000000",oe=ce.maxWidth||M-D*2,P=ce.lineSpacing||1.2,ae=q*P;w.setFontSize(q),w.setFont("helvetica",G),w.setTextColor(ne);const L=w.splitTextToSize(k||"N/A",oe);return K+L.length*ae>C-D&&(j(),K=E),w.text(L,$,K),K+L.length*ae},B=(k,$)=>{E+40>C-D&&j(),E+=E===D?0:20,E=F(k,D,E,{fontSize:14,fontStyle:"bold"}),w.setDrawColor(100,100,100),w.line(D,E-5,M-D,E-5),E+=10},H=(k,$)=>{const K=w.splitTextToSize($||"N/A",M-D*2-20).length*12+25;E+K>C-D&&j(),E=F(k,D,E,{fontSize:9,fontStyle:"bold",color:"#334155"}),E=F($||"N/A",D+10,E+2,{fontSize:10,fontStyle:"normal"}),E+=15},ee=(k,$,K)=>{eT(w,{head:k,body:$,startY:E,theme:"striped",headStyles:{fillColor:[41,51,65],textColor:255,fontStyle:"bold"},styles:{fontSize:8,cellPadding:4},didDrawPage:ce=>{var q;E=((q=ce.cursor)==null?void 0:q.y)||D},...K}),E=w.lastAutoTable.finalY+10},V=k=>k.toLocaleString("en-CA",{style:"currency",currency:"CAD"});E=D;const U=`Final Report: ${t.projectTitle}`;E=F(U,D,E,{fontSize:18,fontStyle:"bold"}),E+=10,E=F(`Report Generated: ${new Date().toLocaleDateString()}`,D,E,{fontSize:10,color:"#64748b"}),B("Project Overview"),H("Describe the project and its results:",e.projectResults),H("Project Start Date:",t.projectStartDate?new Date(t.projectStartDate).toLocaleDateString():"N/A"),H("Project End Date:",t.projectEndDate?new Date(t.projectEndDate).toLocaleDateString():"N/A"),H("Background:",t.background),j(),B("Collaborators"),t.collaboratorDetails.forEach(k=>{const $=n.find(K=>K.id===k.memberId);$&&(E+50>C-D&&j(),E=F(`${$.firstName} ${$.lastName} - ${k.role}`,D,E,{fontSize:12,fontStyle:"bold"}),E=F($.artistBio||"No full bio provided.",D+10,E+2,{fontSize:10}),E+=15)}),j(),B("Budget Report"),H("Describe how you spent the grant:",e.grantSpendingDescription),Object.entries(Fa).map(([k,$])=>({key:k,title:k.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()),fields:$,items:t.budget.expenses[k]})).forEach(k=>{if(k.items.length===0)return;E+60>C-D&&j(),E=F(`Expenses: ${k.title}`,D,E+10,{fontSize:12,fontStyle:"bold"});const $=k.items.map(K=>{const ce=s.get(K.id)||0;return[T.get(K.source)||K.source,K.description,V(K.amount),V(ce),V(K.amount-ce)]});ee([["Category/Item","Description","Budgeted","Actual","Variance"]],$,{columnStyles:{2:{halign:"right"},3:{halign:"right"},4:{halign:"right"}}})}),j(),B("Workplan"),H("Were any adjustments made to the workplan?:",e.workplanAdjustments);const ue=i.map(k=>{const $=n.find(K=>K.id===k.assignedMemberId);return[k.title,$?`${$.firstName} ${$.lastName}`:"Unassigned",k.status,k.dueDate?new Date(k.dueDate).toLocaleDateString():"N/A"]});ee([["Task","Assignee","Status","Due Date"]],ue),j(),B("Reach & Impact"),H("Actively involved individuals who identify as:",e.involvedPeople.map(k=>{var $;return($=m.find(K=>K.value===k))==null?void 0:$.label.replace("... ","")}).join(", ")||"N/A"),H("Activities supported by this grant involved:",e.involvedActivities.map(k=>{var $;return($=y.find(K=>K.value===k))==null?void 0:$.label.replace("... ","")}).join(", ")||"N/A"),E+=15,d.forEach(k=>{var ce;const $=e.impactStatements[k.id],K=((ce=h.find(q=>q.value===$))==null?void 0:ce.label)||"Not Answered";H(k.label,K)}),j(),B("Additional Information and Assets"),H("Project Highlights:",e.highlights.map(k=>`${k.title}: ${k.url}`).join(`
`)||"N/A");const I=`Report - ${t.projectTitle}.pdf`;w.save(I)},ky=[{value:"indigenous",label:"... Indigenous (First Nations, Metis, Inuit, or non-status)"},{value:"disability",label:"... living with a disability or mental illness"},{value:"francophone",label:"... Francophone"},{value:"visibleMinority",label:"... a visible minority"},{value:"deaf",label:"... Deaf"},{value:"underserved",label:"... part of any other underserved community"}],Dy=[{value:"collaborators",label:"... collaborators (artistic or cross-sectoral)"},{value:"staff",label:"... staff members"},{value:"teachers",label:"... teachers"},{value:"audience",label:"... audience members"},{value:"volunteers",label:"... volunteers"},{value:"participants",label:"... active participants in any other role"},{value:"elders",label:"... elders or Indigenous Knowledge Keepers"},{value:"students",label:"... students"}],jy=[{id:"q1",label:"Without this grant, working on this project would not have been possible"},{id:"q2",label:"As a result of the activities funded by this grant, I am thinking more clearly about my artistic practice"},{id:"q3",label:"This grant has allowed me to (further) develop my artistic skills",instructions:"This may include improving existing skills and learning new skills"},{id:"q4",label:"This grant provided an opportunity to experiment, explore, and take artistic risk"},{id:"q5",label:"My artistic career will benefit and/or has already benefited from this grant"},{id:"q6",label:"This grant provided an opportunity for artistic collaboration that would not have been possible otherwise"},{id:"q7",label:"This grant made it possible to deepen connections with past collaborators"},{id:"q8",label:"This grant made it possible to build relationships with new collaborators"},{id:"q9",label:"This grant created further artistic opportunities for me",instructions:"Consider, for instance: Were any meaningful connections developed with other artists or organizations? Did you gain access to additional funding and/or other resources?"},{id:"q10",label:"This project created new opportunities for the participants involved",instructions:"Consider, for instance: increased ability for creative self-expression, access to new skills"},{id:"q11",label:"This project created new opportunities for the community in which it took place",instructions:"Consider, for instance: providing a voice to an underserved and/or marginalized communities; providing an artistic outlet to communities facing a barrier, creating a platform for meaningful community exchange and engagement, strengthening community bonds"}],Iy=[{value:"1",label:"1 - Strongly Disagree"},{value:"2",label:"2 - Disagree"},{value:"3",label:"3 - Neutral"},{value:"4",label:"4 - Agree"},{value:"5",label:"5 - Strongly Agree"},{value:"na",label:"Does not apply"}],Ic=({title:t,children:e,className:n=""})=>c.jsxs("div",{className:`mb-12 ${n}`,children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:t}),c.jsx("div",{className:"space-y-6",children:e})]}),Co=({label:t,instructions:e,children:n,disabled:i=!1})=>c.jsxs("div",{className:i?"pointer-events-none opacity-70":"",children:[t&&c.jsx("div",{className:"text-md font-semibold text-slate-800",children:t}),e&&c.jsx("div",{className:"text-sm text-slate-500 my-1 prose prose-slate max-w-none",children:e}),c.jsx("div",{className:"mt-2",children:n})]}),nT=()=>{var oe;const{state:t,dispatch:e,notify:n}=cn(),{projects:i,members:s,tasks:o,activities:u,directExpenses:d,reports:h,reportProjectIdToOpen:m,settings:y}=t,[x,T]=ve.useState(""),[w,C]=ve.useState(!1),[M,D]=ve.useState(null),[E,j]=ve.useState(null),[F,B]=ve.useState(!1),H=ve.useRef(null),ee=ve.useMemo(()=>i.find(P=>P.id===x),[i,x]),V=ve.useMemo(()=>x?o.filter(P=>P.projectId===x):[],[x,o]),U=ve.useMemo(()=>{const P=new Map;if(!ee)return P;const ae=new Map(o.map(L=>[L.id,L]));return u.forEach(L=>{const J=ae.get(L.taskId);if(!J||J.projectId!==ee.id||L.status!=="Approved"||!J.budgetItemId||J.workType!=="Paid")return;const Y=(L.hours||0)*(J.hourlyRate||0);P.set(J.budgetItemId,(P.get(J.budgetItemId)||0)+Y)}),d.forEach(L=>{L.projectId===ee.id&&P.set(L.budgetItemId,(P.get(L.budgetItemId)||0)+L.amount)}),P},[ee,o,u,d]);ve.useEffect(()=>{m&&(T(m),e({type:"SET_REPORT_PROJECT_ID_TO_OPEN",payload:null}))},[m,e]),ve.useEffect(()=>{if(!x){D(null),C(!1),j(null);return}const P=i.find(L=>L.id===x);if(!P){D(null);return}const ae=h.find(L=>L.projectId===x);if(ae)D(ae);else{const L={...ew,id:`rep_${x}`,projectId:x,projectResults:P.projectDescription||""};D(L)}C(!1),j(null)},[x,i,h]);const O=()=>{j(M),C(!0)},ue=()=>{j(null),C(!1)},I=()=>{if(!E)return;const P=t.reports.some(ae=>ae.id===E.id)?t.reports.map(ae=>ae.id===E.id?E:ae):[...t.reports,E];e({type:"SET_REPORTS",payload:P}),C(!1),j(null),n("Report saved successfully!","success")},k=(P,ae)=>{E&&j(St(E,L=>{L[P]=ae}))},$=(P,ae)=>{E&&j(St(E,L=>{L.impactStatements[P]=ae}))},K=(P,ae,L)=>{E&&j(St(E,J=>{const Y=J.highlights.find(ie=>ie.id===P);Y&&(Y[ae]=L)}))},ce=()=>{E&&j(St(E,P=>{P.highlights.push({id:`hl_${Date.now()}`,title:"",url:""})}))},q=P=>{E&&j(St(E,ae=>{ae.highlights=ae.highlights.filter(L=>L.id!==P)}))},G=async()=>{if(!ee||!M){n("Please select a project with a report to generate a PDF.","warning");return}B(!0),n("Generating PDF...","info");try{await tT(ee,M,s,V,U,{IMPACT_QUESTIONS:jy,IMPACT_OPTIONS:Iy,PEOPLE_INVOLVED_OPTIONS:ky,GRANT_ACTIVITIES_OPTIONS:Dy},y)}catch(P){console.error("Failed to generate PDF:",P),n("An error occurred while generating the PDF. Please try again.","error")}finally{B(!1)}},ne=ve.useMemo(()=>i.map(P=>({value:P.id,label:`${P.projectTitle} [${P.status}]`})),[i]);return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Reports"}),c.jsx("div",{className:"w-full max-w-sm",children:c.jsx(ot,{label:"Select a Project to View/Generate Report",htmlFor:"report_project_select",className:"mb-0",children:c.jsx(Jt,{id:"report_project_select",value:x,onChange:P=>T(P.target.value),options:[{value:"",label:"Select a project..."},...ne]})})})]}),ee?M?c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-teal-700",children:ee.projectTitle}),c.jsx("div",{className:"flex items-center gap-3",children:w?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:ue,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100",children:"Cancel"}),c.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"Save Report"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:O,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:[c.jsx("i",{className:"fa-solid fa-pencil mr-2"}),"Edit Report"]}),c.jsxs("button",{onClick:G,disabled:F,className:"px-4 py-2 text-sm font-medium text-white bg-rose-600 rounded-md shadow-sm hover:bg-rose-700 disabled:bg-slate-400",children:[c.jsx("i",{className:`fa-solid ${F?"fa-spinner fa-spin":"fa-file-pdf"} mr-2`}),F?"Generating...":"Generate PDF"]})]})})]}),c.jsxs("div",{ref:H,children:[c.jsx(Ic,{title:"Project Description",children:c.jsx(Co,{label:"Briefly describe the project and its results.",children:c.jsx(oi,{wordLimit:750,rows:10,value:w?E==null?void 0:E.projectResults:M.projectResults,onChange:P=>k("projectResults",P.target.value),disabled:!w})})}),c.jsxs(Ic,{title:"Financial Report",children:[c.jsx(Co,{label:"Briefly describe how you spent the grant.",children:c.jsx(oi,{wordLimit:300,rows:5,value:w?E==null?void 0:E.grantSpendingDescription:M.grantSpendingDescription,onChange:P=>k("grantSpendingDescription",P.target.value),disabled:!w})}),c.jsx(Jw,{project:ee,actuals:U,settings:y})]}),c.jsx(Ic,{title:"Workplan",children:c.jsx(Co,{label:"Were any adjustments made to the workplan?",children:c.jsx(oi,{wordLimit:200,rows:4,value:w?E==null?void 0:E.workplanAdjustments:M.workplanAdjustments,onChange:P=>k("workplanAdjustments",P.target.value),disabled:!w})})}),c.jsxs(Ic,{title:"Community Reach",children:[c.jsx(Co,{label:"My activities actively involved individuals who identify as:",instructions:"Select all that apply.",children:c.jsx(Du,{name:"involvedPeople",options:ky,selectedValues:w?(E==null?void 0:E.involvedPeople)||[]:M.involvedPeople,onChange:P=>k("involvedPeople",P),columns:2})}),c.jsx(Co,{label:"The activities supported by this grant involved:",instructions:"Select all that apply.",children:c.jsx(Du,{name:"involvedActivities",options:Dy,selectedValues:w?(E==null?void 0:E.involvedActivities)||[]:M.involvedActivities,onChange:P=>k("involvedActivities",P),columns:2})})]}),c.jsx(Ic,{title:"Impact Assessment",children:jy.map(P=>c.jsx(Co,{label:P.label,instructions:P.instructions,children:c.jsx(Kw,{name:P.id,options:Iy,selectedValue:w?(E==null?void 0:E.impactStatements[P.id])||"":M.impactStatements[P.id]||"",onChange:ae=>$(P.id,ae)})},P.id))}),c.jsxs(Ic,{title:"Closing",children:[c.jsx(Co,{label:"Project Highlights",instructions:"Provide links to documentation of your project (e.g., photos, videos, press).",children:c.jsxs("div",{className:"space-y-3",children:[(oe=w?E==null?void 0:E.highlights:M.highlights)==null?void 0:oe.map(P=>c.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center",children:[c.jsx(kt,{className:"col-span-5",placeholder:"Title (e.g., Photo Gallery)",value:P.title,onChange:ae=>K(P.id,"title",ae.target.value),disabled:!w}),c.jsx(kt,{className:"col-span-6",placeholder:"URL (e.g., https://...)",value:P.url,onChange:ae=>K(P.id,"url",ae.target.value),disabled:!w}),c.jsx("button",{onClick:()=>q(P.id),disabled:!w,className:"col-span-1 text-red-500 hover:text-red-700 disabled:text-slate-300",children:c.jsx("i",{className:"fa-solid fa-trash-alt"})})]},P.id)),w&&c.jsx("button",{type:"button",onClick:ce,className:"px-3 py-1.5 text-xs font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"+ Add Highlight"})]})}),c.jsx(Co,{label:"What worked well with the grant program and what could be improved?",children:c.jsx(oi,{wordLimit:250,rows:4,value:w?E==null?void 0:E.feedback:M.feedback,onChange:P=>k("feedback",P.target.value),disabled:!w})}),c.jsx(Co,{label:"Is there anything else you would like to share?",children:c.jsx(oi,{wordLimit:250,rows:4,value:w?E==null?void 0:E.additionalFeedback:M.additionalFeedback,onChange:P=>k("additionalFeedback",P.target.value),disabled:!w})})]})]})]}):c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-spinner fa-spin text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"Loading Report..."})]}):c.jsxs("div",{className:"text-center py-20",children:[c.jsx("i",{className:"fa-solid fa-file-invoice text-7xl text-slate-300"}),c.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No Project Selected"}),c.jsx("p",{className:"text-slate-500 mt-2 text-base",children:"Please select a project from the dropdown above to view its report."})]})]})},Mi=t=>`${t}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,wh=(t,e,n)=>{var s;const i=(s=t.budget.expenses[e])==null?void 0:s.find(o=>o.source===n);return i?i.id:""},Rn=(t,e,n)=>new Date(t,e-1,n).toISOString().split("T")[0],iT=[{firstName:"Samuel",lastName:"Chen",email:"samuel.chen@example.com",province:"MB",city:"Winnipeg",shortBio:"A gifted composer and sound designer specializing in electro-acoustic music and field recordings.",artistBio:"Samuel Chen is a Winnipeg-based composer whose work is known for its emotional depth and textural complexity. His work often explores the intersection of natural environments and human-made soundscapes. He has scored numerous documentary films and his unique blend of acoustic and electronic soundscapes has garnered critical acclaim.",availability:"full-time"},{firstName:"Marcus",lastName:"Thorne",email:"marcus.thorne@example.com",province:"MB",city:"Winnipeg",shortBio:"An accomplished producer and project manager with a focus on interdisciplinary arts and cultural festivals.",artistBio:"With a background in theatre and event production, Marcus Thorne has a proven track record of bringing complex artistic visions to life, ensuring projects are delivered on time and within budget while maintaining artistic integrity.",availability:"contract"},{firstName:"Dr. Anya",lastName:"Sharma",email:"anya.sharma@example.com",province:"MB",city:"Winnipeg",shortBio:"A historian and researcher from the University of Manitoba specializing in the history of the Red River valley.",artistBio:"Dr. Anya Sharma is a respected historian whose research focuses on the ecological and social histories of Manitoba's waterways. She has published several papers on the topic and is a passionate advocate for public history projects that connect communities with their local heritage.",availability:"contract"}],aT=()=>{var h,m,y;const t=iT.map(x=>({...x,id:Mi("mem"),memberId:`M-${Math.floor(1e3+Math.random()*9e3)}`,postalCode:"R3B 1B9",imageUrl:`https://i.pravatar.cc/256?u=${x.email}`})),[e,n,i]=t;let s={id:Mi("proj"),projectTitle:"Echoes of the Red River",status:"Active",artisticDisciplines:["music","media"],musicGenres:["electro-acoustic","new-music"],mediaGenres:["audio-art","documentary"],projectStartDate:Rn(2025,4,15),projectEndDate:Rn(2025,12,15),background:"This project aims to create a sonic portrait of the Red River, exploring its historical, ecological, and cultural significance through sound. It builds on previous work in field recording and audio art to create an immersive public experience.",projectDescription:"We will create a 'sound map' of the Red River from Emerson to Lockport. This involves capturing field recordings (above and below water), archival audio, and oral histories from communities along the river. These sounds will be woven into an electro-acoustic composition by Samuel Chen. The final work will be presented as a multi-channel audio installation at The Forks in Winnipeg and as an interactive online map. The project seeks to connect listeners to the river in a new, profound way, fostering a deeper appreciation for this vital waterway.",audience:"The primary audience includes the general public visiting The Forks, as well as students, new music enthusiasts, and local history buffs. An online version will target a national and international audience interested in sound art and environmental projects.",collaboratorDetails:[{memberId:e.id,role:"Lead Composer & Sound Artist"},{memberId:n.id,role:"Producer & Location Manager"},{memberId:i.id,role:"Historical Consultant"}],budget:{revenues:{grants:[{id:Mi("b"),source:"mac",description:"This funding application",amount:1e4,status:"Pending"}],fundraising:[{id:Mi("b"),source:"sponsorship",description:"Sponsorship from a local business",amount:2e3,actualAmount:2e3,status:"Approved"}],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],contributions:[]},expenses:{professionalFees:[{id:Mi("b"),source:"artists",description:"Lead Composer Fee",amount:6e3},{id:Mi("b"),source:"consultant",description:"Historical Consultant Honorarium",amount:1500}],production:[{id:Mi("b"),source:"equipment",description:"Hydrophones, field recorder",amount:2e3},{id:Mi("b"),source:"rentals",description:"Audio post-production suite",amount:1e3}],travel:[{id:Mi("b"),source:"transportation",description:"Mileage for travel along river",amount:500}],administration:[{id:Mi("b"),source:"promotion",description:"Online promotion & premiere event",amount:1e3}],research:[],professionalDevelopment:[]}}};s={...s,craftGenres:[],danceGenres:[],literaryGenres:[],otherArtisticDisciplineSpecify:"",visualArtsGenres:[],theatreGenres:[],activityType:"public-presentation",permissionConfirmationFiles:[],paymentAndConditions:"All artists and collaborators will be paid professional fees according to CARFAC/RAAV standards. A safe and respectful work environment will be maintained for all location recordings and interviews.",schedule:"A detailed schedule is in development. Key phases include: Research (Apr-May), Field Recording (Jun-Aug), Composition (Sep-Oct), and Installation/Premiere (Nov-Dec).",culturalIntegrity:"The project will be conducted with deep respect for the histories and communities along the Red River, including Treaty 1 Territory. We will work with a historical consultant to ensure accuracy and sensitivity.",whoWillWork:"The core team consists of a composer, producer, and historian. Additional collaborators may be engaged for specific oral history interviews.",howSelectionDetermined:"Core team members were selected based on their expertise and shared vision for the project.",additionalInfo:"No additional information."};const o=[{id:Mi("task"),taskCode:"EOTR-01",projectId:s.id,title:"Historical Research & Consultation",description:"Work with Dr. Sharma to identify key historical sites and themes.",assignedMemberId:e.id,status:"Done",startDate:Rn(2025,4,15),dueDate:Rn(2025,5,15),taskType:"Time-Based",isComplete:!0,estimatedHours:24,actualHours:0,budgetItemId:wh(s,"professionalFees","consultant"),workType:"Paid",hourlyRate:62.5,updatedAt:Rn(2025,5,15)},{id:Mi("task"),taskCode:"EOTR-02",projectId:s.id,title:"Purchase Recording Equipment",description:"Acquire hydrophones and a multi-track field recorder.",assignedMemberId:n.id,status:"Done",startDate:Rn(2025,5,1),dueDate:Rn(2025,5,10),taskType:"Milestone",isComplete:!0,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:Rn(2025,5,10)},{id:Mi("task"),taskCode:"EOTR-03",projectId:s.id,title:"Field Recording - South",description:"Capture audio from Emerson to Winnipeg.",assignedMemberId:e.id,status:"In Progress",startDate:Rn(2025,6,1),dueDate:Rn(2025,7,15),taskType:"Time-Based",isComplete:!1,estimatedHours:40,actualHours:0,budgetItemId:wh(s,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:Rn(2025,6,15)},{id:Mi("task"),taskCode:"EOTR-04",projectId:s.id,title:"Field Recording - North",description:"Capture audio from Winnipeg to Lockport.",assignedMemberId:e.id,status:"To Do",startDate:Rn(2025,7,16),dueDate:Rn(2025,8,31),taskType:"Time-Based",isComplete:!1,estimatedHours:40,actualHours:0,budgetItemId:wh(s,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:Rn(2025,7,16)},{id:Mi("task"),taskCode:"EOTR-05",projectId:s.id,title:"Composition & Sound Design",description:"Begin composing the piece using the collected audio.",assignedMemberId:e.id,status:"To Do",startDate:Rn(2025,9,1),dueDate:Rn(2025,11,15),taskType:"Time-Based",isComplete:!1,estimatedHours:80,actualHours:0,budgetItemId:wh(s,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:Rn(2025,9,1)},{id:Mi("task"),taskCode:"EOTR-06",projectId:s.id,title:"Final Installation & Premiere",description:"Install the audio exhibit and host the opening event.",assignedMemberId:n.id,status:"Backlog",startDate:Rn(2025,11,20),dueDate:Rn(2025,12,10),taskType:"Milestone",isComplete:!1,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:Rn(2025,11,20)}],u=x=>o.find(T=>T.taskCode===x),d=[{id:Mi("act"),taskId:((h=u("EOTR-01"))==null?void 0:h.id)||"",memberId:i.id,description:"Initial consultation meeting and archival review.",hours:10,status:"Approved",startDate:Rn(2025,4,20),endDate:Rn(2025,4,20),createdAt:"",updatedAt:""},{id:Mi("act"),taskId:((m=u("EOTR-03"))==null?void 0:m.id)||"",memberId:e.id,description:"Recorded at the Emerson border crossing.",hours:8,status:"Approved",startDate:Rn(2025,6,5),endDate:Rn(2025,6,5),createdAt:"",updatedAt:""},{id:Mi("act"),taskId:((y=u("EOTR-03"))==null?void 0:y.id)||"",memberId:e.id,description:"Hydrophone recordings near St. Adolphe.",hours:6,status:"Pending",startDate:Rn(2025,6,12),endDate:Rn(2025,6,12),createdAt:"",updatedAt:""}].map(x=>({...x,createdAt:x.startDate,updatedAt:x.startDate}));return{projects:[s],members:t,tasks:o,activities:d,directExpenses:[],reports:[]}},sT=()=>{const{dispatch:t,notify:e}=cn(),[n,i]=ve.useState(!1),s=()=>{const u=aT();t({type:"LOAD_DATA",payload:u}),e("Sample data loaded successfully!","success")},o=()=>{t({type:"CLEAR_ALL_DATA"}),e("All application data has been cleared.","success"),i(!1)};return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[n&&c.jsx(Vr,{isOpen:n,onClose:()=>i(!1),onConfirm:o,title:"Clear All Application Data",message:c.jsxs(c.Fragment,{children:["Are you absolutely sure you want to delete ALL application data? This includes all projects, members, tasks, and activities.",c.jsx("br",{}),c.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})]}),confirmButtonText:"Yes, Delete Everything"}),c.jsxs("div",{className:"text-center",children:[c.jsx("i",{className:"fa-solid fa-flask-vial text-6xl text-teal-500"}),c.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900",children:"Load Project Sample Data"}),c.jsx("p",{className:"mt-2 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool will populate the application with a single, well-structured sample project. It's great for getting a quick feel for the application's features."}),c.jsx("div",{className:"mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 max-w-2xl mx-auto text-left",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"py-1",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-3"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"Warning!"}),c.jsxs("p",{className:"text-sm",children:["Loading sample data will ",c.jsx("strong",{className:"uppercase",children:"replace"})," any existing data you have entered. This action cannot be undone."]})]})]})}),c.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[c.jsxs("button",{onClick:s,className:"px-8 py-3 text-lg font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-bolt mr-2"}),"Load Sample Project"]}),c.jsxs("button",{onClick:()=>i(!0),className:"px-8 py-3 text-lg font-medium text-red-700 bg-red-100 border border-red-200 rounded-md shadow-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[c.jsx("i",{className:"fa-solid fa-trash-alt mr-2"}),"Clear All Data"]})]})]})]})},Bt=t=>`${t}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,Mh=(t,e,n)=>{var s;const i=(s=t.budget.expenses[e])==null?void 0:s.find(o=>o.source===n);return i?i.id:(console.warn(`Sample Data Warning: Could not find budget item with source '${n}' in category '${e}' for project '${t.projectTitle}'.`),"")},Ie=(t,e,n)=>new Date(t,e-1,n).toISOString().split("T")[0],rT=[{firstName:"Samuel",lastName:"Chen",email:"samuel.chen@example.com",province:"MB",city:"Winnipeg",shortBio:"A gifted composer and sound designer specializing in electro-acoustic music and field recordings.",artistBio:"Samuel Chen is a Winnipeg-based composer whose work is known for its emotional depth and textural complexity. His work often explores the intersection of natural environments and human-made soundscapes. He has scored numerous documentary films and his unique blend of acoustic and electronic soundscapes has garnered critical acclaim. Samuel is a graduate of the University of Manitoba's music program and is also a dedicated music educator, offering workshops on composition and music technology.",availability:"full-time"},{firstName:"Marcus",lastName:"Thorne",email:"marcus.thorne@example.com",province:"MB",city:"Winnipeg",shortBio:"An accomplished producer and project manager with a focus on interdisciplinary arts and cultural festivals.",artistBio:"With a background in theatre and event production, Marcus Thorne has a proven track record of bringing complex artistic visions to life. He excels at strategic planning, financial management, and stakeholder engagement, ensuring projects are delivered on time and within budget while maintaining artistic integrity. He has managed projects for major cultural institutions across Manitoba and is known for his calm demeanor and meticulous attention to detail. Marcus is passionate about creating sustainable systems that support artists.",availability:"contract"},{firstName:"Chantal",lastName:"Dubois",email:"chantal.dubois@example.com",province:"MB",city:"St. Boniface",shortBio:"A veteran circus artist, choreographer, and director with a focus on narrative-driven physical theatre.",artistBio:"Chantal Dubois is a celebrated figure in Canada's circus arts scene. With over 20 years of experience as a performer and creator, her work seamlessly blends high-level acrobatics with poignant storytelling. She is the founder of Cirque d'Hiver and is dedicated to mentoring the next generation of physical performers. Her creations often explore themes of resilience and transformation, inspired by the stark beauty of the Canadian landscape. Chantal is a graduate of the National Circus School in Montreal.",availability:"full-time"},{firstName:"Kaelen",lastName:"Thomas",email:"kaelen.thomas@example.com",province:"MB",city:"Winnipeg",shortBio:"A talented illustrator and graphic novelist from Peguis First Nation with a unique, contemporary style.",artistBio:"Kaelen Thomas is an Anishinaabe artist whose work bridges traditional storytelling with contemporary comic art. Their illustrations are known for their dynamic line work and vibrant color palettes, bringing new life to ancient stories. Kaelen is a self-taught artist who has gained a significant online following for their character designs and short comics. They are passionate about creating stories that resonate with Indigenous youth and provide a modern lens on cultural narratives. 'Digital Quill' is their first major long-form project.",availability:"full-time"},{firstName:"Dr. Anya",lastName:"Sharma",email:"anya.sharma@example.com",province:"MB",city:"Winnipeg",shortBio:"A historian and researcher from the University of Manitoba specializing in the history of the Red River valley.",artistBio:"Dr. Anya Sharma is a respected historian whose research focuses on the ecological and social histories of Manitoba's waterways. She has published several papers on the topic and is a passionate advocate for public history projects that connect communities with their local heritage. Her involvement ensures historical accuracy and adds a rich educational layer to artistic projects.",availability:"contract"}],oT=t=>{const[e,n,i,s,o]=t;let u={id:Bt("proj"),projectTitle:"Echoes of the Red River",status:"Active",artisticDisciplines:["music","media"],musicGenres:["electro-acoustic","new-music","world-music"],mediaGenres:["audio-art","documentary"],projectStartDate:Ie(2025,4,15),projectEndDate:Ie(2025,12,15),background:"This project aims to create a sonic portrait of the Red River, exploring its historical, ecological, and cultural significance through sound. Our collective has a history of creating site-specific audio works, but this is our most ambitious project to date. We have spent the past year conducting preliminary research and building relationships with communities along the river, funded by a small exploratory grant from the Winnipeg Arts Council. This has confirmed the viability and community interest in a large-scale project that tells the river's story through its own sounds.",projectDescription:"We will create a 'sound map' of the Red River, from its southern entry into Manitoba to its northern delta. This involves capturing field recordings (above and below water using hydrophones), sourcing archival audio, and recording oral histories from elders, scientists, and residents in communities along the river. These diverse audio elements will be woven into a cohesive, hour-long electro-acoustic composition by lead artist Samuel Chen. The final work will be presented in two formats: a multi-channel audio installation at a public venue in Winnipeg (e.g., The Forks, Millennium Library Park) and as an interactive online map where users can explore the river's sounds geographically. The project's goal is to connect listeners to the river in a new, profound way, fostering a deeper appreciation for this vital waterway and the stories it holds.",audience:"The primary audience includes the general public who will encounter the installation, as well as students (from elementary to post-secondary), new music enthusiasts, environmental groups, and local history buffs. We will reach them through partnerships with cultural institutions, targeted social media campaigns, and local media outreach. The interactive online map is designed to reach a national and international audience interested in sound art, environmental data sonification, and Canadian history. We will also engage with academic communities in music, history, and environmental studies.",collaboratorDetails:[{memberId:e.id,role:"Lead Composer & Sound Artist"},{memberId:n.id,role:"Producer & Location Manager"},{memberId:o.id,role:"Historical Consultant"}],budget:{revenues:{grants:[{id:Bt("b"),source:"mac",description:"This funding application",amount:15e3,status:"Pending"},{id:Bt("b"),source:"federalCanada",description:"Digital Now Grant",amount:1e4,actualAmount:1e4,status:"Approved"}],fundraising:[{id:Bt("b"),source:"sponsorship",description:"Sponsorship from Cabela's for equipment",amount:3e3,actualAmount:3e3,status:"Approved"}],contributions:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[]},expenses:{professionalFees:[{id:Bt("b"),source:"artists",description:"Lead Composer Fee (Samuel)",amount:1e4},{id:Bt("b"),source:"consultant",description:"Historical Consultant Honorarium (Dr. Sharma)",amount:3e3},{id:Bt("b"),source:"indigenous",description:"Honoraria for Oral History Participants",amount:1500}],production:[{id:Bt("b"),source:"equipment",description:"Hydrophones, multi-track field recorder, cables",amount:4e3},{id:Bt("b"),source:"rentals",description:"Audio post-production suite",amount:2e3}],travel:[{id:Bt("b"),source:"transportation",description:"Mileage for travel along river",amount:1e3},{id:Bt("b"),source:"accommodations",description:"Overnight stays for northern recording trips",amount:500}],administration:[{id:Bt("b"),source:"promotion",description:"Online promotion & premiere event costs",amount:2e3},{id:Bt("b"),source:"personnel",description:"Project Management & Reporting",amount:800}],research:[{id:Bt("b"),source:"research",description:"Archival audio licensing fees",amount:500}],professionalDevelopment:[{id:Bt("b"),source:"professionalDevelopment",description:"Advanced Sound-mixing Masterclass",amount:3500}]}}},d={id:Bt("proj"),projectTitle:"Northern Light: A Winter Circus",status:"Active",artisticDisciplines:["theatre","dance","multi-disciplinary"],theatreGenres:["circus-arts","physical-theatre","site-specific-theatre"],danceGenres:["contemporary","aerial"],projectStartDate:Ie(2025,5,1),projectEndDate:Ie(2025,11,30),background:"Cirque d'Hiver was founded to create circus art that embraces, rather than avoids, the realities of the Canadian winter. Our past productions have experimented with outdoor elements and themes of hibernation and resilience. This project represents our most ambitious undertaking, moving from smaller showcases to a full-length feature production designed specifically for a winter festival setting. We have secured a partnership with Festival du Voyageur to present the work-in-progress, providing a perfect test ground for the show's core concepts and technical requirements.",projectDescription:"A contemporary circus performance for an all-ages audience, designed for a winter setting. The show uses acrobatics, aerial arts, and physical comedy to tell a mythic story inspired by the aurora borealis and northern folklore. The narrative follows a group of villagers who must work together to bring back the light during a long, dark winter. The aesthetic will be a blend of rustic and magical, with costumes and props that evoke a winter landscape. The performance is designed to be adaptable, capable of being staged in a large heated tent or a converted indoor space like a warehouse, making it ideal for winter festivals and touring. This phase focuses on the creation, rehearsal, and work-in-progress showing of the full 60-minute piece.",audience:"The primary audience will be attendees of winter festivals, including families, young adults, and tourists. The show is designed to be visually spectacular and non-language-dependent, making it accessible to a wide range of cultural backgrounds. We will reach this audience through the marketing channels of our partner festivals. A secondary audience includes the national circus arts community and presenters, whom we will engage through industry showcases, a high-quality promo video, and direct outreach. We aim to secure a national tour for the following winter season.",collaboratorDetails:[{memberId:i.id,role:"Artistic Director & Choreographer"},{memberId:n.id,role:"Producer & Technical Director"},{memberId:e.id,role:"Composer"}],budget:{revenues:{grants:[{id:Bt("b"),source:"mac",description:"This funding application",amount:15e3,status:"Pending"},{id:Bt("b"),source:"federalCanada",description:"Festival Contribution",amount:1e4,actualAmount:1e4,status:"Approved"}],contributions:[{id:Bt("b"),source:"inKindPartners",description:"Rehearsal space from WCD",amount:5e3,actualAmount:5e3,status:"Approved"}],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],fundraising:[]},expenses:{professionalFees:[{id:Bt("b"),source:"artists",description:"Performers Fees (4 artists x 8 weeks)",amount:15e3},{id:Bt("b"),source:"designers",description:"Set & Costume Designer",amount:3e3}],production:[{id:Bt("b"),source:"materials",description:"Costume and prop fabrication materials",amount:3e3},{id:Bt("b"),source:"rentals",description:"Specialized rigging and aerial equipment",amount:3e3},{id:Bt("b"),source:"technical",description:"Lighting technician for WIP showing",amount:1e3}],administration:[{id:Bt("b"),source:"personnel",description:"Producer Fee (Marcus)",amount:4e3},{id:Bt("b"),source:"promotion",description:"Promo video and photos",amount:1e3}],travel:[],research:[],professionalDevelopment:[]}}},h={id:Bt("proj"),projectTitle:"Digital Quill: An Indigenous Graphic Novel",status:"Completed",artisticDisciplines:["literary","visual","craft"],literaryGenres:["graphic-novel","young-adult-fiction","storytelling"],visualArtsGenres:["drawing","printmaking"],projectStartDate:Ie(2025,4,1),projectEndDate:Ie(2025,10,31),background:"This project emerged from a series of mentorship workshops with emerging Indigenous artists, where a strong desire for a collaborative, long-form storytelling project was identified. Lead artist Kaelen Thomas has developed a compelling story concept and a unique visual style that is ready for development into a full-length work. The goal is to create a professional, published graphic novel that can serve as a powerful resource and a career-launching achievement for the artist. We have secured interest from a local publisher, pending the completion of a full manuscript and sample chapters.",projectDescription:"This project will fully fund the creation, from script to final art, of a 120-page graphic novel written and illustrated by Anishinaabe artist Kaelen Thomas. The story, tentatively titled 'The Seventh Fire,' is a contemporary fantasy for young adults that draws on Anishinaabe oral traditions and prophecies. The project will cover the artist's living expenses for the 6-month creation period, as well as costs for materials, mentorship, and the initial print run. The process will be documented online to share the journey of creating a graphic novel with an emerging audience. The final product will be a professionally printed and bound book, launched at a local bookstore and promoted to schools, libraries, and comic conventions across the country.",audience:"The primary audience is Indigenous and non-Indigenous youth (ages 14-24) who are fans of graphic novels and fantasy stories. The book aims to provide a powerful piece of representation for Indigenous youth and an engaging entry point into Anishinaabe culture for others. A secondary audience includes educators, librarians, and collectors of comic art. We will reach our audience through social media (leveraging the artist's existing following), partnerships with Indigenous organizations, and by attending comic conventions like C4 in Winnipeg. A teacher's guide will be developed to encourage classroom adoption.",collaboratorDetails:[{memberId:s.id,role:"Lead Artist & Writer"},{memberId:n.id,role:"Project Manager"}],budget:{revenues:{grants:[{id:Bt("b"),source:"mac",description:"Indigenous 360 Grant",amount:15e3,actualAmount:15e3,status:"Approved"},{id:Bt("b"),source:"federalCanada",description:"Creating, Knowing, and Sharing Grant",amount:1e4,actualAmount:1e4,status:"Approved"}],fundraising:[{id:Bt("b"),source:"crowdsourcing",description:"Pre-order Kickstarter Campaign",amount:3e3,actualAmount:3e3,status:"Approved"}],contributions:[],sales:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""}},expenses:{professionalFees:[{id:Bt("b"),source:"artists",description:"Lead Artist Living Expenses/Stipend",amount:18e3},{id:Bt("b"),source:"consultant",description:"Editor/Mentor Honorarium",amount:2e3},{id:Bt("b"),source:"indigenous",description:"Elder consultation for story protocol",amount:1e3}],production:[{id:Bt("b"),source:"materials",description:"Art supplies (paper, ink, digital software)",amount:1500},{id:Bt("b"),source:"other",description:"Initial print run (500 copies)",amount:4e3}],administration:[{id:Bt("b"),source:"promotion",description:"Book launch event & convention fees",amount:1500}],travel:[],research:[],professionalDevelopment:[]}}};return[u,d,h].forEach(m=>{Object.assign(m,{craftGenres:m.craftGenres||[],danceGenres:m.danceGenres||[],literaryGenres:m.literaryGenres||[],musicGenres:m.musicGenres||[],theatreGenres:m.theatreGenres||[],visualArtsGenres:m.visualArtsGenres||[],otherArtisticDisciplineSpecify:"",activityType:"public-presentation",permissionConfirmationFiles:[],paymentAndConditions:"All artists and collaborators will be paid professional fees according to CARFAC/RAAV standards. A safe and respectful work environment will be maintained.",schedule:"A detailed schedule with milestones and deadlines is available in the workplan. Key phases include: Research/Creation, Production/Rehearsal, and Presentation/Exhibition.",culturalIntegrity:"The project will be conducted with deep respect for the cultures and communities represented. We will work with consultants and follow established protocols to ensure authenticity and prevent appropriation.",whoWillWork:"The core team consists of dedicated professionals selected for their expertise. Community collaborators will be engaged as needed.",howSelectionDetermined:"Core team members were selected based on their proven track record. Other participants are selected via an open, accessible process relevant to the project's needs.",additionalInfo:"No additional information provided at this time."})}),[u,d,h]},lT=(t,e)=>{const[n,i,s]=t,[o,u,d,h,m]=e,y=[],x=(T,w,C,M,D,E,j,F,B,H,ee,V,U,O,ue=!1)=>({id:Bt("task"),taskCode:w,projectId:T.id,title:C,description:M,assignedMemberId:D.id,status:E,startDate:j,dueDate:F,taskType:B,isComplete:E==="Done"||ue,estimatedHours:H,actualHours:0,budgetItemId:Mh(T,ee,V),workType:U,hourlyRate:O,updatedAt:F});return y.push(x(n,"EOTR-01","Historical Research & Site Planning","Work with Dr. Sharma to identify key historical sites and themes for recording.",m,"Done",Ie(2025,4,15),Ie(2025,5,15),"Time-Based",30,"professionalFees","consultant","Paid",100),x(n,"EOTR-02","Purchase Recording Equipment","Acquire hydrophones and a multi-track field recorder.",u,"Done",Ie(2025,5,1),Ie(2025,5,10),"Milestone",0,"production","equipment","Paid",0),x(n,"EOTR-03","Attend Sound-mixing Masterclass","Attend professional development workshop.",o,"Done",Ie(2025,5,20),Ie(2025,5,22),"Time-Based",16,"professionalDevelopment","professionalDevelopment","Paid",75),x(n,"EOTR-04","Field Recording - Phase 1 (South)","Capture audio from Emerson to Winnipeg.",o,"In Progress",Ie(2025,6,1),Ie(2025,7,15),"Time-Based",40,"professionalFees","artists","Paid",75),x(n,"EOTR-05","Oral History Interviews - Set 1","Record interviews with community members in the south basin.",u,"In Progress",Ie(2025,6,10),Ie(2025,7,20),"Time-Based",20,"professionalFees","indigenous","Paid",75),x(n,"EOTR-06","Field Recording - Phase 2 (North)","Capture audio from Winnipeg to Lockport.",o,"To Do",Ie(2025,7,16),Ie(2025,8,31),"Time-Based",40,"professionalFees","artists","Paid",75),x(n,"EOTR-07","Transcribe Oral Histories","Create text transcripts for all recorded interviews.",u,"To Do",Ie(2025,7,21),Ie(2025,8,21),"Time-Based",30,"professionalFees","artists","Volunteer",25),x(n,"EOTR-08","Catalog and Organize Audio Library","Log, tag, and organize all captured audio files.",o,"To Do",Ie(2025,9,1),Ie(2025,9,15),"Time-Based",20,"professionalFees","artists","Paid",75),x(n,"EOTR-09","Develop Online Map Prototype","Create a working prototype of the interactive online map.",u,"To Do",Ie(2025,9,1),Ie(2025,9,30),"Time-Based",20,"administration","promotion","Paid",80),x(n,"EOTR-10","Begin Composition - Movement 1","Start composing the first movement using southern recordings.",o,"To Do",Ie(2025,9,16),Ie(2025,10,15),"Time-Based",40,"professionalFees","artists","Paid",75),x(n,"EOTR-11","License Archival Audio","Secure rights for historical audio clips.",u,"Backlog",Ie(2025,9,20),Ie(2025,10,5),"Milestone",0,"research","research","Paid",0),x(n,"EOTR-12","Begin Composition - Movement 2","Compose second movement using northern recordings.",o,"To Do",Ie(2025,10,16),Ie(2025,11,15),"Time-Based",40,"professionalFees","artists","Paid",75),x(n,"EOTR-13","Website and Social Media Launch","Launch promotional website and begin outreach campaign.",u,"Backlog",Ie(2025,10,20),Ie(2025,10,20),"Milestone",0,"administration","promotion","Paid",0),x(n,"EOTR-14","Mix & Master Full Composition","Final mix and master of all audio movements.",o,"Backlog",Ie(2025,11,16),Ie(2025,11,30),"Time-Based",25,"production","rentals","Paid",80),x(n,"EOTR-15","Prepare Installation Speakers & Playback System","Set up and test the physical audio installation hardware.",u,"Backlog",Ie(2025,12,1),Ie(2025,12,5),"Time-Based",15,"production","equipment","Paid",50),x(n,"EOTR-16","Finalize Online Map Interface","Integrate final audio and launch the public website.",u,"Backlog",Ie(2025,12,1),Ie(2025,12,10),"Time-Based",15,"administration","promotion","Paid",80),x(n,"EOTR-17","Venue Installation","Install the audio exhibit at the final location.",u,"Backlog",Ie(2025,12,8),Ie(2025,12,12),"Time-Based",20,"production","equipment","Paid",50),x(n,"EOTR-18","Host Premiere / Opening Event","Host the public launch event for the installation.",u,"Backlog",Ie(2025,12,13),Ie(2025,12,13),"Milestone",0,"administration","promotion","Paid",0),x(n,"EOTR-19","Project Teardown","Dismantle and return all equipment.",u,"Backlog",Ie(2025,12,20),Ie(2025,12,20),"Time-Based",8,"production","equipment","Volunteer",25),x(n,"EOTR-20","Final Reporting","Complete all final reports for funders.",u,"Backlog",Ie(2025,12,30),Ie(2025,12,30),"Milestone",0,"administration","personnel","Paid",0)),y.push(x(i,"NL-01","Finalize Show Concept & Narrative","Solidify the storyline and characters.",d,"Done",Ie(2025,5,1),Ie(2025,5,15),"Milestone",0,"professionalFees","artists","Paid",0),x(i,"NL-02","Performer Casting & Contracts","Audition, cast, and contract 4 circus performers.",u,"Done",Ie(2025,5,15),Ie(2025,5,30),"Milestone",0,"administration","personnel","Paid",0),x(i,"NL-03","Initial Music Composition","Samuel to compose main themes and musical palette.",o,"Done",Ie(2025,5,20),Ie(2025,6,20),"Time-Based",40,"professionalFees","artists","Paid",75),x(i,"NL-04","Set & Costume Design","Work with designer to create concepts and technical drawings.",d,"Done",Ie(2025,6,1),Ie(2025,6,30),"Time-Based",50,"professionalFees","designers","Paid",60),x(i,"NL-05","Purchase Fabrication Materials","Source and buy all materials for costumes and props.",u,"Done",Ie(2025,7,1),Ie(2025,7,7),"Milestone",0,"production","materials","Paid",0),x(i,"NL-06","Creation/Rehearsal Block 1","Weeks 1-4 of rehearsal. Focus on choreography and act creation.",d,"In Progress",Ie(2025,7,8),Ie(2025,8,2),"Time-Based",120,"professionalFees","artists","Paid",50),x(i,"NL-07","Rigging & Equipment Rental","Secure all necessary aerial rigging and safety equipment.",u,"In Progress",Ie(2025,7,10),Ie(2025,7,15),"Milestone",0,"production","rentals","Paid",0),x(i,"NL-08","Costume & Prop Fabrication","Build all costumes and props.",u,"In Progress",Ie(2025,7,8),Ie(2025,8,30),"Time-Based",80,"production","materials","In-Kind",30),x(i,"NL-09","Creation/Rehearsal Block 2","Weeks 5-8 of rehearsal. Focus on show flow and transitions.",d,"To Do",Ie(2025,8,5),Ie(2025,8,30),"Time-Based",120,"professionalFees","artists","Paid",50),x(i,"NL-10","Refine Musical Score","Integrate rehearsal feedback and finalize the full score.",o,"To Do",Ie(2025,9,1),Ie(2025,9,30),"Time-Based",40,"professionalFees","artists","Paid",75),x(i,"NL-11","Lighting Design","Consult with lighting tech for WIP showing.",u,"To Do",Ie(2025,9,15),Ie(2025,9,25),"Time-Based",10,"production","technical","Paid",100),x(i,"NL-12","Book Promo Photographer/Videographer","Contract a professional to document the show.",u,"To Do",Ie(2025,9,20),Ie(2025,9,30),"Milestone",0,"administration","promotion","Paid",0),x(i,"NL-13","Full Run-Throughs","Week of full show run-throughs.",d,"To Do",Ie(2025,10,1),Ie(2025,10,7),"Time-Based",30,"professionalFees","artists","Paid",50),x(i,"NL-14","Technical Rehearsals in Venue","Integrate lighting, sound, and set in the performance space.",u,"To Do",Ie(2025,10,8),Ie(2025,10,12),"Time-Based",20,"professionalFees","artists","Paid",50),x(i,"NL-15","Promo Photo & Video Shoot","Dedicated session to capture high-quality marketing materials.",u,"To Do",Ie(2025,10,13),Ie(2025,10,13),"Milestone",0,"administration","promotion","Paid",0),x(i,"NL-16","Work-in-Progress Public Showing","Perform the show for Festival du Voyageur audience.",d,"To Do",Ie(2025,10,15),Ie(2025,10,15),"Milestone",0,"professionalFees","artists","Paid",0),x(i,"NL-17","Post-Show Feedback Session","Gather feedback from audience and partners.",u,"Backlog",Ie(2025,10,16),Ie(2025,10,16),"Milestone",0,"administration","personnel","Paid",0),x(i,"NL-18","Edit Promotional Video","Create a 2-minute promo video for touring applications.",u,"Backlog",Ie(2025,10,20),Ie(2025,11,10),"Time-Based",10,"administration","promotion","In-Kind",40),x(i,"NL-19","Strike Show & Return Rentals","Clean venue and return all rented equipment.",u,"Backlog",Ie(2025,10,17),Ie(2025,10,18),"Time-Based",16,"administration","personnel","Volunteer",25),x(i,"NL-20","Final Reporting & Tour Planning","Prepare final reports and begin outreach to presenters.",u,"Backlog",Ie(2025,11,1),Ie(2025,11,30),"Milestone",0,"administration","personnel","Paid",0)),y.push(x(s,"DQ-01","Story Protocol Consultation","Consult with Elder on story elements and cultural protocols.",h,"Done",Ie(2025,4,5),Ie(2025,4,10),"Time-Based",10,"professionalFees","indigenous","Paid",100),x(s,"DQ-02","Finalize Script & Storyboards","Complete the full 120-page script and thumbnail storyboards.",h,"Done",Ie(2025,4,15),Ie(2025,5,15),"Time-Based",80,"professionalFees","artists","Paid",75),x(s,"DQ-03","Editorial Review of Script","Work with mentor/editor to refine script.",h,"Done",Ie(2025,5,16),Ie(2025,5,25),"Time-Based",20,"professionalFees","consultant","Paid",100),x(s,"DQ-04","Purchase Art Supplies & Software","Get all necessary paper, inks, and software subscriptions.",u,"Done",Ie(2025,5,20),Ie(2025,5,22),"Milestone",0,"production","materials","Paid",0),x(s,"DQ-05","Penciling - Chapter 1","Complete rough pencil drawings for Chapter 1.",h,"Done",Ie(2025,5,26),Ie(2025,6,15),"Time-Based",40,"professionalFees","artists","Paid",75),x(s,"DQ-06","Inking - Chapter 1","Complete final ink drawings for Chapter 1.",h,"Done",Ie(2025,6,16),Ie(2025,6,26),"Time-Based",30,"professionalFees","artists","Paid",75),x(s,"DQ-07","Coloring & Lettering - Chapter 1","Complete digital coloring and lettering.",h,"Done",Ie(2025,6,27),Ie(2025,7,7),"Time-Based",30,"professionalFees","artists","Paid",75),x(s,"DQ-08","Submit Sample Chapter to Publisher","Send completed Chapter 1 to interested publisher.",u,"Done",Ie(2025,7,8),Ie(2025,7,8),"Milestone",0,"administration","promotion","Paid",0),x(s,"DQ-09","Penciling - Chapters 2-3","Complete rough pencil drawings for Chapters 2 and 3.",h,"Done",Ie(2025,7,9),Ie(2025,8,9),"Time-Based",80,"professionalFees","artists","Paid",75),x(s,"DQ-10","Inking - Chapters 2-3","Complete final ink drawings for Chapters 2 and 3.",h,"Done",Ie(2025,8,10),Ie(2025,8,30),"Time-Based",60,"professionalFees","artists","Paid",75),x(s,"DQ-11","Coloring & Lettering - Chapters 2-3","Complete digital coloring and lettering.",h,"Done",Ie(2025,8,31),Ie(2025,9,15),"Time-Based",60,"professionalFees","artists","Paid",75),x(s,"DQ-12","Plan Kickstarter Campaign","Develop rewards and campaign for pre-orders.",u,"Done",Ie(2025,9,1),Ie(2025,9,15),"Milestone",0,"administration","promotion","Paid",0),x(s,"DQ-13","Penciling - Chapters 4-5","Complete rough pencil drawings for final chapters.",h,"Done",Ie(2025,9,16),Ie(2025,10,1),"Time-Based",80,"professionalFees","artists","Paid",75),x(s,"DQ-14","Inking - Chapters 4-5","Complete final ink drawings for final chapters.",h,"Done",Ie(2025,10,2),Ie(2025,10,10),"Time-Based",60,"professionalFees","artists","Paid",75),x(s,"DQ-15","Launch Kickstarter Campaign","Run the 30-day pre-order campaign.",u,"Done",Ie(2025,9,15),Ie(2025,10,15),"Milestone",0,"administration","promotion","Paid",0),x(s,"DQ-16","Coloring & Lettering - Chapters 4-5","Complete final digital work.",h,"Done",Ie(2025,10,11),Ie(2025,10,20),"Time-Based",60,"professionalFees","artists","Paid",75),x(s,"DQ-17","Final Manuscript Assembly & Formatting","Combine all chapters and format for printing.",h,"Done",Ie(2025,10,21),Ie(2025,10,25),"Time-Based",20,"professionalFees","artists","Paid",75),x(s,"DQ-18","Send to Printer","Submit final files for initial print run.",u,"Done",Ie(2025,10,26),Ie(2025,10,26),"Milestone",0,"production","other","Paid",0),x(s,"DQ-19","Plan Book Launch Event","Coordinate with bookstore for launch party.",u,"Done",Ie(2025,10,15),Ie(2025,10,30),"Milestone",0,"administration","promotion","Paid",0),x(s,"DQ-20","Fulfill Kickstarter Rewards","Package and ship pre-orders.",u,"Done",Ie(2025,11,15),Ie(2025,11,30),"Time-Based",20,"administration","promotion","Volunteer",25)),y},uT=(t,e)=>{const n=[],i=(m,y,x,T,w,C="Approved")=>{const M=t.find(D=>D.taskCode===m);M&&n.push({id:Bt("act"),taskId:M.id,memberId:y.id,description:x,hours:T,status:C,startDate:w,endDate:w,createdAt:w,updatedAt:w})},[s,o,u,d,h]=e;return i("EOTR-01",h,"Initial consultation meeting.",8,Ie(2025,4,20)),i("EOTR-01",h,"Archival research and site identification.",22,Ie(2025,5,10)),i("EOTR-03",s,"Day 1 of workshop.",8,Ie(2025,5,20)),i("EOTR-03",s,"Day 2 of workshop.",8,Ie(2025,5,21)),i("EOTR-04",s,"Recording at Emerson border crossing.",8,Ie(2025,6,5)),i("EOTR-04",s,"Hydrophone recordings near St. Adolphe.",6,Ie(2025,6,12)),i("EOTR-04",s,"Ambient sound capture at The Forks.",4,Ie(2025,6,20),"Pending"),i("EOTR-05",o,"Interview with local fisherman.",4,Ie(2025,6,15)),i("NL-03",s,"Composing main themes.",40,Ie(2025,6,15)),i("NL-04",u,"Design meetings and sketching.",50,Ie(2025,6,25)),i("NL-06",u,"Rehearsal supervision and choreography.",100,Ie(2025,7,30)),i("NL-08",o,"Sourcing materials and overseeing prop construction.",60,Ie(2025,8,15)),i("DQ-01",d,"Meeting with Elder for story protocol.",10,Ie(2025,4,8)),i("DQ-02",d,"Script writing and refinement.",40,Ie(2025,4,30)),i("DQ-02",d,"Full storyboard creation.",40,Ie(2025,5,14)),i("DQ-03",d,"Reviewing editorial feedback and making revisions.",20,Ie(2025,5,20)),i("DQ-05",d,"Penciling pages 1-20.",40,Ie(2025,6,10)),i("DQ-06",d,"Inking pages 1-20.",30,Ie(2025,6,20)),i("DQ-07",d,"Coloring and lettering pages 1-20.",30,Ie(2025,7,5)),i("DQ-09",d,"Penciling pages 21-60.",80,Ie(2025,8,1)),i("DQ-10",d,"Inking pages 21-60.",60,Ie(2025,8,20)),i("DQ-11",d,"Coloring and lettering pages 21-60.",60,Ie(2025,9,10)),i("DQ-13",d,"Penciling pages 61-120.",80,Ie(2025,9,28)),i("DQ-14",d,"Inking pages 61-120.",60,Ie(2025,10,8)),i("DQ-16",d,"Coloring and lettering pages 61-120.",60,Ie(2025,10,18)),i("DQ-17",d,"Final formatting and file preparation for printer.",20,Ie(2025,10,24)),n},cT=t=>{const[e,n,i]=t;return[{id:Bt("dexp"),projectId:e.id,budgetItemId:Mh(e,"travel","transportation"),description:"Gas for trip to Selkirk",amount:45.5,date:Ie(2025,7,2)},{id:Bt("dexp"),projectId:i.id,budgetItemId:Mh(i,"production","materials"),description:"Specialty bristol board and inks",amount:350,date:Ie(2025,5,21)},{id:Bt("dexp"),projectId:i.id,budgetItemId:Mh(i,"production","other"),description:"Deposit for initial print run",amount:2e3,date:Ie(2025,10,28)}]},dT=t=>{const[e,n,i]=t;return[{id:`rep_${i.id}`,projectId:i.id,projectResults:"The 'Digital Quill' project successfully produced a 120-page, professionally finished graphic novel titled 'The Seventh Fire'. The project met all its key objectives, from creation to initial printing, and fostered the lead artist's development significantly. The story, which blends Anishinaabe prophecy with a contemporary young adult narrative, was completed on schedule. The final artwork and script were delivered to our publishing partner, and a successful Kickstarter campaign ensured funding for a larger print run and provided market validation. The project culminated in a well-attended book launch, establishing a strong foundation for the book's distribution and the artist's career.",grantSpendingDescription:"The grant funding was instrumental and was spent exactly as budgeted. The majority of funds provided a living stipend for the lead artist, allowing them to dedicate themselves fully to the project for a six-month period. This was critical for maintaining the high quality and consistent output required. Funds were also used for honorariums for an editor and an Elder, whose guidance was invaluable. The remaining funds covered the costs of professional art materials and the initial deposit for the print run, which were essential for creating a market-ready product.",workplanAdjustments:"The workplan was followed very closely with only minor adjustments. We allocated slightly more time to the inking phase after realizing the detail required for the specific visual style. This was accommodated by shortening the final formatting phase, which went faster than anticipated. No changes impacted the budget or the final deadline.",involvedPeople:["indigenous","underserved"],involvedActivities:["collaborators","audience","elders","participants"],impactStatements:{q1:"5",q2:"5",q3:"5",q4:"5",q5:"5",q6:"4",q7:"na",q8:"4",q9:"5",q10:"na",q11:"4"},highlights:[{id:Bt("hl"),title:"Book Launch Event Photos",url:"https://example.com/launch_gallery"},{id:Bt("hl"),title:"CBC Radio Interview with Kaelen Thomas",url:"https://example.com/cbc_interview"}],feedback:"The process was smooth. The reporting tools in this app were helpful for tracking our progress against the budget.",additionalFeedback:"N/A"}]},fT=()=>{const t=rT.map(u=>({...u,id:Bt("mem"),memberId:`M-${Math.floor(1e3+Math.random()*9e3)}`,postalCode:"R3B 1B9",imageUrl:`https://i.pravatar.cc/256?u=${u.email}`})),e=oT(t),n=lT(e,t),i=uT(n,t),s=cT(e),o=dT(e);return{projects:e,members:t,tasks:n,activities:i,directExpenses:s,reports:o}},hT=()=>{const{dispatch:t,notify:e}=cn(),[n,i]=ve.useState(!1),s=()=>{const u=fT();t({type:"LOAD_DATA",payload:u}),e("Detailed sample data loaded successfully!","success")},o=()=>{t({type:"CLEAR_ALL_DATA"}),e("All application data has been cleared.","success"),i(!1)};return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[n&&c.jsx(Vr,{isOpen:n,onClose:()=>i(!1),onConfirm:o,title:"Clear All Application Data",message:c.jsxs(c.Fragment,{children:["Are you absolutely sure you want to delete ALL application data? This includes all projects, members, tasks, and activities.",c.jsx("br",{}),c.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})]}),confirmButtonText:"Yes, Delete Everything"}),c.jsxs("div",{className:"text-center",children:[c.jsx("i",{className:"fa-solid fa-database text-6xl text-teal-500"}),c.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900",children:"Load Detailed Sample Data"}),c.jsx("p",{className:"mt-2 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool will populate the application with a rich, comprehensive dataset, including multiple projects, tasks, and activities. This is ideal for testing all features thoroughly."}),c.jsx("div",{className:"mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 max-w-2xl mx-auto text-left",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"py-1",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-3"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"Warning!"}),c.jsxs("p",{className:"text-sm",children:["Loading sample data will ",c.jsx("strong",{className:"uppercase",children:"replace"})," any existing data you have entered. This action cannot be undone."]})]})]})}),c.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[c.jsxs("button",{onClick:s,className:"px-8 py-3 text-lg font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-gears mr-2"}),"Load Detailed Data"]}),c.jsxs("button",{onClick:()=>i(!0),className:"px-8 py-3 text-lg font-medium text-red-700 bg-red-100 border border-red-200 rounded-md shadow-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[c.jsx("i",{className:"fa-solid fa-trash-alt mr-2"}),"Clear All Data"]})]})]})]})},Py=()=>{const{state:t,dispatch:e,notify:n}=cn(),[i,s]=ve.useState(t.settings.general),[o,u]=ve.useState(!1),d=(m,y)=>{s(x=>({...x,[m]:y})),u(!0)},h=()=>{const m=St(t.settings,y=>{y.general=i});e({type:"UPDATE_SETTINGS",payload:m}),u(!1),n("General settings saved!","success")};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"General Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Configure application-wide settings for your collective."}),c.jsxs("div",{className:"mt-8 space-y-6 max-w-2xl",children:[c.jsx(ot,{label:"Collective Name",htmlFor:"collectiveName",instructions:"This name will appear in the application header.",children:c.jsx(kt,{id:"collectiveName",value:i.collectiveName,onChange:m=>d("collectiveName",m.target.value)})}),c.jsx(ot,{label:"Default Currency",htmlFor:"defaultCurrency",instructions:"Select the primary currency for budgeting and reporting.",children:c.jsx(Jt,{id:"defaultCurrency",value:i.defaultCurrency,onChange:m=>d("defaultCurrency",m.target.value),options:[{value:"CAD",label:"CAD - Canadian Dollar"},{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"}]})}),c.jsx(ot,{label:"Date Format",htmlFor:"dateFormat",instructions:"Choose how dates are displayed throughout the application.",children:c.jsx(Jt,{id:"dateFormat",value:i.dateFormat,onChange:m=>d("dateFormat",m.target.value),options:[{value:"YYYY-MM-DD",label:"YYYY-MM-DD (e.g., 2025-07-21)"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY (e.g., 07/21/2025)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (e.g., 21/07/2025)"}]})})]}),c.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:c.jsx("button",{onClick:h,disabled:!o,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},pT=()=>`item_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,mT="bg-slate-100 text-slate-800",gT=({items:t,onChange:e,itemLabel:n,withColor:i=!1})=>{const s=()=>{const h={id:pT(),label:`New ${n}`,color:mT};e([...t,h])},o=(h,m,y)=>{const x=jb(t,T=>{const w=T.find(C=>C.id===h);w&&(w[m]=y)});e(x)},u=h=>{e(t.filter(m=>m.id!==h))},d=[{label:"Green",value:"bg-green-100 text-green-800"},{label:"Blue",value:"bg-blue-100 text-blue-800"},{label:"Yellow",value:"bg-yellow-100 text-yellow-800"},{label:"Rose",value:"bg-rose-100 text-rose-800"},{label:"Indigo",value:"bg-indigo-100 text-indigo-800"},{label:"Purple",value:"bg-purple-100 text-purple-800"},{label:"Slate",value:"bg-slate-100 text-slate-800"},{label:"Gray",value:"bg-gray-100 text-gray-800"}];return c.jsxs("div",{className:"space-y-3",children:[t.map(h=>c.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center",children:[c.jsx("div",{className:i?"col-span-6":"col-span-11",children:c.jsx(kt,{"aria-label":`${n} name`,type:"text",value:h.label,onChange:m=>o(h.id,"label",m.target.value)})}),i&&c.jsx("div",{className:"col-span-5",children:c.jsx("select",{value:h.color,onChange:m=>o(h.id,"color",m.target.value),className:`block w-full pl-3 pr-10 py-2 text-base border-slate-400 rounded-md shadow-sm 
                                           focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent
                                           sm:text-sm transition-shadow duration-150`,children:d.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))})}),c.jsx("div",{className:"col-span-1 text-right",children:c.jsx("button",{type:"button",onClick:()=>u(h.id),className:"text-slate-400 hover:text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors","aria-label":`Remove ${h.label}`,children:c.jsx("i",{className:"fa-solid fa-trash-alt fa-fw"})})})]},h.id)),c.jsx("div",{className:"pt-2",children:c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add ",n]})})]})},vT=()=>{const{state:t,dispatch:e,notify:n}=cn(),[i,s]=ve.useState(t.settings.projects),[o,u]=ve.useState(!1),d=m=>{s(y=>({...y,statuses:m})),u(!0)},h=()=>{const m=St(t.settings,y=>{y.projects=i});e({type:"UPDATE_SETTINGS",payload:m}),u(!1),n("Project settings saved!","success")};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Project Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options related to project management."}),c.jsxs("div",{className:"mt-8 space-y-8",children:[c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Custom Project Statuses"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"Define the workflow stages for your projects. These will appear in the 'Project Status' dropdowns."}),c.jsx(gT,{items:i.statuses,onChange:d,itemLabel:"Status",withColor:!0})]}),c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 opacity-60",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Custom Disciplines & Genres (Coming Soon)"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Define your own artistic disciplines and genres to replace the hardcoded options."})]})]}),c.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:c.jsx("button",{onClick:h,disabled:!o,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},yT=()=>c.jsxs("div",{className:"opacity-50",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Member Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options for your collective's members."}),c.jsxs("div",{className:"mt-8 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Coming Soon"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configuration for custom member roles and availability options will be available here in a future update."})]})]}),xT=()=>c.jsxs("div",{className:"opacity-50",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Task Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options for tasks and activities."}),c.jsxs("div",{className:"mt-8 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Coming Soon"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configuration for custom task statuses, default rates, and work week settings will be available here in a future update."})]})]}),ug=({id:t,label:e,checked:n,onChange:i,disabled:s=!1})=>c.jsxs("label",{htmlFor:t,className:`flex items-center ${s?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:t,type:"checkbox",className:"sr-only",checked:n,onChange:o=>i(o.target.checked),disabled:s}),c.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${n?"bg-teal-500":"bg-slate-300"}`}),c.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow-md transition-transform transform ${n?"translate-x-6":""}`})]}),c.jsx("div",{className:"ml-3 text-slate-700 font-medium",children:e})]}),Y2=({persona:t,onChange:e})=>{const n=[{value:"gemini-2.5-flash-preview-04-17",label:"Gemini 2.5 Flash (Fast & Cost-Effective)"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(ot,{label:"AI Model",htmlFor:"ai-model",instructions:"Choose the underlying AI model for this persona.",children:c.jsx(Jt,{id:"ai-model",value:t.model,onChange:i=>e("model",i.target.value),options:n})}),c.jsxs(ot,{label:"Creativity vs. Precision (Temperature)",htmlFor:"ai-temp",instructions:"Lower values are more precise and factual. Higher values are more creative and varied.",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-xs text-slate-500",children:"Precise"}),c.jsx("input",{id:"ai-temp",type:"range",min:"0",max:"1",step:"0.1",value:t.temperature,onChange:i=>e("temperature",parseFloat(i.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"}),c.jsx("span",{className:"text-xs text-slate-500",children:"Creative"})]}),c.jsx("div",{className:"text-center font-semibold text-teal-700 mt-1",children:t.temperature.toFixed(1)})]})]}),c.jsx(ot,{label:"Instructions",htmlFor:"persona-instructions",instructions:"Define the specific personality, role, and guidelines for this AI persona.",children:c.jsx(oi,{id:"persona-instructions",rows:8,wordLimit:750,value:t.instructions,onChange:i=>e("instructions",i.target.value)})})]})},W2={main:[{name:"Default (Supportive Administrator)",instructions:"You are an expert arts administrator and grant writer, acting as a supportive and encouraging assistant for a small, community-focused arts collective. Many of the users may be from under-resourced northern, rural, or Indigenous communities and may not have professional administrative experience. Your tone should be clear, professional, accessible, and empowering. Avoid jargon. Your goal is to help users manage their projects, budgets, and reporting efficiently and confidently, turning their artistic visions into well-structured, fundable projects. Always provide actionable advice."},{name:"Quick & Direct Helper",instructions:"You are a direct, no-nonsense assistant for an arts collective. Provide clear, concise answers. Get straight to the point. Use lists and bullet points for clarity. Your goal is maximum efficiency."}],projects:[{name:"Default (Grant Writer's Assistant)",instructions:"As the Project Specialist, your role is to help users flesh out their ideas into compelling project descriptions. Focus on asking clarifying questions that draw out the 'what, why, and how' of their project. Help them articulate their artistic vision, community impact, and feasibility. When asked to generate text, adopt a narrative and slightly formal tone suitable for a grant application. Emphasize clarity, structure, and impact."},{name:"Creative Brainstormer",instructions:"As the Project Specialist, your role is to be a creative partner. When a user presents an idea, your goal is to help them brainstorm and expand on it. Suggest imaginative possibilities, unconventional approaches, and exciting titles. Ask 'What if...?' questions to spark new ideas. Your tone should be enthusiastic and inspiring."}],budget:[{name:"Default (Meticulous Bookkeeper)",instructions:"As the Budget Specialist, your persona is that of a meticulous, friendly bookkeeper. Your primary goal is accuracy and clarity. When asked to analyze or suggest budget items, be precise and reference standard practices (like CARFAC fees, per diems). Help users ensure their financial plans are realistic, comprehensive, and justifiable to funders. Use a very logical and straightforward tone."},{name:"Frugal Advisor",instructions:"As the Budget Specialist, you are a frugal and savvy advisor for a non-profit. Your main goal is to find cost savings. When analyzing a budget, actively look for areas to reduce expenses, suggest cheaper alternatives, and praise efficient planning. Your tone should be practical and focused on stretching every dollar."}],members:[{name:"Default (Professional Bio Writer)",instructions:"As the Member Specialist, your role is to help artists articulate their skills and experience. When generating or refining bios, focus on highlighting their strengths, unique experiences, and contributions to the collective. Maintain a professional and respectful tone that celebrates their artistic identity."},{name:"Publicist",instructions:"As the Member Specialist, you are a publicist. Your goal is to write exciting, engaging bios that grab the reader's attention. Use active language and strong verbs. Focus on what makes the artist unique and marketable for press releases and public-facing materials."}],tasks:[{name:"Default (Organized Project Manager)",instructions:"As the Task Management Specialist, you are a pragmatic and organized project manager. When a user provides a large goal (e.g., 'put on a show'), your job is to break it down into small, concrete, and actionable tasks. For each task, suggest a clear title, a brief description, and potential dependencies. Your language should be direct and focused on getting things done."},{name:"Agile Coach",instructions:"As the Task Management Specialist, you use an agile approach. Break down large goals into 'sprints' or phases. Frame tasks as 'user stories' where possible (e.g., 'As a director, I need to finalize casting so that rehearsals can begin'). Encourage iterative progress."}],reports:[{name:"Default (Formal Grant Writer)",instructions:"As the Reporting Specialist, you are an experienced grant writer with a formal and data-driven approach. Your goal is to help users summarize their project outcomes in a way that is clear, compelling, and satisfying to funders. When analyzing data, focus on quantifiable achievements (e.g., 'Reached X audience members,' 'Employed Y artists'). When generating text, use a professional tone and structure answers logically to align with standard final report questions."},{name:"Storyteller",instructions:"As the Reporting Specialist, your goal is to weave the project's data into a compelling narrative. Focus on the human impact and story behind the numbers. Use descriptive language to bring the project's successes to life for the report reader. Your tone should be engaging and heartfelt, while still being professional."}]},bT=({enabled:t,onEnabledChange:e,plainTextMode:n,onPlainTextModeChange:i,persona:s,onPersonaChange:o,onLoadTemplate:u,onTestPersona:d})=>c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs(ot,{label:"Master AI Switch",htmlFor:"ai-enabled",children:[c.jsx(ug,{id:"ai-enabled",label:t?"AI Features are Active":"AI Features are Inactive",checked:t,onChange:e}),c.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"This switch globally enables or disables all AI-powered features."})]}),c.jsxs(ot,{label:"Plain Text Mode",htmlFor:"plain-text-mode",children:[c.jsx(ug,{id:"plain-text-mode",label:n?"Plain Text Mode is On":"Plain Text Mode is Off",checked:n,onChange:i}),c.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Force AI responses to plain text, removing markdown (bold, lists, etc.) for easy copy-pasting."})]})]}),c.jsxs(ot,{label:"API Key Status",htmlFor:"api-status",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),c.jsx("span",{className:"font-semibold text-green-700",children:"API Key Configured & Ready"})]}),c.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"The API key is handled securely in the deployment environment and is not stored or displayed here."})]}),c.jsx("hr",{className:"my-6 border-slate-200"}),c.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Main Persona Settings"}),c.jsx("p",{className:"text-sm text-slate-600 -mt-6",children:"This is the base persona that defines the AI's core personality and tone across the entire application."}),c.jsx(Y2,{persona:s,onChange:o}),c.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-slate-200",children:[c.jsx(Jt,{onChange:h=>u(h.target.value),value:"",options:[{value:"",label:"Load a template..."},...W2.main.map(h=>({value:h.instructions,label:h.name}))],className:"w-64"}),c.jsxs("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx("i",{className:"fa-solid fa-flask-vial mr-2"}),"Test Persona"]})]})]}),wT=({personaName:t,persona:e,onPersonaChange:n,onLoadTemplate:i,onTestPersona:s})=>{const o={main:"",projects:"Define how the AI should assist with project planning, description writing, and goal setting.",budget:"Define how the AI should assist with budget creation, analysis, and financial suggestions.",members:"Define how the AI should help write or refine artist biographies and profiles.",tasks:"Define how the AI should help break down large goals into smaller, manageable tasks.",reports:"Define how the AI should assist in summarizing data and writing formal report narratives."};return c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[t.charAt(0).toUpperCase()+t.slice(1)," Persona Settings"]}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o[t]}),c.jsx(Y2,{persona:e,onChange:n}),c.jsxs("div",{className:"flex items-center gap-4 pt-4 mt-6 border-t border-slate-200",children:[c.jsx(Jt,{onChange:u=>i(u.target.value),value:"",options:[{value:"",label:"Load a template..."},...W2[t].map(u=>({value:u.instructions,label:u.name}))],className:"w-64"}),c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx("i",{className:"fa-solid fa-flask-vial mr-2"}),"Test Persona"]})]})]})};var gn;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const o={};for(const u of s)o[u]=u;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),u={};for(const d of o)u[d]=s[d];return t.objectValues(u)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.push(u);return o},t.find=(s,o)=>{for(const u of s)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,o=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(gn||(gn={}));var Ly;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ly||(Ly={}));const ct=gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nl=t=>{switch(typeof t){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return Number.isNaN(t)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(t)?ct.array:t===null?ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ct.promise:typeof Map<"u"&&t instanceof Map?ct.map:typeof Set<"u"&&t instanceof Set?ct.set:typeof Date<"u"&&t instanceof Date?ct.date:ct.object;default:return ct.unknown}},Ke=gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ko extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},s=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)i._errors.push(n(u));else{let d=i,h=0;for(;h<u.path.length;){const m=u.path[h];h===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(n(u))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return s(this),i}static assert(e){if(!(e instanceof ko))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];n[o]=n[o]||[],n[o].push(e(s))}else i.push(e(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}ko.create=t=>new ko(t);const cg=(t,e)=>{let n;switch(t.code){case Ke.invalid_type:t.received===ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ke.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,gn.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:n=`Unrecognized key(s) in object: ${gn.joinValues(t.keys,", ")}`;break;case Ke.invalid_union:n="Invalid input";break;case Ke.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${gn.joinValues(t.options)}`;break;case Ke.invalid_enum_value:n=`Invalid enum value. Expected ${gn.joinValues(t.options)}, received '${t.received}'`;break;case Ke.invalid_arguments:n="Invalid function arguments";break;case Ke.invalid_return_type:n="Invalid function return type";break;case Ke.invalid_date:n="Invalid date";break;case Ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:gn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ke.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ke.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ke.custom:n="Invalid input";break;case Ke.invalid_intersection_types:n="Intersection results could not be merged";break;case Ke.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ke.not_finite:n="Number must be finite";break;default:n=e.defaultError,gn.assertNever(t)}return{message:n}};let ST=cg;function TT(){return ST}const AT=t=>{const{data:e,path:n,errorMaps:i,issueData:s}=t,o=[...n,...s.path||[]],u={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let d="";const h=i.filter(m=>!!m).slice().reverse();for(const m of h)d=m(u,{data:e,defaultError:d}).message;return{...s,path:o,message:d}};function rt(t,e){const n=TT(),i=AT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===cg?void 0:cg].filter(s=>!!s)});t.common.issues.push(i)}class Ta{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const s of n){if(s.status==="aborted")return Ft;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const s of n){const o=await s.key,u=await s.value;i.push({key:o,value:u})}return Ta.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const s of n){const{key:o,value:u}=s;if(o.status==="aborted"||u.status==="aborted")return Ft;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(i[o.value]=u.value)}return{status:e.value,value:i}}}const Ft=Object.freeze({status:"aborted"}),Xd=t=>({status:"dirty",value:t}),Ns=t=>({status:"valid",value:t}),Ry=t=>t.status==="aborted",Fy=t=>t.status==="dirty",zc=t=>t.status==="valid",Uh=t=>typeof Promise<"u"&&t instanceof Promise;var pt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(pt||(pt={}));class zr{constructor(e,n,i,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oy=(t,e)=>{if(zc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ko(t.common.issues);return this._error=n,this._error}}};function $t(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:s}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,d)=>{const{message:h}=t;return u.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??i??d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:h??n??d.defaultError}},description:s}}class an{get description(){return this._def.description}_getType(e){return Nl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ta,ctx:{common:e.parent.common,data:e.data,parsedType:Nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Uh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Oy(i,s)}"~validate"(e){var i,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nl(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return zc(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(s=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>zc(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nl(e)},s=this._parse({data:e,path:i.path,parent:i}),o=await(Uh(s)?s:Promise.resolve(s));return Oy(i,o)}refine(e,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const u=e(s),d=()=>o.addIssue({code:Ke.custom,...i(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,n){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(e){return new $c({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Dl.create(this,this._def)}nullable(){return Yc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qr.create(this)}promise(){return Gh.create(this,this._def)}or(e){return Vh.create([this,e],this._def)}and(e){return zh.create(this,e,this._def)}transform(e){return new $c({...$t(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new pg({...$t(this._def),innerType:this,defaultValue:n,typeName:Lt.ZodDefault})}brand(){return new YT({typeName:Lt.ZodBranded,type:this,...$t(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new mg({...$t(this._def),innerType:this,catchValue:n,typeName:Lt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fg.create(this,e)}readonly(){return gg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NT=/^c[^\s-]{8,}$/i,CT=/^[0-9a-z]+$/,_T=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ET=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MT=/^[a-z0-9_-]{21}$/i,kT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,DT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Om;const PT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,J2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UT=new RegExp(`^${J2}$`);function K2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function qT(t){return new RegExp(`^${K2(t)}$`)}function VT(t){let e=`${J2}T${K2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function zT(t,e){return!!((e==="v4"||!e)&&PT.test(t)||(e==="v6"||!e)&&RT.test(t))}function HT(t,e){if(!kT.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function GT(t,e){return!!((e==="v4"||!e)&&LT.test(t)||(e==="v6"||!e)&&FT.test(t))}class Or extends an{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ct.string){const o=this._getOrReturnCtx(e);return rt(o,{code:Ke.invalid_type,expected:ct.string,received:o.parsedType}),Ft}const i=new Ta;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(s=this._getOrReturnCtx(e,s),u?rt(s,{code:Ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&rt(s,{code:Ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")jT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"email",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Om||(Om=new RegExp(IT,"u")),Om.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"emoji",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")ET.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"uuid",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")MT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"nanoid",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")NT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"cuid",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")CT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"cuid2",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")_T.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"ulid",code:Ke.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),rt(s,{validation:"url",code:Ke.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"regex",code:Ke.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?VT(o).test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?UT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?qT(o).test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?DT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"duration",code:Ke.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?zT(e.data,o.version)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"ip",code:Ke.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?HT(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"jwt",code:Ke.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?GT(e.data,o.version)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"cidr",code:Ke.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?OT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"base64",code:Ke.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?BT.test(e.data)||(s=this._getOrReturnCtx(e,s),rt(s,{validation:"base64url",code:Ke.invalid_string,message:o.message}),i.dirty()):gn.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(s=>e.test(s),{validation:n,code:Ke.invalid_string,...pt.errToObj(i)})}_addCheck(e){return new Or({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...pt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...pt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...pt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...pt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...pt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...pt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...pt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...pt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...pt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...pt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...pt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...pt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...pt.errToObj(n)})}nonempty(e){return this.min(1,pt.errToObj(e))}trim(){return new Or({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Or({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Or({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Or.create=t=>new Or({checks:[],typeName:Lt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});function $T(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),u=Number.parseInt(e.toFixed(s).replace(".",""));return o%u/10**s}class ju extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ct.number){const o=this._getOrReturnCtx(e);return rt(o,{code:Ke.invalid_type,expected:ct.number,received:o.parsedType}),Ft}let i;const s=new Ta;for(const o of this._def.checks)o.kind==="int"?gn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?$T(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.not_finite,message:o.message}),s.dirty()):gn.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,pt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pt.toString(n))}setLimit(e,n,i,s){return new ju({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:pt.toString(s)}]})}_addCheck(e){return new ju({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:pt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ju.create=t=>new ju({checks:[],typeName:Lt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class Iu extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ct.bigint)return this._getInvalidInput(e);let i;const s=new Ta;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),rt(i,{code:Ke.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):gn.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return rt(n,{code:Ke.invalid_type,expected:ct.bigint,received:n.parsedType}),Ft}gte(e,n){return this.setLimit("min",e,!0,pt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pt.toString(n))}setLimit(e,n,i,s){return new Iu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:pt.toString(s)}]})}_addCheck(e){return new Iu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Iu.create=t=>new Iu({checks:[],typeName:Lt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});class qh extends an{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ct.boolean){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.boolean,received:i.parsedType}),Ft}return Ns(e.data)}}qh.create=t=>new qh({typeName:Lt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class Hc extends an{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ct.date){const o=this._getOrReturnCtx(e);return rt(o,{code:Ke.invalid_type,expected:ct.date,received:o.parsedType}),Ft}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return rt(o,{code:Ke.invalid_date}),Ft}const i=new Ta;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),rt(s,{code:Ke.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):gn.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:pt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:pt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Hc.create=t=>new Hc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Lt.ZodDate,...$t(t)});class By extends an{_parse(e){if(this._getType(e)!==ct.symbol){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.symbol,received:i.parsedType}),Ft}return Ns(e.data)}}By.create=t=>new By({typeName:Lt.ZodSymbol,...$t(t)});class Uy extends an{_parse(e){if(this._getType(e)!==ct.undefined){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.undefined,received:i.parsedType}),Ft}return Ns(e.data)}}Uy.create=t=>new Uy({typeName:Lt.ZodUndefined,...$t(t)});class qy extends an{_parse(e){if(this._getType(e)!==ct.null){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.null,received:i.parsedType}),Ft}return Ns(e.data)}}qy.create=t=>new qy({typeName:Lt.ZodNull,...$t(t)});class Vy extends an{constructor(){super(...arguments),this._any=!0}_parse(e){return Ns(e.data)}}Vy.create=t=>new Vy({typeName:Lt.ZodAny,...$t(t)});class dg extends an{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ns(e.data)}}dg.create=t=>new dg({typeName:Lt.ZodUnknown,...$t(t)});class Pl extends an{_parse(e){const n=this._getOrReturnCtx(e);return rt(n,{code:Ke.invalid_type,expected:ct.never,received:n.parsedType}),Ft}}Pl.create=t=>new Pl({typeName:Lt.ZodNever,...$t(t)});class zy extends an{_parse(e){if(this._getType(e)!==ct.undefined){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.void,received:i.parsedType}),Ft}return Ns(e.data)}}zy.create=t=>new zy({typeName:Lt.ZodVoid,...$t(t)});class qr extends an{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),s=this._def;if(n.parsedType!==ct.array)return rt(n,{code:Ke.invalid_type,expected:ct.array,received:n.parsedType}),Ft;if(s.exactLength!==null){const u=n.data.length>s.exactLength.value,d=n.data.length<s.exactLength.value;(u||d)&&(rt(n,{code:u?Ke.too_big:Ke.too_small,minimum:d?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(rt(n,{code:Ke.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(rt(n,{code:Ke.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((u,d)=>s.type._parseAsync(new zr(n,u,n.path,d)))).then(u=>Ta.mergeArray(i,u));const o=[...n.data].map((u,d)=>s.type._parseSync(new zr(n,u,n.path,d)));return Ta.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new qr({...this._def,minLength:{value:e,message:pt.toString(n)}})}max(e,n){return new qr({...this._def,maxLength:{value:e,message:pt.toString(n)}})}length(e,n){return new qr({...this._def,exactLength:{value:e,message:pt.toString(n)}})}nonempty(e){return this.min(1,e)}}qr.create=(t,e)=>new qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...$t(e)});function Fc(t){if(t instanceof Ai){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Dl.create(Fc(i))}return new Ai({...t._def,shape:()=>e})}else return t instanceof qr?new qr({...t._def,type:Fc(t.element)}):t instanceof Dl?Dl.create(Fc(t.unwrap())):t instanceof Yc?Yc.create(Fc(t.unwrap())):t instanceof Pu?Pu.create(t.items.map(e=>Fc(e))):t}class Ai extends an{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=gn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ct.object){const m=this._getOrReturnCtx(e);return rt(m,{code:Ke.invalid_type,expected:ct.object,received:m.parsedType}),Ft}const{status:i,ctx:s}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof Pl&&this._def.unknownKeys==="strip"))for(const m in s.data)u.includes(m)||d.push(m);const h=[];for(const m of u){const y=o[m],x=s.data[m];h.push({key:{status:"valid",value:m},value:y._parse(new zr(s,x,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Pl){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of d)h.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")d.length>0&&(rt(s,{code:Ke.unrecognized_keys,keys:d}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of d){const x=s.data[y];h.push({key:{status:"valid",value:y},value:m._parse(new zr(s,x,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of h){const x=await y.key,T=await y.value;m.push({key:x,value:T,alwaysSet:y.alwaysSet})}return m}).then(m=>Ta.mergeObjectSync(i,m)):Ta.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(e){return pt.errToObj,new Ai({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,u;const s=((u=(o=this._def).errorMap)==null?void 0:u.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:pt.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ai({...this._def,unknownKeys:"strip"})}passthrough(){return new Ai({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ai({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ai({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Lt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ai({...this._def,catchall:e})}pick(e){const n={};for(const i of gn.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Ai({...this._def,shape:()=>n})}omit(e){const n={};for(const i of gn.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Ai({...this._def,shape:()=>n})}deepPartial(){return Fc(this)}partial(e){const n={};for(const i of gn.objectKeys(this.shape)){const s=this.shape[i];e&&!e[i]?n[i]=s:n[i]=s.optional()}return new Ai({...this._def,shape:()=>n})}required(e){const n={};for(const i of gn.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Dl;)o=o._def.innerType;n[i]=o}return new Ai({...this._def,shape:()=>n})}keyof(){return Z2(gn.objectKeys(this.shape))}}Ai.create=(t,e)=>new Ai({shape:()=>t,unknownKeys:"strip",catchall:Pl.create(),typeName:Lt.ZodObject,...$t(e)});Ai.strictCreate=(t,e)=>new Ai({shape:()=>t,unknownKeys:"strict",catchall:Pl.create(),typeName:Lt.ZodObject,...$t(e)});Ai.lazycreate=(t,e)=>new Ai({shape:t,unknownKeys:"strip",catchall:Pl.create(),typeName:Lt.ZodObject,...$t(e)});class Vh extends an{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function s(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new ko(d.ctx.common.issues));return rt(n,{code:Ke.invalid_union,unionErrors:u}),Ft}if(n.common.async)return Promise.all(i.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(s);{let o;const u=[];for(const h of i){const m={...n,common:{...n.common,issues:[]},parent:null},y=h._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(h=>new ko(h));return rt(n,{code:Ke.invalid_union,unionErrors:d}),Ft}}get options(){return this._def.options}}Vh.create=(t,e)=>new Vh({options:t,typeName:Lt.ZodUnion,...$t(e)});function fg(t,e){const n=Nl(t),i=Nl(e);if(t===e)return{valid:!0,data:t};if(n===ct.object&&i===ct.object){const s=gn.objectKeys(e),o=gn.objectKeys(t).filter(d=>s.indexOf(d)!==-1),u={...t,...e};for(const d of o){const h=fg(t[d],e[d]);if(!h.valid)return{valid:!1};u[d]=h.data}return{valid:!0,data:u}}else if(n===ct.array&&i===ct.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const u=t[o],d=e[o],h=fg(u,d);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return n===ct.date&&i===ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zh extends an{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=(o,u)=>{if(Ry(o)||Ry(u))return Ft;const d=fg(o.value,u.value);return d.valid?((Fy(o)||Fy(u))&&n.dirty(),{status:n.value,value:d.data}):(rt(i,{code:Ke.invalid_intersection_types}),Ft)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,u])=>s(o,u)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}zh.create=(t,e,n)=>new zh({left:t,right:e,typeName:Lt.ZodIntersection,...$t(n)});class Pu extends an{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.array)return rt(i,{code:Ke.invalid_type,expected:ct.array,received:i.parsedType}),Ft;if(i.data.length<this._def.items.length)return rt(i,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&i.data.length>this._def.items.length&&(rt(i,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((u,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new zr(i,u,i.path,d)):null}).filter(u=>!!u);return i.common.async?Promise.all(o).then(u=>Ta.mergeArray(n,u)):Ta.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Pu({...this._def,rest:e})}}Pu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pu({items:t,typeName:Lt.ZodTuple,rest:null,...$t(e)})};class Hh extends an{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.object)return rt(i,{code:Ke.invalid_type,expected:ct.object,received:i.parsedType}),Ft;const s=[],o=this._def.keyType,u=this._def.valueType;for(const d in i.data)s.push({key:o._parse(new zr(i,d,i.path,d)),value:u._parse(new zr(i,i.data[d],i.path,d)),alwaysSet:d in i.data});return i.common.async?Ta.mergeObjectAsync(n,s):Ta.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof an?new Hh({keyType:e,valueType:n,typeName:Lt.ZodRecord,...$t(i)}):new Hh({keyType:Or.create(),valueType:e,typeName:Lt.ZodRecord,...$t(n)})}}class Hy extends an{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.map)return rt(i,{code:Ke.invalid_type,expected:ct.map,received:i.parsedType}),Ft;const s=this._def.keyType,o=this._def.valueType,u=[...i.data.entries()].map(([d,h],m)=>({key:s._parse(new zr(i,d,i.path,[m,"key"])),value:o._parse(new zr(i,h,i.path,[m,"value"]))}));if(i.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of u){const m=await h.key,y=await h.value;if(m.status==="aborted"||y.status==="aborted")return Ft;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),d.set(m.value,y.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const h of u){const m=h.key,y=h.value;if(m.status==="aborted"||y.status==="aborted")return Ft;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),d.set(m.value,y.value)}return{status:n.value,value:d}}}}Hy.create=(t,e,n)=>new Hy({valueType:e,keyType:t,typeName:Lt.ZodMap,...$t(n)});class ff extends an{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.set)return rt(i,{code:Ke.invalid_type,expected:ct.set,received:i.parsedType}),Ft;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(rt(i,{code:Ke.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(rt(i,{code:Ke.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function u(h){const m=new Set;for(const y of h){if(y.status==="aborted")return Ft;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const d=[...i.data.values()].map((h,m)=>o._parse(new zr(i,h,i.path,m)));return i.common.async?Promise.all(d).then(h=>u(h)):u(d)}min(e,n){return new ff({...this._def,minSize:{value:e,message:pt.toString(n)}})}max(e,n){return new ff({...this._def,maxSize:{value:e,message:pt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ff.create=(t,e)=>new ff({valueType:t,minSize:null,maxSize:null,typeName:Lt.ZodSet,...$t(e)});class hg extends an{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hg.create=(t,e)=>new hg({getter:t,typeName:Lt.ZodLazy,...$t(e)});class Gy extends an{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return rt(n,{received:n.data,code:Ke.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gy.create=(t,e)=>new Gy({value:t,typeName:Lt.ZodLiteral,...$t(e)});function Z2(t,e){return new Gc({values:t,typeName:Lt.ZodEnum,...$t(e)})}class Gc extends an{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return rt(n,{expected:gn.joinValues(i),received:n.parsedType,code:Ke.invalid_type}),Ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return rt(n,{received:n.data,code:Ke.invalid_enum_value,options:i}),Ft}return Ns(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Gc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Gc.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Gc.create=Z2;class $y extends an{_parse(e){const n=gn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ct.string&&i.parsedType!==ct.number){const s=gn.objectValues(n);return rt(i,{expected:gn.joinValues(s),received:i.parsedType,code:Ke.invalid_type}),Ft}if(this._cache||(this._cache=new Set(gn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=gn.objectValues(n);return rt(i,{received:i.data,code:Ke.invalid_enum_value,options:s}),Ft}return Ns(e.data)}get enum(){return this._def.values}}$y.create=(t,e)=>new $y({values:t,typeName:Lt.ZodNativeEnum,...$t(e)});class Gh extends an{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.promise&&n.common.async===!1)return rt(n,{code:Ke.invalid_type,expected:ct.promise,received:n.parsedType}),Ft;const i=n.parsedType===ct.promise?n.data:Promise.resolve(n.data);return Ns(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gh.create=(t,e)=>new Gh({type:t,typeName:Lt.ZodPromise,...$t(e)});class $c extends an{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:u=>{rt(i,u),u.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const u=s.transform(i.data,o);if(i.common.async)return Promise.resolve(u).then(async d=>{if(n.value==="aborted")return Ft;const h=await this._def.schema._parseAsync({data:d,path:i.path,parent:i});return h.status==="aborted"?Ft:h.status==="dirty"||n.value==="dirty"?Xd(h.value):h});{if(n.value==="aborted")return Ft;const d=this._def.schema._parseSync({data:u,path:i.path,parent:i});return d.status==="aborted"?Ft:d.status==="dirty"||n.value==="dirty"?Xd(d.value):d}}if(s.type==="refinement"){const u=d=>{const h=s.refinement(d,o);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return d.status==="aborted"?Ft:(d.status==="dirty"&&n.dirty(),u(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>d.status==="aborted"?Ft:(d.status==="dirty"&&n.dirty(),u(d.value).then(()=>({status:n.value,value:d.value}))))}if(s.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!zc(u))return Ft;const d=s.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>zc(u)?Promise.resolve(s.transform(u.value,o)).then(d=>({status:n.value,value:d})):Ft);gn.assertNever(s)}}$c.create=(t,e,n)=>new $c({schema:t,typeName:Lt.ZodEffects,effect:e,...$t(n)});$c.createWithPreprocess=(t,e,n)=>new $c({schema:e,effect:{type:"preprocess",transform:t},typeName:Lt.ZodEffects,...$t(n)});class Dl extends an{_parse(e){return this._getType(e)===ct.undefined?Ns(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dl.create=(t,e)=>new Dl({innerType:t,typeName:Lt.ZodOptional,...$t(e)});class Yc extends an{_parse(e){return this._getType(e)===ct.null?Ns(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yc.create=(t,e)=>new Yc({innerType:t,typeName:Lt.ZodNullable,...$t(e)});class pg extends an{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===ct.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pg.create=(t,e)=>new pg({innerType:t,typeName:Lt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$t(e)});class mg extends an{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Uh(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ko(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ko(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}mg.create=(t,e)=>new mg({innerType:t,typeName:Lt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$t(e)});class Yy extends an{_parse(e){if(this._getType(e)!==ct.nan){const i=this._getOrReturnCtx(e);return rt(i,{code:Ke.invalid_type,expected:ct.nan,received:i.parsedType}),Ft}return{status:"valid",value:e.data}}}Yy.create=t=>new Yy({typeName:Lt.ZodNaN,...$t(t)});class YT extends an{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fg extends an{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ft:o.status==="dirty"?(n.dirty(),Xd(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Ft:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,n){return new Fg({in:e,out:n,typeName:Lt.ZodPipeline})}}class gg extends an{_parse(e){const n=this._def.innerType._parse(e),i=s=>(zc(s)&&(s.value=Object.freeze(s.value)),s);return Uh(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}gg.create=(t,e)=>new gg({innerType:t,typeName:Lt.ZodReadonly,...$t(e)});var Lt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const bu=Or.create,Wy=ju.create;Iu.create;const WT=qh.create;Hc.create;const Jy=dg.create;Pl.create;const Qd=qr.create,JT=Ai.create,KT=Vh.create;zh.create;Pu.create;const ZT=Hh.create,XT=hg.create,QT=Gc.create;Gh.create;Dl.create;Yc.create;const Pc={string:t=>Or.create({...t,coerce:!0}),number:t=>ju.create({...t,coerce:!0}),boolean:t=>qh.create({...t,coerce:!0}),bigint:t=>Iu.create({...t,coerce:!0}),date:t=>Hc.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eA,tA;function nA(){return{geminiUrl:eA,vertexUrl:tA}}function iA(t,e,n){var i,s,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=nA();return t.vertexai?(s=u.vertexUrl)!==null&&s!==void 0?s:e:(o=u.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou{}function yt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const u=e[o];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let m=0;m<h.length;m++){const y=h[m];p(y,e.slice(o+1),n[m])}else for(const m of h)p(m,e.slice(o+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];p(h[0],e.slice(o+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function f(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(u=>f(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ky;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ky||(Ky={}));var Zy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Zy||(Zy={}));var Br;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Br||(Br={}));var Xy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Xy||(Xy={}));var Qy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Qy||(Qy={}));var e1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(e1||(e1={}));var t1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(t1||(t1={}));var n1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(n1||(n1={}));var i1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(i1||(i1={}));var a1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(a1||(a1={}));var s1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(s1||(s1={}));var r1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(r1||(r1={}));var o1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(o1||(o1={}));var l1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(l1||(l1={}));var u1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(u1||(u1={}));var c1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(c1||(c1={}));var $h;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($h||($h={}));var d1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(d1||(d1={}));var vg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vg||(vg={}));var f1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(f1||(f1={}));var h1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(h1||(h1={}));var p1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(p1||(p1={}));var m1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(m1||(m1={}));var g1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(g1||(g1={}));var v1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(v1||(v1={}));var y1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(y1||(y1={}));var x1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(x1||(x1={}));var b1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(b1||(b1={}));var w1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(w1||(w1={}));var S1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(S1||(S1={}));var T1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(T1||(T1={}));var A1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(A1||(A1={}));var N1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(N1||(N1={}));var C1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(C1||(C1={}));var _1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_1||(_1={}));var E1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(E1||(E1={}));var M1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(M1||(M1={}));var k1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(k1||(k1={}));var D1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(D1||(D1={}));var j1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(j1||(j1={}));var I1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(I1||(I1={}));var Oc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oc||(Oc={}));class yg{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Kd{get text(){var e,n,i,s,o,u,d,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const x=[];for(const T of(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[w,C]of Object.entries(T))w!=="text"&&w!=="thought"&&(C!==null||C!==void 0)&&x.push(w);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,m+=T.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,i,s,o,u,d,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const x of(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[T,w]of Object.entries(x))T!=="inlineData"&&(w!==null||w!==void 0)&&y.push(T);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,s,o,u,d,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,s,o,u,d,h,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,s,o,u,d,h,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class P1{}class L1{}class aA{}class sA{}class R1{}class F1{}class O1{}class rA{}class B1{}class U1{}class q1{}class oA{}class lA{}class uA{}class V1{}class cA{get text(){var e,n,i;let s="",o=!1;const u=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(d))h!=="text"&&h!=="thought"&&m!==null&&u.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;o=!0,s+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?s:void 0}get data(){var e,n,i;let s="";const o=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(u))d!=="inlineData"&&h!==null&&o.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(s+=atob(u.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class dA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function X2(t,e){const n=Nn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Q2(t){return Array.isArray(t)?t.map(e=>Yh(e)):[Yh(t)]}function Yh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ex(t){const e=Yh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tx(t){const e=Yh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function z1(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function nx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>z1(e)):[z1(t)]}function xg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function H1(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function G1(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function da(t){if(t==null)throw new Error("ContentUnion is required");return xg(t)?t:{role:"user",parts:nx(t)}}function ix(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=da(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=da(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>da(n)):[da(e)]}function As(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(H1(t)||G1(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[da(t)]}const e=[],n=[],i=xg(t[0]);for(const s of t){const o=xg(s);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(s);else{if(H1(s)||G1(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:nx(n)}),e}const fA=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),$1=QT(["string","number","integer","object","array","boolean","null"]),hA=KT([$1,Qd($1)]);function pA(t=!0){const e=XT(()=>{const n=JT({type:hA.optional(),format:bu().optional(),title:bu().optional(),description:bu().optional(),default:Jy().optional(),items:e.optional(),minItems:Pc.string().optional(),maxItems:Pc.string().optional(),enum:Qd(Jy()).optional(),properties:ZT(bu(),e).optional(),required:Qd(bu()).optional(),minProperties:Pc.string().optional(),maxProperties:Pc.string().optional(),propertyOrdering:Qd(bu()).optional(),minimum:Wy().optional(),maximum:Wy().optional(),minLength:Pc.string().optional(),maxLength:Pc.string().optional(),pattern:bu().optional(),anyOf:Qd(e).optional(),additionalProperties:WT().optional()});return t?n.strict():n});return e}function mA(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Br).includes(n[0].toUpperCase())?n[0].toUpperCase():Br.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Br).includes(i.toUpperCase())?i.toUpperCase():Br.TYPE_UNSPECIFIED})}}function Bc(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&mA(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Br).includes(d.toUpperCase())?d.toUpperCase():Br.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Bc(d);else if(i.includes(u)){const h=[];for(const m of d){if(m.type=="null"){e.nullable=!0;continue}h.push(Bc(m))}e[u]=h}else if(s.includes(u)){const h={};for(const[m,y]of Object.entries(d))h[m]=Bc(y);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=d}return e}function hf(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=pA().parse(t);return Bc(e)}else return Bc(t)}function Og(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Bg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Wc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=hf(e.parameters)),e.response&&(e.response=hf(e.response));return t}function Jc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function gA(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Do(t,e){if(typeof e!="string")throw new Error("name must be a string");return gA(t,e,"cachedContents")}function ax(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function jo(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function vA(t){return t!=null&&typeof t=="object"&&"name"in t}function yA(t){return t!=null&&typeof t=="object"&&"video"in t}function xA(t){return t!=null&&typeof t=="object"&&"uri"in t}function sx(t){var e;let n;if(vA(t)&&(n=t.name),!(xA(t)&&(n=t.uri,n===void 0))&&!(yA(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function rx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ox(t){for(const e of["models","tunedModels","publisherModels"])if(bA(t,e))return t[e];return[]}function bA(t,e){return t!==null&&typeof t=="object"&&e in t}function wA(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Bc(up(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function SA(t,e={}){const n=[],i=new Set;for(const s of t){const o=s.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const u=wA(s,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function TA(t){const e=[];for(const n of t)e.push(up(n));return e}function AA(t){const e={};for(const[n,i]of Object.entries(t)){const s=i;e[n]=up(s)}return e}function up(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),s={};for(const[o,u]of Object.entries(t))if(e.has(o))s[o]=up(u);else if(n.has(o))s[o]=TA(u);else if(i.has(o))s[o]=AA(u);else if(o==="type"){const d=u.toUpperCase();s[o]=Object.values(Br).includes(d)?d:Br.TYPE_UNSPECIFIED}else fA.has(o)&&(s[o]=u);return s}function lx(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function NA(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Kc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ux(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function _A(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function EA(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function MA(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],CA(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],_A(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],EA(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function cx(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>MA(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function kA(t){const e={},n=f(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const i=f(t,["default"]);i!=null&&p(e,["default"],i);const s=f(t,["description"]);s!=null&&p(e,["description"],s);const o=f(t,["enum"]);o!=null&&p(e,["enum"],o);const u=f(t,["example"]);u!=null&&p(e,["example"],u);const d=f(t,["format"]);d!=null&&p(e,["format"],d);const h=f(t,["items"]);h!=null&&p(e,["items"],h);const m=f(t,["maxItems"]);m!=null&&p(e,["maxItems"],m);const y=f(t,["maxLength"]);y!=null&&p(e,["maxLength"],y);const x=f(t,["maxProperties"]);x!=null&&p(e,["maxProperties"],x);const T=f(t,["maximum"]);T!=null&&p(e,["maximum"],T);const w=f(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=f(t,["minLength"]);C!=null&&p(e,["minLength"],C);const M=f(t,["minProperties"]);M!=null&&p(e,["minProperties"],M);const D=f(t,["minimum"]);D!=null&&p(e,["minimum"],D);const E=f(t,["nullable"]);E!=null&&p(e,["nullable"],E);const j=f(t,["pattern"]);j!=null&&p(e,["pattern"],j);const F=f(t,["properties"]);F!=null&&p(e,["properties"],F);const B=f(t,["propertyOrdering"]);B!=null&&p(e,["propertyOrdering"],B);const H=f(t,["required"]);H!=null&&p(e,["required"],H);const ee=f(t,["title"]);ee!=null&&p(e,["title"],ee);const V=f(t,["type"]);return V!=null&&p(e,["type"],V),e}function DA(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(t,["category"]);n!=null&&p(e,["category"],n);const i=f(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function jA(t){const e={},n=f(t,["behavior"]);n!=null&&p(e,["behavior"],n);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const d=f(t,["response"]);d!=null&&p(e,["response"],d);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function IA(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function PA(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],IA(n)),e}function LA(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function RA(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],LA(n)),e}function FA(){return{}}function OA(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>jA(m))),p(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],PA(i));const s=f(t,["googleSearchRetrieval"]);if(s!=null&&p(e,["googleSearchRetrieval"],RA(s)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&p(e,["urlContext"],FA());const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["computerUse"]);return d!=null&&p(e,["computerUse"],d),e}function BA(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);return i!=null&&p(e,["allowedFunctionNames"],i),e}function UA(t){const e={},n=f(t,["latitude"]);n!=null&&p(e,["latitude"],n);const i=f(t,["longitude"]);return i!=null&&p(e,["longitude"],i),e}function qA(t){const e={},n=f(t,["latLng"]);n!=null&&p(e,["latLng"],UA(n));const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function VA(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],BA(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],qA(i)),e}function zA(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function dx(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],zA(n)),e}function HA(t){const e={},n=f(t,["speaker"]);n!=null&&p(e,["speaker"],n);const i=f(t,["voiceConfig"]);return i!=null&&p(e,["voiceConfig"],dx(i)),e}function GA(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HA(s))),p(e,["speakerVoiceConfigs"],i)}return e}function $A(t){const e={},n=f(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],dx(n));const i=f(t,["multiSpeakerVoiceConfig"]);i!=null&&p(e,["multiSpeakerVoiceConfig"],GA(i));const s=f(t,["languageCode"]);return s!=null&&p(e,["languageCode"],s),e}function YA(t){const e={},n=f(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const i=f(t,["thinkingBudget"]);return i!=null&&p(e,["thinkingBudget"],i),e}function WA(t,e,n){const i={},s=f(e,["systemInstruction"]);n!==void 0&&s!=null&&p(n,["systemInstruction"],cx(da(s)));const o=f(e,["temperature"]);o!=null&&p(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&p(i,["stopSequences"],y);const x=f(e,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const T=f(e,["logprobs"]);T!=null&&p(i,["logprobs"],T);const w=f(e,["presencePenalty"]);w!=null&&p(i,["presencePenalty"],w);const C=f(e,["frequencyPenalty"]);C!=null&&p(i,["frequencyPenalty"],C);const M=f(e,["seed"]);M!=null&&p(i,["seed"],M);const D=f(e,["responseMimeType"]);D!=null&&p(i,["responseMimeType"],D);const E=f(e,["responseSchema"]);E!=null&&p(i,["responseSchema"],kA(hf(E)));const j=f(e,["responseJsonSchema"]);if(j!=null&&p(i,["responseJsonSchema"],j),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=f(e,["safetySettings"]);if(n!==void 0&&F!=null){let I=F;Array.isArray(I)&&(I=I.map(k=>DA(k))),p(n,["safetySettings"],I)}const B=f(e,["tools"]);if(n!==void 0&&B!=null){let I=Jc(B);Array.isArray(I)&&(I=I.map(k=>OA(Wc(k)))),p(n,["tools"],I)}const H=f(e,["toolConfig"]);if(n!==void 0&&H!=null&&p(n,["toolConfig"],VA(H)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=f(e,["cachedContent"]);n!==void 0&&ee!=null&&p(n,["cachedContent"],Do(t,ee));const V=f(e,["responseModalities"]);V!=null&&p(i,["responseModalities"],V);const U=f(e,["mediaResolution"]);U!=null&&p(i,["mediaResolution"],U);const O=f(e,["speechConfig"]);if(O!=null&&p(i,["speechConfig"],$A(Og(O))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=f(e,["thinkingConfig"]);return ue!=null&&p(i,["thinkingConfig"],YA(ue)),i}function JA(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["request","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>cx(d))),p(n,["request","contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["request","generationConfig"],WA(t,o,n)),n}function KA(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&p(n,["fileName"],i);const s=f(e,["inlinedRequests"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>JA(t,u))),p(n,["requests","requests"],o)}return n}function ZA(t,e){const n={},i=f(t,["displayName"]);if(e!==void 0&&i!=null&&p(e,["batch","displayName"],i),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function XA(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["src"]);s!=null&&p(n,["batch","inputConfig"],KA(t,lx(t,s)));const o=f(e,["config"]);return o!=null&&p(n,["config"],ZA(o,n)),n}function QA(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function eN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function tN(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);if(e!==void 0&&s!=null&&p(e,["_query","pageToken"],s),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function nN(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],tN(n,e)),e}function iN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function aN(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const i=f(t,["gcsUri"]);i!=null&&p(e,["gcsSource","uris"],i);const s=f(t,["bigqueryUri"]);if(s!=null&&p(e,["bigquerySource","inputUri"],s),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sN(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const i=f(t,["gcsUri"]);i!=null&&p(e,["gcsDestination","outputUriPrefix"],i);const s=f(t,["bigqueryUri"]);if(s!=null&&p(e,["bigqueryDestination","outputUri"],s),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function rN(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const s=f(t,["dest"]);return e!==void 0&&s!=null&&p(e,["outputConfig"],sN(NA(s))),n}function oN(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],Nn(t,i));const s=f(e,["src"]);s!=null&&p(n,["inputConfig"],aN(lx(t,s)));const o=f(e,["config"]);return o!=null&&p(n,["config"],rN(o,n)),n}function lN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function uN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function cN(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function dN(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],cN(n,e)),e}function fN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Kc(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function fx(){return{}}function hN(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function pN(t){const e={},n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function mN(t){const e={},n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function gN(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hN(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],pN(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],mN(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function vN(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>gN(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function yN(t){const e={},n=f(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function xN(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const i=f(t,["urlRetrievalStatus"]);return i!=null&&p(e,["urlRetrievalStatus"],i),e}function bN(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>xN(s))),p(e,["urlMetadata"],i)}return e}function wN(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],vN(n));const i=f(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],yN(i));const s=f(t,["tokenCount"]);s!=null&&p(e,["tokenCount"],s);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const u=f(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],bN(u));const d=f(t,["avgLogprobs"]);d!=null&&p(e,["avgLogprobs"],d);const h=f(t,["groundingMetadata"]);h!=null&&p(e,["groundingMetadata"],h);const m=f(t,["index"]);m!=null&&p(e,["index"],m);const y=f(t,["logprobsResult"]);y!=null&&p(e,["logprobsResult"],y);const x=f(t,["safetyRatings"]);return x!=null&&p(e,["safetyRatings"],x),e}function SN(t){const e={},n=f(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>wN(d))),p(e,["candidates"],u)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const s=f(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const o=f(t,["usageMetadata"]);return o!=null&&p(e,["usageMetadata"],o),e}function TN(t){const e={},n=f(t,["response"]);return n!=null&&p(e,["response"],SN(n)),f(t,["error"])!=null&&p(e,["error"],fx()),e}function AN(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const i=f(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>TN(o))),p(e,["inlinedResponses"],s)}return e}function bg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata","displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["metadata","state"]);s!=null&&p(e,["state"],ux(s));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const u=f(t,["metadata","endTime"]);u!=null&&p(e,["endTime"],u);const d=f(t,["metadata","updateTime"]);d!=null&&p(e,["updateTime"],d);const h=f(t,["metadata","model"]);h!=null&&p(e,["model"],h);const m=f(t,["metadata","output"]);return m!=null&&p(e,["dest"],AN(m)),e}function NN(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>bg(o))),p(e,["batchJobs"],s)}return e}function CN(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["done"]);return i!=null&&p(e,["done"],i),f(t,["error"])!=null&&p(e,["error"],fx()),e}function hx(t){const e={},n=f(t,["details"]);n!=null&&p(e,["details"],n);const i=f(t,["code"]);i!=null&&p(e,["code"],i);const s=f(t,["message"]);return s!=null&&p(e,["message"],s),e}function _N(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const i=f(t,["gcsSource","uris"]);i!=null&&p(e,["gcsUri"],i);const s=f(t,["bigquerySource","inputUri"]);return s!=null&&p(e,["bigqueryUri"],s),e}function EN(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const i=f(t,["gcsDestination","outputUriPrefix"]);i!=null&&p(e,["gcsUri"],i);const s=f(t,["bigqueryDestination","outputUri"]);return s!=null&&p(e,["bigqueryUri"],s),e}function wg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["state"]);s!=null&&p(e,["state"],ux(s));const o=f(t,["error"]);o!=null&&p(e,["error"],hx(o));const u=f(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=f(t,["startTime"]);d!=null&&p(e,["startTime"],d);const h=f(t,["endTime"]);h!=null&&p(e,["endTime"],h);const m=f(t,["updateTime"]);m!=null&&p(e,["updateTime"],m);const y=f(t,["model"]);y!=null&&p(e,["model"],y);const x=f(t,["inputConfig"]);x!=null&&p(e,["src"],_N(x));const T=f(t,["outputConfig"]);return T!=null&&p(e,["dest"],EN(T)),e}function MN(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>wg(o))),p(e,["batchJobs"],s)}return e}function kN(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const s=f(t,["error"]);return s!=null&&p(e,["error"],hx(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Lu||(Lu={}));class gf{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DN extends Ou{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new gf(Lu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=oN(this.apiClient,e);return d=yt("batchPredictionJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>wg(y))}else{const m=XA(this.apiClient,e);return d=yt("{model}:batchGenerateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>bg(y))}}async get(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=lN(this.apiClient,e);return d=yt("batchPredictionJobs/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>wg(y))}else{const m=QA(this.apiClient,e);return d=yt("batches/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>bg(y))}}async cancel(e){var n,i,s,o;let u="",d={};if(this.apiClient.isVertexAI()){const h=uN(this.apiClient,e);u=yt("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=eN(this.apiClient,e);u=yt("batches/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=dN(e);return d=yt("batchPredictionJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=MN(y),T=new V1;return Object.assign(T,x),T})}else{const m=nN(e);return d=yt("batches",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=NN(y),T=new V1;return Object.assign(T,x),T})}}async delete(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=fN(this.apiClient,e);return d=yt("batchPredictionJobs/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>kN(y))}else{const m=iN(this.apiClient,e);return d=yt("batches/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>CN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jN(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function IN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function PN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function LN(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],jN(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],IN(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],PN(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function Y1(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>LN(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function RN(t){const e={},n=f(t,["behavior"]);n!=null&&p(e,["behavior"],n);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const d=f(t,["response"]);d!=null&&p(e,["response"],d);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function FN(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function ON(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],FN(n)),e}function BN(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function UN(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],BN(n)),e}function qN(){return{}}function VN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>RN(m))),p(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],ON(i));const s=f(t,["googleSearchRetrieval"]);if(s!=null&&p(e,["googleSearchRetrieval"],UN(s)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&p(e,["urlContext"],qN());const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["computerUse"]);return d!=null&&p(e,["computerUse"],d),e}function zN(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);return i!=null&&p(e,["allowedFunctionNames"],i),e}function HN(t){const e={},n=f(t,["latitude"]);n!=null&&p(e,["latitude"],n);const i=f(t,["longitude"]);return i!=null&&p(e,["longitude"],i),e}function GN(t){const e={},n=f(t,["latLng"]);n!=null&&p(e,["latLng"],HN(n));const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function $N(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],zN(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],GN(i)),e}function YN(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const s=f(t,["expireTime"]);e!==void 0&&s!=null&&p(e,["expireTime"],s);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let y=As(u);Array.isArray(y)&&(y=y.map(x=>Y1(x))),p(e,["contents"],y)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],Y1(da(d)));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>VN(x))),p(e,["tools"],y)}const m=f(t,["toolConfig"]);if(e!==void 0&&m!=null&&p(e,["toolConfig"],$N(m)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function WN(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],X2(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],YN(s,n)),n}function JN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function KN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function ZN(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const s=f(t,["expireTime"]);return e!==void 0&&s!=null&&p(e,["expireTime"],s),n}function XN(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],ZN(s,n)),n}function QN(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);return e!==void 0&&s!=null&&p(e,["_query","pageToken"],s),n}function eC(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],QN(n,e)),e}function tC(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function nC(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["data"]);i!=null&&p(e,["data"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function iC(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function aC(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],tC(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],nC(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],iC(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function W1(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>aC(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function sC(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["parameters"]);s!=null&&p(e,["parameters"],s);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function rC(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function oC(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],rC(n)),e}function lC(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function uC(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],lC(n)),e}function cC(){return{}}function dC(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function fC(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],dC(n));const i=f(t,["authType"]);i!=null&&p(e,["authType"],i);const s=f(t,["googleServiceAccountConfig"]);s!=null&&p(e,["googleServiceAccountConfig"],s);const o=f(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=f(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const d=f(t,["oidcConfig"]);return d!=null&&p(e,["oidcConfig"],d),e}function hC(t){const e={},n=f(t,["authConfig"]);return n!=null&&p(e,["authConfig"],fC(n)),e}function pC(){return{}}function mC(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(T=>sC(T))),p(e,["functionDeclarations"],x)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],oC(s));const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],uC(o)),f(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],cC());const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],hC(d)),f(t,["urlContext"])!=null&&p(e,["urlContext"],pC());const m=f(t,["codeExecution"]);m!=null&&p(e,["codeExecution"],m);const y=f(t,["computerUse"]);return y!=null&&p(e,["computerUse"],y),e}function gC(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);return i!=null&&p(e,["allowedFunctionNames"],i),e}function vC(t){const e={},n=f(t,["latitude"]);n!=null&&p(e,["latitude"],n);const i=f(t,["longitude"]);return i!=null&&p(e,["longitude"],i),e}function yC(t){const e={},n=f(t,["latLng"]);n!=null&&p(e,["latLng"],vC(n));const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function xC(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],gC(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],yC(i)),e}function bC(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const s=f(t,["expireTime"]);e!==void 0&&s!=null&&p(e,["expireTime"],s);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let x=As(u);Array.isArray(x)&&(x=x.map(T=>W1(T))),p(e,["contents"],x)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&p(e,["systemInstruction"],W1(da(d)));const h=f(t,["tools"]);if(e!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(T=>mC(T))),p(e,["tools"],x)}const m=f(t,["toolConfig"]);e!==void 0&&m!=null&&p(e,["toolConfig"],xC(m));const y=f(t,["kmsKeyName"]);return e!==void 0&&y!=null&&p(e,["encryption_spec","kmsKeyName"],y),n}function wC(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["model"],X2(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],bC(s,n)),n}function SC(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function TC(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function AC(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const s=f(t,["expireTime"]);return e!==void 0&&s!=null&&p(e,["expireTime"],s),n}function NC(t,e){const n={},i=f(e,["name"]);i!=null&&p(n,["_url","name"],Do(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],AC(s,n)),n}function CC(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);return e!==void 0&&s!=null&&p(e,["_query","pageToken"],s),n}function _C(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],CC(n,e)),e}function kh(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["model"]);s!=null&&p(e,["model"],s);const o=f(t,["createTime"]);o!=null&&p(e,["createTime"],o);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const d=f(t,["expireTime"]);d!=null&&p(e,["expireTime"],d);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function EC(){return{}}function MC(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>kh(o))),p(e,["cachedContents"],s)}return e}function Dh(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["model"]);s!=null&&p(e,["model"],s);const o=f(t,["createTime"]);o!=null&&p(e,["createTime"],o);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const d=f(t,["expireTime"]);d!=null&&p(e,["expireTime"],d);const h=f(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function kC(){return{}}function DC(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Dh(o))),p(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jC extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gf(Lu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=wC(this.apiClient,e);return d=yt("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Dh(y))}else{const m=WN(this.apiClient,e);return d=yt("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>kh(y))}}async get(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=SC(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Dh(y))}else{const m=JN(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>kh(y))}}async delete(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=TC(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(()=>{const y=kC(),x=new U1;return Object.assign(x,y),x})}else{const m=KN(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(()=>{const y=EC(),x=new U1;return Object.assign(x,y),x})}}async update(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=NC(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Dh(y))}else{const m=XN(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>kh(y))}}async listInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=_C(e);return d=yt("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=DC(y),T=new q1;return Object.assign(T,x),T})}else{const m=eC(e);return d=yt("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=MC(y),T=new q1;return Object.assign(T,x),T})}}}function J1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vn(t){return this instanceof Vn?(this.v=t,this):new Vn(t)}function Uc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(w){return function(C){return Promise.resolve(C).then(w,x)}}function d(w,C){i[w]&&(s[w]=function(M){return new Promise(function(D,E){o.push([w,M,D,E])>1||h(w,M)})},C&&(s[w]=C(s[w])))}function h(w,C){try{m(i[w](C))}catch(M){T(o[0][3],M)}}function m(w){w.value instanceof Vn?Promise.resolve(w.value.v).then(y,x):T(o[0][2],w)}function y(w){h("next",w)}function x(w){h("throw",w)}function T(w,C){w(C),o.shift(),o.length&&h(o[0][0],o[0][1])}}function rf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof J1=="function"?J1(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(d,h){u=t[o](u),s(d,h,u.done,u.value)})}}function s(o,u,d,h){Promise.resolve(h).then(function(m){o({value:m,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:px(n)}function px(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function PC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function K1(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let o=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),o&&!px(t[i])&&(o=!1),i++;o?e.push(...s):e.pop()}return e}class LC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new RC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class RC{constructor(e,n,i,s={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),PC(o)}async sendMessage(e){var n;await this.sendPromise;const i=da(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,u,d;const h=await s,m=(u=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,y=h.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let T=[];y!=null&&(T=(d=y.slice(x))!==null&&d!==void 0?d:[]);const w=m?[m]:[];this.recordHistory(i,w,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=da(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=await s;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?K1(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,s;return Uc(this,arguments,function*(){var u,d,h,m;const y=[];try{for(var x=!0,T=rf(e),w;w=yield Vn(T.next()),u=w.done,!u;x=!0){m=w.value,x=!1;const C=m;if(IC(C)){const M=(s=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;M!==void 0&&y.push(M)}yield yield Vn(C)}}catch(C){d={error:C}}finally{try{!x&&!u&&(h=T.return)&&(yield Vn(h.call(T)))}finally{if(d)throw d.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(o=>o.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...K1(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,cp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);return e!==void 0&&s!=null&&p(e,["_query","pageToken"],s),n}function OC(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],FC(n,e)),e}function BC(t){const e={},n=f(t,["details"]);n!=null&&p(e,["details"],n);const i=f(t,["message"]);i!=null&&p(e,["message"],i);const s=f(t,["code"]);return s!=null&&p(e,["code"],s),e}function UC(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["mimeType"]);s!=null&&p(e,["mimeType"],s);const o=f(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const u=f(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=f(t,["expirationTime"]);d!=null&&p(e,["expirationTime"],d);const h=f(t,["updateTime"]);h!=null&&p(e,["updateTime"],h);const m=f(t,["sha256Hash"]);m!=null&&p(e,["sha256Hash"],m);const y=f(t,["uri"]);y!=null&&p(e,["uri"],y);const x=f(t,["downloadUri"]);x!=null&&p(e,["downloadUri"],x);const T=f(t,["state"]);T!=null&&p(e,["state"],T);const w=f(t,["source"]);w!=null&&p(e,["source"],w);const C=f(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const M=f(t,["error"]);return M!=null&&p(e,["error"],BC(M)),e}function qC(t){const e={},n=f(t,["file"]);n!=null&&p(e,["file"],UC(n));const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function VC(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","file"],sx(n));const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function zC(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","file"],sx(n));const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function HC(t){const e={},n=f(t,["details"]);n!=null&&p(e,["details"],n);const i=f(t,["message"]);i!=null&&p(e,["message"],i);const s=f(t,["code"]);return s!=null&&p(e,["code"],s),e}function Sg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["mimeType"]);s!=null&&p(e,["mimeType"],s);const o=f(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const u=f(t,["createTime"]);u!=null&&p(e,["createTime"],u);const d=f(t,["expirationTime"]);d!=null&&p(e,["expirationTime"],d);const h=f(t,["updateTime"]);h!=null&&p(e,["updateTime"],h);const m=f(t,["sha256Hash"]);m!=null&&p(e,["sha256Hash"],m);const y=f(t,["uri"]);y!=null&&p(e,["uri"],y);const x=f(t,["downloadUri"]);x!=null&&p(e,["downloadUri"],x);const T=f(t,["state"]);T!=null&&p(e,["state"],T);const w=f(t,["source"]);w!=null&&p(e,["source"],w);const C=f(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const M=f(t,["error"]);return M!=null&&p(e,["error"],HC(M)),e}function GC(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Sg(o))),p(e,["files"],s)}return e}function $C(){return{}}function YC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gf(Lu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Sg(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=OC(e);return o=yt("files",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=GC(h),y=new oA;return Object.assign(y,m),y})}}async createInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=qC(e);return o=yt("upload/v1beta/files",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=$C(),m=new lA;return Object.assign(m,h),m})}}async get(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=VC(e);return o=yt("files/{file}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Sg(h))}}async delete(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=zC(e);return o=yt("files/{file}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=YC(),m=new uA;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function KC(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function mx(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],JC(n)),e}function ZC(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],KC(n)),e}function XC(t){const e={},n=f(t,["speaker"]);n!=null&&p(e,["speaker"],n);const i=f(t,["voiceConfig"]);return i!=null&&p(e,["voiceConfig"],mx(i)),e}function QC(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>XC(s))),p(e,["speakerVoiceConfigs"],i)}return e}function e3(t){const e={},n=f(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],mx(n));const i=f(t,["multiSpeakerVoiceConfig"]);i!=null&&p(e,["multiSpeakerVoiceConfig"],QC(i));const s=f(t,["languageCode"]);return s!=null&&p(e,["languageCode"],s),e}function t3(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],ZC(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function n3(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function i3(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function a3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function s3(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["data"]);i!=null&&p(e,["data"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function r3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function o3(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function l3(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],n3(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],a3(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],r3(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function u3(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],i3(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],s3(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],o3(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function c3(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>l3(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function d3(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>u3(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function f3(t){const e={},n=f(t,["behavior"]);n!=null&&p(e,["behavior"],n);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const d=f(t,["response"]);d!=null&&p(e,["response"],d);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function h3(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["parameters"]);s!=null&&p(e,["parameters"],s);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function p3(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function m3(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function g3(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],p3(n)),e}function v3(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],m3(n)),e}function y3(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function x3(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function b3(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],y3(n)),e}function w3(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],x3(n)),e}function S3(){return{}}function T3(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function A3(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],T3(n));const i=f(t,["authType"]);i!=null&&p(e,["authType"],i);const s=f(t,["googleServiceAccountConfig"]);s!=null&&p(e,["googleServiceAccountConfig"],s);const o=f(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=f(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const d=f(t,["oidcConfig"]);return d!=null&&p(e,["oidcConfig"],d),e}function N3(t){const e={},n=f(t,["authConfig"]);return n!=null&&p(e,["authConfig"],A3(n)),e}function C3(){return{}}function _3(){return{}}function E3(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>f3(m))),p(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],g3(i));const s=f(t,["googleSearchRetrieval"]);if(s!=null&&p(e,["googleSearchRetrieval"],b3(s)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&p(e,["urlContext"],C3());const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["computerUse"]);return d!=null&&p(e,["computerUse"],d),e}function M3(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(T=>h3(T))),p(e,["functionDeclarations"],x)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],v3(s));const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],w3(o)),f(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],S3());const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],N3(d)),f(t,["urlContext"])!=null&&p(e,["urlContext"],_3());const m=f(t,["codeExecution"]);m!=null&&p(e,["codeExecution"],m);const y=f(t,["computerUse"]);return y!=null&&p(e,["computerUse"],y),e}function k3(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function D3(t){const e={},n=f(t,["handle"]);n!=null&&p(e,["handle"],n);const i=f(t,["transparent"]);return i!=null&&p(e,["transparent"],i),e}function Z1(){return{}}function X1(){return{}}function j3(t){const e={},n=f(t,["disabled"]);n!=null&&p(e,["disabled"],n);const i=f(t,["startOfSpeechSensitivity"]);i!=null&&p(e,["startOfSpeechSensitivity"],i);const s=f(t,["endOfSpeechSensitivity"]);s!=null&&p(e,["endOfSpeechSensitivity"],s);const o=f(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=f(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function I3(t){const e={},n=f(t,["disabled"]);n!=null&&p(e,["disabled"],n);const i=f(t,["startOfSpeechSensitivity"]);i!=null&&p(e,["startOfSpeechSensitivity"],i);const s=f(t,["endOfSpeechSensitivity"]);s!=null&&p(e,["endOfSpeechSensitivity"],s);const o=f(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=f(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function P3(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],j3(n));const i=f(t,["activityHandling"]);i!=null&&p(e,["activityHandling"],i);const s=f(t,["turnCoverage"]);return s!=null&&p(e,["turnCoverage"],s),e}function L3(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],I3(n));const i=f(t,["activityHandling"]);i!=null&&p(e,["activityHandling"],i);const s=f(t,["turnCoverage"]);return s!=null&&p(e,["turnCoverage"],s),e}function R3(t){const e={},n=f(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function F3(t){const e={},n=f(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function O3(t){const e={},n=f(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const i=f(t,["slidingWindow"]);return i!=null&&p(e,["slidingWindow"],R3(i)),e}function B3(t){const e={},n=f(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const i=f(t,["slidingWindow"]);return i!=null&&p(e,["slidingWindow"],F3(i)),e}function U3(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function q3(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function V3(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const s=f(t,["responseModalities"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","responseModalities"],s);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],e3(Bg(x)));const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],c3(da(w)));const C=f(t,["tools"]);if(e!==void 0&&C!=null){let H=Jc(C);Array.isArray(H)&&(H=H.map(ee=>E3(Wc(ee)))),p(e,["setup","tools"],H)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&p(e,["setup","sessionResumption"],k3(M));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],Z1());const E=f(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],Z1());const j=f(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&p(e,["setup","realtimeInputConfig"],P3(j));const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&p(e,["setup","contextWindowCompression"],O3(F));const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],U3(B)),n}function z3(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const s=f(t,["responseModalities"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","responseModalities"],s);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],t3(Bg(x)));const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],d3(da(w)));const C=f(t,["tools"]);if(e!==void 0&&C!=null){let H=Jc(C);Array.isArray(H)&&(H=H.map(ee=>M3(Wc(ee)))),p(e,["setup","tools"],H)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&p(e,["setup","sessionResumption"],D3(M));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],X1());const E=f(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],X1());const j=f(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&p(e,["setup","realtimeInputConfig"],L3(j));const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&p(e,["setup","contextWindowCompression"],B3(F));const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],q3(B)),n}function H3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],V3(s,n)),n}function G3(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],z3(s,n)),n}function $3(){return{}}function Y3(){return{}}function W3(){return{}}function J3(){return{}}function K3(t){const e={},n=f(t,["media"]);n!=null&&p(e,["mediaChunks"],Q2(n));const i=f(t,["audio"]);i!=null&&p(e,["audio"],tx(i));const s=f(t,["audioStreamEnd"]);s!=null&&p(e,["audioStreamEnd"],s);const o=f(t,["video"]);o!=null&&p(e,["video"],ex(o));const u=f(t,["text"]);return u!=null&&p(e,["text"],u),f(t,["activityStart"])!=null&&p(e,["activityStart"],$3()),f(t,["activityEnd"])!=null&&p(e,["activityEnd"],W3()),e}function Z3(t){const e={},n=f(t,["media"]);n!=null&&p(e,["mediaChunks"],Q2(n));const i=f(t,["audio"]);i!=null&&p(e,["audio"],tx(i));const s=f(t,["audioStreamEnd"]);s!=null&&p(e,["audioStreamEnd"],s);const o=f(t,["video"]);o!=null&&p(e,["video"],ex(o));const u=f(t,["text"]);return u!=null&&p(e,["text"],u),f(t,["activityStart"])!=null&&p(e,["activityStart"],Y3()),f(t,["activityEnd"])!=null&&p(e,["activityEnd"],J3()),e}function gx(t){const e={},n=f(t,["text"]);n!=null&&p(e,["text"],n);const i=f(t,["weight"]);return i!=null&&p(e,["weight"],i),e}function X3(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gx(s))),p(e,["weightedPrompts"],i)}return e}function vx(t){const e={},n=f(t,["temperature"]);n!=null&&p(e,["temperature"],n);const i=f(t,["topK"]);i!=null&&p(e,["topK"],i);const s=f(t,["seed"]);s!=null&&p(e,["seed"],s);const o=f(t,["guidance"]);o!=null&&p(e,["guidance"],o);const u=f(t,["bpm"]);u!=null&&p(e,["bpm"],u);const d=f(t,["density"]);d!=null&&p(e,["density"],d);const h=f(t,["brightness"]);h!=null&&p(e,["brightness"],h);const m=f(t,["scale"]);m!=null&&p(e,["scale"],m);const y=f(t,["muteBass"]);y!=null&&p(e,["muteBass"],y);const x=f(t,["muteDrums"]);x!=null&&p(e,["muteDrums"],x);const T=f(t,["onlyBassAndDrums"]);return T!=null&&p(e,["onlyBassAndDrums"],T),e}function Q3(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],vx(n)),e}function yx(t){const e={},n=f(t,["model"]);return n!=null&&p(e,["model"],n),e}function xx(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gx(s))),p(e,["weightedPrompts"],i)}return e}function Tg(t){const e={},n=f(t,["setup"]);n!=null&&p(e,["setup"],yx(n));const i=f(t,["clientContent"]);i!=null&&p(e,["clientContent"],xx(i));const s=f(t,["musicGenerationConfig"]);s!=null&&p(e,["musicGenerationConfig"],vx(s));const o=f(t,["playbackControl"]);return o!=null&&p(e,["playbackControl"],o),e}function e_(){return{}}function t_(t){const e={},n=f(t,["sessionId"]);return n!=null&&p(e,["sessionId"],n),e}function n_(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function i_(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function a_(t){const e={},n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function s_(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["data"]);i!=null&&p(e,["data"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function r_(t){const e={},n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function o_(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function l_(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],n_(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],a_(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],r_(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function u_(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],i_(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],s_(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],o_(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function c_(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>l_(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function d_(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>u_(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function Q1(t){const e={},n=f(t,["text"]);n!=null&&p(e,["text"],n);const i=f(t,["finished"]);return i!=null&&p(e,["finished"],i),e}function e2(t){const e={},n=f(t,["text"]);n!=null&&p(e,["text"],n);const i=f(t,["finished"]);return i!=null&&p(e,["finished"],i),e}function f_(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const i=f(t,["urlRetrievalStatus"]);return i!=null&&p(e,["urlRetrievalStatus"],i),e}function h_(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>f_(s))),p(e,["urlMetadata"],i)}return e}function p_(t){const e={},n=f(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],c_(n));const i=f(t,["turnComplete"]);i!=null&&p(e,["turnComplete"],i);const s=f(t,["interrupted"]);s!=null&&p(e,["interrupted"],s);const o=f(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const u=f(t,["generationComplete"]);u!=null&&p(e,["generationComplete"],u);const d=f(t,["inputTranscription"]);d!=null&&p(e,["inputTranscription"],Q1(d));const h=f(t,["outputTranscription"]);h!=null&&p(e,["outputTranscription"],Q1(h));const m=f(t,["urlContextMetadata"]);return m!=null&&p(e,["urlContextMetadata"],h_(m)),e}function m_(t){const e={},n=f(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],d_(n));const i=f(t,["turnComplete"]);i!=null&&p(e,["turnComplete"],i);const s=f(t,["interrupted"]);s!=null&&p(e,["interrupted"],s);const o=f(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const u=f(t,["generationComplete"]);u!=null&&p(e,["generationComplete"],u);const d=f(t,["inputTranscription"]);d!=null&&p(e,["inputTranscription"],e2(d));const h=f(t,["outputTranscription"]);return h!=null&&p(e,["outputTranscription"],e2(h)),e}function g_(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const i=f(t,["args"]);i!=null&&p(e,["args"],i);const s=f(t,["name"]);return s!=null&&p(e,["name"],s),e}function v_(t){const e={},n=f(t,["args"]);n!=null&&p(e,["args"],n);const i=f(t,["name"]);return i!=null&&p(e,["name"],i),e}function y_(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>g_(s))),p(e,["functionCalls"],i)}return e}function x_(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>v_(s))),p(e,["functionCalls"],i)}return e}function b_(t){const e={},n=f(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function w_(t){const e={},n=f(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function Sh(t){const e={},n=f(t,["modality"]);n!=null&&p(e,["modality"],n);const i=f(t,["tokenCount"]);return i!=null&&p(e,["tokenCount"],i),e}function Th(t){const e={},n=f(t,["modality"]);n!=null&&p(e,["modality"],n);const i=f(t,["tokenCount"]);return i!=null&&p(e,["tokenCount"],i),e}function S_(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const i=f(t,["cachedContentTokenCount"]);i!=null&&p(e,["cachedContentTokenCount"],i);const s=f(t,["responseTokenCount"]);s!=null&&p(e,["responseTokenCount"],s);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const u=f(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=f(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const h=f(t,["promptTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(w=>Sh(w))),p(e,["promptTokensDetails"],T)}const m=f(t,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(w=>Sh(w))),p(e,["cacheTokensDetails"],T)}const y=f(t,["responseTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(w=>Sh(w))),p(e,["responseTokensDetails"],T)}const x=f(t,["toolUsePromptTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(w=>Sh(w))),p(e,["toolUsePromptTokensDetails"],T)}return e}function T_(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const i=f(t,["cachedContentTokenCount"]);i!=null&&p(e,["cachedContentTokenCount"],i);const s=f(t,["candidatesTokenCount"]);s!=null&&p(e,["responseTokenCount"],s);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const u=f(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const d=f(t,["totalTokenCount"]);d!=null&&p(e,["totalTokenCount"],d);const h=f(t,["promptTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(C=>Th(C))),p(e,["promptTokensDetails"],w)}const m=f(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(C=>Th(C))),p(e,["cacheTokensDetails"],w)}const y=f(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>Th(C))),p(e,["responseTokensDetails"],w)}const x=f(t,["toolUsePromptTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(C=>Th(C))),p(e,["toolUsePromptTokensDetails"],w)}const T=f(t,["trafficType"]);return T!=null&&p(e,["trafficType"],T),e}function A_(t){const e={},n=f(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function N_(t){const e={},n=f(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function C_(t){const e={},n=f(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const i=f(t,["resumable"]);i!=null&&p(e,["resumable"],i);const s=f(t,["lastConsumedClientMessageIndex"]);return s!=null&&p(e,["lastConsumedClientMessageIndex"],s),e}function __(t){const e={},n=f(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const i=f(t,["resumable"]);i!=null&&p(e,["resumable"],i);const s=f(t,["lastConsumedClientMessageIndex"]);return s!=null&&p(e,["lastConsumedClientMessageIndex"],s),e}function E_(t){const e={};f(t,["setupComplete"])!=null&&p(e,["setupComplete"],e_());const i=f(t,["serverContent"]);i!=null&&p(e,["serverContent"],p_(i));const s=f(t,["toolCall"]);s!=null&&p(e,["toolCall"],y_(s));const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],b_(o));const u=f(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],S_(u));const d=f(t,["goAway"]);d!=null&&p(e,["goAway"],A_(d));const h=f(t,["sessionResumptionUpdate"]);return h!=null&&p(e,["sessionResumptionUpdate"],C_(h)),e}function M_(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],t_(n));const i=f(t,["serverContent"]);i!=null&&p(e,["serverContent"],m_(i));const s=f(t,["toolCall"]);s!=null&&p(e,["toolCall"],x_(s));const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],w_(o));const u=f(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],T_(u));const d=f(t,["goAway"]);d!=null&&p(e,["goAway"],N_(d));const h=f(t,["sessionResumptionUpdate"]);return h!=null&&p(e,["sessionResumptionUpdate"],__(h)),e}function k_(){return{}}function D_(t){const e={},n=f(t,["text"]);n!=null&&p(e,["text"],n);const i=f(t,["weight"]);return i!=null&&p(e,["weight"],i),e}function j_(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>D_(s))),p(e,["weightedPrompts"],i)}return e}function I_(t){const e={},n=f(t,["temperature"]);n!=null&&p(e,["temperature"],n);const i=f(t,["topK"]);i!=null&&p(e,["topK"],i);const s=f(t,["seed"]);s!=null&&p(e,["seed"],s);const o=f(t,["guidance"]);o!=null&&p(e,["guidance"],o);const u=f(t,["bpm"]);u!=null&&p(e,["bpm"],u);const d=f(t,["density"]);d!=null&&p(e,["density"],d);const h=f(t,["brightness"]);h!=null&&p(e,["brightness"],h);const m=f(t,["scale"]);m!=null&&p(e,["scale"],m);const y=f(t,["muteBass"]);y!=null&&p(e,["muteBass"],y);const x=f(t,["muteDrums"]);x!=null&&p(e,["muteDrums"],x);const T=f(t,["onlyBassAndDrums"]);return T!=null&&p(e,["onlyBassAndDrums"],T),e}function P_(t){const e={},n=f(t,["clientContent"]);n!=null&&p(e,["clientContent"],j_(n));const i=f(t,["musicGenerationConfig"]);return i!=null&&p(e,["musicGenerationConfig"],I_(i)),e}function L_(t){const e={},n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const s=f(t,["sourceMetadata"]);return s!=null&&p(e,["sourceMetadata"],P_(s)),e}function R_(t){const e={},n=f(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>L_(s))),p(e,["audioChunks"],i)}return e}function F_(t){const e={},n=f(t,["text"]);n!=null&&p(e,["text"],n);const i=f(t,["filteredReason"]);return i!=null&&p(e,["filteredReason"],i),e}function O_(t){const e={};f(t,["setupComplete"])!=null&&p(e,["setupComplete"],k_());const i=f(t,["serverContent"]);i!=null&&p(e,["serverContent"],R_(i));const s=f(t,["filteredPrompt"]);return s!=null&&p(e,["filteredPrompt"],F_(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function U_(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function q_(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function V_(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],B_(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],U_(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],q_(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function dp(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>V_(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function z_(t){const e={},n=f(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const i=f(t,["default"]);i!=null&&p(e,["default"],i);const s=f(t,["description"]);s!=null&&p(e,["description"],s);const o=f(t,["enum"]);o!=null&&p(e,["enum"],o);const u=f(t,["example"]);u!=null&&p(e,["example"],u);const d=f(t,["format"]);d!=null&&p(e,["format"],d);const h=f(t,["items"]);h!=null&&p(e,["items"],h);const m=f(t,["maxItems"]);m!=null&&p(e,["maxItems"],m);const y=f(t,["maxLength"]);y!=null&&p(e,["maxLength"],y);const x=f(t,["maxProperties"]);x!=null&&p(e,["maxProperties"],x);const T=f(t,["maximum"]);T!=null&&p(e,["maximum"],T);const w=f(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=f(t,["minLength"]);C!=null&&p(e,["minLength"],C);const M=f(t,["minProperties"]);M!=null&&p(e,["minProperties"],M);const D=f(t,["minimum"]);D!=null&&p(e,["minimum"],D);const E=f(t,["nullable"]);E!=null&&p(e,["nullable"],E);const j=f(t,["pattern"]);j!=null&&p(e,["pattern"],j);const F=f(t,["properties"]);F!=null&&p(e,["properties"],F);const B=f(t,["propertyOrdering"]);B!=null&&p(e,["propertyOrdering"],B);const H=f(t,["required"]);H!=null&&p(e,["required"],H);const ee=f(t,["title"]);ee!=null&&p(e,["title"],ee);const V=f(t,["type"]);return V!=null&&p(e,["type"],V),e}function H_(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(t,["category"]);n!=null&&p(e,["category"],n);const i=f(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function G_(t){const e={},n=f(t,["behavior"]);n!=null&&p(e,["behavior"],n);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const d=f(t,["response"]);d!=null&&p(e,["response"],d);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function $_(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function Y_(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],$_(n)),e}function W_(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function J_(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],W_(n)),e}function K_(){return{}}function Z_(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>G_(m))),p(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],Y_(i));const s=f(t,["googleSearchRetrieval"]);if(s!=null&&p(e,["googleSearchRetrieval"],J_(s)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&p(e,["urlContext"],K_());const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["computerUse"]);return d!=null&&p(e,["computerUse"],d),e}function X_(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);return i!=null&&p(e,["allowedFunctionNames"],i),e}function Q_(t){const e={},n=f(t,["latitude"]);n!=null&&p(e,["latitude"],n);const i=f(t,["longitude"]);return i!=null&&p(e,["longitude"],i),e}function e4(t){const e={},n=f(t,["latLng"]);n!=null&&p(e,["latLng"],Q_(n));const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function t4(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],X_(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],e4(i)),e}function n4(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function bx(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],n4(n)),e}function i4(t){const e={},n=f(t,["speaker"]);n!=null&&p(e,["speaker"],n);const i=f(t,["voiceConfig"]);return i!=null&&p(e,["voiceConfig"],bx(i)),e}function a4(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>i4(s))),p(e,["speakerVoiceConfigs"],i)}return e}function s4(t){const e={},n=f(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],bx(n));const i=f(t,["multiSpeakerVoiceConfig"]);i!=null&&p(e,["multiSpeakerVoiceConfig"],a4(i));const s=f(t,["languageCode"]);return s!=null&&p(e,["languageCode"],s),e}function r4(t){const e={},n=f(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const i=f(t,["thinkingBudget"]);return i!=null&&p(e,["thinkingBudget"],i),e}function o4(t,e,n){const i={},s=f(e,["systemInstruction"]);n!==void 0&&s!=null&&p(n,["systemInstruction"],dp(da(s)));const o=f(e,["temperature"]);o!=null&&p(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&p(i,["stopSequences"],y);const x=f(e,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const T=f(e,["logprobs"]);T!=null&&p(i,["logprobs"],T);const w=f(e,["presencePenalty"]);w!=null&&p(i,["presencePenalty"],w);const C=f(e,["frequencyPenalty"]);C!=null&&p(i,["frequencyPenalty"],C);const M=f(e,["seed"]);M!=null&&p(i,["seed"],M);const D=f(e,["responseMimeType"]);D!=null&&p(i,["responseMimeType"],D);const E=f(e,["responseSchema"]);E!=null&&p(i,["responseSchema"],z_(hf(E)));const j=f(e,["responseJsonSchema"]);if(j!=null&&p(i,["responseJsonSchema"],j),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=f(e,["safetySettings"]);if(n!==void 0&&F!=null){let I=F;Array.isArray(I)&&(I=I.map(k=>H_(k))),p(n,["safetySettings"],I)}const B=f(e,["tools"]);if(n!==void 0&&B!=null){let I=Jc(B);Array.isArray(I)&&(I=I.map(k=>Z_(Wc(k)))),p(n,["tools"],I)}const H=f(e,["toolConfig"]);if(n!==void 0&&H!=null&&p(n,["toolConfig"],t4(H)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=f(e,["cachedContent"]);n!==void 0&&ee!=null&&p(n,["cachedContent"],Do(t,ee));const V=f(e,["responseModalities"]);V!=null&&p(i,["responseModalities"],V);const U=f(e,["mediaResolution"]);U!=null&&p(i,["mediaResolution"],U);const O=f(e,["speechConfig"]);if(O!=null&&p(i,["speechConfig"],s4(Og(O))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=f(e,["thinkingConfig"]);return ue!=null&&p(i,["thinkingConfig"],r4(ue)),i}function t2(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>dp(d))),p(n,["contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],o4(t,o,n)),n}function l4(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const s=f(t,["title"]);e!==void 0&&s!=null&&p(e,["requests[]","title"],s);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function u4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);s!=null&&p(n,["requests[]","content"],ix(t,s));const o=f(e,["config"]);o!=null&&p(n,["config"],l4(o,n));const u=f(e,["model"]);return u!==void 0&&p(n,["requests[]","model"],Nn(t,u)),n}function c4(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&p(e,["parameters","personGeneration"],d);const h=f(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=f(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const y=f(t,["language"]);e!==void 0&&y!=null&&p(e,["parameters","language"],y);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","mimeType"],x);const T=f(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&p(e,["parameters","outputOptions","compressionQuality"],T),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function d4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["prompt"]);s!=null&&p(n,["instances[0]","prompt"],s);const o=f(e,["config"]);return o!=null&&p(n,["config"],c4(o,n)),n}function f4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function h4(t,e,n){const i={},s=f(e,["pageSize"]);n!==void 0&&s!=null&&p(n,["_query","pageSize"],s);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const u=f(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],rx(t,d)),i}function p4(t,e){const n={},i=f(e,["config"]);return i!=null&&p(n,["config"],h4(t,i,n)),n}function m4(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const s=f(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function g4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],m4(s,n)),n}function v4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function y4(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function x4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>dp(d))),p(n,["contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["config"],y4(o)),n}function b4(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],jo(n));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function w4(t,e){const n={},i=f(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=f(t,["durationSeconds"]);if(e!==void 0&&s!=null&&p(e,["parameters","durationSeconds"],s),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);if(e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o),f(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=f(t,["personGeneration"]);if(e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=f(t,["negativePrompt"]);e!==void 0&&d!=null&&p(e,["parameters","negativePrompt"],d);const h=f(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(f(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function S4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["prompt"]);s!=null&&p(n,["instances[0]","prompt"],s);const o=f(e,["image"]);if(o!=null&&p(n,["instances[0]","image"],b4(o)),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=f(e,["config"]);return u!=null&&p(n,["config"],w4(u,n)),n}function T4(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function A4(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["data"]);i!=null&&p(e,["data"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function N4(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function C4(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],T4(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],A4(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],N4(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function Zc(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>C4(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function _4(t){const e={},n=f(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const i=f(t,["default"]);i!=null&&p(e,["default"],i);const s=f(t,["description"]);s!=null&&p(e,["description"],s);const o=f(t,["enum"]);o!=null&&p(e,["enum"],o);const u=f(t,["example"]);u!=null&&p(e,["example"],u);const d=f(t,["format"]);d!=null&&p(e,["format"],d);const h=f(t,["items"]);h!=null&&p(e,["items"],h);const m=f(t,["maxItems"]);m!=null&&p(e,["maxItems"],m);const y=f(t,["maxLength"]);y!=null&&p(e,["maxLength"],y);const x=f(t,["maxProperties"]);x!=null&&p(e,["maxProperties"],x);const T=f(t,["maximum"]);T!=null&&p(e,["maximum"],T);const w=f(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=f(t,["minLength"]);C!=null&&p(e,["minLength"],C);const M=f(t,["minProperties"]);M!=null&&p(e,["minProperties"],M);const D=f(t,["minimum"]);D!=null&&p(e,["minimum"],D);const E=f(t,["nullable"]);E!=null&&p(e,["nullable"],E);const j=f(t,["pattern"]);j!=null&&p(e,["pattern"],j);const F=f(t,["properties"]);F!=null&&p(e,["properties"],F);const B=f(t,["propertyOrdering"]);B!=null&&p(e,["propertyOrdering"],B);const H=f(t,["required"]);H!=null&&p(e,["required"],H);const ee=f(t,["title"]);ee!=null&&p(e,["title"],ee);const V=f(t,["type"]);return V!=null&&p(e,["type"],V),e}function E4(t){const e={},n=f(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function M4(t){const e={},n=f(t,["method"]);n!=null&&p(e,["method"],n);const i=f(t,["category"]);i!=null&&p(e,["category"],i);const s=f(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function k4(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const i=f(t,["name"]);i!=null&&p(e,["name"],i);const s=f(t,["parameters"]);s!=null&&p(e,["parameters"],s);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=f(t,["response"]);u!=null&&p(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&p(e,["responseJsonSchema"],d),e}function D4(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function j4(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],D4(n)),e}function I4(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function P4(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],I4(n)),e}function L4(){return{}}function R4(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function F4(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],R4(n));const i=f(t,["authType"]);i!=null&&p(e,["authType"],i);const s=f(t,["googleServiceAccountConfig"]);s!=null&&p(e,["googleServiceAccountConfig"],s);const o=f(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=f(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const d=f(t,["oidcConfig"]);return d!=null&&p(e,["oidcConfig"],d),e}function O4(t){const e={},n=f(t,["authConfig"]);return n!=null&&p(e,["authConfig"],F4(n)),e}function B4(){return{}}function wx(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(T=>k4(T))),p(e,["functionDeclarations"],x)}const i=f(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],j4(s));const o=f(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],P4(o)),f(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],L4());const d=f(t,["googleMaps"]);d!=null&&p(e,["googleMaps"],O4(d)),f(t,["urlContext"])!=null&&p(e,["urlContext"],B4());const m=f(t,["codeExecution"]);m!=null&&p(e,["codeExecution"],m);const y=f(t,["computerUse"]);return y!=null&&p(e,["computerUse"],y),e}function U4(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);return i!=null&&p(e,["allowedFunctionNames"],i),e}function q4(t){const e={},n=f(t,["latitude"]);n!=null&&p(e,["latitude"],n);const i=f(t,["longitude"]);return i!=null&&p(e,["longitude"],i),e}function V4(t){const e={},n=f(t,["latLng"]);n!=null&&p(e,["latLng"],q4(n));const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function z4(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],U4(n));const i=f(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],V4(i)),e}function H4(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function G4(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],H4(n)),e}function $4(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],G4(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function Y4(t){const e={},n=f(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const i=f(t,["thinkingBudget"]);return i!=null&&p(e,["thinkingBudget"],i),e}function W4(t,e,n){const i={},s=f(e,["systemInstruction"]);n!==void 0&&s!=null&&p(n,["systemInstruction"],Zc(da(s)));const o=f(e,["temperature"]);o!=null&&p(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&p(i,["topP"],u);const d=f(e,["topK"]);d!=null&&p(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&p(i,["candidateCount"],h);const m=f(e,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const y=f(e,["stopSequences"]);y!=null&&p(i,["stopSequences"],y);const x=f(e,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const T=f(e,["logprobs"]);T!=null&&p(i,["logprobs"],T);const w=f(e,["presencePenalty"]);w!=null&&p(i,["presencePenalty"],w);const C=f(e,["frequencyPenalty"]);C!=null&&p(i,["frequencyPenalty"],C);const M=f(e,["seed"]);M!=null&&p(i,["seed"],M);const D=f(e,["responseMimeType"]);D!=null&&p(i,["responseMimeType"],D);const E=f(e,["responseSchema"]);E!=null&&p(i,["responseSchema"],_4(hf(E)));const j=f(e,["responseJsonSchema"]);j!=null&&p(i,["responseJsonSchema"],j);const F=f(e,["routingConfig"]);F!=null&&p(i,["routingConfig"],F);const B=f(e,["modelSelectionConfig"]);B!=null&&p(i,["modelConfig"],E4(B));const H=f(e,["safetySettings"]);if(n!==void 0&&H!=null){let ce=H;Array.isArray(ce)&&(ce=ce.map(q=>M4(q))),p(n,["safetySettings"],ce)}const ee=f(e,["tools"]);if(n!==void 0&&ee!=null){let ce=Jc(ee);Array.isArray(ce)&&(ce=ce.map(q=>wx(Wc(q)))),p(n,["tools"],ce)}const V=f(e,["toolConfig"]);n!==void 0&&V!=null&&p(n,["toolConfig"],z4(V));const U=f(e,["labels"]);n!==void 0&&U!=null&&p(n,["labels"],U);const O=f(e,["cachedContent"]);n!==void 0&&O!=null&&p(n,["cachedContent"],Do(t,O));const ue=f(e,["responseModalities"]);ue!=null&&p(i,["responseModalities"],ue);const I=f(e,["mediaResolution"]);I!=null&&p(i,["mediaResolution"],I);const k=f(e,["speechConfig"]);k!=null&&p(i,["speechConfig"],$4(Og(k)));const $=f(e,["audioTimestamp"]);$!=null&&p(i,["audioTimestamp"],$);const K=f(e,["thinkingConfig"]);return K!=null&&p(i,["thinkingConfig"],Y4(K)),i}function n2(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>Zc(d))),p(n,["contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],W4(t,o,n)),n}function J4(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&p(e,["instances[]","task_type"],i);const s=f(t,["title"]);e!==void 0&&s!=null&&p(e,["instances[]","title"],s);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const u=f(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&p(e,["parameters","autoTruncate"],d),n}function K4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);s!=null&&p(n,["instances[]","content"],ix(t,s));const o=f(e,["config"]);return o!=null&&p(n,["config"],J4(o,n)),n}function Z4(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const s=f(t,["negativePrompt"]);e!==void 0&&s!=null&&p(e,["parameters","negativePrompt"],s);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const T=f(t,["includeRaiReason"]);e!==void 0&&T!=null&&p(e,["parameters","includeRaiReason"],T);const w=f(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const M=f(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&p(e,["parameters","outputOptions","compressionQuality"],M);const D=f(t,["addWatermark"]);e!==void 0&&D!=null&&p(e,["parameters","addWatermark"],D);const E=f(t,["enhancePrompt"]);return e!==void 0&&E!=null&&p(e,["parameters","enhancePrompt"],E),n}function X4(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["prompt"]);s!=null&&p(n,["instances[0]","prompt"],s);const o=f(e,["config"]);return o!=null&&p(n,["config"],Z4(o,n)),n}function fp(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["imageBytes"]);i!=null&&p(e,["bytesBase64Encoded"],jo(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Q4(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const i=f(t,["segmentationClasses"]);i!=null&&p(e,["maskClasses"],i);const s=f(t,["maskDilation"]);return s!=null&&p(e,["dilation"],s),e}function e6(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const i=f(t,["enableControlImageComputation"]);return i!=null&&p(e,["computeControl"],i),e}function t6(t){const e={},n=f(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function n6(t){const e={},n=f(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const i=f(t,["subjectDescription"]);return i!=null&&p(e,["subjectDescription"],i),e}function i6(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],fp(n));const i=f(t,["referenceId"]);i!=null&&p(e,["referenceId"],i);const s=f(t,["referenceType"]);s!=null&&p(e,["referenceType"],s);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],Q4(o));const u=f(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],e6(u));const d=f(t,["styleImageConfig"]);d!=null&&p(e,["styleImageConfig"],t6(d));const h=f(t,["subjectImageConfig"]);return h!=null&&p(e,["subjectImageConfig"],n6(h)),e}function a6(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const s=f(t,["negativePrompt"]);e!==void 0&&s!=null&&p(e,["parameters","negativePrompt"],s);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&p(e,["parameters","guidanceScale"],d);const h=f(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&p(e,["parameters","includeSafetyAttributes"],x);const T=f(t,["includeRaiReason"]);e!==void 0&&T!=null&&p(e,["parameters","includeRaiReason"],T);const w=f(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const M=f(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&p(e,["parameters","outputOptions","compressionQuality"],M);const D=f(t,["editMode"]);e!==void 0&&D!=null&&p(e,["parameters","editMode"],D);const E=f(t,["baseSteps"]);return e!==void 0&&E!=null&&p(e,["parameters","editConfig","baseSteps"],E),n}function s6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["prompt"]);s!=null&&p(n,["instances[0]","prompt"],s);const o=f(e,["referenceImages"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>i6(h))),p(n,["instances[0]","referenceImages"],d)}const u=f(e,["config"]);return u!=null&&p(n,["config"],a6(u,n)),n}function r6(t,e){const n={},i=f(t,["includeRaiReason"]);e!==void 0&&i!=null&&p(e,["parameters","includeRaiReason"],i);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const o=f(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","compressionQuality"],o);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=f(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=f(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function o6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["image"]);s!=null&&p(n,["instances[0]","image"],fp(s));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const u=f(e,["config"]);return u!=null&&p(n,["config"],r6(u,n)),n}function l6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function u6(t,e,n){const i={},s=f(e,["pageSize"]);n!==void 0&&s!=null&&p(n,["_query","pageSize"],s);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const u=f(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&p(n,["_url","models_url"],rx(t,d)),i}function c6(t,e){const n={},i=f(e,["config"]);return i!=null&&p(n,["config"],u6(t,i,n)),n}function d6(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const s=f(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function f6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],d6(s,n)),n}function h6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","name"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],s),n}function p6(t,e){const n={},i=f(t,["systemInstruction"]);e!==void 0&&i!=null&&p(e,["systemInstruction"],Zc(da(i)));const s=f(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>wx(d))),p(e,["tools"],u)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],o),n}function m6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>Zc(d))),p(n,["contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["config"],p6(o,n)),n}function g6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["contents"]);if(s!=null){let u=As(s);Array.isArray(u)&&(u=u.map(d=>Zc(d))),p(n,["contents"],u)}const o=f(e,["config"]);return o!=null&&p(n,["config"],o),n}function v6(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["videoBytes"]);i!=null&&p(e,["bytesBase64Encoded"],jo(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function y6(t,e){const n={},i=f(t,["numberOfVideos"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const u=f(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const d=f(t,["seed"]);e!==void 0&&d!=null&&p(e,["parameters","seed"],d);const h=f(t,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=f(t,["resolution"]);e!==void 0&&m!=null&&p(e,["parameters","resolution"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const x=f(t,["pubsubTopic"]);e!==void 0&&x!=null&&p(e,["parameters","pubsubTopic"],x);const T=f(t,["negativePrompt"]);e!==void 0&&T!=null&&p(e,["parameters","negativePrompt"],T);const w=f(t,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const C=f(t,["generateAudio"]);e!==void 0&&C!=null&&p(e,["parameters","generateAudio"],C);const M=f(t,["lastFrame"]);e!==void 0&&M!=null&&p(e,["instances[0]","lastFrame"],fp(M));const D=f(t,["compressionQuality"]);return e!==void 0&&D!=null&&p(e,["parameters","compressionQuality"],D),n}function x6(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["_url","model"],Nn(t,i));const s=f(e,["prompt"]);s!=null&&p(n,["instances[0]","prompt"],s);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],fp(o));const u=f(e,["video"]);u!=null&&p(n,["instances[0]","video"],v6(u));const d=f(e,["config"]);return d!=null&&p(n,["config"],y6(d,n)),n}function b6(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function w6(t){const e={},n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function S6(t){const e={},n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function T6(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],b6(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],w6(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],S6(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function A6(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>T6(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function N6(t){const e={},n=f(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function C6(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const i=f(t,["urlRetrievalStatus"]);return i!=null&&p(e,["urlRetrievalStatus"],i),e}function _6(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>C6(s))),p(e,["urlMetadata"],i)}return e}function E6(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],A6(n));const i=f(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],N6(i));const s=f(t,["tokenCount"]);s!=null&&p(e,["tokenCount"],s);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const u=f(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],_6(u));const d=f(t,["avgLogprobs"]);d!=null&&p(e,["avgLogprobs"],d);const h=f(t,["groundingMetadata"]);h!=null&&p(e,["groundingMetadata"],h);const m=f(t,["index"]);m!=null&&p(e,["index"],m);const y=f(t,["logprobsResult"]);y!=null&&p(e,["logprobsResult"],y);const x=f(t,["safetyRatings"]);return x!=null&&p(e,["safetyRatings"],x),e}function i2(t){const e={},n=f(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>E6(d))),p(e,["candidates"],u)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const s=f(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const o=f(t,["usageMetadata"]);return o!=null&&p(e,["usageMetadata"],o),e}function M6(t){const e={},n=f(t,["values"]);return n!=null&&p(e,["values"],n),e}function k6(){return{}}function D6(t){const e={},n=f(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>M6(o))),p(e,["embeddings"],s)}return f(t,["metadata"])!=null&&p(e,["metadata"],k6()),e}function j6(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],jo(n));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Sx(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const s=f(t,["contentType"]);return s!=null&&p(e,["contentType"],s),e}function I6(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],j6(n));const i=f(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const s=f(t,["_self"]);return s!=null&&p(e,["safetyAttributes"],Sx(s)),e}function P6(t){const e={},n=f(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>I6(o))),p(e,["generatedImages"],s)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Sx(i)),e}function L6(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const s=f(t,["updateTime"]);return s!=null&&p(e,["updateTime"],s),e}function Ag(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["description"]);s!=null&&p(e,["description"],s);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const u=f(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],L6(u));const d=f(t,["inputTokenLimit"]);d!=null&&p(e,["inputTokenLimit"],d);const h=f(t,["outputTokenLimit"]);h!=null&&p(e,["outputTokenLimit"],h);const m=f(t,["supportedGenerationMethods"]);return m!=null&&p(e,["supportedActions"],m),e}function R6(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["_self"]);if(i!=null){let s=ox(i);Array.isArray(s)&&(s=s.map(o=>Ag(o))),p(e,["models"],s)}return e}function F6(){return{}}function O6(t){const e={},n=f(t,["totalTokens"]);n!=null&&p(e,["totalTokens"],n);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function B6(t){const e={},n=f(t,["video","uri"]);n!=null&&p(e,["uri"],n);const i=f(t,["video","encodedVideo"]);i!=null&&p(e,["videoBytes"],jo(i));const s=f(t,["encoding"]);return s!=null&&p(e,["mimeType"],s),e}function U6(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],B6(n)),e}function q6(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>U6(u))),p(e,["generatedVideos"],o)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const s=f(t,["raiMediaFilteredReasons"]);return s!=null&&p(e,["raiMediaFilteredReasons"],s),e}function V6(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const s=f(t,["done"]);s!=null&&p(e,["done"],s);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],q6(u)),e}function z6(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function H6(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["data"]);i!=null&&p(e,["data"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function G6(t){const e={},n=f(t,["displayName"]);n!=null&&p(e,["displayName"],n);const i=f(t,["fileUri"]);i!=null&&p(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function $6(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],z6(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],H6(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],G6(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function Y6(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>$6(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function W6(t){const e={},n=f(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function J6(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const i=f(t,["urlRetrievalStatus"]);return i!=null&&p(e,["urlRetrievalStatus"],i),e}function K6(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>J6(s))),p(e,["urlMetadata"],i)}return e}function Z6(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],Y6(n));const i=f(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],W6(i));const s=f(t,["finishMessage"]);s!=null&&p(e,["finishMessage"],s);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const u=f(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],K6(u));const d=f(t,["avgLogprobs"]);d!=null&&p(e,["avgLogprobs"],d);const h=f(t,["groundingMetadata"]);h!=null&&p(e,["groundingMetadata"],h);const m=f(t,["index"]);m!=null&&p(e,["index"],m);const y=f(t,["logprobsResult"]);y!=null&&p(e,["logprobsResult"],y);const x=f(t,["safetyRatings"]);return x!=null&&p(e,["safetyRatings"],x),e}function a2(t){const e={},n=f(t,["candidates"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>Z6(m))),p(e,["candidates"],h)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const u=f(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const d=f(t,["usageMetadata"]);return d!=null&&p(e,["usageMetadata"],d),e}function X6(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const i=f(t,["token_count"]);return i!=null&&p(e,["tokenCount"],i),e}function Q6(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const i=f(t,["statistics"]);return i!=null&&p(e,["statistics"],X6(i)),e}function eE(t){const e={},n=f(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function tE(t){const e={},n=f(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Q6(o))),p(e,["embeddings"],s)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],eE(i)),e}function nE(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["imageBytes"],jo(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Tx(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const s=f(t,["contentType"]);return s!=null&&p(e,["contentType"],s),e}function Ug(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],nE(n));const i=f(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const s=f(t,["_self"]);s!=null&&p(e,["safetyAttributes"],Tx(s));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function iE(t){const e={},n=f(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Ug(o))),p(e,["generatedImages"],s)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Tx(i)),e}function aE(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ug(s))),p(e,["generatedImages"],i)}return e}function sE(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ug(s))),p(e,["generatedImages"],i)}return e}function rE(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const i=f(t,["deployedModelId"]);return i!=null&&p(e,["deployedModelId"],i),e}function oE(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const s=f(t,["updateTime"]);return s!=null&&p(e,["updateTime"],s),e}function lE(t){const e={},n=f(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const i=f(t,["epoch"]);i!=null&&p(e,["epoch"],i);const s=f(t,["step"]);return s!=null&&p(e,["step"],s),e}function Ng(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["displayName"]);i!=null&&p(e,["displayName"],i);const s=f(t,["description"]);s!=null&&p(e,["description"],s);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const u=f(t,["deployedModels"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(T=>rE(T))),p(e,["endpoints"],x)}const d=f(t,["labels"]);d!=null&&p(e,["labels"],d);const h=f(t,["_self"]);h!=null&&p(e,["tunedModelInfo"],oE(h));const m=f(t,["defaultCheckpointId"]);m!=null&&p(e,["defaultCheckpointId"],m);const y=f(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>lE(T))),p(e,["checkpoints"],x)}return e}function uE(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["_self"]);if(i!=null){let s=ox(i);Array.isArray(s)&&(s=s.map(o=>Ng(o))),p(e,["models"],s)}return e}function cE(){return{}}function dE(t){const e={},n=f(t,["totalTokens"]);return n!=null&&p(e,["totalTokens"],n),e}function fE(t){const e={},n=f(t,["tokensInfo"]);return n!=null&&p(e,["tokensInfo"],n),e}function hE(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],jo(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function pE(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],hE(n)),e}function mE(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>pE(u))),p(e,["generatedVideos"],o)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const s=f(t,["raiMediaFilteredReasons"]);return s!=null&&p(e,["raiMediaFilteredReasons"],s),e}function gE(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const s=f(t,["done"]);s!=null&&p(e,["done"],s);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const u=f(t,["response"]);return u!=null&&p(e,["response"],mE(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vE="Content-Type",yE="X-Server-Timeout",xE="User-Agent",Cg="x-goog-api-client",bE="1.8.0",wE=`google-genai-sdk/${bE}`,SE="v1beta1",TE="v1beta",s2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class AE{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:SE,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:TE,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))s.searchParams.append(u,String(d));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(s,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,o]of Object.entries(n))typeof o=="object"?i[s]=Object.assign(Object.assign({},i[s]),o):o!==void 0&&(i[s]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(s,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&NE(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await r2(s),new yg(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await r2(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Uc(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:h}=yield Vn(s.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h);try{const x=JSON.parse(m);if("error"in x){const T=JSON.parse(JSON.stringify(x.error)),w=T.status,C=T.code,M=`got status: ${w}. ${JSON.stringify(x)}`;if(C>=400&&C<600)throw new cp({message:M,status:C})}}catch(x){if(x.name==="ApiError")throw x}u+=m;let y=u.match(s2);for(;y;){const x=y[1];try{const T=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Vn(new yg(T)),u=u.slice(y[0].length),y=u.match(s2)}catch(T){throw new Error(`exception parsing stream chunk ${x}. ${T}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=wE+" "+this.clientOptions.userAgentExtra;return e[xE]=n,e[Cg]=n,e[vE]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(yE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,u=await o.stat(e);s.sizeBytes=String(u.size);const d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=d;const h=await this.fetchUploadUrl(s,n);return o.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},u=await this.request({path:yt("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:s});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function r2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new cp({message:s,status:n}):new Error(s)}}function NE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,u){const d=Object.assign({},o);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const m=u[h],y=d[h];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?d[h]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),d[h]=m)}return d}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CE="mcp_used/unknown";function Ax(t){for(const e of t)if(qg(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Nx(t){var e;const n=(e=t[Cg])!==null&&e!==void 0?e:"";t[Cg]=(n+` ${CE}`).trimStart()}function _E(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>qg(s)))!==null&&i!==void 0?i:!1}function EE(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!qg(s)))!==null&&i!==void 0?i:!1}function qg(t){return t!==null&&typeof t=="object"&&t instanceof Vg}function ME(t,e=100){return Uc(this,arguments,function*(){let i,s=0;for(;s<e;){const o=yield Vn(t.listTools({cursor:i}));for(const u of o.tools)yield yield Vn(u),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class Vg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Vg(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const o={},u=[];for(const y of this.mcpClients)try{for(var d=!0,h=(n=void 0,rf(ME(y))),m;m=await h.next(),e=m.done,!e;d=!0){s=m.value,d=!1;const x=s;u.push(x);const T=x.name;if(o[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);o[T]=y}}catch(x){n={error:x}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),SA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const u=await s.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kE(t,e,n){const i=new dA;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const o=O_(s);Object.assign(i,o),e(i)}class DE{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),u=PE(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${s}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${d}`;let m=()=>{};const y=new Promise(F=>{m=F}),x=e.callbacks,T=function(){m({})},w=this.apiClient,C={onopen:T,onmessage:F=>{kE(w,x.onmessage,F)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(F){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(F){}},M=this.webSocketFactory.create(h,IE(u),C);M.connect(),await y;const D=Nn(this.apiClient,e.model),E=yx({model:D}),j=Tg({setup:E});return M.send(JSON.stringify(j)),new jE(M,this.apiClient)}}class jE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=X3(e),i=xx(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Q3(e),i=Tg(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Tg({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Oc.PLAY)}pause(){this.sendPlaybackControl(Oc.PAUSE)}stop(){this.sendPlaybackControl(Oc.STOP)}resetContext(){this.sendPlaybackControl(Oc.RESET_CONTEXT)}close(){this.conn.close()}}function IE(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function PE(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RE(t,e,n){const i=new cA;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const o=JSON.parse(s);if(t.isVertexAI()){const u=M_(o);Object.assign(i,u)}else{const u=E_(o);Object.assign(i,u)}e(i)}class FE{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new DE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,o,u,d;const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const x=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ax(e.config.tools)&&Nx(x);const T=qE(x);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const O=this.apiClient.getApiKey();let ue="BidiGenerateContent",I="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ue="BidiGenerateContentConstrained",I="access_token"),y=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ue}?${I}=${O}`}let w=()=>{};const C=new Promise(O=>{w=O}),M=e.callbacks,D=function(){var O;(O=M==null?void 0:M.onopen)===null||O===void 0||O.call(M),w({})},E=this.apiClient,j={onopen:D,onmessage:O=>{RE(E,M.onmessage,O)},onerror:(n=M==null?void 0:M.onerror)!==null&&n!==void 0?n:function(O){},onclose:(i=M==null?void 0:M.onclose)!==null&&i!==void 0?i:function(O){}},F=this.webSocketFactory.create(y,UE(T),j);F.connect(),await C;let B=Nn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const O=this.apiClient.getProject(),ue=this.apiClient.getLocation();B=`projects/${O}/locations/${ue}/`+B}let H={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$h.AUDIO]}:e.config.responseModalities=[$h.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],V=[];for(const O of ee)if(this.isCallableTool(O)){const ue=O;V.push(await ue.tool())}else V.push(O);V.length>0&&(e.config.tools=V);const U={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=G3(this.apiClient,U):H=H3(this.apiClient,U),delete H.config,F.send(JSON.stringify(H)),new BE(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OE={turnComplete:!0};class BE{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=As(n.turns),e.isVertexAI()?i=i.map(s=>Zc(s)):i=i.map(s=>dp(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(LE)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},OE),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Z3(e)}:n={realtimeInput:K3(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function UE(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function qE(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o2=10;function l2(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(jh(u)){s=!0;break}if(!s)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function jh(t){return"callTool"in t&&typeof t.callTool=="function"}function u2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VE extends Ou{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,o,u,d;const h=await this.processParamsForMcpUsage(n);if(!_E(n)||l2(n.config))return await this.generateContentInternal(h);if(EE(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const x=As(h.contents),T=(o=(s=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:o2;let w=0;for(;w<T&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const C=m.candidates[0].content,M=[];for(const D of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(jh(D)){const j=await D.callTool(m.functionCalls);M.push(...j)}w++,y={role:"user",parts:M},h.contents=As(h.contents),h.contents.push(C),h.contents.push(y),u2(h.config)&&(x.push(C),x.push(y))}return u2(h.config)&&(m.automaticFunctionCallingHistory=x),m},this.generateContentStream=async n=>{if(l2(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let o;const u=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((s=h==null?void 0:h.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:u.push(h);let d;return o?d={generatedImages:u,positivePromptSafetyAttributes:o}:d={generatedImages:u},d}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new gf(Lu.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var n,i,s;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const u=await Promise.all(o.map(async h=>jh(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&Ax(e.config.tools)){const h=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Nx(m),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return d}async initAfcToolsMap(e){var n,i,s;const o=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(jh(u)){const d=u,h=await d.tool();for(const m of(s=h.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(o.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);o.set(m.name,d)}}return o}async processAfcStream(e){var n,i,s;const o=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:o2;let u=!1,d=0;const h=await this.initAfcToolsMap(e);return function(m,y,x){var T,w;return Uc(this,arguments,function*(){for(var C,M,D,E;d<o;){u&&(d++,u=!1);const H=yield Vn(m.processParamsForMcpUsage(x)),ee=yield Vn(m.generateContentStreamInternal(H)),V=[],U=[];try{for(var j=!0,F=(M=void 0,rf(ee)),B;B=yield Vn(F.next()),C=B.done,!C;j=!0){E=B.value,j=!1;const O=E;if(yield yield Vn(O),O.candidates&&(!((T=O.candidates[0])===null||T===void 0)&&T.content)){U.push(O.candidates[0].content);for(const ue of(w=O.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(d<o&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ue.functionCall.name)){const I=yield Vn(y.get(ue.functionCall.name).callTool([ue.functionCall]));V.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(O){M={error:O}}finally{try{!j&&!C&&(D=F.return)&&(yield Vn(D.call(F)))}finally{if(M)throw M.error}}if(V.length>0){u=!0;const O=new Kd;O.candidates=[{content:{role:"user",parts:V}}],yield yield Vn(O);const ue=[];ue.push(...U),ue.push({role:"user",parts:V});const I=As(x.contents).concat(ue);x.contents=I}else break}})}(this,h,e)}async generateContentInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=n2(this.apiClient,e);return d=yt("{model}:generateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=a2(y),T=new Kd;return Object.assign(T,x),T})}else{const m=t2(this.apiClient,e);return d=yt("{model}:generateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=i2(y),T=new Kd;return Object.assign(T,x),T})}}async generateContentStreamInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=n2(this.apiClient,e);return d=yt("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(x){return Uc(this,arguments,function*(){var T,w,C,M;try{for(var D=!0,E=rf(x),j;j=yield Vn(E.next()),T=j.done,!T;D=!0){M=j.value,D=!1;const B=a2(yield Vn(M.json())),H=new Kd;Object.assign(H,B),yield yield Vn(H)}}catch(F){w={error:F}}finally{try{!D&&!T&&(C=E.return)&&(yield Vn(C.call(E)))}finally{if(w)throw w.error}}})})}else{const m=t2(this.apiClient,e);return d=yt("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(x){return Uc(this,arguments,function*(){var T,w,C,M;try{for(var D=!0,E=rf(x),j;j=yield Vn(E.next()),T=j.done,!T;D=!0){M=j.value,D=!1;const B=i2(yield Vn(M.json())),H=new Kd;Object.assign(H,B),yield yield Vn(H)}}catch(F){w={error:F}}finally{try{!D&&!T&&(C=E.return)&&(yield Vn(C.call(E)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=K4(this.apiClient,e);return d=yt("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=tE(y),T=new P1;return Object.assign(T,x),T})}else{const m=u4(this.apiClient,e);return d=yt("{model}:batchEmbedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=D6(y),T=new P1;return Object.assign(T,x),T})}}async generateImagesInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=X4(this.apiClient,e);return d=yt("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=iE(y),T=new L1;return Object.assign(T,x),T})}else{const m=d4(this.apiClient,e);return d=yt("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=P6(y),T=new L1;return Object.assign(T,x),T})}}async editImageInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=s6(this.apiClient,e);return o=yt("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=aE(h),y=new aA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=o6(this.apiClient,e);return o=yt("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=sE(h),y=new sA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=l6(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Ng(y))}else{const m=f4(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Ag(y))}}async listInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=c6(this.apiClient,e);return d=yt("{models_url}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=uE(y),T=new R1;return Object.assign(T,x),T})}else{const m=p4(this.apiClient,e);return d=yt("{models_url}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=R6(y),T=new R1;return Object.assign(T,x),T})}}async update(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=f6(this.apiClient,e);return d=yt("{model}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Ng(y))}else{const m=g4(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Ag(y))}}async delete(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=h6(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(()=>{const y=cE(),x=new F1;return Object.assign(x,y),x})}else{const m=v4(this.apiClient,e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(()=>{const y=F6(),x=new F1;return Object.assign(x,y),x})}}async countTokens(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=m6(this.apiClient,e);return d=yt("{model}:countTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=dE(y),T=new O1;return Object.assign(T,x),T})}else{const m=x4(this.apiClient,e);return d=yt("{model}:countTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=O6(y),T=new O1;return Object.assign(T,x),T})}}async computeTokens(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=g6(this.apiClient,e);return o=yt("{model}:computeTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=fE(h),y=new rA;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=x6(this.apiClient,e);return d=yt("{model}:predictLongRunning",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>gE(y))}else{const m=S4(this.apiClient,e);return d=yt("{model}:predictLongRunning",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>V6(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function HE(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function GE(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const i=f(t,["resourceName"]);i!=null&&p(e,["_url","resourceName"],i);const s=f(t,["config"]);return s!=null&&p(e,["config"],s),e}function $E(t){const e={},n=f(t,["video","uri"]);n!=null&&p(e,["uri"],n);const i=f(t,["video","encodedVideo"]);i!=null&&p(e,["videoBytes"],jo(i));const s=f(t,["encoding"]);return s!=null&&p(e,["mimeType"],s),e}function YE(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],$E(n)),e}function WE(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>YE(u))),p(e,["generatedVideos"],o)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const s=f(t,["raiMediaFilteredReasons"]);return s!=null&&p(e,["raiMediaFilteredReasons"],s),e}function JE(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const s=f(t,["done"]);s!=null&&p(e,["done"],s);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const u=f(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],WE(u)),e}function KE(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],jo(i));const s=f(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function ZE(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],KE(n)),e}function XE(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>ZE(u))),p(e,["generatedVideos"],o)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const s=f(t,["raiMediaFilteredReasons"]);return s!=null&&p(e,["raiMediaFilteredReasons"],s),e}function c2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const s=f(t,["done"]);s!=null&&p(e,["done"],s);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const u=f(t,["response"]);return u!=null&&p(e,["response"],XE(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QE extends Ou{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=HE(e);return d=yt("{operationName}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>c2(y))}else{const m=zE(e);return d=yt("{operationName}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>JE(y))}}async fetchPredictVideosOperationInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=GE(e);return o=yt("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>c2(h))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(t){const e={},n=f(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function Cx(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],eM(n)),e}function tM(t){const e={},n=f(t,["speaker"]);n!=null&&p(e,["speaker"],n);const i=f(t,["voiceConfig"]);return i!=null&&p(e,["voiceConfig"],Cx(i)),e}function nM(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tM(s))),p(e,["speakerVoiceConfigs"],i)}return e}function iM(t){const e={},n=f(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],Cx(n));const i=f(t,["multiSpeakerVoiceConfig"]);i!=null&&p(e,["multiSpeakerVoiceConfig"],nM(i));const s=f(t,["languageCode"]);return s!=null&&p(e,["languageCode"],s),e}function aM(t){const e={},n=f(t,["fps"]);n!=null&&p(e,["fps"],n);const i=f(t,["endOffset"]);i!=null&&p(e,["endOffset"],i);const s=f(t,["startOffset"]);return s!=null&&p(e,["startOffset"],s),e}function sM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&p(e,["data"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function rM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function oM(t){const e={},n=f(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],aM(n));const i=f(t,["thought"]);i!=null&&p(e,["thought"],i);const s=f(t,["inlineData"]);s!=null&&p(e,["inlineData"],sM(s));const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],rM(o));const u=f(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const d=f(t,["codeExecutionResult"]);d!=null&&p(e,["codeExecutionResult"],d);const h=f(t,["executableCode"]);h!=null&&p(e,["executableCode"],h);const m=f(t,["functionCall"]);m!=null&&p(e,["functionCall"],m);const y=f(t,["functionResponse"]);y!=null&&p(e,["functionResponse"],y);const x=f(t,["text"]);return x!=null&&p(e,["text"],x),e}function lM(t){const e={},n=f(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>oM(o))),p(e,["parts"],s)}const i=f(t,["role"]);return i!=null&&p(e,["role"],i),e}function uM(t){const e={},n=f(t,["behavior"]);n!=null&&p(e,["behavior"],n);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const s=f(t,["name"]);s!=null&&p(e,["name"],s);const o=f(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=f(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const d=f(t,["response"]);d!=null&&p(e,["response"],d);const h=f(t,["responseJsonSchema"]);return h!=null&&p(e,["responseJsonSchema"],h),e}function cM(t){const e={},n=f(t,["startTime"]);n!=null&&p(e,["startTime"],n);const i=f(t,["endTime"]);return i!=null&&p(e,["endTime"],i),e}function dM(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],cM(n)),e}function fM(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const i=f(t,["dynamicThreshold"]);return i!=null&&p(e,["dynamicThreshold"],i),e}function hM(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],fM(n)),e}function pM(){return{}}function mM(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>uM(m))),p(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],dM(i));const s=f(t,["googleSearchRetrieval"]);if(s!=null&&p(e,["googleSearchRetrieval"],hM(s)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&p(e,["urlContext"],pM());const u=f(t,["codeExecution"]);u!=null&&p(e,["codeExecution"],u);const d=f(t,["computerUse"]);return d!=null&&p(e,["computerUse"],d),e}function gM(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d2(){return{}}function vM(t){const e={},n=f(t,["disabled"]);n!=null&&p(e,["disabled"],n);const i=f(t,["startOfSpeechSensitivity"]);i!=null&&p(e,["startOfSpeechSensitivity"],i);const s=f(t,["endOfSpeechSensitivity"]);s!=null&&p(e,["endOfSpeechSensitivity"],s);const o=f(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=f(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function yM(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],vM(n));const i=f(t,["activityHandling"]);i!=null&&p(e,["activityHandling"],i);const s=f(t,["turnCoverage"]);return s!=null&&p(e,["turnCoverage"],s),e}function xM(t){const e={},n=f(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function bM(t){const e={},n=f(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const i=f(t,["slidingWindow"]);return i!=null&&p(e,["slidingWindow"],xM(i)),e}function wM(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function SM(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const s=f(t,["responseModalities"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","responseModalities"],s);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=f(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","topK"],d);const h=f(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=f(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","speechConfig"],iM(Bg(x)));const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],lM(da(w)));const C=f(t,["tools"]);if(e!==void 0&&C!=null){let H=Jc(C);Array.isArray(H)&&(H=H.map(ee=>mM(Wc(ee)))),p(e,["setup","tools"],H)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&p(e,["setup","sessionResumption"],gM(M));const D=f(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],d2());const E=f(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],d2());const j=f(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&p(e,["setup","realtimeInputConfig"],yM(j));const F=f(t,["contextWindowCompression"]);e!==void 0&&F!=null&&p(e,["setup","contextWindowCompression"],bM(F));const B=f(t,["proactivity"]);return e!==void 0&&B!=null&&p(e,["setup","proactivity"],wM(B)),n}function TM(t,e){const n={},i=f(e,["model"]);i!=null&&p(n,["setup","model"],Nn(t,i));const s=f(e,["config"]);return s!=null&&p(n,["config"],SM(s,n)),n}function AM(t,e,n){const i={},s=f(e,["expireTime"]);n!==void 0&&s!=null&&p(n,["expireTime"],s);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const u=f(e,["uses"]);n!==void 0&&u!=null&&p(n,["uses"],u);const d=f(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&p(n,["bidiGenerateContentSetup"],TM(t,d));const h=f(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&p(n,["fieldMask"],h),i}function NM(t,e){const n={},i=f(e,["config"]);return i!=null&&p(n,["config"],AM(t,i,n)),n}function CM(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _M(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(o=>`${n}.${o}`);e.push(...s)}else e.push(n)}return e.join(",")}function EM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const o=_M(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];s.length>0&&(d=s.map(m=>u.includes(m)?`generationConfig.${m}`:m));const h=[];o&&h.push(o),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class MM extends Ou{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=NM(this.apiClient,e);o=yt("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=EM(d,e.config);return s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>CM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function DM(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function jM(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],DM(n,e)),e}function IM(t){const e={},n=f(t,["textInput"]);n!=null&&p(e,["textInput"],n);const i=f(t,["output"]);return i!=null&&p(e,["output"],i),e}function PM(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=f(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>IM(s))),p(e,["examples","examples"],i)}return e}function LM(t,e){const n={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=f(t,["epochCount"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","epochCount"],s);const o=f(t,["learningRateMultiplier"]);if(o!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=f(t,["batchSize"]);e!==void 0&&u!=null&&p(e,["tuningTask","hyperparameters","batchSize"],u);const d=f(t,["learningRate"]);return e!==void 0&&d!=null&&p(e,["tuningTask","hyperparameters","learningRate"],d),n}function RM(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["trainingDataset"]);i!=null&&p(e,["tuningTask","trainingData"],PM(i));const s=f(t,["config"]);return s!=null&&p(e,["config"],LM(s,e)),e}function FM(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&p(e,["config"],i),e}function OM(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const s=f(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function BM(t){const e={},n=f(t,["config"]);return n!=null&&p(e,["config"],OM(n,e)),e}function UM(t,e){const n={},i=f(t,["gcsUri"]);e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i);const s=f(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s),f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function qM(t,e){const n={},i=f(t,["gcsUri"]);i!=null&&p(n,["validationDatasetUri"],i);const s=f(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function VM(t,e){const n={},i=f(t,["validationDataset"]);e!==void 0&&i!=null&&p(e,["supervisedTuningSpec"],qM(i,n));const s=f(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&p(e,["tunedModelDisplayName"],s);const o=f(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const u=f(t,["epochCount"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=f(t,["learningRateMultiplier"]);e!==void 0&&d!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const h=f(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const m=f(t,["adapterSize"]);if(e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function zM(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const i=f(t,["trainingDataset"]);i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],UM(i,e));const s=f(t,["config"]);return s!=null&&p(e,["config"],VM(s,e)),e}function HM(t){const e={},n=f(t,["name"]);n!=null&&p(e,["model"],n);const i=f(t,["name"]);return i!=null&&p(e,["endpoint"],i),e}function _x(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["state"]);i!=null&&p(e,["state"],ax(i));const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=f(t,["tuningTask","startTime"]);o!=null&&p(e,["startTime"],o);const u=f(t,["tuningTask","completeTime"]);u!=null&&p(e,["endTime"],u);const d=f(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const h=f(t,["description"]);h!=null&&p(e,["description"],h);const m=f(t,["baseModel"]);m!=null&&p(e,["baseModel"],m);const y=f(t,["_self"]);y!=null&&p(e,["tunedModel"],HM(y));const x=f(t,["distillationSpec"]);x!=null&&p(e,["distillationSpec"],x);const T=f(t,["experiment"]);T!=null&&p(e,["experiment"],T);const w=f(t,["labels"]);w!=null&&p(e,["labels"],w);const C=f(t,["pipelineJob"]);C!=null&&p(e,["pipelineJob"],C);const M=f(t,["satisfiesPzi"]);M!=null&&p(e,["satisfiesPzi"],M);const D=f(t,["satisfiesPzs"]);D!=null&&p(e,["satisfiesPzs"],D);const E=f(t,["serviceAccount"]);E!=null&&p(e,["serviceAccount"],E);const j=f(t,["tunedModelDisplayName"]);return j!=null&&p(e,["tunedModelDisplayName"],j),e}function GM(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>_x(o))),p(e,["tuningJobs"],s)}return e}function $M(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["metadata"]);i!=null&&p(e,["metadata"],i);const s=f(t,["done"]);s!=null&&p(e,["done"],s);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function YM(t){const e={},n=f(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const i=f(t,["epoch"]);i!=null&&p(e,["epoch"],i);const s=f(t,["step"]);s!=null&&p(e,["step"],s);const o=f(t,["endpoint"]);return o!=null&&p(e,["endpoint"],o),e}function WM(t){const e={},n=f(t,["model"]);n!=null&&p(e,["model"],n);const i=f(t,["endpoint"]);i!=null&&p(e,["endpoint"],i);const s=f(t,["checkpoints"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>YM(u))),p(e,["checkpoints"],o)}return e}function _g(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const i=f(t,["state"]);i!=null&&p(e,["state"],ax(i));const s=f(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=f(t,["startTime"]);o!=null&&p(e,["startTime"],o);const u=f(t,["endTime"]);u!=null&&p(e,["endTime"],u);const d=f(t,["updateTime"]);d!=null&&p(e,["updateTime"],d);const h=f(t,["error"]);h!=null&&p(e,["error"],h);const m=f(t,["description"]);m!=null&&p(e,["description"],m);const y=f(t,["baseModel"]);y!=null&&p(e,["baseModel"],y);const x=f(t,["tunedModel"]);x!=null&&p(e,["tunedModel"],WM(x));const T=f(t,["supervisedTuningSpec"]);T!=null&&p(e,["supervisedTuningSpec"],T);const w=f(t,["tuningDataStats"]);w!=null&&p(e,["tuningDataStats"],w);const C=f(t,["encryptionSpec"]);C!=null&&p(e,["encryptionSpec"],C);const M=f(t,["partnerModelTuningSpec"]);M!=null&&p(e,["partnerModelTuningSpec"],M);const D=f(t,["distillationSpec"]);D!=null&&p(e,["distillationSpec"],D);const E=f(t,["experiment"]);E!=null&&p(e,["experiment"],E);const j=f(t,["labels"]);j!=null&&p(e,["labels"],j);const F=f(t,["pipelineJob"]);F!=null&&p(e,["pipelineJob"],F);const B=f(t,["satisfiesPzi"]);B!=null&&p(e,["satisfiesPzi"],B);const H=f(t,["satisfiesPzs"]);H!=null&&p(e,["satisfiesPzs"],H);const ee=f(t,["serviceAccount"]);ee!=null&&p(e,["serviceAccount"],ee);const V=f(t,["tunedModelDisplayName"]);return V!=null&&p(e,["tunedModelDisplayName"],V),e}function JM(t){const e={},n=f(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const i=f(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>_g(o))),p(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KM extends Ou{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new gf(Lu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:vg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=FM(e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>_g(y))}else{const m=kM(e);return d=yt("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>_x(y))}}async listInternal(e){var n,i,s,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const m=BM(e);return d=yt("tuningJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const x=JM(y),T=new B1;return Object.assign(T,x),T})}else{const m=jM(e);return d=yt("tunedModels",m._url),h=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const x=GM(y),T=new B1;return Object.assign(T,x),T})}}async tuneInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=zM(e);return o=yt("tuningJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>_g(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=RM(e);return o=yt("tunedModels",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>$M(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XM=1024*1024*8,QM=3,ek=1e3,tk=2,Bm="x-goog-upload-status";async function nk(t,e,n){var i,s,o;let u=0,d=0,h=new yg(new Response),m="upload";for(u=t.size;d<u;){const x=Math.min(XM,u-d),T=t.slice(d,d+x);d+x>=u&&(m+=", finalize");let w=0,C=ek;for(;w<QM&&(h=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(d),"Content-Length":String(x)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[Bm]));)w++,await ak(C),C=C*tk;if(d+=x,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s[Bm])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(h==null?void 0:h.json());if(((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[Bm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function ik(t){return{size:t.size,type:t.type}}function ak(t){return new Promise(e=>setTimeout(e,t))}class sk{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nk(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ik(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rk{create(e,n,i){return new ok(e,n,i)}}class ok{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f2="x-goog-api-key";class lk{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(f2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(f2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uk="gl-node/";class ck{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=iA(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const s=new lk(this.apiKey);this.apiClient=new AE({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uk+"web",uploader:new sk,downloader:new ZM}),this.models=new VE(this.apiClient),this.live=new FE(this.apiClient,s,new rk),this.batches=new DN(this.apiClient),this.chats=new LC(this.models,this.apiClient),this.caches=new jC(this.apiClient),this.files=new WC(this.apiClient),this.operations=new QE(this.apiClient),this.authTokens=new MM(this.apiClient),this.tunings=new KM(this.apiClient)}}const Ex=async({context:t,userPrompt:e,settings:n,history:i=[]})=>{if(console.log("%cAI Service Request","color: #8b5cf6; font-weight: bold;",{context:t,userPrompt:e,historyLength:i==null?void 0:i.length}),!n.enabled)return console.warn("AI features are currently disabled in settings."),"AI features are currently disabled in the settings.";const s=typeof process<"u"&&"PLACEHOLDER_API_KEY"||"";if(!s){const o="Error: The application's AI features are not configured because the API key is missing.";return console.error(o),o}try{const o=new ck({apiKey:s}),u=n.personas.main,d=n.personas[t];let h=`
//--- CORE INSTRUCTION (Your base personality) ---
${u.instructions}

//--- SPECIALIZED TASK (Your current role as ${t}) ---
Your current task is related to ${t}. Your specific instructions are:
${d.instructions}
        `.trim();n.plainTextMode&&(h+=`

--- FORMATTING RULE ---
IMPORTANT: Your entire response must be in plain text. Do not use any markdown formatting. Do not use asterisks for bolding or italics. Do not use # for headings. Do not use numbered or bulleted lists. Use simple line breaks to separate paragraphs or ideas.`),console.log(`[AI Request] Persona: ${t}, Model: ${d.model}, Temp: ${d.temperature}`),console.log("[AI Request] System Instruction:",h);const m=[...i,{role:"user",parts:[{text:e}]}],y=await o.models.generateContent({model:d.model,contents:m,config:{systemInstruction:h,temperature:d.temperature}});return console.log("%cAI Service Response","color: #10b981; font-weight: bold;",{response:y}),y.text}catch(o){return console.error("Error fetching AI response:",o),o instanceof Error?`An error occurred while contacting the AI service: ${o.message}`:"An unknown error occurred while contacting the AI service."}},dk=({isOpen:t,onClose:e,context:n,settings:i})=>{const[s,o]=ve.useState(""),[u,d]=ve.useState(""),[h,m]=ve.useState(!1),y=ve.useRef(null);ve.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[u]);const x=async T=>{if(T.preventDefault(),!s||h)return;m(!0),d("");const w=await Ex({context:n,userPrompt:s,settings:i});d(w),m(!1),o("")};return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4 transition-opacity","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800",id:"modal-title",children:["Test Persona: ",c.jsx("span",{className:"text-teal-600 capitalize",children:n})]}),c.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-200",children:c.jsx("i",{className:"fa-solid fa-times text-slate-600"})})]}),c.jsxs("div",{ref:y,className:"flex-grow my-4 pr-2 overflow-y-auto space-y-4",children:[c.jsx("div",{className:"bg-slate-100 p-3 rounded-lg text-sm text-slate-700",children:c.jsxs("p",{children:[c.jsx("strong",{className:"font-semibold",children:"System:"})," You are now chatting with the '",n,"' persona. Type a message below to see how it responds based on your current settings."]})}),u&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg text-sm text-blue-900",children:c.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:u})}),h&&c.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[c.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),c.jsx("span",{children:"Persona is thinking..."})]})]}),c.jsx("form",{onSubmit:x,className:"mt-auto border-t border-slate-200 pt-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(kt,{type:"text",value:s,onChange:T=>o(T.target.value),placeholder:"Type your message here...",className:"flex-grow",disabled:h}),c.jsx("button",{type:"submit",disabled:h||!s,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400",children:c.jsx("i",{className:"fa-solid fa-paper-plane"})})]})})]})}):null},fk=()=>{const{state:t,dispatch:e,notify:n}=cn(),[i,s]=ve.useState(t.settings.ai),[o,u]=ve.useState(!1),[d,h]=ve.useState("main"),[m,y]=ve.useState(!1),[x,T]=ve.useState(null),w=[{id:"main",label:"Main"},{id:"projects",label:"Projects"},{id:"budget",label:"Budget"},{id:"members",label:"Members"},{id:"tasks",label:"Tasks"},{id:"reports",label:"Reports"}],C=(B,H,ee)=>{s(V=>St(V,U=>{const O=U.personas[B];switch(H){case"instructions":O.instructions=ee;break;case"model":O.model=ee;break;case"temperature":O.temperature=ee;break}})),u(!0)},M=(B,H)=>{s(ee=>St(ee,V=>{V.personas[B].instructions=H})),u(!0),n('Template loaded. Click "Save Changes" to apply.',"info")},D=()=>{const B=St(t.settings,H=>{H.ai=i});e({type:"UPDATE_SETTINGS",payload:B}),u(!1),n("AI settings saved!","success")},E=()=>{y(!0)},j=()=>{s(Ig.ai),u(!0),y(!1),n('AI settings have been reset to default. Click "Save Changes" to apply.',"info")},F=()=>{const B=i.personas[d];return d==="main"?c.jsx(bT,{enabled:i.enabled,onEnabledChange:H=>{s(ee=>({...ee,enabled:H})),u(!0)},plainTextMode:i.plainTextMode,onPlainTextModeChange:H=>{s(ee=>({...ee,plainTextMode:H})),u(!0)},persona:B,onPersonaChange:(H,ee)=>C("main",H,ee),onLoadTemplate:H=>M("main",H),onTestPersona:()=>T("main")}):c.jsx(wT,{personaName:d,persona:B,onPersonaChange:(H,ee)=>C(d,H,ee),onLoadTemplate:H=>M(d,H),onTestPersona:()=>T(d)})};return c.jsxs("div",{children:[m&&c.jsx(Vr,{isOpen:m,onClose:()=>y(!1),onConfirm:j,title:"Reset AI Settings",message:"Are you sure you want to reset all AI settings to their default values? This action cannot be undone.",confirmButtonText:"Yes, Reset"}),x&&c.jsx(dk,{isOpen:!0,onClose:()=>T(null),context:x,settings:i}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"AI Personas & Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Configure the personality and behavior of specialized AI assistants for each part of the application."}),c.jsx("div",{className:"mt-6 border-b border-slate-200",children:c.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:w.map(B=>c.jsx("button",{type:"button",onClick:()=>h(B.id),className:`whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md ${d===B.id?"border-teal-500 text-teal-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:B.label},B.id))})}),c.jsx("div",{className:"mt-6",children:F()}),c.jsxs("div",{className:"mt-8 pt-5 border-t border-slate-200 flex justify-between items-center",children:[c.jsx("button",{onClick:D,disabled:!o,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"}),c.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reset to Defaults"})]})]})},hk=()=>{const{state:t,dispatch:e,notify:n}=cn(),[i,s]=ve.useState(t.settings.budget),[o,u]=ve.useState(!1),d=(y,x,T)=>{const w=y==="revenue"?"revenueLabels":"expenseLabels";s(C=>St(C,M=>{M[w][x]=T})),u(!0)},h=()=>{const y=St(t.settings,x=>{x.budget=i});e({type:"UPDATE_SETTINGS",payload:y}),u(!1),n("Budget settings saved!","success")},m=(y,x,T)=>c.jsxs("div",{children:[c.jsx("h4",{className:"text-md font-semibold text-slate-700 mt-4 mb-2",children:y}),c.jsx("div",{className:"space-y-3 pl-4 border-l-2 border-slate-200",children:x.map(w=>{const M=(T==="revenue"?i.revenueLabels:i.expenseLabels)[w.key],D=w.label;return c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-slate-500",children:D}),c.jsx(kt,{type:"text",placeholder:D,value:M===void 0?"":M,onChange:E=>d(T,w.key,E.target.value),className:"mt-1"})]},w.key)})})]},y);return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Budget Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize the display names for budget revenue sources and expense types. Leave an input blank to use the default name."}),c.jsxs("div",{className:"mt-8 space-y-6",children:[c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revenue Source Customization"}),Object.entries(_l).map(([y,x])=>m(y.charAt(0).toUpperCase()+y.slice(1),x,"revenue"))]}),c.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Expense Type Customization"}),Object.entries(Fa).map(([y,x])=>m(y.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),x,"expense"))]})]}),c.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:c.jsx("button",{onClick:h,disabled:!o,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},pk=()=>{const[t,e]=ve.useState("general"),n=[{id:"general",label:"General",icon:"fa-solid fa-sliders"},{id:"projects",label:"Projects",icon:"fa-solid fa-briefcase"},{id:"budget",label:"Budget",icon:"fa-solid fa-dollar-sign"},{id:"members",label:"Members",icon:"fa-solid fa-users"},{id:"tasks",label:"Tasks",icon:"fa-solid fa-list-check"},{id:"ai",label:"AI Settings",icon:"fa-solid fa-wand-magic-sparkles"}],i=()=>{switch(t){case"general":return c.jsx(Py,{});case"projects":return c.jsx(vT,{});case"budget":return c.jsx(hk,{});case"members":return c.jsx(yT,{});case"tasks":return c.jsx(xT,{});case"ai":return c.jsx(fk,{});default:return c.jsx(Py,{})}};return c.jsx("div",{className:"bg-white shadow-lg rounded-xl",children:c.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-10rem)]",children:[c.jsxs("aside",{className:"w-full md:w-64 bg-slate-50 p-4 border-b md:border-b-0 md:border-r border-slate-200",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4 px-2",children:"Settings"}),c.jsx("nav",{className:"flex flex-row md:flex-col gap-1",children:n.map(s=>c.jsxs("button",{onClick:()=>e(s.id),className:`flex items-center w-full text-left p-3 rounded-lg text-sm font-semibold transition-colors duration-150 ${t===s.id?"bg-teal-100 text-teal-800":"text-slate-600 hover:bg-slate-200 hover:text-slate-800"}`,children:[c.jsx("i",{className:`${s.icon} w-6 text-center mr-2`}),c.jsx("span",{children:s.label})]},s.id))})]}),c.jsx("main",{className:"flex-1 p-6 sm:p-8",children:i()})]})})},_o="ARTS_INCUBATOR",Eo="1.1.0",wu=t=>`${t}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,mk=()=>{const{state:t,dispatch:e,notify:n}=cn(),[i,s]=ve.useState(!1),[o,u]=ve.useState(!1),[d,h]=ve.useState(!1),[m,y]=ve.useState(!1),[x,T]=ve.useState(null),[w,C]=ve.useState(null),[M,D]=ve.useState(null),E=ve.useRef(null),j=ve.useRef(null),F=ve.useRef(null),B=(ce,q)=>{const G=new Blob([ce],{type:"application/json"}),ne=URL.createObjectURL(G),oe=document.createElement("a");oe.href=ne,oe.download=q,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ne)},H=()=>{const{reportProjectIdToOpen:ce,...q}=t,G={type:`${_o}_WORKSPACE_BACKUP`,appVersion:Eo,exportDate:new Date().toISOString(),data:q},ne=`${_o.toLowerCase()}-workspace-backup-${new Date().toISOString().split("T")[0]}.json`;B(JSON.stringify(G,null,2),ne),n("Workspace backup exported successfully!","success")},ee=ce=>{var ne;const q=(ne=ce.target.files)==null?void 0:ne[0];if(!q)return;const G=new FileReader;G.onload=oe=>{var P;try{const ae=JSON.parse((P=oe.target)==null?void 0:P.result);if(ae.type!==`${_o}_WORKSPACE_BACKUP`)throw new Error("Invalid file type. This is not a valid workspace backup file.");if(ae.appVersion!==Eo)throw new Error(`Version mismatch. File version: ${ae.appVersion}, App version: ${Eo}.`);T(ae),s(!0)}catch(ae){n(ae.message,"error")}},G.readAsText(q),ce.target.value=""},V=()=>{x&&(e({type:"LOAD_DATA",payload:x.data}),n("Workspace restored successfully!","success"),s(!1),T(null))},U=()=>{const[ce,q]=ve.useState(""),G=()=>{if(!ce){n("Please select a project to export.","warning");return}const ne=t.projects.find(he=>he.id===ce);if(!ne)return;const oe=t.tasks.filter(he=>he.projectId===ce),P=new Set(oe.map(he=>he.id)),ae=t.activities.filter(he=>P.has(he.taskId)),L=t.directExpenses.filter(he=>he.projectId===ce),J=new Set(ne.collaboratorDetails.map(he=>he.memberId));oe.forEach(he=>J.add(he.assignedMemberId)),ae.forEach(he=>J.add(he.memberId));const Y=t.members.filter(he=>J.has(he.id)),ie={type:`${_o}_PROJECT_EXPORT`,appVersion:Eo,exportDate:new Date().toISOString(),data:{project:ne,tasks:oe,activities:ae,directExpenses:L,members:Y}},X=ne.projectTitle.replace(/[^a-z0-9]/gi,"_").toLowerCase(),pe=`${_o.toLowerCase()}-project-${X}.json`;B(JSON.stringify(ie,null,2),pe),n(`Project '${ne.projectTitle}' exported successfully!`,"success"),u(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Export a Single Project"}),c.jsx(Jt,{value:ce,onChange:ne=>q(ne.target.value),options:[{value:"",label:"Select a project..."},...t.projects.map(ne=>({value:ne.id,label:ne.projectTitle}))]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:G,disabled:!ce,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400",children:"Export Project"})]})]})})},O=ce=>{var ne;const q=(ne=ce.target.files)==null?void 0:ne[0];if(!q)return;const G=new FileReader;G.onload=oe=>{var P;try{const ae=JSON.parse((P=oe.target)==null?void 0:P.result);if(ae.type!==`${_o}_PROJECT_EXPORT`)throw new Error("Invalid file type. This is not a valid project export file.");if(ae.appVersion!==Eo)throw new Error(`Version mismatch. File version: ${ae.appVersion}, App version: ${Eo}.`);C(ae),h(!0)}catch(ae){n(ae.message,"error")}},G.readAsText(q),ce.target.value=""},ue=()=>{const{data:ce}=w,q=new Set(t.members.map(oe=>oe.email.toLowerCase())),G={newMembers:ce.members.filter(oe=>!q.has(oe.email.toLowerCase())),matchedMembers:ce.members.filter(oe=>q.has(oe.email.toLowerCase()))},ne=()=>{const oe=I(ce,t.members);e({type:"ADD_PROJECT_DATA",payload:oe}),n(`Project '${ce.project.projectTitle}' imported successfully!`,"success"),h(!1),C(null)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Import Project"}),c.jsxs("p",{className:"text-slate-600 mb-4",children:["Ready to import ",c.jsx("span",{className:"font-semibold",children:ce.project.projectTitle}),". Here's how collaborators will be handled:"]}),c.jsxs("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:[G.matchedMembers.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-green-700",children:"Matched Members (Existing)"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600",children:G.matchedMembers.map(oe=>c.jsxs("li",{children:[oe.firstName," ",oe.lastName," (",oe.email,")"]},oe.id))})]}),G.newMembers.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-blue-700",children:"New Members (Will be created)"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-slate-600",children:G.newMembers.map(oe=>c.jsxs("li",{children:[oe.firstName," ",oe.lastName," (",oe.email,")"]},oe.id))})]})]}),c.jsx("p",{className:"text-xs text-slate-500 mt-4",children:"This action is non-destructive. The project will be added to your current workspace. Existing data will not be affected."}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"Confirm and Import"})]})]})})},I=(ce,q)=>{const G=new Map,ne=new Map(q.map(X=>[X.email.toLowerCase(),X.id])),oe=ce.members.map(X=>{const pe=ne.get(X.email.toLowerCase());if(pe)return G.set(X.id,pe),null;{const he=wu("mem");return G.set(X.id,he),{...X,id:he}}}).filter(X=>X!==null),P=ce.project,ae=wu("proj");G.set(P.id,ae);const L=St(P,X=>{X.id=ae,X.collaboratorDetails=X.collaboratorDetails.map(pe=>({...pe,memberId:G.get(pe.memberId)||pe.memberId})),Object.keys(X.budget.revenues).forEach(pe=>{const he=pe;Array.isArray(X.budget.revenues[he])&&X.budget.revenues[he].forEach(fe=>{const Ce=wu("bud");G.set(fe.id,Ce),fe.id=Ce})}),Object.keys(X.budget.expenses).forEach(pe=>{const he=pe;X.budget.expenses[he].forEach(fe=>{const Ce=wu("bud");G.set(fe.id,Ce),fe.id=Ce})})}),J=ce.tasks.map(X=>{const pe=wu("task");return G.set(X.id,pe),{...X,id:pe,projectId:G.get(X.projectId)||X.projectId,assignedMemberId:G.get(X.assignedMemberId)||X.assignedMemberId,budgetItemId:G.get(X.budgetItemId)||""}}),Y=ce.activities.map(X=>({...X,id:wu("act"),taskId:G.get(X.taskId)||X.taskId,memberId:G.get(X.memberId)||X.memberId})),ie=ce.directExpenses.map(X=>({...X,id:wu("dexp"),projectId:G.get(X.projectId)||X.projectId,budgetItemId:G.get(X.budgetItemId)||X.budgetItemId}));return{project:L,tasks:J,activities:Y,directExpenses:ie,members:oe}},k=()=>{const ce={type:`${_o}_AI_SETTINGS_EXPORT`,appVersion:Eo,exportDate:new Date().toISOString(),data:t.settings.ai},q=`${_o.toLowerCase()}-ai-settings-export-${new Date().toISOString().split("T")[0]}.json`;B(JSON.stringify(ce,null,2),q),n("AI settings exported successfully!","success")},$=ce=>{var ne;const q=(ne=ce.target.files)==null?void 0:ne[0];if(!q)return;const G=new FileReader;G.onload=oe=>{var P;try{const ae=JSON.parse((P=oe.target)==null?void 0:P.result);if(ae.type!==`${_o}_AI_SETTINGS_EXPORT`)throw new Error("Invalid file type. This is not an AI settings export file.");if(ae.appVersion!==Eo)throw new Error(`Version mismatch. File version: ${ae.appVersion}, App version: ${Eo}.`);D(ae),y(!0)}catch(ae){n(ae.message,"error")}},G.readAsText(q),ce.target.value=""},K=()=>{if(!M)return;const ce=St(t.settings,q=>{q.ai=M.data});e({type:"UPDATE_SETTINGS",payload:ce}),n("AI settings imported successfully!","success"),y(!1),D(null)};return c.jsxs(c.Fragment,{children:[i&&x&&c.jsx(Vr,{isOpen:!0,onClose:()=>s(!1),onConfirm:V,title:"Restore Workspace",message:c.jsxs(c.Fragment,{children:["Are you sure you want to restore this workspace? ",c.jsx("strong",{className:"font-bold text-red-700",children:"This will permanently delete all current data in the application and replace it with the data from this file."})," This action cannot be undone."]}),confirmButtonText:"Yes, Restore Workspace"}),o&&c.jsx(U,{}),d&&w&&c.jsx(ue,{}),m&&M&&c.jsx(Vr,{isOpen:!0,onClose:()=>y(!1),onConfirm:K,title:"Import AI Settings",message:c.jsxs(c.Fragment,{children:["Are you sure you want to import these AI settings? ",c.jsx("strong",{className:"font-bold text-red-700",children:"This will overwrite all your current AI settings."})]}),confirmButtonText:"Yes, Import Settings"}),c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8 space-y-12",children:[c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Project Import / Export"}),c.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Move individual projects between workspaces. Importing a project is non-destructive and will add it to your existing data."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("button",{onClick:()=>u(!0),className:"w-full text-center p-6 bg-white border-2 border-dashed border-slate-300 rounded-lg hover:border-teal-500 hover:bg-teal-50 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-file-export text-4xl text-teal-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Export a Project"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Select a project to save as a self-contained `.json` file."})]}),c.jsxs("button",{onClick:()=>{var ce;return(ce=j.current)==null?void 0:ce.click()},className:"w-full text-center p-6 bg-white border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-file-import text-4xl text-blue-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Import a Project"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Load a project from a `.json` file into your workspace."}),c.jsx("input",{type:"file",accept:".json",ref:j,onChange:O,className:"hidden"})]})]})]}),c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"AI Settings Import / Export"}),c.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Move your AI configurations between workspaces or save them as backups."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("button",{onClick:k,className:"w-full text-center p-6 bg-white border-2 border-dashed border-slate-300 rounded-lg hover:border-teal-500 hover:bg-teal-50 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-cloud-arrow-down text-4xl text-teal-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Export AI Settings"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Save your AI instructions and preferences to a `.json` file."})]}),c.jsxs("button",{onClick:()=>{var ce;return(ce=F.current)==null?void 0:ce.click()},className:"w-full text-center p-6 bg-white border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-4xl text-blue-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Import AI Settings"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Overwrite current AI settings with a `.json` file."}),c.jsx("input",{type:"file",accept:".json",ref:F,onChange:$,className:"hidden"})]})]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-red-800 mb-2 flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),"Workspace Backup & Restore"]}),c.jsxs("p",{className:"text-sm text-red-700 mb-6",children:["Create a full backup of all your data, or restore your workspace from a backup file. ",c.jsx("strong",{className:"font-bold",children:"Restoring is a destructive action."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("button",{onClick:H,className:"w-full text-center p-6 bg-white border-2 border-dashed border-slate-300 rounded-lg hover:border-teal-500 hover:bg-teal-50 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-download text-4xl text-teal-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Backup Workspace"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Save your entire application state to a `.json` file."})]}),c.jsxs("button",{onClick:()=>{var ce;return(ce=E.current)==null?void 0:ce.click()},className:"w-full text-center p-6 bg-white border-2 border-dashed border-red-300 rounded-lg hover:border-red-500 hover:bg-red-100 transition-colors",children:[c.jsx("i",{className:"fa-solid fa-upload text-4xl text-red-600"}),c.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Restore from Backup"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Overwrite all current data with a backup file."}),c.jsx("input",{type:"file",accept:".json",ref:E,onChange:ee,className:"hidden"})]})]})]})]})]})},gk=({onNavigate:t})=>{const{state:e,dispatch:n}=cn(),{projects:i,tasks:s}=e,[o,u]=ve.useState(""),[d,h]=ve.useState("basic"),m=ve.useMemo(()=>[{value:"",label:"Select a project..."},...i.map(C=>({value:C.id,label:C.projectTitle}))],[i]),y=ve.useMemo(()=>o?s.filter(C=>C.projectId===o):[],[o,s]),x=i.find(C=>C.id===o),T=C=>{n({type:"SET_ACTIVE_WORKSHOP_ITEM",payload:{type:"task",itemId:C.id}}),t("aiWorkshop")},w=()=>{n({type:"SET_ACTIVE_WORKSHOP_ITEM",payload:{type:"task",itemId:`new_${o}`}}),t("aiWorkshop")};return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"AI Task Assessor"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Select a project to analyze its tasks with the help of your AI 'Task' persona."})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx(ug,{id:"task-assessor-mode",checked:d==="advanced",onChange:C=>h(C?"advanced":"basic"),label:d==="basic"?"Basic Mode":"Advanced Mode"})})]}),c.jsxs("div",{className:"flex items-end gap-4",children:[c.jsx("div",{className:"flex-grow max-w-md",children:c.jsx(Jt,{value:o,onChange:C=>u(C.target.value),options:m})}),o&&y.length===0&&c.jsxs("button",{onClick:w,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"Suggest Initial Tasks"]})]}),c.jsx("div",{className:"mt-8",children:o?y.length>0?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h2",{className:"text-xl font-semibold text-slate-800",children:["Tasks for: ",x==null?void 0:x.projectTitle]}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg",children:y.map(C=>c.jsxs("li",{onClick:()=>T(C),className:"p-4 hover:bg-teal-50 cursor-pointer transition-colors flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-slate-800",children:C.title}),c.jsxs("p",{className:"text-sm text-slate-500",children:[C.description.substring(0,100),"..."]})]}),c.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded flex-shrink-0",children:C.taskCode})]},C.id))})]}):c.jsxs("div",{className:"text-center py-20 text-slate-500",children:[c.jsx("i",{className:"fa-solid fa-check-double text-6xl text-slate-300"}),c.jsx("h3",{className:"mt-4 text-lg font-medium",children:"This project has no tasks yet."}),c.jsx("p",{className:"mt-1",children:'Click the "Suggest Initial Tasks" button to get started.'})]}):c.jsxs("div",{className:"text-center py-20 text-slate-500",children:[c.jsx("i",{className:"fa-solid fa-arrow-up text-6xl text-slate-300"}),c.jsx("h3",{className:"mt-4 text-lg font-medium",children:"Please select a project to begin."})]})})]})},vk=({onNavigate:t})=>{const{state:e,dispatch:n}=cn(),{projects:i}=e,[s,o]=ve.useState(""),u=ve.useMemo(()=>[{value:"",label:"Select a project to analyze..."},...i.map(y=>({value:y.id,label:y.projectTitle}))],[i]),d=ve.useMemo(()=>i.find(y=>y.id===s),[s,i]),h=y=>{d&&(n({type:"SET_ACTIVE_WORKSHOP_ITEM",payload:{type:"project",itemId:d.id,fieldKey:y.key,fieldLabel:y.label}}),t("aiWorkshop"))},m=y=>!y.artisticDisciplines||y.artisticDisciplines.length===0?"No disciplines selected...":y.artisticDisciplines.map(x=>{var T;return((T=mf.find(w=>w.value===x))==null?void 0:T.label)||x}).join(", ");return c.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Project AI Assistant"}),c.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Select a project to get AI-powered feedback on its written components."}),c.jsx("div",{className:"max-w-md",children:c.jsx(Jt,{value:s,onChange:y=>o(y.target.value),options:u})}),c.jsx("div",{className:"mt-8",children:d?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Zd.map(y=>{if(y.key==="artisticDisciplinesAndGenres")return c.jsxs("button",{onClick:()=>h(y),className:"p-4 border rounded-lg text-left transition-all duration-200 hover:shadow-md hover:-translate-y-1 border-slate-300 bg-white hover:border-teal-400",children:[c.jsx("h3",{className:"font-semibold text-slate-800",children:y.label}),c.jsx("p",{className:"text-sm mt-1 h-12 overflow-hidden text-ellipsis text-slate-600",children:m(d)}),c.jsxs("div",{className:"mt-2 text-xs font-medium text-teal-600",children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"Analyze Section"]})]},y.key);const x=d[y.key]||"",T=x.length>0;return c.jsxs("button",{onClick:()=>h(y),className:`p-4 border rounded-lg text-left transition-all duration-200 hover:shadow-md hover:-translate-y-1 ${T?"border-slate-300 bg-white hover:border-teal-400":"border-dashed border-slate-300 bg-slate-50 hover:border-blue-400"}`,children:[c.jsx("h3",{className:"font-semibold text-slate-800",children:y.label}),c.jsx("p",{className:`text-sm mt-1 h-12 overflow-hidden text-ellipsis ${T?"text-slate-600":"text-slate-400 italic"}`,children:x||"Click to get AI feedback or generate content..."}),c.jsxs("div",{className:`mt-2 text-xs font-medium ${T?"text-teal-600":"text-blue-600"}`,children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"Analyze Section"]})]},y.key)})}):c.jsxs("div",{className:"text-center py-20 text-slate-500",children:[c.jsx("i",{className:"fa-solid fa-arrow-up text-6xl text-slate-300"}),c.jsx("h3",{className:"mt-4 text-lg font-medium",children:"Please select a project to begin."})]})})]})},h2=[{key:"craft",label:"Craft Genres",constant:Qh,stateKey:"craftGenres"},{key:"dance",label:"Dance Genres",constant:ep,stateKey:"danceGenres"},{key:"literary",label:"Literary Arts Genres",constant:tp,stateKey:"literaryGenres"},{key:"media",label:"Media Arts Genres",constant:np,stateKey:"mediaGenres"},{key:"music",label:"Music Genres",constant:ip,stateKey:"musicGenres"},{key:"theatre",label:"Theatre Genres",constant:ap,stateKey:"theatreGenres"},{key:"visual",label:"Visual Arts Genres",constant:sp,stateKey:"visualArtsGenres"}],yk=({project:t,suggestions:e,onIntegrate:n,isLoading:i})=>{const s=()=>({artisticDisciplines:[...new Set([...t.artisticDisciplines||[],...e.artisticDisciplines||[]])],craftGenres:[...new Set([...t.craftGenres||[],...e.craftGenres||[]])],danceGenres:[...new Set([...t.danceGenres||[],...e.danceGenres||[]])],literaryGenres:[...new Set([...t.literaryGenres||[],...e.literaryGenres||[]])],mediaGenres:[...new Set([...t.mediaGenres||[],...e.mediaGenres||[]])],musicGenres:[...new Set([...t.musicGenres||[],...e.musicGenres||[]])],theatreGenres:[...new Set([...t.theatreGenres||[],...e.theatreGenres||[]])],visualArtsGenres:[...new Set([...t.visualArtsGenres||[],...e.visualArtsGenres||[]])]}),[o,u]=ve.useState(s());ve.useEffect(()=>{u(s())},[t,e]);const d=(m,y)=>{u(x=>({...x,[m]:y}))},h=()=>{const m=St(o,y=>{h2.forEach(x=>{y.artisticDisciplines.includes(x.key)||(y[x.stateKey]=[])})});n(m)};return c.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-4",children:[c.jsx("h4",{className:"font-bold text-slate-800",children:"Review & Integrate Suggestions:"}),c.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg",children:[c.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:"Artistic Disciplines"}),c.jsx(Du,{name:"artisticDisciplines",options:mf,selectedValues:o.artisticDisciplines,onChange:m=>d("artisticDisciplines",m),columns:3})]}),h2.map(m=>o.artisticDisciplines.includes(m.key)?c.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg",children:[c.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:m.label}),c.jsx(Du,{name:m.stateKey,options:m.constant,selectedValues:o[m.stateKey],onChange:y=>d(m.stateKey,y),columns:4})]},m.key):null),c.jsxs("button",{onClick:h,disabled:i,className:"w-full mt-2 px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400",children:[c.jsx("i",{className:"fa-solid fa-check-circle mr-2"}),"Integrate Selections"]})]})},xk=t=>{if(!t)return"Section";const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},bk=({onNavigate:t})=>{const{state:e,dispatch:n,notify:i}=cn(),{activeWorkshopItem:s,projects:o,tasks:u,members:d}=e,[h,m]=ve.useState(!1),[y,x]=ve.useState([]),[T,w]=ve.useState(""),[C,M]=ve.useState(null),[D,E]=ve.useState([]),j=ve.useRef(null),{itemData:F,assessableItem:B,itemType:H,aiPersona:ee,backPage:V,isNewItem:U,displayName:O,previousField:ue,nextField:I}=ve.useMemo(()=>{if(!s)return{itemData:null,assessableItem:null,itemType:"Item",aiPersona:"main",backPage:"home",isNewItem:!1,displayName:"Item",previousField:null,nextField:null};let Y=null,ie=null;if(s.type==="project"){const X=Zd.findIndex(pe=>pe.key===s.fieldKey);X!==-1&&(Y=X>0?Zd[X-1]:null,ie=X<Zd.length-1?Zd[X+1]:null)}if(s.type==="task"){const X=s.itemId.startsWith("new_");let pe,he;if(X){const fe=s.itemId.substring(4);he=o.find(Ce=>Ce.id===fe),pe={...Fh,id:s.itemId,projectId:fe,title:"Suggest initial tasks for project"}}else pe=u.find(fe=>fe.id===s.itemId),he=o.find(fe=>fe.id===(pe==null?void 0:pe.projectId));return{itemData:{task:pe,project:he},assessableItem:pe,itemType:"Task",aiPersona:"tasks",backPage:"taskAssessor",isNewItem:X,displayName:"Task",previousField:Y,nextField:ie}}if(s.type==="project"){const X=o.find(Ce=>Ce.id===s.itemId),pe=s.fieldKey,he=s.fieldLabel||xk(pe);let fe="";return pe!=="artisticDisciplinesAndGenres"&&(fe=X[pe]||""),{itemData:X,assessableItem:{id:pe,description:fe},itemType:"Project Field",aiPersona:"projects",backPage:"projectAssessor",isNewItem:!1,displayName:he,previousField:Y,nextField:ie}}return{itemData:null,assessableItem:null,itemType:"Item",aiPersona:"main",backPage:"home",isNewItem:!1,displayName:"Item",previousField:Y,nextField:ie}},[s,o,u]),k=(s==null?void 0:s.type)==="project"&&s.fieldKey==="artisticDisciplinesAndGenres",$=ve.useCallback(()=>{x([{id:`sys_${Date.now()}`,sender:"system",text:`Welcome to the ${O} Workshop! Use an action button or type your own prompt.`}]),M(null),E([]),m(!1),w("")},[O]);ve.useEffect(()=>{$()},[B==null?void 0:B.id,$]),ve.useEffect(()=>{var Y;(Y=j.current)==null||Y.scrollIntoView({behavior:"smooth"})},[y]);const K=()=>{n({type:"SET_ACTIVE_WORKSHOP_ITEM",payload:null}),t(V)},ce=async(Y,ie,X)=>{var ze;if(!B)return;m(!0),M(null),E([]);const pe=St(y,Ye=>{Ye.push({id:`user_${Date.now()}`,sender:"user",text:ie})});x(pe);const he=pe.filter(Ye=>Ye.sender!=="system"&&Ye.text).map(Ye=>({role:Ye.sender==="user"?"user":"model",parts:[{text:Ye.text}]})),fe=await Ex({context:ee,userPrompt:Y,settings:e.settings.ai,history:he});let Ce=null,je=fe;try{let Ye=((ze=fe.trim().match(/```(\w*)?\s*\n?(.*?)\n?\s*```$/s))==null?void 0:ze[2])||fe;const Ze=JSON.parse(Ye);X&&Array.isArray(Ze)?(Ce=Ze.map(Fe=>({...Fe,checked:!0})),E(Ce),je=`Here are the new ${H.toLowerCase()}s I've suggested:`):!X&&typeof Ze=="object"&&(Ce={...Ze,checkedFields:Object.keys(Ze).reduce((Fe,ge)=>({...Fe,[ge]:!0}),{})},M(Ce),je=`Here is the improved version of the ${H.toLowerCase()}:`)}catch{}x(St(pe,Ye=>{Ye.push({id:`ai_${Date.now()}`,sender:"ai",text:je,isCreation:X&&!!Ce})})),m(!1)},q=Y=>{ce(Y.prompt,Y.userMessage,Y.isCreator)},G=()=>{if(!C)return;const{checkedFields:Y,...ie}=C,X=Object.keys(ie).reduce((he,fe)=>(Y[fe]&&(he[fe]=ie[fe]),he),{});if(Object.keys(X).length===0)return;(s==null?void 0:s.type)==="task"?n({type:"UPDATE_TASK_PARTIAL",payload:{taskId:s.itemId,data:X}}):(s==null?void 0:s.type)==="project"&&n({type:"UPDATE_PROJECT_PARTIAL",payload:{projectId:s.itemId,data:{[s.fieldKey]:X.description}}}),M(null);const pe=(s==null?void 0:s.type)==="task"?`The task was updated.

Title: ${X.title||"(not changed)"}
Description: ${X.description||"(not changed)"}`:`The "${O}" section was updated to:

"${X.description}"`;x(he=>St(he,fe=>{fe.push({id:`sys_${Date.now()}`,sender:"system",text:pe})})),i(`${O} updated!`,"success")},ne=()=>{if(!D||D.length===0||(s==null?void 0:s.type)!=="task")return;const Y=F.project;if(!Y)return;const ie=D.filter(je=>je.checked);if(ie.length===0)return;const X=(Y.projectTitle.match(/\b(\w)/g)||["T"]).join("").toUpperCase().substring(0,4);let he=u.filter(je=>je.projectId===Y.id&&je.taskCode.startsWith(X)).reduce((je,ze)=>Math.max(je,parseInt(ze.taskCode.split("-")[1]||"0",10)),0);const fe=ie.map((je,ze)=>(he++,{...Fh,...je,id:`task_${Date.now()}_${ze}`,projectId:Y.id,taskCode:`${X}-${he}`,updatedAt:new Date().toISOString()}));n({type:"ADD_TASKS",payload:fe}),E(null);const Ce=`The following ${fe.length} task(s) were created:

${fe.map(je=>`• ${je.title}`).join(`
`)}`;x(je=>St(je,ze=>{ze.push({id:`sys_${Date.now()}`,sender:"system",text:Ce})})),i(`${fe.length} new tasks created!`,"success")},oe=Y=>{if(!s||s.type!=="project")return;n({type:"UPDATE_PROJECT_PARTIAL",payload:{projectId:s.itemId,data:Y}}),M(null);const ie=[...Qh,...ep,...tp,...np,...ip,...ap,...sp],X=new Map(ie.map(Ce=>[Ce.value,Ce.label]));let pe=['The "Artistic Disciplines & Genres" section was updated.'];const he=(Y.artisticDisciplines||[]).map(Ce=>{var Fe;const je=((Fe=mf.find(ge=>ge.value===Ce))==null?void 0:Fe.label)||Ce;let ze="";const Ye=`${Ce}Genres`,Ze=Y[Ye];return Ze&&Array.isArray(Ze)&&Ze.length>0&&(ze=` (${Ze.map(ge=>X.get(ge)||ge).join(", ")})`),`• ${je}${ze}`});he.length>0?pe.push(`

New Selections:
`+he.join(`
`)):pe.push(`

All disciplines were deselected.`);const fe=pe.join("");x(Ce=>St(Ce,je=>{je.push({id:`sys_${Date.now()}`,sender:"system",text:fe})})),i("Artistic Disciplines & Genres updated!","success")},P=Y=>{!Y||!s||s.type!=="project"||n({type:"SET_ACTIVE_WORKSHOP_ITEM",payload:{type:"project",itemId:s.itemId,fieldKey:Y.key,fieldLabel:Y.label}})},{renderItemPanel:ae,generateContextPrompt:L,actionButtons:J}=ve.useMemo(()=>{if((s==null?void 0:s.type)==="task"){const{task:Y,project:ie}=F;return{renderItemPanel:()=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Current Task"}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Project:"})," ",ie==null?void 0:ie.projectTitle]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Code:"})," ",Y.taskCode]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Title:"})," ",Y.title]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Description:"})," ",Y.description]})]}),generateContextPrompt:X=>{const pe={project:ie?{title:ie.projectTitle,description:ie.projectDescription,schedule:ie.schedule}:null,parentTask:U?null:{title:Y.title,description:Y.description},fullWorkplan:ie?u.filter(he=>he.projectId===ie.id).map(he=>({taskCode:he.taskCode,title:he.title,status:he.status})):[],availableMembers:d.map(he=>({id:he.id,name:`${he.firstName} ${he.lastName}`})),budgetLineItems:ie?Object.values(ie.budget.expenses).flat().map(he=>({id:he.id,description:he.description})):[]};return`${X}

### CONTEXT ###
${JSON.stringify(pe,null,2)}`},actionButtons:U?[{label:"Suggest Initial Tasks",prompt:'You are a project manager. Based on the provided project context, generate a comprehensive list of initial tasks. Your response MUST be ONLY a single, valid JSON array of objects. Each object in the array must strictly follow this TypeScript interface: { "title": string; "description": string; "assignedMemberId"?: string; "dueDate"?: string; "estimatedHours"?: number; "budgetItemId"?: string; }. Use the context to make intelligent suggestions.',userMessage:"Suggest initial tasks for this project.",isCreator:!0}]:[{label:"Improve this task",prompt:'Improve the provided task. Your response MUST be ONLY a single, valid JSON object following this interface: { "title": string; "description": string; }.',userMessage:"Improve this task for me.",isCreator:!1},{label:"Break Down Task",prompt:'Break down the provided parent task into smaller, actionable sub-tasks. Your response MUST be ONLY a single, valid JSON array of objects. Each object must strictly follow this TypeScript interface: { "title": string; "description": string; "assignedMemberId"?: string; "dueDate"?: string; "estimatedHours"?: number; "budgetItemId"?: string; }.',userMessage:"Break this task into smaller sub-tasks.",isCreator:!0}]}}if((s==null?void 0:s.type)==="project"){const Y=F,ie=B,X={artisticDisciplines:Y.artisticDisciplines,craftGenres:Y.craftGenres,danceGenres:Y.danceGenres,literaryGenres:Y.literaryGenres,mediaGenres:Y.mediaGenres,musicGenres:Y.musicGenres,theatreGenres:Y.theatreGenres,visualArtsGenres:Y.visualArtsGenres};return{renderItemPanel:()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"font-bold text-lg text-slate-700",children:["Current Section: ",O]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Project:"})," ",Y.projectTitle]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{className:"font-semibold",children:"Content:"})," ",ie.description||"This section has no content yet."]})]}),generateContextPrompt:pe=>{const he={project:{title:Y.projectTitle,description:Y.projectDescription,currentDisciplines:X},fieldToAnalyze:{name:O,content:ie.description}};return`${pe}

### CONTEXT ###
${JSON.stringify(he,null,2)}`},actionButtons:k?[{label:"Suggest Disciplines",prompt:`Based on the project's title and description, suggest relevant artistic disciplines and genres. Your response MUST be ONLY a single, valid JSON object following this TypeScript interface: { "artisticDisciplines"?: string[]; "craftGenres"?: string[]; "danceGenres"?: string[]; "literaryGenres"?: string[]; "mediaGenres"?: string[]; "musicGenres"?: string[]; "theatreGenres"?: string[]; "visualArtsGenres"?: string[]; }. Be selective. Only include keys for disciplines that are strongly relevant.`,userMessage:"Suggest disciplines & genres for this project.",isCreator:!1}]:[{label:"Improve this section",prompt:`You are an expert grant writer. Rewrite the content for the field "${O}". Your response MUST be ONLY a single, valid JSON object following this interface: { "description": string; }.`,userMessage:`Improve the "${O}" section.`,isCreator:!1}]}}return{renderItemPanel:()=>null,generateContextPrompt:Y=>Y,actionButtons:[]}},[F,B,s,U,u,d,O,k]);return!s||!B?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"No item selected for workshop."}),c.jsx("button",{onClick:K,className:"mt-4 px-4 py-2 bg-teal-600 text-white rounded-md",children:"Go Back"})]}):c.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"AI Workshop"}),c.jsxs("div",{className:"flex items-center gap-3",children:[(s==null?void 0:s.type)==="project"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>P(ue),disabled:!ue||h,className:"px-3 py-1.5 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Previous"]}),c.jsxs("button",{onClick:()=>P(I),disabled:!I||h,className:"px-3 py-1.5 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",c.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]})]}),c.jsxs("button",{onClick:K,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100",children:[c.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),"Back to List"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1 bg-slate-50 p-4 rounded-lg border border-slate-200 self-start",children:ae()}),c.jsxs("div",{className:"lg:col-span-2 bg-blue-50 p-4 rounded-lg border border-blue-200 flex flex-col",children:[c.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-4 flex-shrink-0",children:"AI Coach"}),c.jsxs("div",{ref:j,className:"flex-grow bg-white rounded-md p-3 text-sm text-slate-700 space-y-4 overflow-y-auto min-h-96 max-h-[65vh]",children:[y.map(Y=>{var ie;return c.jsxs("div",{children:[Y.sender==="system"&&c.jsx("p",{className:"text-xs text-center italic text-slate-500 p-2 bg-slate-100 rounded-md",children:c.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:Y.text})}),Y.sender==="user"&&c.jsx("p",{className:"text-right",children:c.jsx("span",{className:"bg-slate-200 rounded-lg px-3 py-2 inline-block max-w-xl",children:Y.text})}),Y.sender==="ai"&&c.jsxs("div",{className:"bg-blue-100 border border-blue-200 rounded-lg p-3",children:[c.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:Y.text}),k&&C&&c.jsx(yk,{project:F,suggestions:C,onIntegrate:oe,isLoading:h}),!k&&C&&Y.id===((ie=y.find(X=>{var pe;return X.sender==="ai"&&((pe=X.text)==null?void 0:pe.includes("improved"))}))==null?void 0:ie.id)&&c.jsx(wk,{candidate:C,setCandidate:M,onIntegrate:G,isLoading:h}),D&&Y.isCreation&&c.jsx(Sk,{items:D,setItems:E,onCreate:ne,isLoading:h,members:d,project:F})]})]},Y.id)}),h&&c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 p-2",children:[c.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),c.jsx("span",{children:"AI is thinking..."})]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 flex flex-col gap-2",children:[c.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:J.map(Y=>c.jsxs("button",{onClick:()=>q({...Y,prompt:L(Y.prompt)}),disabled:h,className:"px-3 py-1.5 text-xs font-semibold text-white bg-purple-600 rounded-md shadow-sm hover:bg-purple-700 disabled:bg-slate-400",children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),Y.label]},Y.label))}),c.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),ce(L(T),T,!1),w("")},className:"flex gap-2",children:[c.jsx(kt,{type:"text",value:T,onChange:Y=>w(Y.target.value),placeholder:"Type a follow-up message...",className:"flex-grow",disabled:h}),c.jsx("button",{type:"submit",disabled:h||!T.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 disabled:bg-slate-400",children:"Send"})]})]})]})]})]})},wk=({candidate:t,setCandidate:e,onIntegrate:n,isLoading:i})=>{const{checkedFields:s,...o}=t,u=d=>{e(St(h=>{h.checkedFields[d]=!h.checkedFields[d]}))};return c.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-3",children:[c.jsx("h4",{className:"font-bold text-slate-800",children:"Review & Integrate Suggestion:"}),Object.keys(o).map(d=>c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("input",{type:"checkbox",id:`integrate-${d}`,checked:s[d],onChange:()=>u(d),className:"mt-1"}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("label",{htmlFor:`integrate-${d}`,className:"text-xs font-semibold text-slate-600 capitalize",children:d}),d==="description"?c.jsx(oi,{value:o[d]||"",onChange:h=>e(St(m=>{m[d]=h.target.value})),className:"text-sm p-1",rows:4,wordLimit:200}):c.jsx(kt,{value:o[d]||"",onChange:h=>e(St(m=>{m[d]=h.target.value})),className:"text-sm p-1"})]})]},d)),c.jsxs("button",{onClick:n,disabled:i,className:"w-full mt-2 px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400",children:[c.jsx("i",{className:"fa-solid fa-check-circle mr-2"}),"Integrate Selected"]})]})},Sk=({items:t,setItems:e,onCreate:n,isLoading:i,members:s,project:o})=>{const u=(y,x,T)=>{e(St(w=>{w&&(w[y][x]=T)}))},d=y=>{e(St(x=>{x&&(x[y].checked=!x[y].checked)}))},h=[{value:"",label:"Unassigned"},...s.map(y=>({value:y.id,label:`${y.firstName} ${y.lastName}`}))],m=[{value:"",label:"None"},...Object.values(o.budget.expenses).flat().map(y=>({value:y.id,label:y.description||y.source}))];return c.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-3",children:[c.jsx("h4",{className:"font-bold text-slate-800",children:"Review & Create New Tasks:"}),t.map((y,x)=>c.jsxs("div",{className:"flex items-start gap-2 bg-slate-50 border border-slate-200 rounded-md p-3",children:[c.jsx("input",{type:"checkbox",id:`create-${x}`,checked:y.checked,onChange:()=>d(x),className:"mt-1"}),c.jsxs("div",{className:"flex-grow space-y-2",children:[c.jsx(kt,{value:y.title,onChange:T=>u(x,"title",T.target.value),placeholder:"Task Title"}),c.jsx(oi,{value:y.description,onChange:T=>u(x,"description",T.target.value),placeholder:"Description",rows:2,wordLimit:100}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(Jt,{options:h,value:y.assignedMemberId||"",onChange:T=>u(x,"assignedMemberId",T.target.value)}),c.jsx(kt,{type:"number",value:y.estimatedHours||"",onChange:T=>u(x,"estimatedHours",parseFloat(T.target.value)||0),placeholder:"Est. Hours"})]}),c.jsx(Jt,{options:m,value:y.budgetItemId||"",onChange:T=>u(x,"budgetItemId",T.target.value)})]})]},x)),c.jsxs("button",{onClick:n,disabled:i,className:"w-full mt-2 px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400",children:[c.jsx("i",{className:"fa-solid fa-check-circle mr-2"}),"Create Selected Tasks"]})]})},Tk=()=>{const[t,e]=ve.useState("home");return c.jsx(W5,{children:c.jsxs(K5,{activePage:t,onNavigate:e,children:[t==="home"&&c.jsx(Ew,{onNavigate:e}),t==="projects"&&c.jsx(Cw,{onNavigate:e}),t==="members"&&c.jsx(Rw,{}),t==="tasks"&&c.jsx(Ww,{}),t==="reports"&&c.jsx(nT,{}),t==="sampleData"&&c.jsx(sT,{}),t==="detailedSampleData"&&c.jsx(hT,{}),t==="settings"&&c.jsx(pk,{}),t==="importExport"&&c.jsx(mk,{}),t==="taskAssessor"&&c.jsx(gk,{onNavigate:e}),t==="projectAssessor"&&c.jsx(vk,{onNavigate:e}),t==="aiWorkshop"&&c.jsx(bk,{onNavigate:e})]})})},Mx=document.getElementById("root");if(!Mx)throw new Error("Could not find root element to mount to");const Ak=Gb.createRoot(Mx);Ak.render(c.jsx(kg.StrictMode,{children:c.jsx(Tk,{})}));export{An as _,Ib as c,Eg as g};
