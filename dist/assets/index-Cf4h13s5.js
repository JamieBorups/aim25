import{produce as ta}from"https://esm.sh/immer";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(d){if(d.ep)return;d.ep=!0;const u=r(d);fetch(d.href,u)}})();var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ip(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function I1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var i=n.default;if(typeof i=="function"){var r=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var d=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(r,o,d.get?d:{enumerable:!0,get:function(){return n[o]}})}),r}var Nh={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function F1(){if(sm)return Ru;sm=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,d,u){var m=null;if(u!==void 0&&(m=""+u),d.key!==void 0&&(m=""+d.key),"key"in d){u={};for(var g in d)g!=="key"&&(u[g]=d[g])}else u=d;return d=u.ref,{$$typeof:n,type:o,key:m,ref:d!==void 0?d:null,props:u}}return Ru.Fragment=i,Ru.jsx=r,Ru.jsxs=r,Ru}var rm;function z1(){return rm||(rm=1,Nh.exports=F1()),Nh.exports}var s=z1(),Sh={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function q1(){if(lm)return Ot;lm=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.iterator;function N(_){return _===null||typeof _!="object"?null:(_=j&&_[j]||_["@@iterator"],typeof _=="function"?_:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function M(_,ie,D){this.props=_,this.context=ie,this.refs=O,this.updater=D||b}M.prototype.isReactComponent={},M.prototype.setState=function(_,ie){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,ie,"setState")},M.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function A(){}A.prototype=M.prototype;function E(_,ie,D){this.props=_,this.context=ie,this.refs=O,this.updater=D||b}var P=E.prototype=new A;P.constructor=E,T(P,M.prototype),P.isPureReactComponent=!0;var G=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function z(_,ie,D,V,J,se){return D=se.ref,{$$typeof:n,type:_,key:ie,ref:D!==void 0?D:null,props:se}}function B(_,ie){return z(_.type,ie,void 0,void 0,void 0,_.props)}function R(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function le(_){var ie={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(D){return ie[D]})}var k=/\/+/g;function C(_,ie){return typeof _=="object"&&_!==null&&_.key!=null?le(""+_.key):ie.toString(36)}function H(){}function Y(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(H,H):(_.status="pending",_.then(function(ie){_.status==="pending"&&(_.status="fulfilled",_.value=ie)},function(ie){_.status==="pending"&&(_.status="rejected",_.reason=ie)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function ue(_,ie,D,V,J){var se=typeof _;(se==="undefined"||se==="boolean")&&(_=null);var te=!1;if(_===null)te=!0;else switch(se){case"bigint":case"string":case"number":te=!0;break;case"object":switch(_.$$typeof){case n:case i:te=!0;break;case S:return te=_._init,ue(te(_._payload),ie,D,V,J)}}if(te)return J=J(_),te=V===""?"."+C(_,0):V,G(J)?(D="",te!=null&&(D=te.replace(k,"$&/")+"/"),ue(J,ie,D,"",function(de){return de})):J!=null&&(R(J)&&(J=B(J,D+(J.key==null||_&&_.key===J.key?"":(""+J.key).replace(k,"$&/")+"/")+te)),ie.push(J)),1;te=0;var pe=V===""?".":V+":";if(G(_))for(var me=0;me<_.length;me++)V=_[me],se=pe+C(V,me),te+=ue(V,ie,D,se,J);else if(me=N(_),typeof me=="function")for(_=me.call(_),me=0;!(V=_.next()).done;)V=V.value,se=pe+C(V,me++),te+=ue(V,ie,D,se,J);else if(se==="object"){if(typeof _.then=="function")return ue(Y(_),ie,D,V,J);throw ie=String(_),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return te}function F(_,ie,D){if(_==null)return _;var V=[],J=0;return ue(_,V,"","",function(se){return ie.call(D,se,J++)}),V}function W(_){if(_._status===-1){var ie=_._result;ie=ie(),ie.then(function(D){(_._status===0||_._status===-1)&&(_._status=1,_._result=D)},function(D){(_._status===0||_._status===-1)&&(_._status=2,_._result=D)}),_._status===-1&&(_._status=0,_._result=ie)}if(_._status===1)return _._result.default;throw _._result}var ee=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function re(){}return Ot.Children={map:F,forEach:function(_,ie,D){F(_,function(){ie.apply(this,arguments)},D)},count:function(_){var ie=0;return F(_,function(){ie++}),ie},toArray:function(_){return F(_,function(ie){return ie})||[]},only:function(_){if(!R(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ot.Component=M,Ot.Fragment=r,Ot.Profiler=d,Ot.PureComponent=E,Ot.StrictMode=o,Ot.Suspense=h,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Q.H.useMemoCache(_)}},Ot.cache=function(_){return function(){return _.apply(null,arguments)}},Ot.cloneElement=function(_,ie,D){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var V=T({},_.props),J=_.key,se=void 0;if(ie!=null)for(te in ie.ref!==void 0&&(se=void 0),ie.key!==void 0&&(J=""+ie.key),ie)!ne.call(ie,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ie.ref===void 0||(V[te]=ie[te]);var te=arguments.length-2;if(te===1)V.children=D;else if(1<te){for(var pe=Array(te),me=0;me<te;me++)pe[me]=arguments[me+2];V.children=pe}return z(_.type,J,void 0,void 0,se,V)},Ot.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},Ot.createElement=function(_,ie,D){var V,J={},se=null;if(ie!=null)for(V in ie.key!==void 0&&(se=""+ie.key),ie)ne.call(ie,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(J[V]=ie[V]);var te=arguments.length-2;if(te===1)J.children=D;else if(1<te){for(var pe=Array(te),me=0;me<te;me++)pe[me]=arguments[me+2];J.children=pe}if(_&&_.defaultProps)for(V in te=_.defaultProps,te)J[V]===void 0&&(J[V]=te[V]);return z(_,se,void 0,void 0,null,J)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(_){return{$$typeof:g,render:_}},Ot.isValidElement=R,Ot.lazy=function(_){return{$$typeof:S,_payload:{_status:-1,_result:_},_init:W}},Ot.memo=function(_,ie){return{$$typeof:v,type:_,compare:ie===void 0?null:ie}},Ot.startTransition=function(_){var ie=Q.T,D={};Q.T=D;try{var V=_(),J=Q.S;J!==null&&J(D,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(re,ee)}catch(se){ee(se)}finally{Q.T=ie}},Ot.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ot.use=function(_){return Q.H.use(_)},Ot.useActionState=function(_,ie,D){return Q.H.useActionState(_,ie,D)},Ot.useCallback=function(_,ie){return Q.H.useCallback(_,ie)},Ot.useContext=function(_){return Q.H.useContext(_)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(_,ie){return Q.H.useDeferredValue(_,ie)},Ot.useEffect=function(_,ie,D){var V=Q.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(_,ie)},Ot.useId=function(){return Q.H.useId()},Ot.useImperativeHandle=function(_,ie,D){return Q.H.useImperativeHandle(_,ie,D)},Ot.useInsertionEffect=function(_,ie){return Q.H.useInsertionEffect(_,ie)},Ot.useLayoutEffect=function(_,ie){return Q.H.useLayoutEffect(_,ie)},Ot.useMemo=function(_,ie){return Q.H.useMemo(_,ie)},Ot.useOptimistic=function(_,ie){return Q.H.useOptimistic(_,ie)},Ot.useReducer=function(_,ie,D){return Q.H.useReducer(_,ie,D)},Ot.useRef=function(_){return Q.H.useRef(_)},Ot.useState=function(_){return Q.H.useState(_)},Ot.useSyncExternalStore=function(_,ie,D){return Q.H.useSyncExternalStore(_,ie,D)},Ot.useTransition=function(){return Q.H.useTransition()},Ot.version="19.1.0",Ot}var om;function sp(){return om||(om=1,Sh.exports=q1()),Sh.exports}var ye=sp();const Km=ip(ye);var Ah={exports:{}},Bu={},Th={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function U1(){return cm||(cm=1,function(n){function i(F,W){var ee=F.length;F.push(W);e:for(;0<ee;){var re=ee-1>>>1,_=F[re];if(0<d(_,W))F[re]=W,F[ee]=_,ee=re;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var W=F[0],ee=F.pop();if(ee!==W){F[0]=ee;e:for(var re=0,_=F.length,ie=_>>>1;re<ie;){var D=2*(re+1)-1,V=F[D],J=D+1,se=F[J];if(0>d(V,ee))J<_&&0>d(se,V)?(F[re]=se,F[J]=ee,re=J):(F[re]=V,F[D]=ee,re=D);else if(J<_&&0>d(se,ee))F[re]=se,F[J]=ee,re=J;else break e}}return W}function d(F,W){var ee=F.sortIndex-W.sortIndex;return ee!==0?ee:F.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var h=[],v=[],S=1,j=null,N=3,b=!1,T=!1,O=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(F){for(var W=r(v);W!==null;){if(W.callback===null)o(v);else if(W.startTime<=F)o(v),W.sortIndex=W.expirationTime,i(h,W);else break;W=r(v)}}function Q(F){if(O=!1,G(F),!T)if(r(h)!==null)T=!0,ne||(ne=!0,C());else{var W=r(v);W!==null&&ue(Q,W.startTime-F)}}var ne=!1,z=-1,B=5,R=-1;function le(){return M?!0:!(n.unstable_now()-R<B)}function k(){if(M=!1,ne){var F=n.unstable_now();R=F;var W=!0;try{e:{T=!1,O&&(O=!1,E(z),z=-1),b=!0;var ee=N;try{t:{for(G(F),j=r(h);j!==null&&!(j.expirationTime>F&&le());){var re=j.callback;if(typeof re=="function"){j.callback=null,N=j.priorityLevel;var _=re(j.expirationTime<=F);if(F=n.unstable_now(),typeof _=="function"){j.callback=_,G(F),W=!0;break t}j===r(h)&&o(h),G(F)}else o(h);j=r(h)}if(j!==null)W=!0;else{var ie=r(v);ie!==null&&ue(Q,ie.startTime-F),W=!1}}break e}finally{j=null,N=ee,b=!1}W=void 0}}finally{W?C():ne=!1}}}var C;if(typeof P=="function")C=function(){P(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=k,C=function(){Y.postMessage(null)}}else C=function(){A(k,0)};function ue(F,W){z=A(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(F){switch(N){case 1:case 2:case 3:var W=3;break;default:W=N}var ee=N;N=W;try{return F()}finally{N=ee}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=N;N=F;try{return W()}finally{N=ee}},n.unstable_scheduleCallback=function(F,W,ee){var re=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?re+ee:re):ee=re,F){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ee+_,F={id:S++,callback:W,priorityLevel:F,startTime:ee,expirationTime:_,sortIndex:-1},ee>re?(F.sortIndex=ee,i(v,F),r(h)===null&&F===r(v)&&(O?(E(z),z=-1):O=!0,ue(Q,ee-re))):(F.sortIndex=_,i(h,F),T||b||(T=!0,ne||(ne=!0,C()))),F},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(F){var W=N;return function(){var ee=N;N=W;try{return F.apply(this,arguments)}finally{N=ee}}}}(Ch)),Ch}var um;function H1(){return um||(um=1,Th.exports=U1()),Th.exports}var Dh={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function G1(){if(dm)return Vn;dm=1;var n=sp();function i(h){var v="https://react.dev/errors/"+h;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function u(h,v,S){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:h,containerInfo:v,implementation:S}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,v){if(h==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Vn.createPortal=function(h,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return u(h,v,null,S)},Vn.flushSync=function(h){var v=m.T,S=o.p;try{if(m.T=null,o.p=2,h)return h()}finally{m.T=v,o.p=S,o.d.f()}},Vn.preconnect=function(h,v){typeof h=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(h,v))},Vn.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},Vn.preinit=function(h,v){if(typeof h=="string"&&v&&typeof v.as=="string"){var S=v.as,j=g(S,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,b=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?o.d.S(h,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:j,integrity:N,fetchPriority:b}):S==="script"&&o.d.X(h,{crossOrigin:j,integrity:N,fetchPriority:b,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Vn.preinitModule=function(h,v){if(typeof h=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);o.d.M(h,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(h)},Vn.preload=function(h,v){if(typeof h=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,j=g(S,v.crossOrigin);o.d.L(h,S,{crossOrigin:j,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Vn.preloadModule=function(h,v){if(typeof h=="string")if(v){var S=g(v.as,v.crossOrigin);o.d.m(h,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(h)},Vn.requestFormReset=function(h){o.d.r(h)},Vn.unstable_batchedUpdates=function(h,v){return h(v)},Vn.useFormState=function(h,v,S){return m.H.useFormState(h,v,S)},Vn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Vn.version="19.1.0",Vn}var fm;function V1(){if(fm)return Dh.exports;fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Dh.exports=G1(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Y1(){if(hm)return Bu;hm=1;var n=H1(),i=sp(),r=V1();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var f=a.return;if(f===null)break;var x=f.alternate;if(x===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===a)return g(f),e;if(x===l)return g(f),t;x=x.sibling}throw Error(o(188))}if(a.return!==l.return)a=f,l=x;else{for(var I=!1,Z=f.child;Z;){if(Z===a){I=!0,a=f,l=x;break}if(Z===l){I=!0,l=f,a=x;break}Z=Z.sibling}if(!I){for(Z=x.child;Z;){if(Z===a){I=!0,a=x,l=f;break}if(Z===l){I=!0,l=x,a=f;break}Z=Z.sibling}if(!I)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,j=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case Q:return"Suspense";case ne:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case P:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var ue=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},re=[],_=-1;function ie(e){return{current:e}}function D(e){0>_||(e.current=re[_],re[_]=null,_--)}function V(e,t){_++,re[_]=e.current,e.current=t}var J=ie(null),se=ie(null),te=ie(null),pe=ie(null);function me(e,t){switch(V(te,t),V(se,e),V(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?M0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=M0(t),e=O0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(J),V(J,e)}function de(){D(J),D(se),D(te)}function ke(e){e.memoizedState!==null&&V(pe,e);var t=J.current,a=O0(t,e.type);t!==a&&(V(se,e),V(J,a))}function Oe(e){se.current===e&&(D(J),D(se)),pe.current===e&&(D(pe),ku._currentValue=ee)}var Ge=Object.prototype.hasOwnProperty,We=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,Pe=n.unstable_shouldYield,fe=n.unstable_requestPaint,ht=n.unstable_now,st=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,Ke=n.unstable_NormalPriority,Ze=n.unstable_LowPriority,ut=n.unstable_IdlePriority,St=n.log,_t=n.unstable_setDisableYieldValue,Ct=null,jt=null;function It(e){if(typeof St=="function"&&_t(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ct,e)}catch{}}var rt=Math.clz32?Math.clz32:gn,Rt=Math.log,tt=Math.LN2;function gn(e){return e>>>=0,e===0?32:31-(Rt(e)/tt|0)|0}var Ft=256,Pn=4194304;function Ht(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ia(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,x=e.suspendedLanes,I=e.pingedLanes;e=e.warmLanes;var Z=l&134217727;return Z!==0?(l=Z&~x,l!==0?f=Ht(l):(I&=Z,I!==0?f=Ht(I):a||(a=Z&~e,a!==0&&(f=Ht(a))))):(Z=l&~x,Z!==0?f=Ht(Z):I!==0?f=Ht(I):a||(a=l&~e,a!==0&&(f=Ht(a)))),f===0?0:t!==0&&t!==f&&(t&x)===0&&(x=f&-f,a=t&-t,x>=a||x===32&&(a&4194048)!==0)?t:f}function Rn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $t(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var e=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),e}function Sa(){var e=Pn;return Pn<<=1,(Pn&62914560)===0&&(Pn=4194304),e}function $n(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Kn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function La(e,t,a,l,f,x){var I=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var Z=e.entanglements,he=e.expirationTimes,De=e.hiddenUpdates;for(a=I&~a;0<a;){var Ie=31-rt(a),He=1<<Ie;Z[Ie]=0,he[Ie]=-1;var _e=De[Ie];if(_e!==null)for(De[Ie]=null,Ie=0;Ie<_e.length;Ie++){var Ee=_e[Ie];Ee!==null&&(Ee.lane&=-536870913)}a&=~He}l!==0&&Nt(e,l,0),x!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=x&~(I&~t))}function Nt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Xt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-rt(a),f=1<<l;f&t|e[l]&t&&(e[l]|=t),a&=~f}}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ni(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:J0(e.type))}function Ii(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var ct=Math.random().toString(36).slice(2),da="__reactFiber$"+ct,Aa="__reactProps$"+ct,Wa="__reactContainer$"+ct,Oa="__reactEvents$"+ct,qa="__reactListeners$"+ct,Zn="__reactHandles$"+ct,vr="__reactResources$"+ct,Jn="__reactMarker$"+ct;function ei(e){delete e[da],delete e[Aa],delete e[Oa],delete e[qa],delete e[Zn]}function vn(e){var t=e[da];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Wa]||a[da]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=I0(e);e!==null;){if(a=e[da])return a;e=I0(e)}return t}e=a,a=e.parentNode}return null}function bn(e){if(e=e[da]||e[Wa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Bn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function cn(e){var t=e[vr];return t||(t=e[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function sa(e){e[Jn]=!0}var Is=new Set,br={};function li(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(br[e]=t,e=0;e<t.length;e++)Is.add(t[e])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eo={},Xo={};function Yc(e){return Ge.call(Xo,e)?!0:Ge.call(eo,e)?!1:Jr.test(e)?Xo[e]=!0:(eo[e]=!0,!1)}function ss(e,t,a){if(Yc(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ai(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var yr,Qo;function rs(e){if(yr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yr=t&&t[1]||"",Qo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+e+Qo}var to=!1;function Fs(e,t){if(!e||to)return"";to=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ee){var _e=Ee}Reflect.construct(e,[],He)}else{try{He.call()}catch(Ee){_e=Ee}e.call(He.prototype)}}else{try{throw Error()}catch(Ee){_e=Ee}(He=e())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ee){if(Ee&&_e&&typeof Ee.stack=="string")return[Ee.stack,_e.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),I=x[0],Z=x[1];if(I&&Z){var he=I.split(`
`),De=Z.split(`
`);for(f=l=0;l<he.length&&!he[l].includes("DetermineComponentFrameRoot");)l++;for(;f<De.length&&!De[f].includes("DetermineComponentFrameRoot");)f++;if(l===he.length||f===De.length)for(l=he.length-1,f=De.length-1;1<=l&&0<=f&&he[l]!==De[f];)f--;for(;1<=l&&0<=f;l--,f--)if(he[l]!==De[f]){if(l!==1||f!==1)do if(l--,f--,0>f||he[l]!==De[f]){var Ie=`
`+he[l].replace(" at new "," at ");return e.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",e.displayName)),Ie}while(1<=l&&0<=f);break}}}finally{to=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rs(a):""}function Wc(e){switch(e.tag){case 26:case 27:case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return rs("Activity");default:return""}}function _a(e){try{var t="";do t+=Wc(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ao(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $o(e){var t=ao(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,x=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(I){l=""+I,x.call(this,I)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=$o(e))}function Ko(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=ao(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function In(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var el=/[\n"\\]/g;function ga(e){return e.replace(el,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wr(e,t,a,l,f,x,I,Z){e.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.type=I:e.removeAttribute("type"),t!=null?I==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):I!=="submit"&&I!=="reset"||e.removeAttribute("value"),t!=null?io(e,I,Tn(t)):a!=null?io(e,I,Tn(a)):l!=null&&e.removeAttribute("value"),f==null&&x!=null&&(e.defaultChecked=!!x),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?e.name=""+Tn(Z):e.removeAttribute("name")}function no(e,t,a,l,f,x,I,Z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||a!=null){if(!(x!=="submit"&&x!=="reset"||t!=null))return;a=a!=null?""+Tn(a):"",t=t!=null?""+Tn(t):a,Z||t===e.value||(e.value=t),e.defaultValue=t}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=Z?e.checked:!!l,e.defaultChecked=!!l,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(e.name=I)}function io(e,t,a){t==="number"&&In(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ls(e,t,a,l){if(e=e.options,t){t={};for(var f=0;f<a.length;f++)t["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=t.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Tn(a),t=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Zo(e,t,a){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tn(a):""}function so(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(ue(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Tn(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function qs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||ro.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ec(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in t)l=t[f],t.hasOwnProperty(f)&&a[f]!==l&&Jo(e,f,l)}else for(var x in t)t.hasOwnProperty(x)&&Jo(e,x,t[x])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(e){return tl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var al=null;function nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,us=null;function yt(e){var t=bn(e);if(t&&(e=t.stateNode)){var a=e[Aa]||null;e:switch(e=t.stateNode,t.type){case"input":if(wr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ga(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var f=l[Aa]||null;if(!f)throw Error(o(90));wr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ko(l)}break e;case"textarea":Zo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ls(e,!!a.multiple,t,!1)}}}var oo=!1;function tc(e,t,a){if(oo)return e(t,a);oo=!0;try{var l=e(t);return l}finally{if(oo=!1,(Us!==null||us!==null)&&(Ld(),Us&&(t=Us,e=us,us=Us=null,yt(t),e)))for(t=0;t<e.length;t++)yt(e[t])}}function Fn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Aa]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(oi)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{nl=!1}var ci=null,co=null,il=null;function ac(){if(il)return il;var e,t=co,a=t.length,l,f="value"in ci?ci.value:ci.textContent,x=f.length;for(e=0;e<a&&t[e]===f[e];e++);var I=a-e;for(l=1;l<=I&&t[a-l]===f[x-l];l++);return il=f.slice(e,1<l?1-l:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function ds(){return!1}function xn(e){function t(a,l,f,x,I){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(a=e[Z],this[Z]=a?a(x):x[Z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?zi:ds,this.isPropagationStopped=ds,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=xn(ti),qi=S({},ti,{view:0,detail:0}),nc=xn(qi),sl,rl,Vs,ui=S({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(sl=e.screenX-Vs.screenX,rl=e.screenY-Vs.screenY):rl=sl=0,Vs=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),fs=xn(ui),Xc=S({},ui,{dataTransfer:0}),Ys=xn(Xc),Ti=S({},qi,{relatedTarget:0}),jr=xn(Ti),Nr=S({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=xn(Nr),ll=S({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$c=xn(ll),uo=S({},ti,{data:0}),ol=xn(uo),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fo[e])?!!t[e]:!1}function ul(){return ho}var Kc=S({},qi,{key:function(e){if(e.key){var t=ic[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dl=xn(Kc),Sr=S({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=xn(Sr),Ws=S({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),po=xn(Ws),y=S({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=xn(y),ce=S({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=xn(ce),Se=S({},ti,{newState:0,oldState:0}),Re=xn(Se),Ve=[9,13,27,32],et=oi&&"CompositionEvent"in window,ot=null;oi&&"documentMode"in document&&(ot=document.documentMode);var Tt=oi&&"TextEvent"in window&&!ot,kt=oi&&(!et||ot&&8<ot&&11>=ot),zt=" ",xa=!1;function Ta(e,t){switch(e){case"keyup":return Ve.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function sn(e,t){switch(e){case"compositionend":return Pa(t);case"keypress":return t.which!==32?null:(xa=!0,zt);case"textInput":return e=t.data,e===zt&&xa?null:e;default:return null}}function Ci(e,t){if(Ra)return e==="compositionend"||!et&&Ta(e,t)?(e=ac(),il=co=ci=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kt&&t.locale!=="ko"?null:t.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ai[e.type]:t==="textarea"}function mo(e,t,a,l){Us?us?us.push(l):us=[l]:Us=l,t=Pd(t,"onChange"),0<t.length&&(a=new Gs("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var hs=null,ps=null;function hl(e){D0(e,0)}function Xs(e){var t=Bn(e);if(Ko(t))return e}function pl(e,t){if(e==="change")return t}var Ar=!1;if(oi){var yn;if(oi){var Qs="oninput"in document;if(!Qs){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),Qs=typeof Tr.oninput=="function"}yn=Qs}else yn=!1;Ar=yn&&(!document.documentMode||9<document.documentMode)}function Cr(){hs&&(hs.detachEvent("onpropertychange",ml),ps=hs=null)}function ml(e){if(e.propertyName==="value"&&Xs(ps)){var t=[];mo(t,ps,e,nn(e)),tc(hl,t)}}function zn(e,t,a){e==="focusin"?(Cr(),hs=t,ps=a,hs.attachEvent("onpropertychange",ml)):e==="focusout"&&Cr()}function Zc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(ps)}function go(e,t){if(e==="click")return Xs(t)}function sc(e,t){if(e==="input"||e==="change")return Xs(t)}function Di(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Di;function Dr(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ge.call(t,f)||!un(e[f],t[f]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ms(e,t){var a=rc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rc(a)}}function ni(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ni(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function di(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=In(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=In(e.document)}return t}function Hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gi=oi&&"documentMode"in document&&11>=document.documentMode,qn=null,$s=null,Cn=null,Ks=!1;function gl(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ks||qn==null||qn!==In(l)||(l=qn,"selectionStart"in l&&Hi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cn&&Dr(Cn,l)||(Cn=l,l=Pd($s,"onSelect"),0<l.length&&(t=new Gs("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=qn)))}function Un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var wn={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionrun:Un("Transition","TransitionRun"),transitionstart:Un("Transition","TransitionStart"),transitioncancel:Un("Transition","TransitionCancel"),transitionend:Un("Transition","TransitionEnd")},Li={},Zs={};oi&&(Zs=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function fi(e){if(Li[e])return Li[e];if(!wn[e])return e;var t=wn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zs)return Li[e]=t[a];return e}var Js=fi("animationend"),gs=fi("animationiteration"),vl=fi("animationstart"),hi=fi("transitionrun"),vs=fi("transitionstart"),fa=fi("transitioncancel"),ra=fi("transitionend"),ka=new Map,Ba="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ba.push("scrollEnd");function Xa(e,t){ka.set(e,t),li(t,[e])}var bs=new WeakMap;function dn(e,t){if(typeof e=="object"&&e!==null){var a=bs.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_a(t)},bs.set(e,t),t)}return{value:e,source:t,stack:_a(t)}}var Dn=[],Lr=0,lc=0;function vo(){for(var e=Lr,t=lc=Lr=0;t<e;){var a=Dn[t];Dn[t++]=null;var l=Dn[t];Dn[t++]=null;var f=Dn[t];Dn[t++]=null;var x=Dn[t];if(Dn[t++]=null,l!==null&&f!==null){var I=l.pending;I===null?f.next=f:(f.next=I.next,I.next=f),l.pending=f}x!==0&&cc(a,f,x)}}function bo(e,t,a,l){Dn[Lr++]=e,Dn[Lr++]=t,Dn[Lr++]=a,Dn[Lr++]=l,lc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function oc(e,t,a,l){return bo(e,t,a,l),kr(e)}function _r(e,t){return bo(e,null,null,t),kr(e)}function cc(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,x=e.return;x!==null;)x.childLanes|=a,l=x.alternate,l!==null&&(l.childLanes|=a),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(f=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,f&&t!==null&&(f=31-rt(a),e=x.hiddenUpdates,l=e[f],l===null?e[f]=[t]:l.push(t),t.lane=a|536870912),x):null}function kr(e){if(50<Nu)throw Nu=0,Wf=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rn={};function pi(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,a,l){return new pi(e,t,a,l)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,t){var a=e.alternate;return a===null?(a=jn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xo(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Er(e,t,a,l,f,x){var I=0;if(l=e,typeof e=="function")bl(e)&&(I=1);else if(typeof e=="string")I=S1(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=jn(31,a,t,f),e.elementType=R,e.lanes=x,e;case T:return xs(a.children,f,x,t);case O:I=8,f|=24;break;case M:return e=jn(12,a,t,f|2),e.elementType=M,e.lanes=x,e;case Q:return e=jn(13,a,t,f),e.elementType=Q,e.lanes=x,e;case ne:return e=jn(19,a,t,f),e.elementType=ne,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case P:I=10;break e;case E:I=9;break e;case G:I=11;break e;case z:I=14;break e;case B:I=16,l=null;break e}I=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=jn(I,a,t,f),t.elementType=e,t.type=l,t.lanes=x,t}function xs(e,t,a,l){return e=jn(7,e,l,t),e.lanes=a,e}function uc(e,t,a){return e=jn(6,e,null,t),e.lanes=a,e}function yo(e,t,a){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var er=[],ys=0,xl=null,dc=0,mi=[],ii=0,Mr=null,ws=1,js="";function Or(e,t){er[ys++]=dc,er[ys++]=xl,xl=e,dc=t}function Ju(e,t,a){mi[ii++]=ws,mi[ii++]=js,mi[ii++]=Mr,Mr=e;var l=ws;e=js;var f=32-rt(l)-1;l&=~(1<<f),a+=1;var x=32-rt(t)+f;if(30<x){var I=f-f%5;x=(l&(1<<I)-1).toString(32),l>>=I,f-=I,ws=1<<32-rt(t)+f|a<<f|l,js=x+e}else ws=1<<x|a<<f|l,js=e}function wo(e){e.return!==null&&(Or(e,1),Ju(e,1,0))}function jo(e){for(;e===xl;)xl=er[--ys],er[ys]=null,dc=er[--ys],er[ys]=null;for(;e===Mr;)Mr=mi[--ii],mi[ii]=null,js=mi[--ii],mi[ii]=null,ws=mi[--ii],mi[ii]=null}var Qa=null,Ea=null,Qt=!1,tr=null,Yi=!1,Jc=Error(o(519));function Pr(e){var t=Error(o(418,""));throw yl(dn(t,e)),Jc}function ed(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[da]=e,t[Aa]=l,a){case"dialog":Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":case"embed":Ut("load",t);break;case"video":case"audio":for(a=0;a<Au.length;a++)Ut(Au[a],t);break;case"source":Ut("error",t);break;case"img":case"image":case"link":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"input":Ut("invalid",t),no(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zs(t);break;case"select":Ut("invalid",t);break;case"textarea":Ut("invalid",t),so(t,l.value,l.defaultValue,l.children),zs(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||E0(t.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",t),Ut("toggle",t)),l.onScroll!=null&&Ut("scroll",t),l.onScrollEnd!=null&&Ut("scrollend",t),l.onClick!=null&&(t.onclick=Rd),t=!0):t=!1,t||Pr(e)}function Ns(e){for(Qa=e.return;Qa;)switch(Qa.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:Qa=Qa.return}}function Ln(e){if(e!==Qa)return!1;if(!Qt)return Ns(e),Qt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ch(e.type,e.memoizedProps)),a=!a),a&&Ea&&Pr(e),Ns(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ea=ks(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ea=null}}else t===27?(t=Ea,Bl(e.type)?(e=hh,hh=null,Ea=e):Ea=t):Ea=Qa?ks(e.stateNode.nextSibling):null;return!0}function si(){Ea=Qa=null,Qt=!1}function td(){var e=tr;return e!==null&&(bi===null?bi=e:bi.push.apply(bi,e),tr=null),e}function yl(e){tr===null?tr=[e]:tr.push(e)}var Wi=ie(null),ln=null,Ss=null;function ar(e,t,a){V(Wi,t._currentValue),t._currentValue=a}function Xi(e){e._currentValue=Wi.current,D(Wi)}function fc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function hc(e,t,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var x=f.dependencies;if(x!==null){var I=f.child;x=x.firstContext;e:for(;x!==null;){var Z=x;x=f;for(var he=0;he<t.length;he++)if(Z.context===t[he]){x.lanes|=a,Z=x.alternate,Z!==null&&(Z.lanes|=a),fc(x.return,a,e),l||(I=null);break e}x=Z.next}}else if(f.tag===18){if(I=f.return,I===null)throw Error(o(341));I.lanes|=a,x=I.alternate,x!==null&&(x.lanes|=a),fc(I,a,e),I=null}else I=f.child;if(I!==null)I.return=f;else for(I=f;I!==null;){if(I===e){I=null;break}if(f=I.sibling,f!==null){f.return=I.return,I=f;break}I=I.return}f=I}}function wl(e,t,a,l){e=null;for(var f=t,x=!1;f!==null;){if(!x){if((f.flags&524288)!==0)x=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var I=f.alternate;if(I===null)throw Error(o(387));if(I=I.memoizedProps,I!==null){var Z=f.type;un(f.pendingProps.value,I.value)||(e!==null?e.push(Z):e=[Z])}}else if(f===pe.current){if(I=f.alternate,I===null)throw Error(o(387));I.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ku):e=[ku])}f=f.return}e!==null&&hc(t,e,a,l),t.flags|=262144}function pc(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qi(e){ln=e,Ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $a(e){return mc(ln,e)}function nr(e,t){return ln===null&&Qi(e),mc(e,t)}function mc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ss===null){if(e===null)throw Error(o(308));Ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ss=Ss.next=t;return a}var bf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ad=n.unstable_scheduleCallback,xf=n.unstable_NormalPriority,Ka={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eu(){return{controller:new bf,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&ad(xf,function(){e.controller.abort()})}var So=null,tu=0,Rr=0,As=null;function yf(e,t){if(So===null){var a=So=[];tu=0,Rr=eh(),As={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tu++,t.then(nd,nd),t}function nd(){if(--tu===0&&So!==null){As!==null&&(As.status="fulfilled");var e=So;So=null,Rr=0,As=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function id(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var f=0;f<a.length;f++)(0,a[f])(t)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var c=F.S;F.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yf(e,t),c!==null&&c(e,t)};var p=ie(null);function w(){var e=p.current;return e!==null?e:wa.pooledCache}function L(e,t){t===null?V(p,p.current):V(p,t.pool)}function q(){var e=w();return e===null?null:{parent:Ka._currentValue,pool:e}}var X=Error(o(460)),$=Error(o(474)),K=Error(o(542)),ae={then:function(){}};function oe(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ve(){}function Ce(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ve,ve),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qe(e),e;default:if(typeof t.status=="string")t.then(ve,ve);else{if(e=wa,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=l}},function(l){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qe(e),e}throw Ae=t,X}}var Ae=null;function je(){if(Ae===null)throw Error(o(459));var e=Ae;return Ae=null,e}function qe(e){if(e===X||e===K)throw Error(o(483))}var Me=!1;function be(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Be(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ue(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(oa&2)!==0){var f=l.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),l.pending=t,t=kr(e),cc(e,null,a),t}return bo(e,l,t,a),kr(e)}function Fe(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Xt(e,a)}}function at(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var I={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};x===null?f=x=I:x=x.next=I,a=a.next}while(a!==null);x===null?f=x=t:x=x.next=t}else f=x=t;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Xe=!1;function dt(){if(Xe){var e=As;if(e!==null)throw e}}function $e(e,t,a,l){Xe=!1;var f=e.updateQueue;Me=!1;var x=f.firstBaseUpdate,I=f.lastBaseUpdate,Z=f.shared.pending;if(Z!==null){f.shared.pending=null;var he=Z,De=he.next;he.next=null,I===null?x=De:I.next=De,I=he;var Ie=e.alternate;Ie!==null&&(Ie=Ie.updateQueue,Z=Ie.lastBaseUpdate,Z!==I&&(Z===null?Ie.firstBaseUpdate=De:Z.next=De,Ie.lastBaseUpdate=he))}if(x!==null){var He=f.baseState;I=0,Ie=De=he=null,Z=x;do{var _e=Z.lane&-536870913,Ee=_e!==Z.lane;if(Ee?(Wt&_e)===_e:(l&_e)===_e){_e!==0&&_e===Rr&&(Xe=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var wt=e,gt=Z;_e=t;var pa=a;switch(gt.tag){case 1:if(wt=gt.payload,typeof wt=="function"){He=wt.call(pa,He,_e);break e}He=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=gt.payload,_e=typeof wt=="function"?wt.call(pa,He,_e):wt,_e==null)break e;He=S({},He,_e);break e;case 2:Me=!0}}_e=Z.callback,_e!==null&&(e.flags|=64,Ee&&(e.flags|=8192),Ee=f.callbacks,Ee===null?f.callbacks=[_e]:Ee.push(_e))}else Ee={lane:_e,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ie===null?(De=Ie=Ee,he=He):Ie=Ie.next=Ee,I|=_e;if(Z=Z.next,Z===null){if(Z=f.shared.pending,Z===null)break;Ee=Z,Z=Ee.next,Ee.next=null,f.lastBaseUpdate=Ee,f.shared.pending=null}}while(!0);Ie===null&&(he=He),f.baseState=he,f.firstBaseUpdate=De,f.lastBaseUpdate=Ie,x===null&&(f.shared.lanes=0),Ml|=I,e.lanes=I,e.memoizedState=He}}function Vt(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Kt(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vt(a[e],t)}var Pt=ie(null),Mt=ie(0);function aa(e,t){e=Yr,V(Mt,e),V(Pt,t),Yr=e|t.baseLanes}function Zt(){V(Mt,Yr),V(Pt,Pt.current)}function At(){Yr=Mt.current,D(Pt),D(Mt)}var la=0,pt=null,bt=null,Gt=null,Yt=!1,on=!1,Za=!1,Ia=0,Fa=0,Ua=null,gi=0;function Jt(){throw Error(o(321))}function Ha(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!un(e[a],t[a]))return!1;return!0}function _i(e,t,a,l,f,x){return la=x,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?fp:hp,Za=!1,x=a(l,f),Za=!1,on&&(x=Br(t,a,l,f)),ir(e),x}function ir(e){F.H=gd;var t=bt!==null&&bt.next!==null;if(la=0,Gt=bt=pt=null,Yt=!1,Fa=0,Ua=null,t)throw Error(o(300));e===null||Nn||(e=e.dependencies,e!==null&&pc(e)&&(Nn=!0))}function Br(e,t,a,l){pt=e;var f=0;do{if(on&&(Ua=null),Fa=0,on=!1,25<=f)throw Error(o(301));if(f+=1,Gt=bt=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=P2,x=t(a,l)}while(on);return x}function sr(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(pt.flags|=1024),t}function ya(){var e=Ia!==0;return Ia=0,e}function Ao(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function gc(e){if(Yt){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yt=!1}la=0,Gt=bt=pt=null,on=!1,Fa=Ia=0,Ua=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?pt.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Ca(){if(bt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Gt===null?pt.memoizedState:Gt.next;if(t!==null)Gt=t,bt=e;else{if(e===null)throw pt.alternate===null?Error(o(467)):Error(o(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Gt===null?pt.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=Fa;return Fa+=1,Ua===null&&(Ua=[]),e=Ce(Ua,e,t),t=pt,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?fp:hp),e}function Hn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===P)return $a(e)}throw Error(o(438,String(e)))}function lr(e){var t=null,a=pt.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ir(),pt.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=le;return t.index++,a}function Gn(e,t){return typeof t=="function"?t(e):t}function To(e){var t=Ca();return jl(t,bt,e)}function jl(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var f=e.baseQueue,x=l.pending;if(x!==null){if(f!==null){var I=f.next;f.next=x.next,x.next=I}t.baseQueue=f=x,l.pending=null}if(x=e.baseState,f===null)e.memoizedState=x;else{t=f.next;var Z=I=null,he=null,De=t,Ie=!1;do{var He=De.lane&-536870913;if(He!==De.lane?(Wt&He)===He:(la&He)===He){var _e=De.revertLane;if(_e===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),He===Rr&&(Ie=!0);else if((la&_e)===_e){De=De.next,_e===Rr&&(Ie=!0);continue}else He={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?(Z=he=He,I=x):he=he.next=He,pt.lanes|=_e,Ml|=_e;He=De.action,Za&&a(x,He),x=De.hasEagerState?De.eagerState:a(x,He)}else _e={lane:He,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?(Z=he=_e,I=x):he=he.next=_e,pt.lanes|=He,Ml|=He;De=De.next}while(De!==null&&De!==t);if(he===null?I=x:he.next=Z,!un(x,e.memoizedState)&&(Nn=!0,Ie&&(a=As,a!==null)))throw a;e.memoizedState=x,e.baseState=I,e.baseQueue=he,l.lastRenderedState=x}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function vc(e){var t=Ca(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,x=t.memoizedState;if(f!==null){a.pending=null;var I=f=f.next;do x=e(x,I.action),I=I.next;while(I!==f);un(x,t.memoizedState)||(Nn=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),a.lastRenderedState=x}return[x,l]}function Co(e,t,a){var l=pt,f=Ca(),x=Qt;if(x){if(a===void 0)throw Error(o(407));a=a()}else a=t();var I=!un((bt||f).memoizedState,a);I&&(f.memoizedState=a,Nn=!0),f=f.queue;var Z=Nl.bind(null,l,f,e);if(Tl(2048,8,Z,[e]),f.getSnapshot!==t||I||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Cs(9,ko(),Do.bind(null,l,f,a,t),null),wa===null)throw Error(o(349));x||(la&124)!==0||bc(l,t,a)}return a}function bc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pt.updateQueue,t===null?(t=Ir(),pt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Do(e,t,a,l){t.value=a,t.getSnapshot=l,sd(t)&&rd(e)}function Nl(e,t,a){return a(function(){sd(t)&&rd(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!un(e,a)}catch{return!0}}function rd(e){var t=_r(e,2);t!==null&&Ri(t,e,2)}function Lo(e){var t=_n();if(typeof e=="function"){var a=e;if(e=a(),Za){It(!0);try{a()}finally{It(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t}function Ts(e,t,a,l){return e.baseState=a,jl(e,bt,typeof l=="function"?l:Gn)}function wf(e,t,a,l,f){if(md(e))throw Error(o(485));if(e=t.action,e!==null){var x={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};F.T!==null?a(!0):x.isTransition=!1,l(x),a=t.pending,a===null?(x.next=t.pending=x,ld(t,x)):(x.next=a.next,t.pending=a.next=x)}}function ld(e,t){var a=t.action,l=t.payload,f=e.state;if(t.isTransition){var x=F.T,I={};F.T=I;try{var Z=a(f,l),he=F.S;he!==null&&he(I,Z),od(e,t,Z)}catch(De){Sl(e,t,De)}finally{F.T=x}}else try{x=a(f,l),od(e,t,x)}catch(De){Sl(e,t,De)}}function od(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){au(e,t,l)},function(l){return Sl(e,t,l)}):au(e,t,a)}function au(e,t,a){t.status="fulfilled",t.value=a,nu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ld(e,a)))}function Sl(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,nu(t),t=t.next;while(t!==l)}e.action=null}function nu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function iu(e,t){return t}function _o(e,t){if(Qt){var a=wa.formState;if(a!==null){e:{var l=pt;if(Qt){if(Ea){t:{for(var f=Ea,x=Yi;f.nodeType!==8;){if(!x){f=null;break t}if(f=ks(f.nextSibling),f===null){f=null;break t}}x=f.data,f=x==="F!"||x==="F"?f:null}if(f){Ea=ks(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(t=a[0])}}return a=_n(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:t},a.queue=l,a=cp.bind(null,pt,l),l.dispatch=a,l=Lo(!1),x=jf.bind(null,pt,!1,l.queue),l=_n(),f={state:t,dispatch:null,action:e,pending:null},l.queue=f,a=wf.bind(null,pt,f,x,a),f.dispatch=a,l.memoizedState=e,[t,a,!1]}function xc(e){var t=Ca();return Al(t,bt,e)}function Al(e,t,a){if(t=jl(e,t,iu)[0],e=To(Gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=rr(t)}catch(I){throw I===X?K:I}else l=t;t=Ca();var f=t.queue,x=f.dispatch;return a!==t.memoizedState&&(pt.flags|=2048,Cs(9,ko(),cd.bind(null,f,a),null)),[l,x,e]}function cd(e,t){e.action=t}function ud(e){var t=Ca(),a=bt;if(a!==null)return Al(t,a,e);Ca(),t=t.memoizedState,a=Ca();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Cs(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=pt.updateQueue,t===null&&(t=Ir(),pt.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ko(){return{destroy:void 0,resource:void 0}}function yc(){return Ca().memoizedState}function ki(e,t,a,l){var f=_n();l=l===void 0?null:l,pt.flags|=e,f.memoizedState=Cs(1|t,ko(),a,l)}function Tl(e,t,a,l){var f=Ca();l=l===void 0?null:l;var x=f.memoizedState.inst;bt!==null&&l!==null&&Ha(l,bt.memoizedState.deps)?f.memoizedState=Cs(t,x,a,l):(pt.flags|=e,f.memoizedState=Cs(1|t,x,a,l))}function su(e,t){ki(8390656,8,e,t)}function dd(e,t){Tl(2048,8,e,t)}function ru(e,t){return Tl(4,2,e,t)}function Fr(e,t){return Tl(4,4,e,t)}function fd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lu(e,t,a){a=a!=null?a.concat([e]):null,Tl(4,4,fd.bind(null,t,e),a)}function ou(){}function cu(e,t){var a=Ca();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Ha(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function hd(e,t){var a=Ca();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Ha(t,l[1]))return l[0];if(l=e(),Za){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[l,t],l}function zr(e,t,a){return a===void 0||(la&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=s0(),pt.lanes|=e,Ml|=e,a)}function wc(e,t,a,l){return un(a,t)?a:Pt.current!==null?(e=zr(e,a,l),un(e,t)||(Nn=!0),e):(la&42)===0?(Nn=!0,e.memoizedState=a):(e=s0(),pt.lanes|=e,Ml|=e,t)}function Eo(e,t,a,l,f){var x=W.p;W.p=x!==0&&8>x?x:8;var I=F.T,Z={};F.T=Z,jf(e,!1,t,a);try{var he=f(),De=F.S;if(De!==null&&De(Z,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ie=id(he,l);hu(e,t,Ie,Pi(e))}else hu(e,t,l,Pi(e))}catch(He){hu(e,t,{then:function(){},status:"rejected",reason:He},Pi())}finally{W.p=x,F.T=I}}function Ds(){}function $i(e,t,a,l){if(e.tag!==5)throw Error(o(476));var f=Ls(e).queue;Eo(e,f,t,ee,a===null?Ds:function(){return Mo(e),a(l)})}function Ls(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mo(e){var t=Ls(e).next.queue;hu(e,t,{},Pi())}function Oo(){return $a(ku)}function uu(){return Ca().memoizedState}function pd(){return Ca().memoizedState}function du(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Pi();e=Be(a);var l=Ue(t,e,a);l!==null&&(Ri(l,t,a),Fe(l,t,a)),t={cache:eu()},e.payload=t;return}t=t.return}}function fu(e,t,a){var l=Pi();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},md(e)?up(t,a):(a=oc(e,t,a,l),a!==null&&(Ri(a,e,l),dp(a,t,l)))}function cp(e,t,a){var l=Pi();hu(e,t,a,l)}function hu(e,t,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(md(e))up(t,f);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var I=t.lastRenderedState,Z=x(I,a);if(f.hasEagerState=!0,f.eagerState=Z,un(Z,I))return bo(e,t,f,0),wa===null&&vo(),!1}catch{}finally{}if(a=oc(e,t,f,l),a!==null)return Ri(a,e,l),dp(a,t,l),!0}return!1}function jf(e,t,a,l){if(l={lane:2,revertLane:eh(),action:l,hasEagerState:!1,eagerState:null,next:null},md(e)){if(t)throw Error(o(479))}else t=oc(e,a,l,2),t!==null&&Ri(t,e,2)}function md(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function up(e,t){on=Yt=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function dp(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Xt(e,a)}}var gd={readContext:$a,use:Hn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},fp={readContext:$a,use:Hn,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:$a,useEffect:su,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ki(4194308,4,fd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){ki(4,2,e,t)},useMemo:function(e,t){var a=_n();t=t===void 0?null:t;var l=e();if(Za){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=_n();if(a!==void 0){var f=a(t);if(Za){It(!0);try{a(t)}finally{It(!1)}}}else f=t;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=fu.bind(null,pt,e),[l.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:function(e){e=Lo(e);var t=e.queue,a=cp.bind(null,pt,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ou,useDeferredValue:function(e,t){var a=_n();return zr(a,e,t)},useTransition:function(){var e=Lo(!1);return e=Eo.bind(null,pt,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=pt,f=_n();if(Qt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),wa===null)throw Error(o(349));(Wt&124)!==0||bc(l,t,a)}f.memoizedState=a;var x={value:a,getSnapshot:t};return f.queue=x,su(Nl.bind(null,l,x,e),[e]),l.flags|=2048,Cs(9,ko(),Do.bind(null,l,x,a,t),null),a},useId:function(){var e=_n(),t=wa.identifierPrefix;if(Qt){var a=js,l=ws;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,t=""+t+"R"+a,a=Ia++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=gi++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Oo,useFormState:_o,useActionState:_o,useOptimistic:function(e){var t=_n();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jf.bind(null,pt,!0,a),a.dispatch=t,[e,t]},useMemoCache:lr,useCacheRefresh:function(){return _n().memoizedState=du.bind(null,pt)}},hp={readContext:$a,use:Hn,useCallback:cu,useContext:$a,useEffect:dd,useImperativeHandle:lu,useInsertionEffect:ru,useLayoutEffect:Fr,useMemo:hd,useReducer:To,useRef:yc,useState:function(){return To(Gn)},useDebugValue:ou,useDeferredValue:function(e,t){var a=Ca();return wc(a,bt.memoizedState,e,t)},useTransition:function(){var e=To(Gn)[0],t=Ca().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:Co,useId:uu,useHostTransitionStatus:Oo,useFormState:xc,useActionState:xc,useOptimistic:function(e,t){var a=Ca();return Ts(a,bt,e,t)},useMemoCache:lr,useCacheRefresh:pd},P2={readContext:$a,use:Hn,useCallback:cu,useContext:$a,useEffect:dd,useImperativeHandle:lu,useInsertionEffect:ru,useLayoutEffect:Fr,useMemo:hd,useReducer:vc,useRef:yc,useState:function(){return vc(Gn)},useDebugValue:ou,useDeferredValue:function(e,t){var a=Ca();return bt===null?zr(a,e,t):wc(a,bt.memoizedState,e,t)},useTransition:function(){var e=vc(Gn)[0],t=Ca().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:Co,useId:uu,useHostTransitionStatus:Oo,useFormState:ud,useActionState:ud,useOptimistic:function(e,t){var a=Ca();return bt!==null?Ts(a,bt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lr,useCacheRefresh:pd},jc=null,pu=0;function vd(e){var t=pu;return pu+=1,jc===null&&(jc=[]),Ce(jc,e,t)}function mu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bd(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pp(e){var t=e._init;return t(e._payload)}function mp(e){function t(Ne,xe){if(e){var Te=Ne.deletions;Te===null?(Ne.deletions=[xe],Ne.flags|=16):Te.push(xe)}}function a(Ne,xe){if(!e)return null;for(;xe!==null;)t(Ne,xe),xe=xe.sibling;return null}function l(Ne){for(var xe=new Map;Ne!==null;)Ne.key!==null?xe.set(Ne.key,Ne):xe.set(Ne.index,Ne),Ne=Ne.sibling;return xe}function f(Ne,xe){return Ne=Vi(Ne,xe),Ne.index=0,Ne.sibling=null,Ne}function x(Ne,xe,Te){return Ne.index=Te,e?(Te=Ne.alternate,Te!==null?(Te=Te.index,Te<xe?(Ne.flags|=67108866,xe):Te):(Ne.flags|=67108866,xe)):(Ne.flags|=1048576,xe)}function I(Ne){return e&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function Z(Ne,xe,Te,ze){return xe===null||xe.tag!==6?(xe=uc(Te,Ne.mode,ze),xe.return=Ne,xe):(xe=f(xe,Te),xe.return=Ne,xe)}function he(Ne,xe,Te,ze){var it=Te.type;return it===T?Ie(Ne,xe,Te.props.children,ze,Te.key):xe!==null&&(xe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&pp(it)===xe.type)?(xe=f(xe,Te.props),mu(xe,Te),xe.return=Ne,xe):(xe=Er(Te.type,Te.key,Te.props,null,Ne.mode,ze),mu(xe,Te),xe.return=Ne,xe)}function De(Ne,xe,Te,ze){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Te.containerInfo||xe.stateNode.implementation!==Te.implementation?(xe=yo(Te,Ne.mode,ze),xe.return=Ne,xe):(xe=f(xe,Te.children||[]),xe.return=Ne,xe)}function Ie(Ne,xe,Te,ze,it){return xe===null||xe.tag!==7?(xe=xs(Te,Ne.mode,ze,it),xe.return=Ne,xe):(xe=f(xe,Te),xe.return=Ne,xe)}function He(Ne,xe,Te){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=uc(""+xe,Ne.mode,Te),xe.return=Ne,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case N:return Te=Er(xe.type,xe.key,xe.props,null,Ne.mode,Te),mu(Te,xe),Te.return=Ne,Te;case b:return xe=yo(xe,Ne.mode,Te),xe.return=Ne,xe;case B:var ze=xe._init;return xe=ze(xe._payload),He(Ne,xe,Te)}if(ue(xe)||C(xe))return xe=xs(xe,Ne.mode,Te,null),xe.return=Ne,xe;if(typeof xe.then=="function")return He(Ne,vd(xe),Te);if(xe.$$typeof===P)return He(Ne,nr(Ne,xe),Te);bd(Ne,xe)}return null}function _e(Ne,xe,Te,ze){var it=xe!==null?xe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return it!==null?null:Z(Ne,xe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case N:return Te.key===it?he(Ne,xe,Te,ze):null;case b:return Te.key===it?De(Ne,xe,Te,ze):null;case B:return it=Te._init,Te=it(Te._payload),_e(Ne,xe,Te,ze)}if(ue(Te)||C(Te))return it!==null?null:Ie(Ne,xe,Te,ze,null);if(typeof Te.then=="function")return _e(Ne,xe,vd(Te),ze);if(Te.$$typeof===P)return _e(Ne,xe,nr(Ne,Te),ze);bd(Ne,Te)}return null}function Ee(Ne,xe,Te,ze,it){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Ne=Ne.get(Te)||null,Z(xe,Ne,""+ze,it);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case N:return Ne=Ne.get(ze.key===null?Te:ze.key)||null,he(xe,Ne,ze,it);case b:return Ne=Ne.get(ze.key===null?Te:ze.key)||null,De(xe,Ne,ze,it);case B:var Bt=ze._init;return ze=Bt(ze._payload),Ee(Ne,xe,Te,ze,it)}if(ue(ze)||C(ze))return Ne=Ne.get(Te)||null,Ie(xe,Ne,ze,it,null);if(typeof ze.then=="function")return Ee(Ne,xe,Te,vd(ze),it);if(ze.$$typeof===P)return Ee(Ne,xe,Te,nr(xe,ze),it);bd(xe,ze)}return null}function wt(Ne,xe,Te,ze){for(var it=null,Bt=null,ft=xe,vt=xe=0,An=null;ft!==null&&vt<Te.length;vt++){ft.index>vt?(An=ft,ft=null):An=ft.sibling;var ea=_e(Ne,ft,Te[vt],ze);if(ea===null){ft===null&&(ft=An);break}e&&ft&&ea.alternate===null&&t(Ne,ft),xe=x(ea,xe,vt),Bt===null?it=ea:Bt.sibling=ea,Bt=ea,ft=An}if(vt===Te.length)return a(Ne,ft),Qt&&Or(Ne,vt),it;if(ft===null){for(;vt<Te.length;vt++)ft=He(Ne,Te[vt],ze),ft!==null&&(xe=x(ft,xe,vt),Bt===null?it=ft:Bt.sibling=ft,Bt=ft);return Qt&&Or(Ne,vt),it}for(ft=l(ft);vt<Te.length;vt++)An=Ee(ft,Ne,vt,Te[vt],ze),An!==null&&(e&&An.alternate!==null&&ft.delete(An.key===null?vt:An.key),xe=x(An,xe,vt),Bt===null?it=An:Bt.sibling=An,Bt=An);return e&&ft.forEach(function(Ul){return t(Ne,Ul)}),Qt&&Or(Ne,vt),it}function gt(Ne,xe,Te,ze){if(Te==null)throw Error(o(151));for(var it=null,Bt=null,ft=xe,vt=xe=0,An=null,ea=Te.next();ft!==null&&!ea.done;vt++,ea=Te.next()){ft.index>vt?(An=ft,ft=null):An=ft.sibling;var Ul=_e(Ne,ft,ea.value,ze);if(Ul===null){ft===null&&(ft=An);break}e&&ft&&Ul.alternate===null&&t(Ne,ft),xe=x(Ul,xe,vt),Bt===null?it=Ul:Bt.sibling=Ul,Bt=Ul,ft=An}if(ea.done)return a(Ne,ft),Qt&&Or(Ne,vt),it;if(ft===null){for(;!ea.done;vt++,ea=Te.next())ea=He(Ne,ea.value,ze),ea!==null&&(xe=x(ea,xe,vt),Bt===null?it=ea:Bt.sibling=ea,Bt=ea);return Qt&&Or(Ne,vt),it}for(ft=l(ft);!ea.done;vt++,ea=Te.next())ea=Ee(ft,Ne,vt,ea.value,ze),ea!==null&&(e&&ea.alternate!==null&&ft.delete(ea.key===null?vt:ea.key),xe=x(ea,xe,vt),Bt===null?it=ea:Bt.sibling=ea,Bt=ea);return e&&ft.forEach(function(R1){return t(Ne,R1)}),Qt&&Or(Ne,vt),it}function pa(Ne,xe,Te,ze){if(typeof Te=="object"&&Te!==null&&Te.type===T&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case N:e:{for(var it=Te.key;xe!==null;){if(xe.key===it){if(it=Te.type,it===T){if(xe.tag===7){a(Ne,xe.sibling),ze=f(xe,Te.props.children),ze.return=Ne,Ne=ze;break e}}else if(xe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&pp(it)===xe.type){a(Ne,xe.sibling),ze=f(xe,Te.props),mu(ze,Te),ze.return=Ne,Ne=ze;break e}a(Ne,xe);break}else t(Ne,xe);xe=xe.sibling}Te.type===T?(ze=xs(Te.props.children,Ne.mode,ze,Te.key),ze.return=Ne,Ne=ze):(ze=Er(Te.type,Te.key,Te.props,null,Ne.mode,ze),mu(ze,Te),ze.return=Ne,Ne=ze)}return I(Ne);case b:e:{for(it=Te.key;xe!==null;){if(xe.key===it)if(xe.tag===4&&xe.stateNode.containerInfo===Te.containerInfo&&xe.stateNode.implementation===Te.implementation){a(Ne,xe.sibling),ze=f(xe,Te.children||[]),ze.return=Ne,Ne=ze;break e}else{a(Ne,xe);break}else t(Ne,xe);xe=xe.sibling}ze=yo(Te,Ne.mode,ze),ze.return=Ne,Ne=ze}return I(Ne);case B:return it=Te._init,Te=it(Te._payload),pa(Ne,xe,Te,ze)}if(ue(Te))return wt(Ne,xe,Te,ze);if(C(Te)){if(it=C(Te),typeof it!="function")throw Error(o(150));return Te=it.call(Te),gt(Ne,xe,Te,ze)}if(typeof Te.then=="function")return pa(Ne,xe,vd(Te),ze);if(Te.$$typeof===P)return pa(Ne,xe,nr(Ne,Te),ze);bd(Ne,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,xe!==null&&xe.tag===6?(a(Ne,xe.sibling),ze=f(xe,Te),ze.return=Ne,Ne=ze):(a(Ne,xe),ze=uc(Te,Ne.mode,ze),ze.return=Ne,Ne=ze),I(Ne)):a(Ne,xe)}return function(Ne,xe,Te,ze){try{pu=0;var it=pa(Ne,xe,Te,ze);return jc=null,it}catch(ft){if(ft===X||ft===K)throw ft;var Bt=jn(29,ft,null,Ne.mode);return Bt.lanes=ze,Bt.return=Ne,Bt}finally{}}}var Nc=mp(!0),gp=mp(!1),Ki=ie(null),or=null;function Cl(e){var t=e.alternate;V(fn,fn.current&1),V(Ki,e),or===null&&(t===null||Pt.current!==null||t.memoizedState!==null)&&(or=e)}function vp(e){if(e.tag===22){if(V(fn,fn.current),V(Ki,e),or===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(or=e)}}else Dl()}function Dl(){V(fn,fn.current),V(Ki,Ki.current)}function qr(e){D(Ki),or===e&&(or=null),D(fn)}var fn=ie(0);function xd(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fh(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Nf(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Sf={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Pi(),f=Be(l);f.payload=t,a!=null&&(f.callback=a),t=Ue(e,f,l),t!==null&&(Ri(t,e,l),Fe(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Pi(),f=Be(l);f.tag=1,f.payload=t,a!=null&&(f.callback=a),t=Ue(e,f,l),t!==null&&(Ri(t,e,l),Fe(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Pi(),l=Be(a);l.tag=2,t!=null&&(l.callback=t),t=Ue(e,l,a),t!==null&&(Ri(t,e,a),Fe(t,e,a))}};function bp(e,t,a,l,f,x,I){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,I):t.prototype&&t.prototype.isPureReactComponent?!Dr(a,l)||!Dr(f,x):!0}function xp(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Sf.enqueueReplaceState(t,t.state,null)}function Po(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var yd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yp(e){yd(e)}function wp(e){console.error(e)}function jp(e){yd(e)}function wd(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Np(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Af(e,t,a){return a=Be(a),a.tag=3,a.payload={element:null},a.callback=function(){wd(e,t)},a}function Sp(e){return e=Be(e),e.tag=3,e}function Ap(e,t,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var x=l.value;e.payload=function(){return f(x)},e.callback=function(){Np(t,a,l)}}var I=a.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(e.callback=function(){Np(t,a,l),typeof f!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var Z=l.stack;this.componentDidCatch(l.value,{componentStack:Z!==null?Z:""})})}function R2(e,t,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&wl(t,a,f,!0),a=Ki.current,a!==null){switch(a.tag){case 13:return or===null?Qf():a.alternate===null&&Ga===0&&(Ga=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ae?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Kf(e,l,f)),!1;case 22:return a.flags|=65536,l===ae?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Kf(e,l,f)),!1}throw Error(o(435,a.tag))}return Kf(e,l,f),Qf(),!1}if(Qt)return t=Ki.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,l!==Jc&&(e=Error(o(422),{cause:l}),yl(dn(e,a)))):(l!==Jc&&(t=Error(o(423),{cause:l}),yl(dn(t,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=dn(l,a),f=Af(e.stateNode,l,f),at(e,f),Ga!==4&&(Ga=2)),!1;var x=Error(o(520),{cause:l});if(x=dn(x,a),ju===null?ju=[x]:ju.push(x),Ga!==4&&(Ga=2),t===null)return!0;l=dn(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Af(a.stateNode,l,e),at(a,e),!1;case 1:if(t=a.type,x=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ol===null||!Ol.has(x))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Sp(f),Ap(f,e,a,l),at(a,f),!1}a=a.return}while(a!==null);return!1}var Tp=Error(o(461)),Nn=!1;function kn(e,t,a,l){t.child=e===null?gp(t,null,a,l):Nc(t,e.child,a,l)}function Cp(e,t,a,l,f){a=a.render;var x=t.ref;if("ref"in l){var I={};for(var Z in l)Z!=="ref"&&(I[Z]=l[Z])}else I=l;return Qi(t),l=_i(e,t,a,I,x,f),Z=ya(),e!==null&&!Nn?(Ao(e,t,f),Ur(e,t,f)):(Qt&&Z&&wo(t),t.flags|=1,kn(e,t,l,f),t.child)}function Dp(e,t,a,l,f){if(e===null){var x=a.type;return typeof x=="function"&&!bl(x)&&x.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=x,Lp(e,t,x,l,f)):(e=Er(a.type,null,l,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!Mf(e,f)){var I=x.memoizedProps;if(a=a.compare,a=a!==null?a:Dr,a(I,l)&&e.ref===t.ref)return Ur(e,t,f)}return t.flags|=1,e=Vi(x,l),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,a,l,f){if(e!==null){var x=e.memoizedProps;if(Dr(x,l)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=l=x,Mf(e,f))(e.flags&131072)!==0&&(Nn=!0);else return t.lanes=e.lanes,Ur(e,t,f)}return Tf(e,t,a,l,f)}function _p(e,t,a){var l=t.pendingProps,f=l.children,x=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=x!==null?x.baseLanes|a:a,e!==null){for(f=t.child=e.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;t.childLanes=x&~l}else t.childLanes=0,t.child=null;return kp(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&L(t,x!==null?x.cachePool:null),x!==null?aa(t,x):Zt(),vp(t);else return t.lanes=t.childLanes=536870912,kp(e,t,x!==null?x.baseLanes|a:a,a)}else x!==null?(L(t,x.cachePool),aa(t,x),Dl(),t.memoizedState=null):(e!==null&&L(t,null),Zt(),Dl());return kn(e,t,f,a),t.child}function kp(e,t,a,l){var f=w();return f=f===null?null:{parent:Ka._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&L(t,null),Zt(),vp(t),e!==null&&wl(e,t,l,!0),null}function jd(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Tf(e,t,a,l,f){return Qi(t),a=_i(e,t,a,l,void 0,f),l=ya(),e!==null&&!Nn?(Ao(e,t,f),Ur(e,t,f)):(Qt&&l&&wo(t),t.flags|=1,kn(e,t,a,f),t.child)}function Ep(e,t,a,l,f,x){return Qi(t),t.updateQueue=null,a=Br(t,l,a,f),ir(e),l=ya(),e!==null&&!Nn?(Ao(e,t,x),Ur(e,t,x)):(Qt&&l&&wo(t),t.flags|=1,kn(e,t,a,x),t.child)}function Mp(e,t,a,l,f){if(Qi(t),t.stateNode===null){var x=rn,I=a.contextType;typeof I=="object"&&I!==null&&(x=$a(I)),x=new a(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Sf,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},be(t),I=a.contextType,x.context=typeof I=="object"&&I!==null?$a(I):rn,x.state=t.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Nf(t,a,I,l),x.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&Sf.enqueueReplaceState(x,x.state,null),$e(t,l,x,f),dt(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var Z=t.memoizedProps,he=Po(a,Z);x.props=he;var De=x.context,Ie=a.contextType;I=rn,typeof Ie=="object"&&Ie!==null&&(I=$a(Ie));var He=a.getDerivedStateFromProps;Ie=typeof He=="function"||typeof x.getSnapshotBeforeUpdate=="function",Z=t.pendingProps!==Z,Ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Z||De!==I)&&xp(t,x,l,I),Me=!1;var _e=t.memoizedState;x.state=_e,$e(t,l,x,f),dt(),De=t.memoizedState,Z||_e!==De||Me?(typeof He=="function"&&(Nf(t,a,He,l),De=t.memoizedState),(he=Me||bp(t,a,he,l,_e,De,I))?(Ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=De),x.props=l,x.state=De,x.context=I,l=he):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,we(e,t),I=t.memoizedProps,Ie=Po(a,I),x.props=Ie,He=t.pendingProps,_e=x.context,De=a.contextType,he=rn,typeof De=="object"&&De!==null&&(he=$a(De)),Z=a.getDerivedStateFromProps,(De=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==He||_e!==he)&&xp(t,x,l,he),Me=!1,_e=t.memoizedState,x.state=_e,$e(t,l,x,f),dt();var Ee=t.memoizedState;I!==He||_e!==Ee||Me||e!==null&&e.dependencies!==null&&pc(e.dependencies)?(typeof Z=="function"&&(Nf(t,a,Z,l),Ee=t.memoizedState),(Ie=Me||bp(t,a,Ie,l,_e,Ee,he)||e!==null&&e.dependencies!==null&&pc(e.dependencies))?(De||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,Ee,he),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,Ee,he)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===e.memoizedProps&&_e===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&_e===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Ee),x.props=l,x.state=Ee,x.context=he,l=Ie):(typeof x.componentDidUpdate!="function"||I===e.memoizedProps&&_e===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&_e===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,jd(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=Nc(t,e.child,null,f),t.child=Nc(t,null,a,f)):kn(e,t,a,f),t.memoizedState=x.state,e=t.child):e=Ur(e,t,f),e}function Op(e,t,a,l){return si(),t.flags|=256,kn(e,t,a,l),t.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:q()}}function Lf(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Zi),e}function Pp(e,t,a){var l=t.pendingProps,f=!1,x=(t.flags&128)!==0,I;if((I=x)||(I=e!==null&&e.memoizedState===null?!1:(fn.current&2)!==0),I&&(f=!0,t.flags&=-129),I=(t.flags&32)!==0,t.flags&=-33,e===null){if(Qt){if(f?Cl(t):Dl(),Qt){var Z=Ea,he;if(he=Z){e:{for(he=Z,Z=Yi;he.nodeType!==8;){if(!Z){Z=null;break e}if(he=ks(he.nextSibling),he===null){Z=null;break e}}Z=he}Z!==null?(t.memoizedState={dehydrated:Z,treeContext:Mr!==null?{id:ws,overflow:js}:null,retryLane:536870912,hydrationErrors:null},he=jn(18,null,null,0),he.stateNode=Z,he.return=t,t.child=he,Qa=t,Ea=null,he=!0):he=!1}he||Pr(t)}if(Z=t.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return fh(Z)?t.lanes=32:t.lanes=536870912,null;qr(t)}return Z=l.children,l=l.fallback,f?(Dl(),f=t.mode,Z=Nd({mode:"hidden",children:Z},f),l=xs(l,f,a,null),Z.return=t,l.return=t,Z.sibling=l,t.child=Z,f=t.child,f.memoizedState=Df(a),f.childLanes=Lf(e,I,a),t.memoizedState=Cf,l):(Cl(t),_f(t,Z))}if(he=e.memoizedState,he!==null&&(Z=he.dehydrated,Z!==null)){if(x)t.flags&256?(Cl(t),t.flags&=-257,t=kf(e,t,a)):t.memoizedState!==null?(Dl(),t.child=e.child,t.flags|=128,t=null):(Dl(),f=l.fallback,Z=t.mode,l=Nd({mode:"visible",children:l.children},Z),f=xs(f,Z,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,Nc(t,e.child,null,a),l=t.child,l.memoizedState=Df(a),l.childLanes=Lf(e,I,a),t.memoizedState=Cf,t=f);else if(Cl(t),fh(Z)){if(I=Z.nextSibling&&Z.nextSibling.dataset,I)var De=I.dgst;I=De,l=Error(o(419)),l.stack="",l.digest=I,yl({value:l,source:null,stack:null}),t=kf(e,t,a)}else if(Nn||wl(e,t,a,!1),I=(a&e.childLanes)!==0,Nn||I){if(I=wa,I!==null&&(l=a&-a,l=(l&42)!==0?1:is(l),l=(l&(I.suspendedLanes|a))!==0?0:l,l!==0&&l!==he.retryLane))throw he.retryLane=l,_r(e,l),Ri(I,e,l),Tp;Z.data==="$?"||Qf(),t=kf(e,t,a)}else Z.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=he.treeContext,Ea=ks(Z.nextSibling),Qa=t,Qt=!0,tr=null,Yi=!1,e!==null&&(mi[ii++]=ws,mi[ii++]=js,mi[ii++]=Mr,ws=e.id,js=e.overflow,Mr=t),t=_f(t,l.children),t.flags|=4096);return t}return f?(Dl(),f=l.fallback,Z=t.mode,he=e.child,De=he.sibling,l=Vi(he,{mode:"hidden",children:l.children}),l.subtreeFlags=he.subtreeFlags&65011712,De!==null?f=Vi(De,f):(f=xs(f,Z,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,Z=e.child.memoizedState,Z===null?Z=Df(a):(he=Z.cachePool,he!==null?(De=Ka._currentValue,he=he.parent!==De?{parent:De,pool:De}:he):he=q(),Z={baseLanes:Z.baseLanes|a,cachePool:he}),f.memoizedState=Z,f.childLanes=Lf(e,I,a),t.memoizedState=Cf,l):(Cl(t),a=e.child,e=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(I=t.deletions,I===null?(t.deletions=[e],t.flags|=16):I.push(e)),t.child=a,t.memoizedState=null,a)}function _f(e,t){return t=Nd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nd(e,t){return e=jn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kf(e,t,a){return Nc(t,e.child,null,a),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),fc(e.return,t,a)}function Ef(e,t,a,l,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=f)}function Bp(e,t,a){var l=t.pendingProps,f=l.revealOrder,x=l.tail;if(kn(e,t,l.children,a),l=fn.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,a,t);else if(e.tag===19)Rp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(V(fn,l),f){case"forwards":for(a=t.child,f=null;a!==null;)e=a.alternate,e!==null&&xd(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=t.child,t.child=null):(f=a.sibling,a.sibling=null),Ef(t,!1,f,a,x);break;case"backwards":for(a=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&xd(e)===null){t.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ef(t,!0,a,null,x);break;case"together":Ef(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ur(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ml|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(wl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Vi(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Vi(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pc(e)))}function B2(e,t,a){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),ar(t,Ka,e.memoizedState.cache),si();break;case 27:case 5:ke(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:ar(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Cl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Pp(e,t,a):(Cl(t),e=Ur(e,t,a),e!==null?e.sibling:null);Cl(t);break;case 19:var f=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(wl(e,t,a,!1),l=(a&t.childLanes)!==0),f){if(l)return Bp(e,t,a);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(fn,fn.current),l)break;return null;case 22:case 23:return t.lanes=0,_p(e,t,a);case 24:ar(t,Ka,e.memoizedState.cache)}return Ur(e,t,a)}function Ip(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nn=!0;else{if(!Mf(e,a)&&(t.flags&128)===0)return Nn=!1,B2(e,t,a);Nn=(e.flags&131072)!==0}else Nn=!1,Qt&&(t.flags&1048576)!==0&&Ju(t,dc,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,f=l._init;if(l=f(l._payload),t.type=l,typeof l=="function")bl(l)?(e=Po(l,e),t.tag=1,t=Mp(null,t,l,e,a)):(t.tag=0,t=Tf(null,t,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===G){t.tag=11,t=Cp(null,t,l,e,a);break e}else if(f===z){t.tag=14,t=Dp(null,t,l,e,a);break e}}throw t=Y(l)||l,Error(o(306,t,""))}}return t;case 0:return Tf(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,f=Po(l,t.pendingProps),Mp(e,t,l,f,a);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var x=t.memoizedState;f=x.element,we(e,t),$e(t,l,null,a);var I=t.memoizedState;if(l=I.cache,ar(t,Ka,l),l!==x.cache&&hc(t,[Ka],a,!0),dt(),l=I.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:I.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Op(e,t,l,a);break e}else if(l!==f){f=dn(Error(o(424)),t),yl(f),t=Op(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ea=ks(e.firstChild),Qa=t,Qt=!0,tr=null,Yi=!0,a=gp(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(si(),l===f){t=Ur(e,t,a);break e}kn(e,t,l,a)}t=t.child}return t;case 26:return jd(e,t),e===null?(a=U0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Qt||(a=t.type,e=t.pendingProps,l=Bd(te.current).createElement(a),l[da]=t,l[Aa]=e,Mn(l,a,e),sa(l),t.stateNode=l):t.memoizedState=U0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&Qt&&(l=t.stateNode=F0(t.type,t.pendingProps,te.current),Qa=t,Yi=!0,f=Ea,Bl(t.type)?(hh=f,Ea=ks(l.firstChild)):Ea=f),kn(e,t,t.pendingProps.children,a),jd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Qt&&((f=l=Ea)&&(l=d1(l,t.type,t.pendingProps,Yi),l!==null?(t.stateNode=l,Qa=t,Ea=ks(l.firstChild),Yi=!1,f=!0):f=!1),f||Pr(t)),ke(t),f=t.type,x=t.pendingProps,I=e!==null?e.memoizedProps:null,l=x.children,ch(f,x)?l=null:I!==null&&ch(f,I)&&(t.flags|=32),t.memoizedState!==null&&(f=_i(e,t,sr,null,null,a),ku._currentValue=f),jd(e,t),kn(e,t,l,a),t.child;case 6:return e===null&&Qt&&((e=a=Ea)&&(a=f1(a,t.pendingProps,Yi),a!==null?(t.stateNode=a,Qa=t,Ea=null,e=!0):e=!1),e||Pr(t)),null;case 13:return Pp(e,t,a);case 4:return me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Nc(t,null,l,a):kn(e,t,l,a),t.child;case 11:return Cp(e,t,t.type,t.pendingProps,a);case 7:return kn(e,t,t.pendingProps,a),t.child;case 8:return kn(e,t,t.pendingProps.children,a),t.child;case 12:return kn(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ar(t,t.type,l.value),kn(e,t,l.children,a),t.child;case 9:return f=t.type._context,l=t.pendingProps.children,Qi(t),f=$a(f),l=l(f),t.flags|=1,kn(e,t,l,a),t.child;case 14:return Dp(e,t,t.type,t.pendingProps,a);case 15:return Lp(e,t,t.type,t.pendingProps,a);case 19:return Bp(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=Nd(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Vi(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return _p(e,t,a);case 24:return Qi(t),l=$a(Ka),e===null?(f=w(),f===null&&(f=wa,x=eu(),f.pooledCache=x,x.refCount++,x!==null&&(f.pooledCacheLanes|=a),f=x),t.memoizedState={parent:l,cache:f},be(t),ar(t,Ka,f)):((e.lanes&a)!==0&&(we(e,t),$e(t,null,null,a),dt()),f=e.memoizedState,x=t.memoizedState,f.parent!==l?(f={parent:l,cache:l},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),ar(t,Ka,l)):(l=x.cache,ar(t,Ka,l),l!==f.cache&&hc(t,[Ka],a,!0))),kn(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Hr(e){e.flags|=4}function Fp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!W0(t)){if(t=Ki.current,t!==null&&((Wt&4194048)===Wt?or!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||t!==or))throw Ae=ae,$;e.flags|=8192}}function Sd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sa():536870912,e.lanes|=t,Cc|=t)}function gu(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function za(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function I2(e,t,a){var l=t.pendingProps;switch(jo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(t),null;case 1:return za(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Xi(Ka),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ln(t)?Hr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,td())),za(t),null;case 26:return a=t.memoizedState,e===null?(Hr(t),a!==null?(za(t),Fp(t,a)):(za(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Hr(t),za(t),Fp(t,a)):(za(t),t.flags&=-16777217):(e.memoizedProps!==l&&Hr(t),za(t),t.flags&=-16777217),null;case 27:Oe(t),a=te.current;var f=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Hr(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return za(t),null}e=J.current,Ln(t)?ed(t):(e=F0(f,l,a),t.stateNode=e,Hr(t))}return za(t),null;case 5:if(Oe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Hr(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return za(t),null}if(e=J.current,Ln(t))ed(t);else{switch(f=Bd(te.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[da]=t,e[Aa]=l;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=e;e:switch(Mn(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hr(t)}}return za(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Hr(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=te.current,Ln(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,f=Qa,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[da]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E0(e.nodeValue,a)),e||Pr(t)}else e=Bd(e).createTextNode(l),e[da]=t,t.stateNode=e}return za(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ln(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[da]=t}else si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;za(t),f=!1}else f=td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(qr(t),t):(qr(t),null)}if(qr(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var x=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==f&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Sd(t,t.updateQueue),za(t),null;case 4:return de(),e===null&&ih(t.stateNode.containerInfo),za(t),null;case 10:return Xi(t.type),za(t),null;case 19:if(D(fn),f=t.memoizedState,f===null)return za(t),null;if(l=(t.flags&128)!==0,x=f.rendering,x===null)if(l)gu(f,!1);else{if(Ga!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=xd(e),x!==null){for(t.flags|=128,gu(f,!1),e=x.updateQueue,t.updateQueue=e,Sd(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)xo(a,e),a=a.sibling;return V(fn,fn.current&1|2),t.child}e=e.sibling}f.tail!==null&&ht()>Cd&&(t.flags|=128,l=!0,gu(f,!1),t.lanes=4194304)}else{if(!l)if(e=xd(x),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Sd(t,e),gu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Qt)return za(t),null}else 2*ht()-f.renderingStartTime>Cd&&a!==536870912&&(t.flags|=128,l=!0,gu(f,!1),t.lanes=4194304);f.isBackwards?(x.sibling=t.child,t.child=x):(e=f.last,e!==null?e.sibling=x:t.child=x,f.last=x)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=ht(),t.sibling=null,e=fn.current,V(fn,l?e&1|2:e&1),t):(za(t),null);case 22:case 23:return qr(t),At(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(za(t),t.subtreeFlags&6&&(t.flags|=8192)):za(t),a=t.updateQueue,a!==null&&Sd(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&D(p),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xi(Ka),za(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function F2(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(Ka),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oe(t),null;case 13:if(qr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(fn),null;case 4:return de(),null;case 10:return Xi(t.type),null;case 22:case 23:return qr(t),At(),e!==null&&D(p),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xi(Ka),null;case 25:return null;default:return null}}function zp(e,t){switch(jo(t),t.tag){case 3:Xi(Ka),de();break;case 26:case 27:case 5:Oe(t);break;case 4:de();break;case 13:qr(t);break;case 19:D(fn);break;case 10:Xi(t.type);break;case 22:case 23:qr(t),At(),e!==null&&D(p);break;case 24:Xi(Ka)}}function vu(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var x=a.create,I=a.inst;l=x(),I.destroy=l}a=a.next}while(a!==f)}}catch(Z){va(t,t.return,Z)}}function Ll(e,t,a){try{var l=t.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var x=f.next;l=x;do{if((l.tag&e)===e){var I=l.inst,Z=I.destroy;if(Z!==void 0){I.destroy=void 0,f=t;var he=a,De=Z;try{De()}catch(Ie){va(f,he,Ie)}}}l=l.next}while(l!==x)}}catch(Ie){va(t,t.return,Ie)}}function qp(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Kt(t,a)}catch(l){va(e,e.return,l)}}}function Up(e,t,a){a.props=Po(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){va(e,t,l)}}function bu(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){va(e,t,f)}}function cr(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){va(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){va(e,t,f)}else a.current=null}function Hp(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){va(e,e.return,f)}}function Of(e,t,a){try{var l=e.stateNode;r1(l,e.type,a,t),l[Aa]=t}catch(f){va(e,e.return,f)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bl(e.type)||e.tag===4}function Pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rf(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Rd));else if(l!==4&&(l===27&&Bl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Rf(e,t,a),e=e.sibling;e!==null;)Rf(e,t,a),e=e.sibling}function Ad(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Bl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ad(e,t,a),e=e.sibling;e!==null;)Ad(e,t,a),e=e.sibling}function Vp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);Mn(t,l,a),t[da]=e,t[Aa]=a}catch(x){va(e,e.return,x)}}var Gr=!1,Ja=!1,Bf=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function z2(e,t){if(e=e.containerInfo,lh=Hd,e=di(e),Hi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var I=0,Z=-1,he=-1,De=0,Ie=0,He=e,_e=null;t:for(;;){for(var Ee;He!==a||f!==0&&He.nodeType!==3||(Z=I+f),He!==x||l!==0&&He.nodeType!==3||(he=I+l),He.nodeType===3&&(I+=He.nodeValue.length),(Ee=He.firstChild)!==null;)_e=He,He=Ee;for(;;){if(He===e)break t;if(_e===a&&++De===f&&(Z=I),_e===x&&++Ie===l&&(he=I),(Ee=He.nextSibling)!==null)break;He=_e,_e=He.parentNode}He=Ee}a=Z===-1||he===-1?null:{start:Z,end:he}}else a=null}a=a||{start:0,end:0}}else a=null;for(oh={focusedElem:e,selectionRange:a},Hd=!1,Sn=t;Sn!==null;)if(t=Sn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Sn=e;else for(;Sn!==null;){switch(t=Sn,x=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,a=t,f=x.memoizedProps,x=x.memoizedState,l=a.stateNode;try{var wt=Po(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){va(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Sn=e;break}Sn=t.return}}function Wp(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_l(e,a),l&4&&vu(5,a);break;case 1:if(_l(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(I){va(a,a.return,I)}else{var f=Po(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(I){va(a,a.return,I)}}l&64&&qp(a),l&512&&bu(a,a.return);break;case 3:if(_l(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Kt(e,t)}catch(I){va(a,a.return,I)}}break;case 27:t===null&&l&4&&Vp(a);case 26:case 5:_l(e,a),t===null&&l&4&&Hp(a),l&512&&bu(a,a.return);break;case 12:_l(e,a);break;case 13:_l(e,a),l&4&&$p(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Q2.bind(null,a),h1(e,a))));break;case 22:if(l=a.memoizedState!==null||Gr,!l){t=t!==null&&t.memoizedState!==null||Ja,f=Gr;var x=Ja;Gr=l,(Ja=t)&&!x?kl(e,a,(a.subtreeFlags&8772)!==0):_l(e,a),Gr=f,Ja=x}break;case 30:break;default:_l(e,a)}}function Xp(e){var t=e.alternate;t!==null&&(e.alternate=null,Xp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ei(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ma=null,vi=!1;function Vr(e,t,a){for(a=a.child;a!==null;)Qp(e,t,a),a=a.sibling}function Qp(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ct,a)}catch{}switch(a.tag){case 26:Ja||cr(a,t),Vr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ja||cr(a,t);var l=Ma,f=vi;Bl(a.type)&&(Ma=a.stateNode,vi=!1),Vr(e,t,a),Cu(a.stateNode),Ma=l,vi=f;break;case 5:Ja||cr(a,t);case 6:if(l=Ma,f=vi,Ma=null,Vr(e,t,a),Ma=l,vi=f,Ma!==null)if(vi)try{(Ma.nodeType===9?Ma.body:Ma.nodeName==="HTML"?Ma.ownerDocument.body:Ma).removeChild(a.stateNode)}catch(x){va(a,t,x)}else try{Ma.removeChild(a.stateNode)}catch(x){va(a,t,x)}break;case 18:Ma!==null&&(vi?(e=Ma,B0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pu(e)):B0(Ma,a.stateNode));break;case 4:l=Ma,f=vi,Ma=a.stateNode.containerInfo,vi=!0,Vr(e,t,a),Ma=l,vi=f;break;case 0:case 11:case 14:case 15:Ja||Ll(2,a,t),Ja||Ll(4,a,t),Vr(e,t,a);break;case 1:Ja||(cr(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Up(a,t,l)),Vr(e,t,a);break;case 21:Vr(e,t,a);break;case 22:Ja=(l=Ja)||a.memoizedState!==null,Vr(e,t,a),Ja=l;break;default:Vr(e,t,a)}}function $p(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pu(e)}catch(a){va(t,t.return,a)}}function q2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yp),t;default:throw Error(o(435,e.tag))}}function If(e,t){var a=q2(e);t.forEach(function(l){var f=$2.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Ei(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],x=e,I=t,Z=I;e:for(;Z!==null;){switch(Z.tag){case 27:if(Bl(Z.type)){Ma=Z.stateNode,vi=!1;break e}break;case 5:Ma=Z.stateNode,vi=!1;break e;case 3:case 4:Ma=Z.stateNode.containerInfo,vi=!0;break e}Z=Z.return}if(Ma===null)throw Error(o(160));Qp(x,I,f),Ma=null,vi=!1,x=f.alternate,x!==null&&(x.return=null),f.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Kp(t,e),t=t.sibling}var _s=null;function Kp(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ei(t,e),Mi(e),l&4&&(Ll(3,e,e.return),vu(3,e),Ll(5,e,e.return));break;case 1:Ei(t,e),Mi(e),l&512&&(Ja||a===null||cr(a,a.return)),l&64&&Gr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_s;if(Ei(t,e),Mi(e),l&512&&(Ja||a===null||cr(a,a.return)),l&4){var x=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":x=f.getElementsByTagName("title")[0],(!x||x[Jn]||x[da]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=f.createElement(l),f.head.insertBefore(x,f.querySelector("head > title"))),Mn(x,l,a),x[da]=e,sa(x),l=x;break e;case"link":var I=V0("link","href",f).get(l+(a.href||""));if(I){for(var Z=0;Z<I.length;Z++)if(x=I[Z],x.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&x.getAttribute("rel")===(a.rel==null?null:a.rel)&&x.getAttribute("title")===(a.title==null?null:a.title)&&x.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){I.splice(Z,1);break t}}x=f.createElement(l),Mn(x,l,a),f.head.appendChild(x);break;case"meta":if(I=V0("meta","content",f).get(l+(a.content||""))){for(Z=0;Z<I.length;Z++)if(x=I[Z],x.getAttribute("content")===(a.content==null?null:""+a.content)&&x.getAttribute("name")===(a.name==null?null:a.name)&&x.getAttribute("property")===(a.property==null?null:a.property)&&x.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&x.getAttribute("charset")===(a.charSet==null?null:a.charSet)){I.splice(Z,1);break t}}x=f.createElement(l),Mn(x,l,a),f.head.appendChild(x);break;default:throw Error(o(468,l))}x[da]=e,sa(x),l=x}e.stateNode=l}else Y0(f,e.type,e.stateNode);else e.stateNode=G0(f,l,e.memoizedProps);else x!==l?(x===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):x.count--,l===null?Y0(f,e.type,e.stateNode):G0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Of(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ei(t,e),Mi(e),l&512&&(Ja||a===null||cr(a,a.return)),a!==null&&l&4&&Of(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ei(t,e),Mi(e),l&512&&(Ja||a===null||cr(a,a.return)),e.flags&32){f=e.stateNode;try{qs(f,"")}catch(Ee){va(e,e.return,Ee)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Of(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Bf=!0);break;case 6:if(Ei(t,e),Mi(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Ee){va(e,e.return,Ee)}}break;case 3:if(zd=null,f=_s,_s=Id(t.containerInfo),Ei(t,e),_s=f,Mi(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pu(t.containerInfo)}catch(Ee){va(e,e.return,Ee)}Bf&&(Bf=!1,Zp(e));break;case 4:l=_s,_s=Id(e.stateNode.containerInfo),Ei(t,e),Mi(e),_s=l;break;case 12:Ei(t,e),Mi(e);break;case 13:Ei(t,e),Mi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gf=ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,If(e,l)));break;case 22:f=e.memoizedState!==null;var he=a!==null&&a.memoizedState!==null,De=Gr,Ie=Ja;if(Gr=De||f,Ja=Ie||he,Ei(t,e),Ja=Ie,Gr=De,Mi(e),l&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(a===null||he||Gr||Ja||Ro(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){he=a=t;try{if(x=he.stateNode,f)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{Z=he.stateNode;var He=he.memoizedProps.style,_e=He!=null&&He.hasOwnProperty("display")?He.display:null;Z.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Ee){va(he,he.return,Ee)}}}else if(t.tag===6){if(a===null){he=t;try{he.stateNode.nodeValue=f?"":he.memoizedProps}catch(Ee){va(he,he.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,If(e,a))));break;case 19:Ei(t,e),Mi(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,If(e,l)));break;case 30:break;case 21:break;default:Ei(t,e),Mi(e)}}function Mi(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Gp(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,x=Pf(e);Ad(e,x,f);break;case 5:var I=a.stateNode;a.flags&32&&(qs(I,""),a.flags&=-33);var Z=Pf(e);Ad(e,Z,I);break;case 3:case 4:var he=a.stateNode.containerInfo,De=Pf(e);Rf(e,De,he);break;default:throw Error(o(161))}}catch(Ie){va(e,e.return,Ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wp(e,t.alternate,t),t=t.sibling}function Ro(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),Ro(t);break;case 1:cr(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Up(t,t.return,a),Ro(t);break;case 27:Cu(t.stateNode);case 26:case 5:cr(t,t.return),Ro(t);break;case 22:t.memoizedState===null&&Ro(t);break;case 30:Ro(t);break;default:Ro(t)}e=e.sibling}}function kl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,f=e,x=t,I=x.flags;switch(x.tag){case 0:case 11:case 15:kl(f,x,a),vu(4,x);break;case 1:if(kl(f,x,a),l=x,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(De){va(l,l.return,De)}if(l=x,f=l.updateQueue,f!==null){var Z=l.stateNode;try{var he=f.shared.hiddenCallbacks;if(he!==null)for(f.shared.hiddenCallbacks=null,f=0;f<he.length;f++)Vt(he[f],Z)}catch(De){va(l,l.return,De)}}a&&I&64&&qp(x),bu(x,x.return);break;case 27:Vp(x);case 26:case 5:kl(f,x,a),a&&l===null&&I&4&&Hp(x),bu(x,x.return);break;case 12:kl(f,x,a);break;case 13:kl(f,x,a),a&&I&4&&$p(f,x);break;case 22:x.memoizedState===null&&kl(f,x,a),bu(x,x.return);break;case 30:break;default:kl(f,x,a)}t=t.sibling}}function Ff(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function zf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&No(e))}function ur(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jp(e,t,a,l),t=t.sibling}function Jp(e,t,a,l){var f=t.flags;switch(t.tag){case 0:case 11:case 15:ur(e,t,a,l),f&2048&&vu(9,t);break;case 1:ur(e,t,a,l);break;case 3:ur(e,t,a,l),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&No(e)));break;case 12:if(f&2048){ur(e,t,a,l),e=t.stateNode;try{var x=t.memoizedProps,I=x.id,Z=x.onPostCommit;typeof Z=="function"&&Z(I,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(he){va(t,t.return,he)}}else ur(e,t,a,l);break;case 13:ur(e,t,a,l);break;case 23:break;case 22:x=t.stateNode,I=t.alternate,t.memoizedState!==null?x._visibility&2?ur(e,t,a,l):xu(e,t):x._visibility&2?ur(e,t,a,l):(x._visibility|=2,Sc(e,t,a,l,(t.subtreeFlags&10256)!==0)),f&2048&&Ff(I,t);break;case 24:ur(e,t,a,l),f&2048&&zf(t.alternate,t);break;default:ur(e,t,a,l)}}function Sc(e,t,a,l,f){for(f=f&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var x=e,I=t,Z=a,he=l,De=I.flags;switch(I.tag){case 0:case 11:case 15:Sc(x,I,Z,he,f),vu(8,I);break;case 23:break;case 22:var Ie=I.stateNode;I.memoizedState!==null?Ie._visibility&2?Sc(x,I,Z,he,f):xu(x,I):(Ie._visibility|=2,Sc(x,I,Z,he,f)),f&&De&2048&&Ff(I.alternate,I);break;case 24:Sc(x,I,Z,he,f),f&&De&2048&&zf(I.alternate,I);break;default:Sc(x,I,Z,he,f)}t=t.sibling}}function xu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,f=l.flags;switch(l.tag){case 22:xu(a,l),f&2048&&Ff(l.alternate,l);break;case 24:xu(a,l),f&2048&&zf(l.alternate,l);break;default:xu(a,l)}t=t.sibling}}var yu=8192;function Ac(e){if(e.subtreeFlags&yu)for(e=e.child;e!==null;)e0(e),e=e.sibling}function e0(e){switch(e.tag){case 26:Ac(e),e.flags&yu&&e.memoizedState!==null&&T1(_s,e.memoizedState,e.memoizedProps);break;case 5:Ac(e);break;case 3:case 4:var t=_s;_s=Id(e.stateNode.containerInfo),Ac(e),_s=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=yu,yu=16777216,Ac(e),yu=t):Ac(e));break;default:Ac(e)}}function t0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Sn=l,n0(l,e)}t0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)a0(e),e=e.sibling}function a0(e){switch(e.tag){case 0:case 11:case 15:wu(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:wu(e);break;case 12:wu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Td(e)):wu(e);break;default:wu(e)}}function Td(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Sn=l,n0(l,e)}t0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),Td(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Td(t));break;default:Td(t)}e=e.sibling}}function n0(e,t){for(;Sn!==null;){var a=Sn;switch(a.tag){case 0:case 11:case 15:Ll(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Sn=l;else e:for(a=e;Sn!==null;){l=Sn;var f=l.sibling,x=l.return;if(Xp(l),l===a){Sn=null;break e}if(f!==null){f.return=x,Sn=f;break e}Sn=x}}}var U2={getCacheForType:function(e){var t=$a(Ka),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},H2=typeof WeakMap=="function"?WeakMap:Map,oa=0,wa=null,qt=null,Wt=0,ca=0,Oi=null,El=!1,Tc=!1,qf=!1,Yr=0,Ga=0,Ml=0,Bo=0,Uf=0,Zi=0,Cc=0,ju=null,bi=null,Hf=!1,Gf=0,Cd=1/0,Dd=null,Ol=null,En=0,Pl=null,Dc=null,Lc=0,Vf=0,Yf=null,i0=null,Nu=0,Wf=null;function Pi(){if((oa&2)!==0&&Wt!==0)return Wt&-Wt;if(F.T!==null){var e=Rr;return e!==0?e:eh()}return Ni()}function s0(){Zi===0&&(Zi=(Wt&536870912)===0||Qt?Bs():536870912);var e=Ki.current;return e!==null&&(e.flags|=32),Zi}function Ri(e,t,a){(e===wa&&(ca===2||ca===9)||e.cancelPendingCommit!==null)&&(_c(e,0),Rl(e,Wt,Zi,!1)),Kn(e,a),((oa&2)===0||e!==wa)&&(e===wa&&((oa&2)===0&&(Bo|=a),Ga===4&&Rl(e,Wt,Zi,!1)),dr(e))}function r0(e,t,a){if((oa&6)!==0)throw Error(o(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Rn(e,t),f=l?Y2(e,t):$f(e,t,!0),x=l;do{if(f===0){Tc&&!l&&Rl(e,t,0,!1);break}else{if(a=e.current.alternate,x&&!G2(a)){f=$f(e,t,!1),x=!1;continue}if(f===2){if(x=t,e.errorRecoveryDisabledLanes&x)var I=0;else I=e.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){t=I;e:{var Z=e;f=ju;var he=Z.current.memoizedState.isDehydrated;if(he&&(_c(Z,I).flags|=256),I=$f(Z,I,!1),I!==2){if(qf&&!he){Z.errorRecoveryDisabledLanes|=x,Bo|=x,f=4;break e}x=bi,bi=f,x!==null&&(bi===null?bi=x:bi.push.apply(bi,x))}f=I}if(x=!1,f!==2)continue}}if(f===1){_c(e,0),Rl(e,t,0,!0);break}e:{switch(l=e,x=f,x){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Rl(l,t,Zi,!El);break e;case 2:bi=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(f=Gf+300-ht(),10<f)){if(Rl(l,t,Zi,!El),ia(l,0,!0)!==0)break e;l.timeoutHandle=P0(l0.bind(null,l,a,bi,Dd,Hf,t,Zi,Bo,Cc,El,x,2,-0,0),f);break e}l0(l,a,bi,Dd,Hf,t,Zi,Bo,Cc,El,x,0,-0,0)}}break}while(!0);dr(e)}function l0(e,t,a,l,f,x,I,Z,he,De,Ie,He,_e,Ee){if(e.timeoutHandle=-1,He=t.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(_u={stylesheets:null,count:0,unsuspend:A1},e0(t),He=C1(),He!==null)){e.cancelPendingCommit=He(p0.bind(null,e,t,x,a,l,f,I,Z,he,Ie,1,_e,Ee)),Rl(e,x,I,!De);return}p0(e,t,x,a,l,f,I,Z,he)}function G2(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],x=f.getSnapshot;f=f.value;try{if(!un(x(),f))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rl(e,t,a,l){t&=~Uf,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var f=t;0<f;){var x=31-rt(f),I=1<<x;l[x]=-1,f&=~I}a!==0&&Nt(e,a,t)}function Ld(){return(oa&6)===0?(Su(0),!1):!0}function Xf(){if(qt!==null){if(ca===0)var e=qt.return;else e=qt,Ss=ln=null,gc(e),jc=null,pu=0,e=qt;for(;e!==null;)zp(e.alternate,e),e=e.return;qt=null}}function _c(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,o1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xf(),wa=e,qt=a=Vi(e.current,null),Wt=t,ca=0,Oi=null,El=!1,Tc=Rn(e,t),qf=!1,Cc=Zi=Uf=Bo=Ml=Ga=0,bi=ju=null,Hf=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var f=31-rt(l),x=1<<f;t|=e[f],l&=~x}return Yr=t,vo(),a}function o0(e,t){pt=null,F.H=gd,t===X||t===K?(t=je(),ca=3):t===$?(t=je(),ca=4):ca=t===Tp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Oi=t,qt===null&&(Ga=1,wd(e,dn(t,e.current)))}function c0(){var e=F.H;return F.H=gd,e===null?gd:e}function u0(){var e=F.A;return F.A=U2,e}function Qf(){Ga=4,El||(Wt&4194048)!==Wt&&Ki.current!==null||(Tc=!0),(Ml&134217727)===0&&(Bo&134217727)===0||wa===null||Rl(wa,Wt,Zi,!1)}function $f(e,t,a){var l=oa;oa|=2;var f=c0(),x=u0();(wa!==e||Wt!==t)&&(Dd=null,_c(e,t)),t=!1;var I=Ga;e:do try{if(ca!==0&&qt!==null){var Z=qt,he=Oi;switch(ca){case 8:Xf(),I=6;break e;case 3:case 2:case 9:case 6:Ki.current===null&&(t=!0);var De=ca;if(ca=0,Oi=null,kc(e,Z,he,De),a&&Tc){I=0;break e}break;default:De=ca,ca=0,Oi=null,kc(e,Z,he,De)}}V2(),I=Ga;break}catch(Ie){o0(e,Ie)}while(!0);return t&&e.shellSuspendCounter++,Ss=ln=null,oa=l,F.H=f,F.A=x,qt===null&&(wa=null,Wt=0,vo()),I}function V2(){for(;qt!==null;)d0(qt)}function Y2(e,t){var a=oa;oa|=2;var l=c0(),f=u0();wa!==e||Wt!==t?(Dd=null,Cd=ht()+500,_c(e,t)):Tc=Rn(e,t);e:do try{if(ca!==0&&qt!==null){t=qt;var x=Oi;t:switch(ca){case 1:ca=0,Oi=null,kc(e,t,x,1);break;case 2:case 9:if(oe(x)){ca=0,Oi=null,f0(t);break}t=function(){ca!==2&&ca!==9||wa!==e||(ca=7),dr(e)},x.then(t,t);break e;case 3:ca=7;break e;case 4:ca=5;break e;case 7:oe(x)?(ca=0,Oi=null,f0(t)):(ca=0,Oi=null,kc(e,t,x,7));break;case 5:var I=null;switch(qt.tag){case 26:I=qt.memoizedState;case 5:case 27:var Z=qt;if(!I||W0(I)){ca=0,Oi=null;var he=Z.sibling;if(he!==null)qt=he;else{var De=Z.return;De!==null?(qt=De,_d(De)):qt=null}break t}}ca=0,Oi=null,kc(e,t,x,5);break;case 6:ca=0,Oi=null,kc(e,t,x,6);break;case 8:Xf(),Ga=6;break e;default:throw Error(o(462))}}W2();break}catch(Ie){o0(e,Ie)}while(!0);return Ss=ln=null,F.H=l,F.A=f,oa=a,qt!==null?0:(wa=null,Wt=0,vo(),Ga)}function W2(){for(;qt!==null&&!Pe();)d0(qt)}function d0(e){var t=Ip(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?_d(e):qt=t}function f0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ep(a,t,t.pendingProps,t.type,void 0,Wt);break;case 11:t=Ep(a,t,t.pendingProps,t.type.render,t.ref,Wt);break;case 5:gc(t);default:zp(a,t),t=qt=xo(t,Yr),t=Ip(a,t,Yr)}e.memoizedProps=e.pendingProps,t===null?_d(e):qt=t}function kc(e,t,a,l){Ss=ln=null,gc(t),jc=null,pu=0;var f=t.return;try{if(R2(e,f,t,a,Wt)){Ga=1,wd(e,dn(a,e.current)),qt=null;return}}catch(x){if(f!==null)throw qt=f,x;Ga=1,wd(e,dn(a,e.current)),qt=null;return}t.flags&32768?(Qt||l===1?e=!0:Tc||(Wt&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ki.current,l!==null&&l.tag===13&&(l.flags|=16384))),h0(t,e)):_d(t)}function _d(e){var t=e;do{if((t.flags&32768)!==0){h0(t,El);return}e=t.return;var a=I2(t.alternate,t,Yr);if(a!==null){qt=a;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Ga===0&&(Ga=5)}function h0(e,t){do{var a=F2(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);Ga=6,qt=null}function p0(e,t,a,l,f,x,I,Z,he){e.cancelPendingCommit=null;do kd();while(En!==0);if((oa&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(x=t.lanes|t.childLanes,x|=lc,La(e,a,x,I,Z,he),e===wa&&(qt=wa=null,Wt=0),Dc=t,Pl=e,Lc=a,Vf=x,Yf=f,i0=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K2(Ke,function(){return x0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=W.p,W.p=2,I=oa,oa|=4;try{z2(e,t,a)}finally{oa=I,W.p=f,F.T=l}}En=1,m0(),g0(),v0()}}function m0(){if(En===1){En=0;var e=Pl,t=Dc,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var f=oa;oa|=4;try{Kp(t,e);var x=oh,I=di(e.containerInfo),Z=x.focusedElem,he=x.selectionRange;if(I!==Z&&Z&&Z.ownerDocument&&ni(Z.ownerDocument.documentElement,Z)){if(he!==null&&Hi(Z)){var De=he.start,Ie=he.end;if(Ie===void 0&&(Ie=De),"selectionStart"in Z)Z.selectionStart=De,Z.selectionEnd=Math.min(Ie,Z.value.length);else{var He=Z.ownerDocument||document,_e=He&&He.defaultView||window;if(_e.getSelection){var Ee=_e.getSelection(),wt=Z.textContent.length,gt=Math.min(he.start,wt),pa=he.end===void 0?gt:Math.min(he.end,wt);!Ee.extend&&gt>pa&&(I=pa,pa=gt,gt=I);var Ne=ms(Z,gt),xe=ms(Z,pa);if(Ne&&xe&&(Ee.rangeCount!==1||Ee.anchorNode!==Ne.node||Ee.anchorOffset!==Ne.offset||Ee.focusNode!==xe.node||Ee.focusOffset!==xe.offset)){var Te=He.createRange();Te.setStart(Ne.node,Ne.offset),Ee.removeAllRanges(),gt>pa?(Ee.addRange(Te),Ee.extend(xe.node,xe.offset)):(Te.setEnd(xe.node,xe.offset),Ee.addRange(Te))}}}}for(He=[],Ee=Z;Ee=Ee.parentNode;)Ee.nodeType===1&&He.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<He.length;Z++){var ze=He[Z];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Hd=!!lh,oh=lh=null}finally{oa=f,W.p=l,F.T=a}}e.current=t,En=2}}function g0(){if(En===2){En=0;var e=Pl,t=Dc,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var f=oa;oa|=4;try{Wp(e,t.alternate,t)}finally{oa=f,W.p=l,F.T=a}}En=3}}function v0(){if(En===4||En===3){En=0,fe();var e=Pl,t=Dc,a=Lc,l=i0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?En=5:(En=0,Dc=Pl=null,b0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ol=null),Ya(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ct,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=F.T,f=W.p,W.p=2,F.T=null;try{for(var x=e.onRecoverableError,I=0;I<l.length;I++){var Z=l[I];x(Z.value,{componentStack:Z.stack})}}finally{F.T=t,W.p=f}}(Lc&3)!==0&&kd(),dr(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Wf?Nu++:(Nu=0,Wf=e):Nu=0,Su(0)}}function b0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,No(t)))}function kd(e){return m0(),g0(),v0(),x0()}function x0(){if(En!==5)return!1;var e=Pl,t=Vf;Vf=0;var a=Ya(Lc),l=F.T,f=W.p;try{W.p=32>a?32:a,F.T=null,a=Yf,Yf=null;var x=Pl,I=Lc;if(En=0,Dc=Pl=null,Lc=0,(oa&6)!==0)throw Error(o(331));var Z=oa;if(oa|=4,a0(x.current),Jp(x,x.current,I,a),oa=Z,Su(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ct,x)}catch{}return!0}finally{W.p=f,F.T=l,b0(e,t)}}function y0(e,t,a){t=dn(a,t),t=Af(e.stateNode,t,2),e=Ue(e,t,2),e!==null&&(Kn(e,2),dr(e))}function va(e,t,a){if(e.tag===3)y0(e,e,a);else for(;t!==null;){if(t.tag===3){y0(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ol===null||!Ol.has(l))){e=dn(a,e),a=Sp(2),l=Ue(t,a,2),l!==null&&(Ap(a,l,t,e),Kn(l,2),dr(l));break}}t=t.return}}function Kf(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new H2;var f=new Set;l.set(t,f)}else f=l.get(t),f===void 0&&(f=new Set,l.set(t,f));f.has(a)||(qf=!0,f.add(a),e=X2.bind(null,e,t,a),t.then(e,e))}function X2(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,wa===e&&(Wt&a)===a&&(Ga===4||Ga===3&&(Wt&62914560)===Wt&&300>ht()-Gf?(oa&2)===0&&_c(e,0):Uf|=a,Cc===Wt&&(Cc=0)),dr(e)}function w0(e,t){t===0&&(t=Sa()),e=_r(e,t),e!==null&&(Kn(e,t),dr(e))}function Q2(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),w0(e,a)}function $2(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),w0(e,a)}function K2(e,t){return We(e,t)}var Ed=null,Ec=null,Zf=!1,Md=!1,Jf=!1,Io=0;function dr(e){e!==Ec&&e.next===null&&(Ec===null?Ed=Ec=e:Ec=Ec.next=e),Md=!0,Zf||(Zf=!0,J2())}function Su(e,t){if(!Jf&&Md){Jf=!0;do for(var a=!1,l=Ed;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var x=0;else{var I=l.suspendedLanes,Z=l.pingedLanes;x=(1<<31-rt(42|e)+1)-1,x&=f&~(I&~Z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(a=!0,A0(l,x))}else x=Wt,x=ia(l,l===wa?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Rn(l,x)||(a=!0,A0(l,x));l=l.next}while(a);Jf=!1}}function Z2(){j0()}function j0(){Md=Zf=!1;var e=0;Io!==0&&(l1()&&(e=Io),Io=0);for(var t=ht(),a=null,l=Ed;l!==null;){var f=l.next,x=N0(l,t);x===0?(l.next=null,a===null?Ed=f:a.next=f,f===null&&(Ec=a)):(a=l,(e!==0||(x&3)!==0)&&(Md=!0)),l=f}Su(e)}function N0(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var I=31-rt(x),Z=1<<I,he=f[I];he===-1?((Z&a)===0||(Z&l)!==0)&&(f[I]=$t(Z,t)):he<=t&&(e.expiredLanes|=Z),x&=~Z}if(t=wa,a=Wt,a=ia(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ca===2||ca===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Je(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Rn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Je(l),Ya(a)){case 2:case 8:a=Qe;break;case 32:a=Ke;break;case 268435456:a=ut;break;default:a=Ke}return l=S0.bind(null,e),a=We(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Je(l),e.callbackPriority=2,e.callbackNode=null,2}function S0(e,t){if(En!==0&&En!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kd()&&e.callbackNode!==a)return null;var l=Wt;return l=ia(e,e===wa?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(r0(e,l,t),N0(e,ht()),e.callbackNode!=null&&e.callbackNode===a?S0.bind(null,e):null)}function A0(e,t){if(kd())return null;r0(e,t,!0)}function J2(){c1(function(){(oa&6)!==0?We(Ye,Z2):j0()})}function eh(){return Io===0&&(Io=Bs()),Io}function T0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cs(""+e)}function C0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function e1(e,t,a,l,f){if(t==="submit"&&a&&a.stateNode===f){var x=T0((f[Aa]||null).action),I=l.submitter;I&&(t=(t=I[Aa]||null)?T0(t.formAction):I.getAttribute("formAction"),t!==null&&(x=t,I=null));var Z=new Gs("action","action",null,l,f);e.push({event:Z,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Io!==0){var he=I?C0(f,I):new FormData(f);$i(a,{pending:!0,data:he,method:f.method,action:x},null,he)}}else typeof x=="function"&&(Z.preventDefault(),he=I?C0(f,I):new FormData(f),$i(a,{pending:!0,data:he,method:f.method,action:x},x,he))},currentTarget:f}]})}}for(var th=0;th<Ba.length;th++){var ah=Ba[th],t1=ah.toLowerCase(),a1=ah[0].toUpperCase()+ah.slice(1);Xa(t1,"on"+a1)}Xa(Js,"onAnimationEnd"),Xa(gs,"onAnimationIteration"),Xa(vl,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(hi,"onTransitionRun"),Xa(vs,"onTransitionStart"),Xa(fa,"onTransitionCancel"),Xa(ra,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function D0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var I=l.length-1;0<=I;I--){var Z=l[I],he=Z.instance,De=Z.currentTarget;if(Z=Z.listener,he!==x&&f.isPropagationStopped())break e;x=Z,f.currentTarget=De;try{x(f)}catch(Ie){yd(Ie)}f.currentTarget=null,x=he}else for(I=0;I<l.length;I++){if(Z=l[I],he=Z.instance,De=Z.currentTarget,Z=Z.listener,he!==x&&f.isPropagationStopped())break e;x=Z,f.currentTarget=De;try{x(f)}catch(Ie){yd(Ie)}f.currentTarget=null,x=he}}}}function Ut(e,t){var a=t[Oa];a===void 0&&(a=t[Oa]=new Set);var l=e+"__bubble";a.has(l)||(L0(t,e,2,!1),a.add(l))}function nh(e,t,a){var l=0;t&&(l|=4),L0(a,e,l,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function ih(e){if(!e[Od]){e[Od]=!0,Is.forEach(function(a){a!=="selectionchange"&&(n1.has(a)||nh(a,!1,e),nh(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,nh("selectionchange",!1,t))}}function L0(e,t,a,l){switch(J0(t)){case 2:var f=_1;break;case 8:f=k1;break;default:f=bh}a=f.bind(null,t,a,e),f=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(t,a,{capture:!0,passive:f}):e.addEventListener(t,a,!0):f!==void 0?e.addEventListener(t,a,{passive:f}):e.addEventListener(t,a,!1)}function sh(e,t,a,l,f){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var I=l.tag;if(I===3||I===4){var Z=l.stateNode.containerInfo;if(Z===f)break;if(I===4)for(I=l.return;I!==null;){var he=I.tag;if((he===3||he===4)&&I.stateNode.containerInfo===f)return;I=I.return}for(;Z!==null;){if(I=vn(Z),I===null)return;if(he=I.tag,he===5||he===6||he===26||he===27){l=x=I;continue e}Z=Z.parentNode}}l=l.return}tc(function(){var De=x,Ie=nn(a),He=[];e:{var _e=ka.get(e);if(_e!==void 0){var Ee=Gs,wt=e;switch(e){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":Ee=dl;break;case"focusin":wt="focus",Ee=jr;break;case"focusout":wt="blur",Ee=jr;break;case"beforeblur":case"afterblur":Ee=jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Ys;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=po;break;case Js:case gs:case vl:Ee=Qc;break;case ra:Ee=U;break;case"scroll":case"scrollend":Ee=nc;break;case"wheel":Ee=ge;break;case"copy":case"cut":case"paste":Ee=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=fl;break;case"toggle":case"beforetoggle":Ee=Re}var gt=(t&4)!==0,pa=!gt&&(e==="scroll"||e==="scrollend"),Ne=gt?_e!==null?_e+"Capture":null:_e;gt=[];for(var xe=De,Te;xe!==null;){var ze=xe;if(Te=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Te===null||Ne===null||(ze=Fn(xe,Ne),ze!=null&&gt.push(Tu(xe,ze,Te))),pa)break;xe=xe.return}0<gt.length&&(_e=new Ee(_e,wt,null,a,Ie),He.push({event:_e,listeners:gt}))}}if((t&7)===0){e:{if(_e=e==="mouseover"||e==="pointerover",Ee=e==="mouseout"||e==="pointerout",_e&&a!==al&&(wt=a.relatedTarget||a.fromElement)&&(vn(wt)||wt[Wa]))break e;if((Ee||_e)&&(_e=Ie.window===Ie?Ie:(_e=Ie.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ee?(wt=a.relatedTarget||a.toElement,Ee=De,wt=wt?vn(wt):null,wt!==null&&(pa=u(wt),gt=wt.tag,wt!==pa||gt!==5&&gt!==27&&gt!==6)&&(wt=null)):(Ee=null,wt=De),Ee!==wt)){if(gt=fs,ze="onMouseLeave",Ne="onMouseEnter",xe="mouse",(e==="pointerout"||e==="pointerover")&&(gt=fl,ze="onPointerLeave",Ne="onPointerEnter",xe="pointer"),pa=Ee==null?_e:Bn(Ee),Te=wt==null?_e:Bn(wt),_e=new gt(ze,xe+"leave",Ee,a,Ie),_e.target=pa,_e.relatedTarget=Te,ze=null,vn(Ie)===De&&(gt=new gt(Ne,xe+"enter",wt,a,Ie),gt.target=Te,gt.relatedTarget=pa,ze=gt),pa=ze,Ee&&wt)t:{for(gt=Ee,Ne=wt,xe=0,Te=gt;Te;Te=Mc(Te))xe++;for(Te=0,ze=Ne;ze;ze=Mc(ze))Te++;for(;0<xe-Te;)gt=Mc(gt),xe--;for(;0<Te-xe;)Ne=Mc(Ne),Te--;for(;xe--;){if(gt===Ne||Ne!==null&&gt===Ne.alternate)break t;gt=Mc(gt),Ne=Mc(Ne)}gt=null}else gt=null;Ee!==null&&_0(He,_e,Ee,gt,!1),wt!==null&&pa!==null&&_0(He,pa,wt,gt,!0)}}e:{if(_e=De?Bn(De):window,Ee=_e.nodeName&&_e.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&_e.type==="file")var it=pl;else if(Ui(_e))if(Ar)it=sc;else{it=Zc;var Bt=zn}else Ee=_e.nodeName,!Ee||Ee.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?De&&lo(De.elementType)&&(it=pl):it=go;if(it&&(it=it(e,De))){mo(He,it,a,Ie);break e}Bt&&Bt(e,_e,De),e==="focusout"&&De&&_e.type==="number"&&De.memoizedProps.value!=null&&io(_e,"number",_e.value)}switch(Bt=De?Bn(De):window,e){case"focusin":(Ui(Bt)||Bt.contentEditable==="true")&&(qn=Bt,$s=De,Cn=null);break;case"focusout":Cn=$s=qn=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,gl(He,a,Ie);break;case"selectionchange":if(Gi)break;case"keydown":case"keyup":gl(He,a,Ie)}var ft;if(et)e:{switch(e){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Ra?Ta(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(kt&&a.locale!=="ko"&&(Ra||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ra&&(ft=ac()):(ci=Ie,co="value"in ci?ci.value:ci.textContent,Ra=!0)),Bt=Pd(De,vt),0<Bt.length&&(vt=new ol(vt,e,null,a,Ie),He.push({event:vt,listeners:Bt}),ft?vt.data=ft:(ft=Pa(a),ft!==null&&(vt.data=ft)))),(ft=Tt?sn(e,a):Ci(e,a))&&(vt=Pd(De,"onBeforeInput"),0<vt.length&&(Bt=new ol("onBeforeInput","beforeinput",null,a,Ie),He.push({event:Bt,listeners:vt}),Bt.data=ft)),e1(He,e,De,a,Ie)}D0(He,t)})}function Tu(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Pd(e,t){for(var a=t+"Capture",l=[];e!==null;){var f=e,x=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||x===null||(f=Fn(e,a),f!=null&&l.unshift(Tu(e,f,x)),f=Fn(e,t),f!=null&&l.push(Tu(e,f,x))),e.tag===3)return l;e=e.return}return[]}function Mc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _0(e,t,a,l,f){for(var x=t._reactName,I=[];a!==null&&a!==l;){var Z=a,he=Z.alternate,De=Z.stateNode;if(Z=Z.tag,he!==null&&he===l)break;Z!==5&&Z!==26&&Z!==27||De===null||(he=De,f?(De=Fn(a,x),De!=null&&I.unshift(Tu(a,De,he))):f||(De=Fn(a,x),De!=null&&I.push(Tu(a,De,he)))),a=a.return}I.length!==0&&e.push({event:t,listeners:I})}var i1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function k0(e){return(typeof e=="string"?e:""+e).replace(i1,`
`).replace(s1,"")}function E0(e,t){return t=k0(t),k0(e)===t}function Rd(){}function ha(e,t,a,l,f,x){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||qs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&qs(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,a,l);break;case"style":ec(e,l,x);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=cs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(a==="formAction"?(t!=="input"&&ha(e,t,"name",f.name,f,null),ha(e,t,"formEncType",f.formEncType,f,null),ha(e,t,"formMethod",f.formMethod,f,null),ha(e,t,"formTarget",f.formTarget,f,null)):(ha(e,t,"encType",f.encType,f,null),ha(e,t,"method",f.method,f,null),ha(e,t,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=cs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Rd);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=cs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),ss(e,"popover",l);break;case"xlinkActuate":Ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ai(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ai(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ai(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ai(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ss(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=os.get(a)||a,ss(e,a,l))}}function rh(e,t,a,l,f,x){switch(a){case"style":ec(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?qs(e,l):(typeof l=="number"||typeof l=="bigint")&&qs(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),t=a.slice(2,f?a.length-7:void 0),x=e[Aa]||null,x=x!=null?x[a]:null,typeof x=="function"&&e.removeEventListener(t,x,f),typeof l=="function")){typeof x!="function"&&x!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,f);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ss(e,a,l)}}}function Mn(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,f=!1,x;for(x in a)if(a.hasOwnProperty(x)){var I=a[x];if(I!=null)switch(x){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ha(e,t,x,I,a,null)}}f&&ha(e,t,"srcSet",a.srcSet,a,null),l&&ha(e,t,"src",a.src,a,null);return;case"input":Ut("invalid",e);var Z=x=I=f=null,he=null,De=null;for(l in a)if(a.hasOwnProperty(l)){var Ie=a[l];if(Ie!=null)switch(l){case"name":f=Ie;break;case"type":I=Ie;break;case"checked":he=Ie;break;case"defaultChecked":De=Ie;break;case"value":x=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(o(137,t));break;default:ha(e,t,l,Ie,a,null)}}no(e,x,Z,he,De,I,f,!1),zs(e);return;case"select":Ut("invalid",e),l=I=x=null;for(f in a)if(a.hasOwnProperty(f)&&(Z=a[f],Z!=null))switch(f){case"value":x=Z;break;case"defaultValue":I=Z;break;case"multiple":l=Z;default:ha(e,t,f,Z,a,null)}t=x,a=I,e.multiple=!!l,t!=null?ls(e,!!l,t,!1):a!=null&&ls(e,!!l,a,!0);return;case"textarea":Ut("invalid",e),x=f=l=null;for(I in a)if(a.hasOwnProperty(I)&&(Z=a[I],Z!=null))switch(I){case"value":l=Z;break;case"defaultValue":f=Z;break;case"children":x=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(91));break;default:ha(e,t,I,Z,a,null)}so(e,l,f,x),zs(e);return;case"option":for(he in a)if(a.hasOwnProperty(he)&&(l=a[he],l!=null))switch(he){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ha(e,t,he,l,a,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<Au.length;l++)Ut(Au[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in a)if(a.hasOwnProperty(De)&&(l=a[De],l!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ha(e,t,De,l,a,null)}return;default:if(lo(t)){for(Ie in a)a.hasOwnProperty(Ie)&&(l=a[Ie],l!==void 0&&rh(e,t,Ie,l,a,void 0));return}}for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!=null&&ha(e,t,Z,l,a,null))}function r1(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,x=null,I=null,Z=null,he=null,De=null,Ie=null;for(Ee in a){var He=a[Ee];if(a.hasOwnProperty(Ee)&&He!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":he=He;default:l.hasOwnProperty(Ee)||ha(e,t,Ee,null,l,He)}}for(var _e in l){var Ee=l[_e];if(He=a[_e],l.hasOwnProperty(_e)&&(Ee!=null||He!=null))switch(_e){case"type":x=Ee;break;case"name":f=Ee;break;case"checked":De=Ee;break;case"defaultChecked":Ie=Ee;break;case"value":I=Ee;break;case"defaultValue":Z=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(o(137,t));break;default:Ee!==He&&ha(e,t,_e,Ee,l,He)}}wr(e,I,Z,he,De,Ie,x,f);return;case"select":Ee=I=Z=_e=null;for(x in a)if(he=a[x],a.hasOwnProperty(x)&&he!=null)switch(x){case"value":break;case"multiple":Ee=he;default:l.hasOwnProperty(x)||ha(e,t,x,null,l,he)}for(f in l)if(x=l[f],he=a[f],l.hasOwnProperty(f)&&(x!=null||he!=null))switch(f){case"value":_e=x;break;case"defaultValue":Z=x;break;case"multiple":I=x;default:x!==he&&ha(e,t,f,x,l,he)}t=Z,a=I,l=Ee,_e!=null?ls(e,!!a,_e,!1):!!l!=!!a&&(t!=null?ls(e,!!a,t,!0):ls(e,!!a,a?[]:"",!1));return;case"textarea":Ee=_e=null;for(Z in a)if(f=a[Z],a.hasOwnProperty(Z)&&f!=null&&!l.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ha(e,t,Z,null,l,f)}for(I in l)if(f=l[I],x=a[I],l.hasOwnProperty(I)&&(f!=null||x!=null))switch(I){case"value":_e=f;break;case"defaultValue":Ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==x&&ha(e,t,I,f,l,x)}Zo(e,_e,Ee);return;case"option":for(var wt in a)if(_e=a[wt],a.hasOwnProperty(wt)&&_e!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:ha(e,t,wt,null,l,_e)}for(he in l)if(_e=l[he],Ee=a[he],l.hasOwnProperty(he)&&_e!==Ee&&(_e!=null||Ee!=null))switch(he){case"selected":e.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:ha(e,t,he,_e,l,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)_e=a[gt],a.hasOwnProperty(gt)&&_e!=null&&!l.hasOwnProperty(gt)&&ha(e,t,gt,null,l,_e);for(De in l)if(_e=l[De],Ee=a[De],l.hasOwnProperty(De)&&_e!==Ee&&(_e!=null||Ee!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,t));break;default:ha(e,t,De,_e,l,Ee)}return;default:if(lo(t)){for(var pa in a)_e=a[pa],a.hasOwnProperty(pa)&&_e!==void 0&&!l.hasOwnProperty(pa)&&rh(e,t,pa,void 0,l,_e);for(Ie in l)_e=l[Ie],Ee=a[Ie],!l.hasOwnProperty(Ie)||_e===Ee||_e===void 0&&Ee===void 0||rh(e,t,Ie,_e,l,Ee);return}}for(var Ne in a)_e=a[Ne],a.hasOwnProperty(Ne)&&_e!=null&&!l.hasOwnProperty(Ne)&&ha(e,t,Ne,null,l,_e);for(He in l)_e=l[He],Ee=a[He],!l.hasOwnProperty(He)||_e===Ee||_e==null&&Ee==null||ha(e,t,He,_e,l,Ee)}var lh=null,oh=null;function Bd(e){return e.nodeType===9?e:e.ownerDocument}function M0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=null;function l1(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(u1)}:P0;function u1(e){setTimeout(function(){throw e})}function Bl(e){return e==="head"}function B0(e,t){var a=t,l=0,f=0;do{var x=a.nextSibling;if(e.removeChild(a),x&&x.nodeType===8)if(a=x.data,a==="/$"){if(0<l&&8>l){a=l;var I=e.ownerDocument;if(a&1&&Cu(I.documentElement),a&2&&Cu(I.body),a&4)for(a=I.head,Cu(a),I=a.firstChild;I;){var Z=I.nextSibling,he=I.nodeName;I[Jn]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&I.rel.toLowerCase()==="stylesheet"||a.removeChild(I),I=Z}}if(f===0){e.removeChild(x),Pu(t);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=x}while(a);Pu(t)}function dh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dh(a),ei(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function d1(e,t,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=ks(e.nextSibling),e===null)break}return null}function f1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ks(e.nextSibling),e===null))return null;return e}function fh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function h1(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var hh=null;function I0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function F0(e,t,a){switch(t=Bd(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Cu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ei(e)}var Ji=new Map,z0=new Set;function Id(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wr=W.d;W.d={f:p1,r:m1,D:g1,C:v1,L:b1,m:x1,X:w1,S:y1,M:j1};function p1(){var e=Wr.f(),t=Ld();return e||t}function m1(e){var t=bn(e);t!==null&&t.tag===5&&t.type==="form"?Mo(t):Wr.r(e)}var Oc=typeof document>"u"?null:document;function q0(e,t,a){var l=Oc;if(l&&typeof t=="string"&&t){var f=ga(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),z0.has(f)||(z0.add(f),e={rel:e,crossOrigin:a,href:t},l.querySelector(f)===null&&(t=l.createElement("link"),Mn(t,"link",e),sa(t),l.head.appendChild(t)))}}function g1(e){Wr.D(e),q0("dns-prefetch",e,null)}function v1(e,t){Wr.C(e,t),q0("preconnect",e,t)}function b1(e,t,a){Wr.L(e,t,a);var l=Oc;if(l&&e&&t){var f='link[rel="preload"][as="'+ga(t)+'"]';t==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ga(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ga(a.imageSizes)+'"]')):f+='[href="'+ga(e)+'"]';var x=f;switch(t){case"style":x=Pc(e);break;case"script":x=Rc(e)}Ji.has(x)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ji.set(x,e),l.querySelector(f)!==null||t==="style"&&l.querySelector(Du(x))||t==="script"&&l.querySelector(Lu(x))||(t=l.createElement("link"),Mn(t,"link",e),sa(t),l.head.appendChild(t)))}}function x1(e,t){Wr.m(e,t);var a=Oc;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+ga(l)+'"][href="'+ga(e)+'"]',x=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Rc(e)}if(!Ji.has(x)&&(e=S({rel:"modulepreload",href:e},t),Ji.set(x,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Lu(x)))return}l=a.createElement("link"),Mn(l,"link",e),sa(l),a.head.appendChild(l)}}}function y1(e,t,a){Wr.S(e,t,a);var l=Oc;if(l&&e){var f=cn(l).hoistableStyles,x=Pc(e);t=t||"default";var I=f.get(x);if(!I){var Z={loading:0,preload:null};if(I=l.querySelector(Du(x)))Z.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ji.get(x))&&ph(e,a);var he=I=l.createElement("link");sa(he),Mn(he,"link",e),he._p=new Promise(function(De,Ie){he.onload=De,he.onerror=Ie}),he.addEventListener("load",function(){Z.loading|=1}),he.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Fd(I,t,l)}I={type:"stylesheet",instance:I,count:1,state:Z},f.set(x,I)}}}function w1(e,t){Wr.X(e,t);var a=Oc;if(a&&e){var l=cn(a).hoistableScripts,f=Rc(e),x=l.get(f);x||(x=a.querySelector(Lu(f)),x||(e=S({src:e,async:!0},t),(t=Ji.get(f))&&mh(e,t),x=a.createElement("script"),sa(x),Mn(x,"link",e),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(f,x))}}function j1(e,t){Wr.M(e,t);var a=Oc;if(a&&e){var l=cn(a).hoistableScripts,f=Rc(e),x=l.get(f);x||(x=a.querySelector(Lu(f)),x||(e=S({src:e,async:!0,type:"module"},t),(t=Ji.get(f))&&mh(e,t),x=a.createElement("script"),sa(x),Mn(x,"link",e),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(f,x))}}function U0(e,t,a,l){var f=(f=te.current)?Id(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Pc(a.href),a=cn(f).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pc(a.href);var x=cn(f).hoistableStyles,I=x.get(e);if(I||(f=f.ownerDocument||f,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,I),(x=f.querySelector(Du(e)))&&!x._p&&(I.instance=x,I.state.loading=5),Ji.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ji.set(e,a),x||N1(f,e,a,I.state))),t&&l===null)throw Error(o(528,""));return I}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rc(a),a=cn(f).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Pc(e){return'href="'+ga(e)+'"'}function Du(e){return'link[rel="stylesheet"]['+e+"]"}function H0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function N1(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Mn(t,"link",a),sa(t),e.head.appendChild(t))}function Rc(e){return'[src="'+ga(e)+'"]'}function Lu(e){return"script[async]"+e}function G0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ga(a.href)+'"]');if(l)return t.instance=l,sa(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),sa(l),Mn(l,"style",f),Fd(l,a.precedence,e),t.instance=l;case"stylesheet":f=Pc(a.href);var x=e.querySelector(Du(f));if(x)return t.state.loading|=4,t.instance=x,sa(x),x;l=H0(a),(f=Ji.get(f))&&ph(l,f),x=(e.ownerDocument||e).createElement("link"),sa(x);var I=x;return I._p=new Promise(function(Z,he){I.onload=Z,I.onerror=he}),Mn(x,"link",l),t.state.loading|=4,Fd(x,a.precedence,e),t.instance=x;case"script":return x=Rc(a.src),(f=e.querySelector(Lu(x)))?(t.instance=f,sa(f),f):(l=a,(f=Ji.get(x))&&(l=S({},a),mh(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),sa(f),Mn(f,"link",l),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Fd(l,a.precedence,e));return t.instance}function Fd(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,x=f,I=0;I<l.length;I++){var Z=l[I];if(Z.dataset.precedence===t)x=Z;else if(x!==f)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zd=null;function V0(e,t,a){if(zd===null){var l=new Map,f=zd=new Map;f.set(a,l)}else f=zd,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var x=a[f];if(!(x[Jn]||x[da]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(t)||"";I=e+I;var Z=l.get(I);Z?Z.push(x):l.set(I,[x])}}return l}function Y0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function S1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function W0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _u=null;function A1(){}function T1(e,t,a){if(_u===null)throw Error(o(475));var l=_u;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var f=Pc(a.href),x=e.querySelector(Du(f));if(x){e=x._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=qd.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=x,sa(x);return}x=e.ownerDocument||e,a=H0(a),(f=Ji.get(f))&&ph(a,f),x=x.createElement("link"),sa(x);var I=x;I._p=new Promise(function(Z,he){I.onload=Z,I.onerror=he}),Mn(x,"link",a),t.instance=x}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=qd.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function C1(){if(_u===null)throw Error(o(475));var e=_u;return e.stylesheets&&e.count===0&&gh(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&gh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function qd(){if(this.count--,this.count===0){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ud=null;function gh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ud=new Map,t.forEach(D1,e),Ud=null,qd.call(e))}function D1(e,t){if(!(t.state.loading&4)){var a=Ud.get(e);if(a)var l=a.get(null);else{a=new Map,Ud.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<f.length;x++){var I=f[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(a.set(I.dataset.precedence,I),l=I)}l&&a.set(null,l)}f=t.instance,I=f.getAttribute("data-precedence"),x=a.get(I)||l,x===l&&a.set(null,f),a.set(I,f),this.count++,l=qd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),x?x.parentNode.insertBefore(f,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var ku={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function L1(e,t,a,l,f,x,I,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function X0(e,t,a,l,f,x,I,Z,he,De,Ie,He){return e=new L1(e,t,a,I,Z,he,De,He),t=1,x===!0&&(t|=24),x=jn(3,null,null,t),e.current=x,x.stateNode=e,t=eu(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:a,cache:t},be(x),e}function Q0(e){return e?(e=rn,e):rn}function $0(e,t,a,l,f,x){f=Q0(f),l.context===null?l.context=f:l.pendingContext=f,l=Be(t),l.payload={element:a},x=x===void 0?null:x,x!==null&&(l.callback=x),a=Ue(e,l,t),a!==null&&(Ri(a,e,t),Fe(a,e,t))}function K0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function vh(e,t){K0(e,t),(e=e.alternate)&&K0(e,t)}function Z0(e){if(e.tag===13){var t=_r(e,67108864);t!==null&&Ri(t,e,67108864),vh(e,67108864)}}var Hd=!0;function _1(e,t,a,l){var f=F.T;F.T=null;var x=W.p;try{W.p=2,bh(e,t,a,l)}finally{W.p=x,F.T=f}}function k1(e,t,a,l){var f=F.T;F.T=null;var x=W.p;try{W.p=8,bh(e,t,a,l)}finally{W.p=x,F.T=f}}function bh(e,t,a,l){if(Hd){var f=xh(l);if(f===null)sh(e,t,l,Gd,a),em(e,l);else if(M1(f,e,t,a,l))l.stopPropagation();else if(em(e,l),t&4&&-1<E1.indexOf(e)){for(;f!==null;){var x=bn(f);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=Ht(x.pendingLanes);if(I!==0){var Z=x;for(Z.pendingLanes|=2,Z.entangledLanes|=2;I;){var he=1<<31-rt(I);Z.entanglements[1]|=he,I&=~he}dr(x),(oa&6)===0&&(Cd=ht()+500,Su(0))}}break;case 13:Z=_r(x,2),Z!==null&&Ri(Z,x,2),Ld(),vh(x,2)}if(x=xh(l),x===null&&sh(e,t,l,Gd,a),x===f)break;f=x}f!==null&&l.stopPropagation()}else sh(e,t,l,null,a)}}function xh(e){return e=nn(e),yh(e)}var Gd=null;function yh(e){if(Gd=null,e=vn(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gd=e,null}function J0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case Ye:return 2;case Qe:return 8;case Ke:case Ze:return 32;case ut:return 268435456;default:return 32}default:return 32}}var wh=!1,Il=null,Fl=null,zl=null,Eu=new Map,Mu=new Map,ql=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(t.pointerId)}}function Ou(e,t,a,l,f,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:x,targetContainers:[f]},t!==null&&(t=bn(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function M1(e,t,a,l,f){switch(t){case"focusin":return Il=Ou(Il,e,t,a,l,f),!0;case"dragenter":return Fl=Ou(Fl,e,t,a,l,f),!0;case"mouseover":return zl=Ou(zl,e,t,a,l,f),!0;case"pointerover":var x=f.pointerId;return Eu.set(x,Ou(Eu.get(x)||null,e,t,a,l,f)),!0;case"gotpointercapture":return x=f.pointerId,Mu.set(x,Ou(Mu.get(x)||null,e,t,a,l,f)),!0}return!1}function tm(e){var t=vn(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Ii(e.priority,function(){if(a.tag===13){var l=Pi();l=is(l);var f=_r(a,l);f!==null&&Ri(f,a,l),vh(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=xh(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return t=bn(a),t!==null&&Z0(t),e.blockedOn=a,!1;t.shift()}return!0}function am(e,t,a){Vd(e)&&a.delete(t)}function O1(){wh=!1,Il!==null&&Vd(Il)&&(Il=null),Fl!==null&&Vd(Fl)&&(Fl=null),zl!==null&&Vd(zl)&&(zl=null),Eu.forEach(am),Mu.forEach(am)}function Yd(e,t){e.blockedOn===t&&(e.blockedOn=null,wh||(wh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,O1)))}var Wd=null;function nm(e){Wd!==e&&(Wd=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wd===e&&(Wd=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],f=e[t+2];if(typeof l!="function"){if(yh(l||a)===null)continue;break}var x=bn(a);x!==null&&(e.splice(t,3),t-=3,$i(x,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Pu(e){function t(he){return Yd(he,e)}Il!==null&&Yd(Il,e),Fl!==null&&Yd(Fl,e),zl!==null&&Yd(zl,e),Eu.forEach(t),Mu.forEach(t);for(var a=0;a<ql.length;a++){var l=ql[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ql.length&&(a=ql[0],a.blockedOn===null);)tm(a),a.blockedOn===null&&ql.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],x=a[l+1],I=f[Aa]||null;if(typeof x=="function")I||nm(a);else if(I){var Z=null;if(x&&x.hasAttribute("formAction")){if(f=x,I=x[Aa]||null)Z=I.formAction;else if(yh(f)!==null)continue}else Z=I.action;typeof Z=="function"?a[l+1]=Z:(a.splice(l,3),l-=3),nm(a)}}}function jh(e){this._internalRoot=e}Xd.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=Pi();$0(a,l,e,t,null,null)},Xd.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$0(e.current,2,null,e,null,null),Ld(),t[Wa]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ni();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ql.length&&t!==0&&t<ql[a].priority;a++);ql.splice(a,0,e),a===0&&tm(e)}};var im=i.version;if(im!=="19.1.0")throw Error(o(527,im,"19.1.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var P1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Ct=Qd.inject(P1),jt=Qd}catch{}}return Bu.createRoot=function(e,t){if(!d(e))throw Error(o(299));var a=!1,l="",f=yp,x=wp,I=jp,Z=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(I=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(Z=t.unstable_transitionCallbacks)),t=X0(e,1,!1,null,null,a,l,f,x,I,Z,null),e[Wa]=t.current,ih(e),new jh(t)},Bu.hydrateRoot=function(e,t,a){if(!d(e))throw Error(o(299));var l=!1,f="",x=yp,I=wp,Z=jp,he=null,De=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(I=a.onCaughtError),a.onRecoverableError!==void 0&&(Z=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(he=a.unstable_transitionCallbacks),a.formState!==void 0&&(De=a.formState)),t=X0(e,1,!0,t,a??null,l,f,x,I,Z,he,De),t.context=Q0(null),a=t.current,l=Pi(),l=is(l),f=Be(l),f.callback=null,Ue(a,f,l),a=l,t.current.lanes=a,Kn(t,a),dr(t),e[Wa]=t.current,ih(e),new Xd(t)},Bu.version="19.1.0",Bu}var pm;function W1(){if(pm)return Ah.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Ah.exports=Y1(),Ah.exports}var X1=W1();const Q1=ip(X1);let $1={data:""},K1=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||$1,Z1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,J1=/\/\*[^]*?\*\/|  +/g,mm=/\n+/g,Yl=(n,i)=>{let r="",o="",d="";for(let u in n){let m=n[u];u[0]=="@"?u[1]=="i"?r=u+" "+m+";":o+=u[1]=="f"?Yl(m,u):u+"{"+Yl(m,u[1]=="k"?"":i)+"}":typeof m=="object"?o+=Yl(m,i?i.replace(/([^,])+/g,g=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,g):g?g+" "+h:h)):u):m!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),d+=Yl.p?Yl.p(u,m):u+":"+m+";")}return r+(i&&d?i+"{"+d+"}":d)+o},Xr={},Zm=n=>{if(typeof n=="object"){let i="";for(let r in n)i+=r+Zm(n[r]);return i}return n},eg=(n,i,r,o,d)=>{let u=Zm(n),m=Xr[u]||(Xr[u]=(h=>{let v=0,S=11;for(;v<h.length;)S=101*S+h.charCodeAt(v++)>>>0;return"go"+S})(u));if(!Xr[m]){let h=u!==n?n:(v=>{let S,j,N=[{}];for(;S=Z1.exec(v.replace(J1,""));)S[4]?N.shift():S[3]?(j=S[3].replace(mm," ").trim(),N.unshift(N[0][j]=N[0][j]||{})):N[0][S[1]]=S[2].replace(mm," ").trim();return N[0]})(n);Xr[m]=Yl(d?{["@keyframes "+m]:h}:h,r?"":"."+m)}let g=r&&Xr.g?Xr.g:null;return r&&(Xr.g=Xr[m]),((h,v,S,j)=>{j?v.data=v.data.replace(j,h):v.data.indexOf(h)===-1&&(v.data=S?h+v.data:v.data+h)})(Xr[m],i,o,g),m},tg=(n,i,r)=>n.reduce((o,d,u)=>{let m=i[u];if(m&&m.call){let g=m(r),h=g&&g.props&&g.props.className||/^go/.test(g)&&g;m=h?"."+h:g&&typeof g=="object"?g.props?"":Yl(g,""):g===!1?"":g}return o+d+(m??"")},"");function pf(n){let i=this||{},r=n.call?n(i.p):n;return eg(r.unshift?r.raw?tg(r,[].slice.call(arguments,1),i.p):r.reduce((o,d)=>Object.assign(o,d&&d.call?d(i.p):d),{}):r,K1(i.target),i.g,i.o,i.k)}let Jm,qh,Uh;pf.bind({g:1});let Zr=pf.bind({k:1});function ag(n,i,r,o){Yl.p=i,Jm=n,qh=r,Uh=o}function Jl(n,i){let r=this||{};return function(){let o=arguments;function d(u,m){let g=Object.assign({},u),h=g.className||d.className;r.p=Object.assign({theme:qh&&qh()},g),r.o=/ *go\d+/.test(h),g.className=pf.apply(r,o)+(h?" "+h:"");let v=n;return n[0]&&(v=g.as||n,delete g.as),Uh&&v[0]&&Uh(g),Jm(v,g)}return d}}var ng=n=>typeof n=="function",df=(n,i)=>ng(n)?n(i):n,ig=(()=>{let n=0;return()=>(++n).toString()})(),e2=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");n=!i||i.matches}return n}})(),sg=20,sf=new Map,rg=1e3,gm=n=>{if(sf.has(n))return;let i=setTimeout(()=>{sf.delete(n),Yo({type:4,toastId:n})},rg);sf.set(n,i)},lg=n=>{let i=sf.get(n);i&&clearTimeout(i)},Hh=(n,i)=>{switch(i.type){case 0:return{...n,toasts:[i.toast,...n.toasts].slice(0,sg)};case 1:return i.toast.id&&lg(i.toast.id),{...n,toasts:n.toasts.map(u=>u.id===i.toast.id?{...u,...i.toast}:u)};case 2:let{toast:r}=i;return n.toasts.find(u=>u.id===r.id)?Hh(n,{type:1,toast:r}):Hh(n,{type:0,toast:r});case 3:let{toastId:o}=i;return o?gm(o):n.toasts.forEach(u=>{gm(u.id)}),{...n,toasts:n.toasts.map(u=>u.id===o||o===void 0?{...u,visible:!1}:u)};case 4:return i.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==i.toastId)};case 5:return{...n,pausedAt:i.time};case 6:let d=i.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+d}))}}},rf=[],lf={toasts:[],pausedAt:void 0},Yo=n=>{lf=Hh(lf,n),rf.forEach(i=>{i(lf)})},og={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cg=(n={})=>{let[i,r]=ye.useState(lf);ye.useEffect(()=>(rf.push(r),()=>{let d=rf.indexOf(r);d>-1&&rf.splice(d,1)}),[i]);let o=i.toasts.map(d=>{var u,m;return{...n,...n[d.type],...d,duration:d.duration||((u=n[d.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||og[d.type],style:{...n.style,...(m=n[d.type])==null?void 0:m.style,...d.style}}});return{...i,toasts:o}},ug=(n,i="blank",r)=>({createdAt:Date.now(),visible:!0,type:i,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ig()}),Zu=n=>(i,r)=>{let o=ug(i,n,r);return Yo({type:2,toast:o}),o.id},Bi=(n,i)=>Zu("blank")(n,i);Bi.error=Zu("error");Bi.success=Zu("success");Bi.loading=Zu("loading");Bi.custom=Zu("custom");Bi.dismiss=n=>{Yo({type:3,toastId:n})};Bi.remove=n=>Yo({type:4,toastId:n});Bi.promise=(n,i,r)=>{let o=Bi.loading(i.loading,{...r,...r==null?void 0:r.loading});return n.then(d=>(Bi.success(df(i.success,d),{id:o,...r,...r==null?void 0:r.success}),d)).catch(d=>{Bi.error(df(i.error,d),{id:o,...r,...r==null?void 0:r.error})}),n};var dg=(n,i)=>{Yo({type:1,toast:{id:n,height:i}})},fg=()=>{Yo({type:5,time:Date.now()})},hg=n=>{let{toasts:i,pausedAt:r}=cg(n);ye.useEffect(()=>{if(r)return;let u=Date.now(),m=i.map(g=>{if(g.duration===1/0)return;let h=(g.duration||0)+g.pauseDuration-(u-g.createdAt);if(h<0){g.visible&&Bi.dismiss(g.id);return}return setTimeout(()=>Bi.dismiss(g.id),h)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[i,r]);let o=ye.useCallback(()=>{r&&Yo({type:6,time:Date.now()})},[r]),d=ye.useCallback((u,m)=>{let{reverseOrder:g=!1,gutter:h=8,defaultPosition:v}=m||{},S=i.filter(b=>(b.position||v)===(u.position||v)&&b.height),j=S.findIndex(b=>b.id===u.id),N=S.filter((b,T)=>T<j&&b.visible).length;return S.filter(b=>b.visible).slice(...g?[N+1]:[0,N]).reduce((b,T)=>b+(T.height||0)+h,0)},[i]);return{toasts:i,handlers:{updateHeight:dg,startPause:fg,endPause:o,calculateOffset:d}}},pg=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mg=Zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gg=Zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vg=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bg=Zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xg=Jl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${bg} 1s linear infinite;
`,yg=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wg=Zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jg=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ng=Jl("div")`
  position: absolute;
`,Sg=Jl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ag=Zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tg=Jl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ag} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Cg=({toast:n})=>{let{icon:i,type:r,iconTheme:o}=n;return i!==void 0?typeof i=="string"?ye.createElement(Tg,null,i):i:r==="blank"?null:ye.createElement(Sg,null,ye.createElement(xg,{...o}),r!=="loading"&&ye.createElement(Ng,null,r==="error"?ye.createElement(vg,{...o}):ye.createElement(jg,{...o})))},Dg=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Lg=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,_g="0%{opacity:0;} 100%{opacity:1;}",kg="0%{opacity:1;} 100%{opacity:0;}",Eg=Jl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Mg=Jl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Og=(n,i)=>{let r=n.includes("top")?1:-1,[o,d]=e2()?[_g,kg]:[Dg(r),Lg(r)];return{animation:i?`${Zr(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zr(d)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Pg=ye.memo(({toast:n,position:i,style:r,children:o})=>{let d=n.height?Og(n.position||i||"top-center",n.visible):{opacity:0},u=ye.createElement(Cg,{toast:n}),m=ye.createElement(Mg,{...n.ariaProps},df(n.message,n));return ye.createElement(Eg,{className:n.className,style:{...d,...r,...n.style}},typeof o=="function"?o({icon:u,message:m}):ye.createElement(ye.Fragment,null,u,m))});ag(ye.createElement);var Rg=({id:n,className:i,style:r,onHeightUpdate:o,children:d})=>{let u=ye.useCallback(m=>{if(m){let g=()=>{let h=m.getBoundingClientRect().height;o(n,h)};g(),new MutationObserver(g).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[n,o]);return ye.createElement("div",{ref:u,className:i,style:r},d)},Bg=(n,i)=>{let r=n.includes("top"),o=r?{top:0}:{bottom:0},d=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:e2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(r?1:-1)}px)`,...o,...d}},Ig=pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$d=16,Fg=({reverseOrder:n,position:i="top-center",toastOptions:r,gutter:o,children:d,containerStyle:u,containerClassName:m})=>{let{toasts:g,handlers:h}=hg(r);return ye.createElement("div",{style:{position:"fixed",zIndex:9999,top:$d,left:$d,right:$d,bottom:$d,pointerEvents:"none",...u},className:m,onMouseEnter:h.startPause,onMouseLeave:h.endPause},g.map(v=>{let S=v.position||i,j=h.calculateOffset(v,{reverseOrder:n,gutter:o,defaultPosition:i}),N=Bg(S,j);return ye.createElement(Rg,{id:v.id,key:v.id,onHeightUpdate:h.updateHeight,className:v.visible?Ig:"",style:N},v.type==="custom"?df(v.message,v):d?d(v):ye.createElement(Pg,{toast:v,position:S}))}))},Iu=Bi;const t2=ye.createContext(void 0),Vl={general:{collectiveName:"The Arts Incubator",defaultCurrency:"CAD",dateFormat:"YYYY-MM-DD"},projects:{statuses:[],disciplines:[]},members:{roles:[],availability:[]},tasks:{statuses:[],defaultWorkTypes:{paidRate:25,inKindRate:25,volunteerRate:0},workWeek:["monday","tuesday","wednesday","thursday","friday"]},budget:{revenueLabels:{},expenseLabels:{}},ai:{enabled:!1,model:"gemini-2.5-flash-preview-04-17",quality:"balanced",systemInstruction:"You are an assistant for a small, community-focused arts collective. Your tone should be encouraging, professional, and clear."}},zg=(n,i)=>{switch(i.type){case"SET_PROJECTS":return ta(n,r=>{r.projects=i.payload});case"UPDATE_PROJECT_STATUS":return ta(n,r=>{const o=r.projects.find(d=>d.id===i.payload.projectId);o&&(o.status=i.payload.status)});case"DELETE_PROJECT":return ta(n,r=>{const o=r.tasks.filter(u=>u.projectId===i.payload),d=new Set(o.map(u=>u.id));r.projects=r.projects.filter(u=>u.id!==i.payload),r.tasks=r.tasks.filter(u=>u.projectId!==i.payload),r.activities=r.activities.filter(u=>!d.has(u.taskId)),r.directExpenses=r.directExpenses.filter(u=>u.projectId!==i.payload),r.reports=r.reports.filter(u=>u.projectId!==i.payload)});case"SET_MEMBERS":return ta(n,r=>{r.members=i.payload});case"DELETE_MEMBER":return ta(n,r=>{r.members=r.members.filter(o=>o.id!==i.payload),r.projects.forEach(o=>{o.collaboratorDetails=o.collaboratorDetails.filter(d=>d.memberId!==i.payload)}),r.tasks.forEach(o=>{o.assignedMemberId===i.payload&&(o.assignedMemberId="")})});case"SET_TASKS":return ta(n,r=>{r.tasks=i.payload});case"ADD_TASK":return ta(n,r=>{r.tasks.push(i.payload)});case"UPDATE_TASK":return ta(n,r=>{const o=r.tasks.findIndex(d=>d.id===i.payload.id);o!==-1&&(r.tasks[o]=i.payload)});case"DELETE_TASK":return ta(n,r=>{r.tasks=r.tasks.filter(o=>o.id!==i.payload),r.activities=r.activities.filter(o=>o.taskId!==i.payload)});case"SET_ACTIVITIES":return ta(n,r=>{r.activities=i.payload});case"ADD_ACTIVITIES":return ta(n,r=>{r.activities.push(...i.payload)});case"UPDATE_ACTIVITY":return ta(n,r=>{const o=r.activities.findIndex(d=>d.id===i.payload.id);o!==-1&&(r.activities[o]=i.payload)});case"APPROVE_ACTIVITY":return ta(n,r=>{const o=r.activities.find(d=>d.id===i.payload);o&&(o.status="Approved",o.updatedAt=new Date().toISOString())});case"DELETE_ACTIVITY":return ta(n,r=>{r.activities=r.activities.filter(o=>o.id!==i.payload)});case"SET_DIRECT_EXPENSES":return ta(n,r=>{r.directExpenses=i.payload});case"ADD_DIRECT_EXPENSE":return ta(n,r=>{r.directExpenses.push(i.payload)});case"SET_REPORTS":return ta(n,r=>{r.reports=i.payload});case"UPDATE_SETTINGS":return ta(n,r=>{r.settings=i.payload});case"SET_REPORT_PROJECT_ID_TO_OPEN":return ta(n,r=>{r.reportProjectIdToOpen=i.payload});case"CLEAR_ALL_DATA":return{...Vc};case"LOAD_DATA":return{...Vc,...i.payload};default:return n}},Vc={projects:[],members:[],tasks:[],activities:[],directExpenses:[],reports:[],settings:Vl,reportProjectIdToOpen:null},qg=()=>{try{const n=localStorage.getItem("appState");if(!n)return Vc;const i=JSON.parse(n),r=i.settings||{};return i.settings={...Vl,...r,general:{...Vl.general,...r.general},projects:{...Vl.projects,...r.projects},members:{...Vl.members,...r.members},tasks:{...Vl.tasks,...r.tasks},budget:{...Vl.budget,...r.budget},ai:{...Vl.ai,...r.ai}},{...Vc,...i}}catch(n){return console.error("Failed to parse state from localStorage",n),Vc}},Ug=({children:n})=>{const[i,r]=ye.useReducer(zg,Vc,qg);ye.useEffect(()=>{try{localStorage.setItem("appState",JSON.stringify(i))}catch(u){console.error("Failed to save state to localStorage",u)}},[i]);const o=ye.useCallback((u,m)=>{switch(m){case"success":Iu.success(u);break;case"error":Iu.error(u);break;case"info":Iu(u,{icon:""});break;case"warning":Iu(u,{icon:""});break;default:Iu(u)}},[]),d={state:i,dispatch:r,notify:o};return s.jsx(t2.Provider,{value:d,children:n})},ma=()=>{const n=ye.useContext(t2);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n},Bc=({page:n,label:i,activePage:r,onNavigate:o})=>{const d=r===n;return s.jsx("a",{href:"#",onClick:h=>{h.preventDefault(),o(n)},className:`px-3 py-4 text-sm font-semibold transition-colors duration-150 border-b-2 ${d?"border-teal-400 text-white":"border-transparent text-slate-300 hover:text-white hover:border-slate-500"}`,"aria-current":d?"page":void 0,children:i})},vm=({page:n,icon:i,label:r,activePage:o,onNavigate:d,onClick:u})=>{const m=o===n;return s.jsxs("a",{href:"#",role:"menuitem",onClick:S=>{S.preventDefault(),d(n),u()},className:`group flex items-center w-full px-4 py-2 text-sm text-left ${m?"bg-slate-100 text-slate-900":"text-slate-700 hover:bg-slate-100 hover:text-slate-900"}`,children:[s.jsx("i",{className:`${i} mr-3 h-5 w-5 text-slate-400 group-hover:text-teal-500`,"aria-hidden":"true"}),r]})},Hg=({activePage:n,onNavigate:i})=>{const[r,o]=ye.useState(!1),d=ye.useRef(null),{state:u}=ma(),m=u.settings.general.collectiveName||"The Arts Incubator";return ye.useEffect(()=>{function g(h){d.current&&!d.current.contains(h.target)&&o(!1)}return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[d]),s.jsx("header",{className:"bg-slate-800 text-white shadow-lg sticky top-0 z-40",children:s.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("h1",{className:"text-xl font-bold tracking-wider",children:m})}),s.jsx("nav",{className:"hidden md:block",children:s.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[s.jsx(Bc,{page:"home",label:"Home",activePage:n,onNavigate:i}),s.jsx(Bc,{page:"projects",label:"Projects",activePage:n,onNavigate:i}),s.jsx(Bc,{page:"members",label:"Members",activePage:n,onNavigate:i}),s.jsx(Bc,{page:"tasks",label:"Task Management",activePage:n,onNavigate:i}),s.jsx(Bc,{page:"reports",label:"Reports",activePage:n,onNavigate:i}),s.jsx(Bc,{page:"settings",label:"Settings",activePage:n,onNavigate:i})]})})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:s.jsxs("div",{className:"relative",ref:d,children:[s.jsx("div",{children:s.jsxs("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-slate-600 shadow-sm px-4 py-2 bg-slate-700/50 text-sm font-medium text-slate-300 hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-white",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",onClick:()=>o(!r),children:["Tools",s.jsx("i",{className:"fa-solid fa-chevron-down -mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),r&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:s.jsxs("div",{className:"py-1",role:"none",children:[s.jsx(vm,{page:"sampleData",icon:"fa-solid fa-flask-vial",label:"Project Sample Data",activePage:n,onNavigate:i,onClick:()=>o(!1)}),s.jsx(vm,{page:"detailedSampleData",icon:"fa-solid fa-database",label:"Detailed Sample Data",activePage:n,onNavigate:i,onClick:()=>o(!1)})]})})]})})})]})})})},Gg=({children:n,activePage:i,onNavigate:r})=>s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(Fg,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#ffffff",color:"#1e293b"},success:{style:{background:"#ecfdf5",color:"#064e3b",border:"1px solid #d1fae5"},iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{style:{background:"#fef2f2",color:"#991b1b",border:"1px solid #fee2e2"},iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}}),s.jsx(Hg,{activePage:i,onNavigate:r}),s.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:n})]}),es=[{id:"projectInfo",label:"Project Information"},{id:"collaborators",label:"Collaborators"},{id:"budget",label:"Budget"}],Vg={revenues:{grants:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],fundraising:[],contributions:[]},expenses:{professionalFees:[],travel:[],production:[],administration:[],research:[],professionalDevelopment:[]}},Yg={id:"",projectTitle:"",status:"Pending",artisticDisciplines:[],craftGenres:[],danceGenres:[],literaryGenres:[],mediaGenres:[],musicGenres:[],theatreGenres:[],visualArtsGenres:[],otherArtisticDisciplineSpecify:"",projectStartDate:"",projectEndDate:"",activityType:"Select",background:"",projectDescription:"",audience:"",paymentAndConditions:"",permissionConfirmationFiles:[],schedule:"",culturalIntegrity:"",additionalInfo:"",whoWillWork:"",howSelectionDetermined:"",collaboratorDetails:[],budget:Vg},Wg={id:"",memberId:"",firstName:"",lastName:"",email:"",province:"Select",city:"",postalCode:"",imageUrl:"",shortBio:"",artistBio:"",availability:"Select"},a2={id:"",taskCode:"",projectId:"",title:"",description:"",assignedMemberId:"",status:"To Do",startDate:"",dueDate:"",taskType:"Time-Based",isComplete:!1,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:""},Gh={id:"",taskId:"",memberId:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",hours:0,status:"Pending",createdAt:"",updatedAt:""},Xg={id:"",projectId:"",projectResults:"",grantSpendingDescription:"",workplanAdjustments:"No adjustments were made.",involvedPeople:[],involvedActivities:[],impactStatements:{},highlights:[],feedback:"",additionalFeedback:""},Qg=[{value:"Backlog",label:"Backlog"},{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"}],n2=[{value:"updatedAt",label:"Last Updated"},{value:"dueDate",label:"Due Date"},{value:"assignee",label:"Assignee"}],i2=[{value:"all",label:"All Tasks"},{value:"overdue",label:"Overdue"},{value:"dueThisWeek",label:"Due This Week"},{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"done",label:"Done"}],$g=[{value:"date-desc",label:"Activity Date (Newest)"},{value:"date-asc",label:"Activity Date (Oldest)"},{value:"updatedAt",label:"Last Updated"}],Kg=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"}],Zg=[{value:"Paid",label:"Paid"},{value:"In-Kind",label:"In-Kind"},{value:"Volunteer",label:"Volunteer"}],Jg=[{value:"Time-Based",label:"Time-Based (Logs hours)"},{value:"Milestone",label:"Milestone (Checklist item)"}],e5=[{value:"Select",label:"Select a Province/Territory"},{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],t5=[{value:"Select",label:"Select Availability"},{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"volunteer",label:"Volunteer"},{value:"contract",label:"Contract"},{value:"not-available",label:"Not Available"}],Wl={grants:[{key:"mac",label:"Provincial: Manitoba Arts Council (MAC) *This application"},{key:"federalCanada",label:"Federal: Canada Council for the Arts"},{key:"federalOther",label:"Federal: Other"},{key:"provincialOther",label:"Provincial: Other"},{key:"municipalWinnipeg",label:"Municipal: Winnipeg Arts Council"},{key:"municipalOther",label:"Municipal: Other"}],sales:[{key:"merchandise",label:"Sales: Merchandise Sales"},{key:"other",label:"Sales: Other Sales"}],fundraising:[{key:"sponsorship",label:"Sponsorship"},{key:"donations",label:"Donations"},{key:"events",label:"Fundraising Events"},{key:"crowdsourcing",label:"Crowdsourcing"},{key:"other",label:"Other"}],contributions:[{key:"financialApplicant",label:"Financial - Applicant"},{key:"financialPartners",label:"Financial - Partners"},{key:"financialOther",label:"Financial - Other"},{key:"inKindApplicant",label:"In-Kind - Applicant"},{key:"inKindPartners",label:"In-Kind - Partners"},{key:"inKindOther",label:"In-Kind - Other"}]},yi={professionalFees:[{key:"artists",label:"Artists' fees"},{key:"designers",label:"Designers' fees"},{key:"royalties",label:"Royalties/Copyright"},{key:"indigenous",label:"Indigenous Knowledge Keeper fees"},{key:"consultant",label:"Professional/Consultant fees"},{key:"living",label:"Living Expenses/Subsistence"},{key:"other",label:"Other"}],travel:[{key:"transportation",label:"Transportation"},{key:"accommodations",label:"Accommodations"},{key:"perDiem",label:"Per diem"},{key:"other",label:"Other"}],production:[{key:"materials",label:"Materials and supplies"},{key:"technical",label:"Technical personnel"},{key:"equipment",label:"Equipment purchase"},{key:"rentals",label:"Rentals"},{key:"other",label:"Other"}],administration:[{key:"personnel",label:"Administrative Personnel"},{key:"shipping",label:"Shipping"},{key:"printing",label:"Printing and photocopying"},{key:"promotion",label:"Promotion and marketing"},{key:"translation",label:"Translation"},{key:"workshops",label:"Workshops"},{key:"other",label:"Other"}],research:[{key:"research",label:"Research"}],professionalDevelopment:[{key:"professionalDevelopment",label:"Professional Development"}]},s2=[{value:"craft",label:"Craft"},{value:"dance",label:"Dance"},{value:"multi-disciplinary",label:"Multi disciplinary/Inter-arts"},{value:"literary",label:"Literary arts"},{value:"media",label:"Media arts"},{value:"music",label:"Music"},{value:"theatre",label:"Theatre"},{value:"visual",label:"Visual arts"},{value:"other",label:"Other"}],r2=[{value:"beading",label:"Beading"},{value:"birchbark",label:"Birchbark"},{value:"ceramics",label:"Ceramics"},{value:"clay",label:"Clay"},{value:"fibre",label:"Fibre"},{value:"furniture",label:"Furniture"},{value:"glass",label:"Glass"},{value:"instrument-making",label:"Instrument-making"},{value:"jewellery",label:"Jewellery"},{value:"leather",label:"Leather"},{value:"metal",label:"Metal"},{value:"mixed-media",label:"Mixed media"},{value:"paper",label:"Paper"},{value:"quillwork",label:"Quillwork"},{value:"stone",label:"Stone"},{value:"textile",label:"Textile"},{value:"wood",label:"Wood"}],l2=[{value:"aerial",label:"Aerial dance"},{value:"african",label:"African"},{value:"classical-ballet",label:"Classical ballet"},{value:"classical-indian",label:"Classical Indian"},{value:"contemporary",label:"Contemporary"},{value:"ethno-cultural-folk",label:"Other Ethno-cultural folk"},{value:"flamenco",label:"Flamenco"},{value:"hip-hop",label:"Hip hop"},{value:"indigenous",label:"Indigenous"},{value:"jazz",label:"Jazz"},{value:"modern-ballet",label:"Modern ballet"},{value:"site-specific",label:"Site-specific dance"},{value:"tap",label:"Tap"}],o2=[{value:"biography",label:"Biography"},{value:"childrens-lit",label:"Children's literature"},{value:"essays-on-art",label:"Essays on art"},{value:"fiction",label:"Fiction"},{value:"graphic-novel",label:"Graphic novel"},{value:"memoir",label:"Memoir"},{value:"creative-non-fiction",label:"Creative non-fiction"},{value:"novel",label:"Novel"},{value:"novella",label:"Novella"},{value:"poetry",label:"Poetry"},{value:"short-story",label:"Short story"},{value:"spoken-word",label:"Spoken word"},{value:"storytelling",label:"Storytelling"},{value:"young-adult-fiction",label:"Young adult fiction"}],c2=[{value:"animation",label:"Animation"},{value:"audio-art",label:"Audio art"},{value:"documentary",label:"Documentary"},{value:"electronic",label:"Electronic"},{value:"experimental",label:"Experimental"},{value:"installation",label:"Installation"},{value:"narrative",label:"Narrative"},{value:"video-art",label:"Video art"},{value:"virtual-reality",label:"Virtual reality"}],u2=[{value:"brass",label:"Brass"},{value:"choral",label:"Choral"},{value:"classical",label:"Classical"},{value:"contemporary",label:"Contemporary"},{value:"contemporary-folk",label:"Contemporary folk"},{value:"country",label:"Country"},{value:"electro-acoustic",label:"Electro-acoustic"},{value:"ethno-cultural-folk",label:"Ethno-cultural folk music"},{value:"guitar",label:"Guitar"},{value:"hip-hop",label:"Hip hop (incl. DJ, rap)"},{value:"instrumental",label:"Instrumental"},{value:"jazz",label:"Jazz"},{value:"kids-concerts",label:"Kids concerts"},{value:"new-music",label:"New music"},{value:"opera",label:"Opera"},{value:"percussion",label:"Percussion"},{value:"piano",label:"Piano"},{value:"strings",label:"Strings (incl. fiddle)"},{value:"vocal",label:"Vocal"},{value:"woodwind",label:"Woodwind"},{value:"world-music",label:"World music"}],d2=[{value:"circus-arts",label:"Circus arts"},{value:"classical-repertoire",label:"Classical repertoire"},{value:"clown",label:"Clown"},{value:"comedy",label:"Comedy"},{value:"devised-theatre",label:"Devised theatre"},{value:"drama",label:"Drama"},{value:"improvisation",label:"Improvisation"},{value:"musical-theatre",label:"Musical theatre"},{value:"object-puppet-theatre",label:"Object puppet theatre"},{value:"physical-theatre",label:"Physical theatre"},{value:"promenade-theatre",label:"Promenade theatre"},{value:"puppetry",label:"Puppetry"},{value:"site-specific-theatre",label:"Site-specific Theatre"},{value:"theatre-for-young-audiences",label:"Theatre for young audiences"},{value:"playwriting",label:"Playwriting"}],f2=[{value:"drawing",label:"Drawing"},{value:"installation",label:"Installation"},{value:"mixed-media",label:"Mixed media"},{value:"painting",label:"Painting"},{value:"performance-art",label:"Performance art"},{value:"photography",label:"Photography"},{value:"printmaking",label:"Printmaking"},{value:"sculpture",label:"Sculpture"}],h2=[{value:"Select",label:"Select"},{value:"public-presentation",label:"Public presentation"},{value:"publication",label:"Publication"}],p2=[{value:"Pending",label:"Pending"},{value:"Active",label:"Active"},{value:"On Hold",label:"On Hold"},{value:"Completed",label:"Completed"},{value:"Terminated",label:"Terminated"}],a5=[{value:"all",label:"All Time"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"}],n5=[{value:"Pending",label:"Pending"},{value:"Approved",label:"Approved"},{value:"Denied",label:"Denied"}],i5=({status:n})=>{const{state:i}=ma(),r={Active:"bg-green-100 text-green-800","On Hold":"bg-yellow-100 text-yellow-800",Completed:"bg-blue-100 text-blue-800",Pending:"bg-slate-100 text-slate-800",Terminated:"bg-rose-100 text-rose-800"},o=i.settings.projects.statuses.find(u=>u.label===n);let d="bg-gray-100 text-gray-800";return o?d=o.color:n in r&&(d=r[n]),s.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${d}`,children:n})},s5=({project:n,onUpdate:i})=>{const[r,o]=ye.useState(!1),d=ye.useRef(null),{state:u}=ma(),m=ye.useMemo(()=>u.settings.projects.statuses&&u.settings.projects.statuses.length>0?u.settings.projects.statuses.map(h=>({value:h.label,label:h.label})):p2,[u.settings.projects.statuses]);ye.useEffect(()=>{const h=v=>{d.current&&!d.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const g=h=>{i(n.id,h),o(!1)};return s.jsxs("div",{className:"relative",ref:d,children:[s.jsx("button",{onClick:()=>o(!r),className:"p-2 rounded-md text-slate-500 hover:bg-slate-200 hover:text-slate-700","aria-label":"Change project status",children:s.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),r&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",children:s.jsx("div",{className:"py-1",children:m.map(h=>s.jsx("button",{onClick:()=>g(h.value),disabled:n.status===h.value,className:"block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:h.label},h.value))})})]})},r5=({projects:n,onAddProject:i,onEditProject:r,onDeleteProject:o,onViewProject:d,onUpdateProjectStatus:u})=>{const m=n.filter(v=>["Pending","Active","On Hold"].includes(v.status)),g=n.filter(v=>["Completed","Terminated"].includes(v.status)),h=v=>s.jsxs("li",{className:`py-4 px-2 flex flex-col sm:flex-row items-start sm:items-center justify-between hover:bg-slate-50 rounded-md -mx-2 transition-all duration-200 ${v.status==="On Hold"?"opacity-70":""}`,children:[s.jsxs("div",{className:"mb-3 sm:mb-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("p",{className:"text-lg font-semibold text-teal-700 hover:underline cursor-pointer",onClick:()=>d(v.id),children:v.projectTitle||"Untitled Project"}),s.jsx(i5,{status:v.status||"Active"})]}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[v.projectStartDate?new Date(v.projectStartDate).toLocaleDateString():"No start date"," - ",v.projectEndDate?new Date(v.projectEndDate).toLocaleDateString():"No end date"]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-3 flex-shrink-0",children:[s.jsxs("button",{onClick:()=>d(v.id),className:"px-3 py-1.5 text-sm text-slate-700 bg-white hover:bg-slate-100 rounded-md border border-slate-300 shadow-sm transition-colors","aria-label":`View ${v.projectTitle}`,children:[s.jsx("i",{className:"fa fa-eye mr-2 text-slate-500"}),"View"]}),s.jsxs("button",{onClick:()=>r(v.id),className:"px-3 py-1.5 text-sm text-slate-700 bg-white hover:bg-slate-100 rounded-md border border-slate-300 shadow-sm transition-colors","aria-label":`Edit ${v.projectTitle}`,children:[s.jsx("i",{className:"fa fa-pencil mr-2 text-slate-500"}),"Edit"]}),s.jsxs("button",{onClick:()=>o(v.id),className:"px-3 py-1.5 text-sm text-red-700 bg-red-50 hover:bg-red-100 rounded-md border border-red-200 shadow-sm transition-colors","aria-label":`Delete ${v.projectTitle}`,children:[s.jsx("i",{className:"fa fa-trash-alt mr-2"}),"Delete"]}),s.jsx(s5,{project:v,onUpdate:u})]})]},v.id);return s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b border-slate-200 pb-4 gap-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Your Projects"}),s.jsxs("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors",children:[s.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Project"]})]}),n.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-folder-open text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"You haven't created any projects yet."}),s.jsx("p",{className:"text-slate-500 mt-2 text-base",children:'Click the "Add New Project" button above to get started!'})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Active & On Hold"}),m.length>0?s.jsx("ul",{className:"divide-y divide-slate-200",children:m.map(h)}):s.jsx("p",{className:"text-slate-500 italic py-4",children:"No active projects."}),g.length>0&&s.jsxs("details",{className:"mt-8",children:[s.jsxs("summary",{className:"text-xl font-bold text-slate-700 cursor-pointer list-none flex items-center gap-2",children:[s.jsx("i",{className:"fa-solid fa-chevron-right transition-transform duration-200"}),"Finished Projects (",g.length,")"]}),s.jsx("div",{className:"mt-2 border-t pt-2",children:s.jsx("ul",{className:"divide-y divide-slate-200",children:g.map(h)})})]})]})]})},lt=({label:n,htmlFor:i,required:r,instructions:o,children:d,className:u="mb-6"})=>s.jsxs("div",{className:u,children:[s.jsxs("label",{htmlFor:i,className:"block text-sm font-semibold text-slate-800",children:[r&&s.jsx("span",{className:"text-red-500 font-bold",children:"* "}),n]}),o&&s.jsx("div",{className:"mt-1 text-xs text-slate-500 prose-sm max-w-none",children:o}),s.jsx("div",{className:"mt-2",children:d})]}),Et=n=>s.jsx("input",{...n,className:`block w-full px-3 py-2 bg-white border border-slate-400 rounded-md shadow-sm placeholder-slate-400 
                 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent 
                 sm:text-sm transition-shadow duration-150
                 disabled:bg-slate-100 disabled:text-slate-500 disabled:border-slate-300 ${n.className}`}),pn=({wordLimit:n,onChange:i,value:r,...o})=>{const d=h=>h?h.trim().split(/\s+/).filter(v=>v.length>0).length:0,[u,m]=ye.useState(d(r||"")),g=ye.useCallback(h=>{m(d(h.target.value)),i&&i(h)},[i]);return s.jsxs("div",{children:[s.jsx("textarea",{...o,value:r,onChange:g,className:`block w-full px-3 py-2 bg-white border border-slate-400 rounded-md shadow-sm placeholder-slate-400 
                   focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent 
                   sm:text-sm transition-shadow duration-150 ${o.className}`}),s.jsxs("div",{className:"text-right text-xs text-slate-500 mt-1","aria-live":"polite",children:[n-u," words left"]})]})},na=({options:n,...i})=>s.jsx("select",{...i,className:`block w-full pl-3 pr-10 py-2 text-base border-slate-400 rounded-md shadow-sm 
                 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent
                 sm:text-sm transition-shadow duration-150 ${i.className}`,children:n.map(r=>s.jsx("option",{value:r.value,children:r.label},r.value))}),Xu=({options:n,selectedValues:i,onChange:r,name:o,columns:d=3})=>{const u=m=>{const g=i.includes(m)?i.filter(h=>h!==m):[...i,m];r(g)};return s.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-${d} gap-2`,children:n.map(m=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`${o}-${m.value}`,name:o,type:"checkbox",value:m.value,checked:i.includes(m.value),onChange:()=>u(m.value),className:"h-4 w-4 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),s.jsx("label",{htmlFor:`${o}-${m.value}`,className:"ml-2 block text-sm text-slate-900",children:m.label})]},m.value))})},l5=({id:n,files:i,onFileChange:r,multiple:o=!0,accept:d})=>{const u=ye.useRef(null),m=h=>{if(h.target.files){const v=Array.from(h.target.files);r(o?[...i,...v]:v)}},g=h=>{r(i.filter(v=>v.name!==h))};return s.jsxs("div",{children:[s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md cursor-pointer hover:border-teal-400",onClick:()=>{var h;return(h=u.current)==null?void 0:h.click()},children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("i",{className:"fa fa-upload mx-auto h-12 w-12 text-slate-400"}),s.jsxs("div",{className:"flex text-sm text-slate-600",children:[s.jsx("span",{className:"relative rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-teal-500",children:"Upload files"}),s.jsx("input",{ref:u,id:n,name:n,type:"file",className:"sr-only",multiple:o,accept:d,onChange:m}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:d?d.replace(/,/g,", "):"Any file type"})]})}),i.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Selected files:"}),s.jsx("ul",{className:"mt-2 border border-slate-200 rounded-md divide-y divide-slate-200",children:i.map(h=>s.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[s.jsx("i",{className:"fa fa-paperclip h-5 w-5 text-slate-400","aria-hidden":"true"}),s.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:h.name})]}),s.jsx("div",{className:"ml-4 flex-shrink-0",children:s.jsx("button",{onClick:()=>g(h.name),className:"font-medium text-red-600 hover:text-red-500",children:"Remove"})})]},h.name))})]})]})},bm=({formData:n,onChange:i})=>{const{state:{settings:r}}=ma(),o=ye.useMemo(()=>r.projects.statuses&&r.projects.statuses.length>0?r.projects.statuses.map(u=>({value:u.label,label:u.label})):p2,[r.projects.statuses]),d=(u,m,g,h)=>n.artisticDisciplines.includes(u)?s.jsx(lt,{label:h,htmlFor:g,required:!1,children:s.jsx(Xu,{name:g,options:m,selectedValues:n[g],onChange:v=>i(g,v),columns:4})}):null;return s.jsxs("div",{className:"space-y-8",children:[s.jsx(lt,{label:"Project title",htmlFor:"projectTitle",required:!0,instructions:"This should be a brief description of your project and proposed activity. MAC staff and assessors can use this field to identify your application.",children:s.jsx(pn,{id:"projectTitle",rows:1,value:n.projectTitle,onChange:u=>i("projectTitle",u.target.value),wordLimit:15})}),s.jsx(lt,{label:"Project Status",htmlFor:"status",required:!0,children:s.jsx(na,{id:"status",options:o,value:n.status,onChange:u=>i("status",u.target.value)})}),s.jsx(lt,{label:"Artistic discipline(s) most relevant to this application",htmlFor:"artisticDisciplines",required:!0,instructions:s.jsxs("span",{children:["See glossary for ",s.jsx("a",{href:"#",className:"text-teal-600 hover:underline",children:"the definition of inter-arts (interdisciplinary arts)"}),"."]}),children:s.jsx(Xu,{name:"artisticDisciplines",options:s2,selectedValues:n.artisticDisciplines,onChange:u=>i("artisticDisciplines",u),columns:3})}),d("craft",r2,"craftGenres","Craft genres"),d("dance",l2,"danceGenres","Dance genres"),d("literary",o2,"literaryGenres","Literary arts genres"),d("media",c2,"mediaGenres","Media genres"),d("music",u2,"musicGenres","Music genres"),d("theatre",d2,"theatreGenres","Theatre genres"),d("visual",f2,"visualArtsGenres","Visual arts genres"),n.artisticDisciplines.includes("other")&&s.jsx(lt,{label:"Specify",htmlFor:"otherArtisticDisciplineSpecify",required:!0,children:s.jsx(Et,{id:"otherArtisticDisciplineSpecify",value:n.otherArtisticDisciplineSpecify,onChange:u=>i("otherArtisticDisciplineSpecify",u.target.value)})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx(lt,{label:"Project start date",htmlFor:"projectStartDate",required:!0,instructions:s.jsxs("span",{children:[s.jsx("strong",{children:"Note:"})," Payments on awarded grants will be released one month before this date at the earliest.",s.jsx("br",{}),"The activity for which you are applying for funding should not start before the deadline, September 10, 2025."]}),children:s.jsx(Et,{type:"date",id:"projectStartDate",value:n.projectStartDate,onChange:u=>i("projectStartDate",u.target.value)})}),s.jsx(lt,{label:"Project end date",htmlFor:"projectEndDate",required:!0,children:s.jsx(Et,{type:"date",id:"projectEndDate",value:n.projectEndDate,onChange:u=>i("projectEndDate",u.target.value)})})]}),s.jsx(lt,{label:"Type of activity within your project",htmlFor:"activityType",required:!0,children:s.jsx(na,{id:"activityType",options:h2,value:n.activityType,onChange:u=>i("activityType",u.target.value)})}),s.jsx(lt,{label:"Background",htmlFor:"background",required:!0,instructions:"Provide an overview of your history and experience in your field of practice. Assessors may not be familiar with your work, specific practice(s), community(ies), or culture(s). Provide the information they need to understand who you are and your work. Include your recent activity. Note: The CV/resume that you uploaded to your profile is shared with the assessors automatically. Make sure this document is up-to-date, as it will be used in the assessment of your application.",children:s.jsx(pn,{id:"background",rows:5,value:n.background,onChange:u=>i("background",u.target.value),wordLimit:350})}),s.jsx(lt,{label:"Project description",htmlFor:"projectDescription",required:!0,instructions:s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"What are you planning to do?"}),s.jsx("li",{children:"What do you hope to achieve?"}),s.jsx("li",{children:"Why is this project important?"}),s.jsx("li",{children:"What is the rationale behind your artistic choices?"}),s.jsx("li",{children:"How is this relevant to your goals?"}),s.jsx("li",{children:"How are you exploring a traditional and/or contemporary artistic practice?"})]}),children:s.jsx(pn,{id:"projectDescription",rows:8,value:n.projectDescription,onChange:u=>i("projectDescription",u.target.value),wordLimit:500})}),s.jsx(lt,{label:"Who is your audience and/or participants, and how will you reach them?",htmlFor:"audience",required:!0,children:s.jsx(pn,{id:"audience",rows:3,value:n.audience,onChange:u=>i("audience",u.target.value),wordLimit:100})}),s.jsx(lt,{label:"Payment and working conditions",htmlFor:"paymentAndConditions",required:!0,instructions:s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"Paying professional fees and/or honorariums is required and should be reflected in your budget. Explain how fees are being determined."}),s.jsx("li",{children:"If there are participants involved in this project, how will you ensure safe working conditions?"})]}),children:s.jsx(pn,{id:"paymentAndConditions",rows:5,value:n.paymentAndConditions,onChange:u=>i("paymentAndConditions",u.target.value),wordLimit:250})}),s.jsx(lt,{label:"Permission and confirmation",htmlFor:"permissionConfirmationFiles",instructions:s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"confirmation letters from any collaborators or mentors working with you on the project."}),s.jsx("li",{children:"an agreement or a copy of a letter/email that indicates what the partner is providing to support your project."}),s.jsx("li",{children:"letters of permission to adapt or use copyrighted material."})]}),children:s.jsx(l5,{id:"permissionConfirmationFiles",files:n.permissionConfirmationFiles,onFileChange:u=>i("permissionConfirmationFiles",u)})}),s.jsx(lt,{label:"Provide a schedule of presentations, publications, and/or events.",htmlFor:"schedule",required:!0,instructions:s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"key steps"}),s.jsx("li",{children:"dates"}),s.jsx("li",{children:"venues (if applicable)"}),s.jsx("li",{children:"marketing and outreach plans"})]}),children:s.jsx(pn,{id:"schedule",rows:8,value:n.schedule,onChange:u=>i("schedule",u.target.value),wordLimit:750})}),s.jsx(lt,{label:"Cultural Integrity",htmlFor:"culturalIntegrity",required:!0,instructions:"Cultural integrity is the practice of respecting and honouring the ownership of materials, traditions, and knowledges that originate from a particular culture or community. Describe your relationship to the cultures or communities represented in your project and how you are approaching your work with cultural integrity.",children:s.jsx(pn,{id:"culturalIntegrity",rows:5,value:n.culturalIntegrity,onChange:u=>i("culturalIntegrity",u.target.value),wordLimit:300})}),s.jsx(lt,{label:"Additional information",htmlFor:"additionalInfo",instructions:"If there is anything that has not been asked that is essential to understanding your application, provide it here.",children:s.jsx(pn,{id:"additionalInfo",rows:5,value:n.additionalInfo,onChange:u=>i("additionalInfo",u.target.value),wordLimit:250})})]})},o5=({formData:n,onChange:i})=>{const{state:{members:r}}=ma(),[o,d]=ye.useState(!1),[u,m]=ye.useState(""),[g,h]=ye.useState(""),v=new Set(n.collaboratorDetails.map(T=>T.memberId)),S=r.filter(T=>!v.has(T.id)),j=()=>{if(u&&g){const T={memberId:u,role:g};i("collaboratorDetails",[...n.collaboratorDetails,T]),m(""),h(""),d(!1)}},N=T=>{i("collaboratorDetails",n.collaboratorDetails.filter(O=>O.memberId!==T))},b=T=>r.find(O=>O.id===T);return s.jsxs("div",{className:"space-y-8",children:[s.jsx(lt,{label:"Who will be working with you on the project? Explain why you chose to work with them and what they bring to the project",htmlFor:"whoWillWork",children:s.jsx(pn,{id:"whoWillWork",rows:8,value:n.whoWillWork,onChange:T=>i("whoWillWork",T.target.value),wordLimit:750})}),s.jsx(lt,{label:"If the artists/participants are still to be confirmed, explain how selection will be determined.",htmlFor:"howSelectionDetermined",children:s.jsx(pn,{id:"howSelectionDetermined",rows:3,value:n.howSelectionDetermined,onChange:T=>i("howSelectionDetermined",T.target.value),wordLimit:100})}),s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Assign Collaborators"}),s.jsx(lt,{label:"Click the button below to assign a member from your collective to this project.",htmlFor:"assignMemberBtn",children:s.jsxs("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa-solid fa-user-plus mr-2"}),"Assign Member"]})}),n.collaboratorDetails.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Assigned Collaborators:"}),s.jsx("ul",{className:"bg-white border border-slate-200 rounded-md divide-y divide-slate-200",children:n.collaboratorDetails.map(T=>{const O=b(T.memberId);return s.jsxs("li",{className:"p-4 hover:bg-slate-50",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-800",children:O?`${O.firstName} ${O.lastName}`:"Unknown Member"}),s.jsxs("span",{className:"text-slate-600 text-sm ml-2",children:["- ",T.role]})]}),s.jsx("button",{onClick:()=>N(T.memberId),className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Remove"})]}),O&&O.shortBio&&s.jsx("p",{className:"text-sm text-slate-600 mt-2 pl-3 border-l-2 border-slate-300 whitespace-pre-wrap",children:O.shortBio})]},T.memberId)})})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Assign Member to Project"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(na,{value:u,onChange:T=>m(T.target.value),options:[{value:"",label:"Select a member..."},...S.map(T=>({value:T.id,label:`${T.firstName} ${T.lastName}`}))]}),s.jsx(Et,{placeholder:"Role in this Project",value:g,onChange:T=>h(T.target.value)})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Assign to Project"})]})]})})]})},rp=n=>{const i=(ne=[])=>ne.reduce((z,B)=>z+(B.amount||0),0),r=(ne=[],z)=>ne.filter(B=>B.status===z).reduce((B,R)=>B+(R.amount||0),0),o=(ne=[])=>ne.filter(z=>z.status!=="Denied").reduce((z,B)=>z+(B.amount||0),0),d=ye.useMemo(()=>o(n.revenues.grants),[n.revenues.grants]),u=ye.useMemo(()=>{const{numVenues:ne,percentCapacity:z,venueCapacity:B}=n.revenues.tickets;return ne*(z/100)*B},[n.revenues.tickets]),m=ye.useMemo(()=>u*n.revenues.tickets.avgTicketPrice,[u,n.revenues.tickets.avgTicketPrice]),g=ye.useMemo(()=>o(n.revenues.sales),[n.revenues.sales]),h=ye.useMemo(()=>o(n.revenues.fundraising),[n.revenues.fundraising]),v=ye.useMemo(()=>o(n.revenues.contributions),[n.revenues.contributions]),S=ye.useMemo(()=>d+m+g+h+v,[d,m,g,h,v]),j=ye.useMemo(()=>{const ne=n.revenues.grants.reduce((k,C)=>k+(C.actualAmount||0),0),z=n.revenues.tickets.actualTotalTickets||0,B=n.revenues.sales.reduce((k,C)=>k+(C.actualAmount||0),0),R=n.revenues.fundraising.reduce((k,C)=>k+(C.actualAmount||0),0),le=n.revenues.contributions.reduce((k,C)=>k+(C.actualAmount||0),0);return ne+z+B+R+le},[n.revenues]),N=ye.useMemo(()=>["grants","sales","fundraising","contributions"].reduce((ne,z)=>ne+r(n.revenues[z],"Approved"),0),[n.revenues]),b=ye.useMemo(()=>["grants","sales","fundraising","contributions"].reduce((ne,z)=>ne+r(n.revenues[z],"Pending"),0),[n.revenues]),T=ye.useMemo(()=>i(n.expenses.professionalFees),[n.expenses.professionalFees]),O=ye.useMemo(()=>i(n.expenses.travel),[n.expenses.travel]),M=ye.useMemo(()=>i(n.expenses.production),[n.expenses.production]),A=ye.useMemo(()=>i(n.expenses.administration),[n.expenses.administration]),E=ye.useMemo(()=>i(n.expenses.research),[n.expenses.research]),P=ye.useMemo(()=>i(n.expenses.professionalDevelopment),[n.expenses.professionalDevelopment]),G=ye.useMemo(()=>T+O+M+A+E+P,[T,O,M,A,E,P]),Q=ye.useMemo(()=>S-G,[S,G]);return{totalGrants:d,projectedAudience:u,totalTickets:m,totalSales:g,totalFundraising:h,totalContributions:v,totalRevenue:S,totalActualRevenue:j,totalSecuredRevenue:N,totalPendingRevenue:b,totalProfessionalFees:T,totalTravel:O,totalProduction:M,totalAdministration:A,totalResearch:E,totalProfessionalDevelopment:P,totalExpenses:G,balance:Q}},of=n=>(n||0).toLocaleString("en-CA",{style:"currency",currency:"CAD"}),fr=({items:n,options:i,onChange:r,isRevenue:o=!1})=>{const[d,u]=ye.useState(""),m=()=>{if(!d)return;const N=i.find(T=>T.value===d);if(!N)return;const b={id:`item_${Date.now()}_${Math.random()}`,source:N.value,description:"",amount:0,...o&&{status:"Pending"}};r([...n,b]),u("")},g=(N,b,T)=>{const O=n.map(M=>M.id===N?{...M,[b]:T}:M);r(O)},h=N=>{r(n.filter(b=>b.id!==N))},v=N=>{var b;return((b=i.find(T=>T.value===N))==null?void 0:b.label)||N},S=i,j="grid-cols-12";return s.jsxs("div",{className:"space-y-3",children:[n.length>0&&s.jsxs("div",{className:"space-y-2 border-b border-slate-200 pb-3 mb-3",children:[s.jsxs("div",{className:`hidden md:grid ${j} gap-2 text-xs font-semibold text-slate-500 uppercase tracking-wider`,children:[s.jsx("div",{className:"md:col-span-4",children:"Item"}),o&&s.jsx("div",{className:"md:col-span-2",children:"Status"}),s.jsx("div",{className:"md:col-span-4",children:"Description"}),s.jsx("div",{className:"md:col-span-2 text-right",children:"Amount"}),s.jsx("div",{className:"md:col-span-1"})]}),n.map(N=>s.jsxs("div",{className:`grid grid-cols-1 md:${j} gap-2 items-center`,children:[s.jsx("div",{className:"md:col-span-4 text-sm text-slate-800 font-medium",children:v(N.source)}),o&&s.jsx("div",{className:"md:col-span-2",children:s.jsx(na,{"aria-label":`Status for ${v(N.source)}`,value:N.status||"Pending",onChange:b=>g(N.id,"status",b.target.value),options:n5,className:"text-xs py-1"})}),s.jsx("div",{className:"md:col-span-4",children:s.jsx(Et,{"aria-label":`Description for ${v(N.source)}`,type:"text",placeholder:"Description (e.g., 'Per diem for Elder 1')",value:N.description,onChange:b=>g(N.id,"description",b.target.value)})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Et,{"aria-label":`Amount for ${v(N.source)}`,type:"number",placeholder:"0.00",className:"text-right",value:N.amount===0?"":N.amount,onChange:b=>g(N.id,"amount",parseFloat(b.target.value)||0),step:"0.01"})}),s.jsx("div",{className:"md:col-span-1 text-right",children:s.jsx("button",{type:"button",onClick:()=>h(N.id),className:"text-slate-400 hover:text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors","aria-label":`Remove ${v(N.source)}`,children:s.jsx("i",{className:"fa-solid fa-trash-alt fa-fw"})})})]},N.id))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center pt-2",children:[s.jsx(na,{value:d,onChange:N=>u(N.target.value),options:[{value:"",label:"Select an item to add..."},...S]}),s.jsxs("button",{type:"button",onClick:m,disabled:!d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 disabled:bg-slate-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add to Budget"]})]})]})},Es=({title:n,children:i,instructions:r,total:o})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-3 mb-4",children:n}),r&&s.jsx("div",{className:"text-sm text-slate-600 mb-4 prose max-w-none prose-ul:list-disc prose-ul:list-inside prose-li:mb-1",children:r}),s.jsx("div",{className:"space-y-2",children:i}),o!==void 0&&s.jsxs("div",{className:"text-right font-bold mt-4 pt-4 border-t-2 border-slate-200 text-slate-800 text-lg",children:["Total: ",of(o)]})]}),c5=({formData:n,onChange:i})=>{const{state:{settings:r}}=ma(),{revenueLabels:o,expenseLabels:d}=r.budget;ye.useMemo(()=>Object.values(Wl).flat(),[]),ye.useMemo(()=>Object.values(yi).flat(),[]);const u=ye.useCallback((R,le)=>{const k=o[R];return k!==void 0&&k!==""?k:le},[o]),m=ye.useCallback((R,le)=>{const k=d[R];return k!==void 0&&k!==""?k:le},[d]),g=(R,le)=>{const k=ta(n,C=>{let H=C;for(let Y=0;Y<R.length-1;Y++)H=H[R[Y]];H[R[R.length-1]]=le});i("budget",k.budget)},h=(R,le)=>{const k=ta(n,C=>{let H=C.budget;for(let Y=0;Y<R.length-1;Y++)H=H[R[Y]];H[R[R.length-1]]=le});i("budget",k.budget)},v=n.budget,{totalGrants:S,projectedAudience:j,totalTickets:N,totalSales:b,totalFundraising:T,totalContributions:O,totalRevenue:M,totalProfessionalFees:A,totalTravel:E,totalProduction:P,totalAdministration:G,totalResearch:Q,totalProfessionalDevelopment:ne,totalExpenses:z,balance:B}=rp(v);return s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Project Budget"}),s.jsx("p",{className:"text-base text-slate-600",children:"Enter your project budget below. Add revenue and expense items to each category. The form will automatically calculate totals for you."}),s.jsx(Es,{title:"Revenue: Grants",total:S,children:s.jsx(fr,{items:v.revenues.grants,options:Wl.grants.map(R=>({value:R.key,label:u(R.key,R.label)})),onChange:R=>h(["revenues","grants"],R),isRevenue:!0})}),s.jsxs(Es,{title:"Revenue: Tickets and box office",total:N,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Venue Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(Et,{type:"number",value:v.revenues.tickets.numVenues||"",onChange:R=>g(["budget","revenues","tickets","numVenues"],parseInt(R.target.value)||0),placeholder:"# Venues"}),s.jsx(Et,{type:"number",value:v.revenues.tickets.percentCapacity||"",onChange:R=>g(["budget","revenues","tickets","percentCapacity"],parseInt(R.target.value)||0),placeholder:"% Capacity"}),s.jsx(Et,{type:"number",value:v.revenues.tickets.venueCapacity||"",onChange:R=>g(["budget","revenues","tickets","venueCapacity"],parseInt(R.target.value)||0),placeholder:"Venue Capacity"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Projected Total Audience"}),s.jsx(Et,{type:"number",value:j,readOnly:!0,disabled:!0,className:"bg-slate-200 font-semibold"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 items-center py-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ticket Prices"}),s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[s.jsx(Et,{type:"text",value:v.revenues.tickets.description,onChange:R=>g(["budget","revenues","tickets","description"],R.target.value),placeholder:"Description",className:"col-span-3"}),s.jsx(Et,{type:"number",value:v.revenues.tickets.avgTicketPrice===0?"":v.revenues.tickets.avgTicketPrice,onChange:R=>g(["budget","revenues","tickets","avgTicketPrice"],parseFloat(R.target.value)||0),placeholder:"0.00",className:"text-right col-span-2",step:"0.01"})]})]})]}),s.jsx(Es,{title:"Revenue: Sales",total:b,children:s.jsx(fr,{items:v.revenues.sales,options:Wl.sales.map(R=>({value:R.key,label:u(R.key,R.label)})),onChange:R=>h(["revenues","sales"],R),isRevenue:!0})}),s.jsx(Es,{title:"Revenue: Fundraising",total:T,children:s.jsx(fr,{items:v.revenues.fundraising,options:Wl.fundraising.map(R=>({value:R.key,label:u(R.key,R.label)})),onChange:R=>h(["revenues","fundraising"],R),isRevenue:!0})}),s.jsx(Es,{title:"Revenue: Contributions",total:O,children:s.jsx(fr,{items:v.revenues.contributions,options:Wl.contributions.map(R=>({value:R.key,label:u(R.key,R.label)})),onChange:R=>h(["revenues","contributions"],R),isRevenue:!0})}),s.jsxs("div",{className:"bg-teal-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-xl shadow-md",children:[s.jsx("span",{children:"Total Revenue"}),s.jsx("span",{children:of(M)})]}),s.jsx(Es,{title:"Expenses: Professional fees/honorariums",total:A,children:s.jsx(fr,{items:v.expenses.professionalFees,options:yi.professionalFees.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","professionalFees"],R)})}),s.jsx(Es,{title:"Expenses: Travel",total:E,instructions:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"If traveling more than 20 kms to another community, applicants are eligible to include travel costs in their budget. This includes:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Roundtrip airfare (economy class), baggage and taxi to airport"}),s.jsx("li",{children:"Mileage for ground travel at a rate of 0.45 CAD per km"}),s.jsx("li",{children:"Accommodations, if traveling more than 100 kms to another community"}),s.jsx("li",{children:"Meal per diem (South of 53rd parallel or in Canada: 75.00 CAD per day, North of 53rd parallel or outside Canada: 90.00 CAD per day), if traveling more than 100 kms to another community"})]})]}),children:s.jsx(fr,{items:v.expenses.travel,options:yi.travel.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","travel"],R)})}),s.jsx(Es,{title:"Expenses: Production and publication costs",total:P,children:s.jsx(fr,{items:v.expenses.production,options:yi.production.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","production"],R)})}),s.jsx(Es,{title:"Expenses: Administration",total:G,children:s.jsx(fr,{items:v.expenses.administration,options:yi.administration.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","administration"],R)})}),s.jsx(Es,{title:"Expenses: Research",total:Q,children:s.jsx(fr,{items:v.expenses.research,options:yi.research.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","research"],R)})}),s.jsx(Es,{title:"Expenses: Professional development",total:ne,children:s.jsx(fr,{items:v.expenses.professionalDevelopment,options:yi.professionalDevelopment.map(R=>({value:R.key,label:m(R.key,R.label)})),onChange:R=>h(["expenses","professionalDevelopment"],R)})}),s.jsxs("div",{className:"bg-rose-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-xl shadow-md",children:[s.jsx("span",{children:"Total Expenses"}),s.jsx("span",{children:of(z)})]}),s.jsxs("div",{className:`p-5 rounded-lg flex justify-between items-center font-bold text-2xl text-white shadow-lg ${B>=0?"bg-green-600":"bg-orange-500"}`,children:[s.jsx("span",{children:"Balance (Revenue - Expenses)"}),s.jsx("span",{children:of(B)})]})]})},u5=({project:n,onSave:i,onCancel:r})=>{const{state:{members:o}}=ma(),[d,u]=ye.useState(es[0].id),[m,g]=ye.useState(n),h=ye.useCallback((j,N)=>{g(b=>({...b,[j]:N}))},[]),v=j=>{j.preventDefault(),i(m)},S=()=>{switch(d){case"projectInfo":return s.jsx(bm,{formData:m,onChange:h});case"collaborators":return s.jsx(o5,{formData:m,onChange:h});case"budget":return s.jsx(c5,{formData:m,onChange:h});default:return s.jsx(bm,{formData:m,onChange:h})}};return s.jsx("form",{onSubmit:v,children:s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s.jsx("div",{className:"flex justify-between items-start mb-6",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:m.projectTitle||"Edit Project"})}),s.jsx("div",{className:"border-b border-slate-200",children:s.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:es.map(j=>s.jsx("button",{type:"button",onClick:()=>u(j.id),className:`whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md ${d===j.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:j.label},j.id))})}),s.jsx("div",{className:"py-8 bg-slate-50/50 -mx-6 sm:-mx-8 px-6 sm:px-8",children:S()}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-slate-200 mt-8",children:[s.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>d!==es[0].id&&u(es[es.findIndex(j=>j.id===d)-1].id),disabled:d===es[0].id,children:" Back"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Project"})]}),s.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>d!==es[es.length-1].id&&u(es[es.findIndex(j=>j.id===d)+1].id),disabled:d===es[es.length-1].id,children:"Next "})]})]})})},ts=({label:n,value:i,children:r})=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:n}),i&&s.jsx("div",{className:"mt-1 text-slate-900",children:i}),r&&s.jsx("div",{className:"mt-1 text-slate-900",children:r})]}),xm=({project:n,hideTitle:i=!1})=>{var u;const r={craft:{data:n.craftGenres,definitions:r2},dance:{data:n.danceGenres,definitions:l2},literary:{data:n.literaryGenres,definitions:o2},media:{data:n.mediaGenres,definitions:c2},music:{data:n.musicGenres,definitions:u2},theatre:{data:n.theatreGenres,definitions:d2},visual:{data:n.visualArtsGenres,definitions:f2}},o=()=>!n.artisticDisciplines||n.artisticDisciplines.length===0?"N/A":n.artisticDisciplines.map(g=>{var S;const h=((S=s2.find(j=>j.value===g))==null?void 0:S.label)||g,v=r[g];if(v&&v.data&&v.data.length>0){const j=v.data.map(N=>{var b;return((b=v.definitions.find(T=>T.value===N))==null?void 0:b.label)||N}).join(", ");return`${h} (${j})`}return h}).join("; "),d=((u=h2.find(m=>m.value===n.activityType))==null?void 0:u.label)||n.activityType;return s.jsxs("section",{children:[!i&&s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Project Information"}),s.jsx(ts,{label:"Artistic Disciplines & Genres",value:o()}),s.jsx(ts,{label:"Type of Activity",value:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8",children:[s.jsx(ts,{label:"Project Start Date",value:n.projectStartDate?new Date(n.projectStartDate).toLocaleDateString():"N/A"}),s.jsx(ts,{label:"Project End Date",value:n.projectEndDate?new Date(n.projectEndDate).toLocaleDateString():"N/A"})]}),s.jsx(ts,{label:"Background",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.background||"N/A"})}),s.jsx(ts,{label:"Project Description",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.projectDescription||"N/A"})}),s.jsx(ts,{label:"Audience/Participants",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.audience||"N/A"})}),s.jsx(ts,{label:"Schedule",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.schedule||"N/A"})}),s.jsx(ts,{label:"Payment & Conditions",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.paymentAndConditions||"N/A"})}),s.jsx(ts,{label:"Cultural Integrity",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.culturalIntegrity||"N/A"})}),n.additionalInfo&&s.jsx(ts,{label:"Additional Information",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.additionalInfo})}),n.permissionConfirmationFiles.length>0&&s.jsx(ts,{label:"Permission/Confirmation Files",children:s.jsx("ul",{className:"list-disc list-inside",children:n.permissionConfirmationFiles.map(m=>s.jsx("li",{children:m.name},m.name))})})]})},Lh=({label:n,value:i,children:r})=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:n}),i&&s.jsx("div",{className:"mt-1 text-slate-900",children:i}),r&&s.jsx("div",{className:"mt-1 text-slate-900",children:r})]}),d5=({project:n})=>{const{state:{members:i}}=ma();return s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Collaborators"}),s.jsx(Lh,{label:"Project Team Description",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.whoWillWork||"N/A"})}),s.jsx(Lh,{label:"Selection Process",children:s.jsx("p",{className:"whitespace-pre-wrap",children:n.howSelectionDetermined||"N/A"})}),n.collaboratorDetails.length>0&&s.jsx(Lh,{label:"Assigned Collaborators & Biographies",children:s.jsx("ul",{className:"divide-y divide-slate-200 rounded-md border border-slate-200 mt-2",children:n.collaboratorDetails.map(r=>{const o=i.find(d=>d.id===r.memberId);return o?s.jsxs("li",{className:"px-4 py-4",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsxs("span",{className:"font-semibold text-lg text-slate-800",children:[o.firstName," ",o.lastName]}),s.jsx("span",{className:"text-slate-500 text-sm",children:r.role})]}),o.shortBio&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-400",children:"Short Bio"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1 whitespace-pre-wrap",children:o.shortBio})]}),o.artistBio&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-400",children:"Full Artist Bio"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1 whitespace-pre-wrap",children:o.artistBio})]})]},r.memberId):s.jsxs("li",{className:"px-4 py-4",children:[s.jsx("span",{className:"font-semibold",children:"Unknown Member"})," - ",s.jsx("span",{className:"text-slate-600",children:r.role})]},r.memberId)})})})]})},Na=n=>n.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),f5=({status:n})=>{const i={Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Denied:"bg-red-100 text-red-800"};return s.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${i[n]}`,children:n})},as=({label:n,value:i,description:r,align:o="left"})=>s.jsxs("div",{className:"py-2.5 grid grid-cols-2 gap-4 border-b border-slate-200 last:border-b-0",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:[n,r&&s.jsx("p",{className:"text-xs text-slate-400 italic mt-0.5",children:r})]}),s.jsx("div",{className:`text-sm text-slate-800 font-medium ${o==="right"?"text-right":""}`,children:i})]}),Fu=({title:n,children:i,budgetTotal:r,actualTotal:o})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[s.jsx("h3",{className:"text-base font-bold text-slate-700 border-b border-slate-200 pb-2 mb-3",children:n}),i,s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right font-bold mt-3 pt-3 border-t-2 border-slate-200 text-slate-800 text-base",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase block",children:"Budgeted"}),Na(r)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-teal-600 font-semibold uppercase block",children:"Actual"}),Na(o)]})]})]}),Kd=({items:n,categoryPath:i,onUpdateRevenue:r,onSetEditingRevenueId:o,editingRevenueId:d,fieldMap:u})=>!n||n.length===0?s.jsx("p",{className:"text-sm text-slate-400 italic py-2",children:"No items in this category."}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-semibold text-slate-500 uppercase tracking-wider px-2 py-1",children:[s.jsx("div",{className:"col-span-6",children:"Item"}),s.jsx("div",{className:"col-span-3 text-right",children:"Budgeted"}),s.jsx("div",{className:"col-span-3 text-right",children:"Actual"})]}),n.map((m,g)=>{const h=u.get(m.source)||m.source,v=d===m.id,S=m.status==="Denied";return s.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center hover:bg-slate-100 rounded p-2 group ${S?"opacity-50":""}`,children:[s.jsxs("div",{className:"col-span-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f5,{status:m.status||"Pending"}),s.jsx("p",{className:`text-slate-800 font-medium ${S?"line-through":""}`,children:h})]}),s.jsx("p",{className:"text-xs text-slate-500 pl-8",children:m.description})]}),s.jsx("div",{className:`col-span-3 text-right text-sm text-slate-600 ${S?"line-through":""}`,children:Na(m.amount)}),s.jsx("div",{className:"col-span-3 text-right text-sm font-semibold text-teal-700 cursor-pointer",onClick:()=>o(m.id),children:v?s.jsx(Et,{type:"number",defaultValue:m.actualAmount||"",onBlur:j=>{r([...i,g,"actualAmount"],parseFloat(j.target.value)||0),o(null)},onKeyDown:j=>{j.key==="Enter"&&j.currentTarget.blur()},autoFocus:!0,className:"text-right py-1"}):s.jsxs(s.Fragment,{children:[Na(m.actualAmount||0)," ",s.jsx("i",{className:"fa-solid fa-pencil text-xs text-slate-300 ml-1 group-hover:text-teal-600 transition-colors"})]})})]},m.id)})]}),h5=({project:n,onSave:i,tasks:r,activities:o,directExpenses:d})=>{const{dispatch:u,state:m}=ma(),{members:g,settings:h}=m,{revenueLabels:v,expenseLabels:S}=h.budget,j=ye.useMemo(()=>{const H=Object.values(Wl).flat();return new Map(H.map(Y=>[Y.key,v[Y.key]!==void 0&&v[Y.key]!==""?v[Y.key]:Y.label]))},[v]),N=ye.useMemo(()=>{const H=Object.values(yi).flat();return new Map(H.map(Y=>[Y.key,S[Y.key]!==void 0&&S[Y.key]!==""?S[Y.key]:Y.label]))},[S]),b=n.budget,[T,O]=ye.useState({isOpen:!1}),[M,A]=ye.useState(null),[E,P]=ye.useState(null),G=rp(b),{actualsByBudgetItem:Q,totalContributedValue:ne,totalActualPaidExpenses:z}=ye.useMemo(()=>{const H=new Map,Y=new Map(r.map(W=>[W.id,W]));o.forEach(W=>{if(W.status!=="Approved")return;const ee=Y.get(W.taskId);if(!ee||!ee.budgetItemId)return;const re=H.get(ee.budgetItemId)||{cost:0,contributedValue:0,hours:0},_=(W.hours||0)*(ee.hourlyRate||0);ee.workType==="Paid"?re.cost+=_:re.contributedValue+=_,re.hours+=W.hours||0,H.set(ee.budgetItemId,re)}),d.forEach(W=>{const ee=H.get(W.budgetItemId)||{cost:0,contributedValue:0,hours:0};ee.cost+=W.amount,H.set(W.budgetItemId,ee)});const ue=Array.from(H.values()).reduce((W,ee)=>W+ee.contributedValue,0),F=Array.from(H.values()).reduce((W,ee)=>W+ee.cost,0);return{actualsByBudgetItem:H,totalContributedValue:ue,totalActualPaidExpenses:F}},[r,o,d]),B=(H,Y)=>{const ue=ta(n,F=>{let W=F.budget;for(let ee=0;ee<H.length-1;ee++)W=W[H[ee]];W[H[H.length-1]]=Y});i(ue)},R=H=>{u({type:"ADD_DIRECT_EXPENSE",payload:H})},le=({title:H,categoryKey:Y,items:ue})=>{const F=ue.reduce((re,_)=>re+(_.amount||0),0),W=ue.reduce((re,_)=>{const ie=Q.get(_.id);return re+(ie?ie.cost:0)},0),ee=F-W;return ue.length===0?null:s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2 mb-3",children:[s.jsx("h3",{className:"text-base font-bold text-slate-700",children:H}),s.jsxs("button",{onClick:()=>O({isOpen:!0,category:Y}),className:"px-2 py-1 text-xs font-medium text-white bg-blue-500 rounded-md shadow-sm hover:bg-blue-600",children:[s.jsx("i",{className:"fa-solid fa-plus fa-xs mr-1"}),"Log"]})]}),s.jsxs("div",{className:"grid grid-cols-10 gap-4 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2",children:[s.jsx("div",{className:"col-span-4",children:"Item"}),s.jsx("div",{className:"col-span-2 text-right",children:"Budgeted"}),s.jsx("div",{className:"col-span-2 text-right",children:"Actual"}),s.jsx("div",{className:"col-span-2 text-right",children:"Variance"})]}),s.jsx("div",{className:"space-y-1",children:ue.map(re=>{const _=Q.get(re.id)||{cost:0},ie=re.amount-_.cost,D=N.get(re.source)||re.source;return s.jsxs("div",{className:"grid grid-cols-10 gap-4 items-center py-1.5 border-b border-slate-100 last:border-b-0 px-2 rounded group",children:[s.jsxs("div",{className:"col-span-4 text-sm",children:[s.jsx("p",{className:"text-slate-800 font-medium",children:D}),s.jsx("p",{className:"text-xs text-slate-500",children:re.description})]}),s.jsx("div",{className:"col-span-2 text-right text-sm text-slate-600",children:Na(re.amount)}),s.jsx("div",{className:"col-span-2 text-right text-sm font-semibold text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",onClick:()=>P(re.id),children:Na(_.cost)}),s.jsx("div",{className:`col-span-2 text-right text-sm font-semibold ${ie>=0?"text-green-600":"text-red-600"}`,children:Na(ie)})]},re.id)})}),s.jsxs("div",{className:"grid grid-cols-10 gap-4 mt-3 pt-3 border-t-2 border-slate-300 font-bold text-slate-800 text-sm px-2",children:[s.jsx("div",{className:"col-span-4",children:"Total"}),s.jsx("div",{className:"col-span-2 text-right",children:Na(F)}),s.jsx("div",{className:"col-span-2 text-right",children:Na(W)}),s.jsx("div",{className:`col-span-2 text-right ${ee>=0?"text-green-600":"text-red-600"}`,children:Na(ee)})]})]})},k=()=>{const[H,Y]=ye.useState(T.category||""),[ue,F]=ye.useState(""),[W,ee]=ye.useState(0),[re,_]=ye.useState(new Date().toISOString().split("T")[0]),[ie,D]=ye.useState(""),V=Object.entries(yi).map(([te,pe])=>({value:te,label:te.replace(/([A-Z])/g," $1").replace(/^./,me=>me.toUpperCase())})),J=ye.useMemo(()=>H?b.expenses[H].map(te=>{const pe=N.get(te.source)||te.source;return{value:te.id,label:te.description?`${pe}: ${te.description}`:pe}}):[],[H,N]),se=te=>{if(te.preventDefault(),!H||!ue||W<=0){alert("Please fill all required fields.");return}R({id:`dexp_${Date.now()}`,projectId:n.id,budgetItemId:ue,amount:W,date:re,description:ie}),O({isOpen:!1})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:s.jsxs("form",{onSubmit:se,children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Log Direct Expense"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{label:"Expense Category",htmlFor:"exp_cat",children:s.jsx(na,{options:[{value:"",label:"Select category..."},...V],value:H,onChange:te=>{Y(te.target.value),F("")}})}),s.jsx(lt,{label:"Budget Line Item",htmlFor:"exp_item",children:s.jsx(na,{options:[{value:"",label:"Select item..."},...J],value:ue,onChange:te=>F(te.target.value),disabled:!H})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(lt,{label:"Amount",htmlFor:"exp_amount",children:s.jsx(Et,{type:"number",value:W||"",onChange:te=>ee(parseFloat(te.target.value)||0),step:"0.01"})}),s.jsx(lt,{label:"Date",htmlFor:"exp_date",children:s.jsx(Et,{type:"date",value:re,onChange:te=>_(te.target.value)})})]}),s.jsx(lt,{label:"Description / Memo",htmlFor:"exp_desc",children:s.jsx(Et,{type:"text",value:ie,onChange:te=>D(te.target.value)})})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>O({isOpen:!1}),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"Log Expense"})]})]})})})},C=()=>{if(!E)return null;const H=Object.values(n.budget.expenses).flat().find(F=>F.id===E),Y=d.filter(F=>F.budgetItemId===E),ue=o.filter(F=>{const W=r.find(ee=>ee.id===F.taskId);return(W==null?void 0:W.budgetItemId)===E&&F.status==="Approved"});return H?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Actuals Breakdown"}),s.jsxs("p",{className:"text-slate-600 mb-4",children:["Line Item: ",s.jsx("span",{className:"font-semibold",children:H.description||H.source})]}),s.jsxs("div",{className:"max-h-[60vh] overflow-y-auto space-y-4",children:[Y.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Direct Expenses"}),s.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md mt-1",children:Y.map(F=>s.jsxs("li",{className:"flex justify-between p-2 text-sm",children:[s.jsxs("span",{children:[F.description||"Direct expense"," on ",new Date(F.date).toLocaleDateString()]}),s.jsx("span",{className:"font-semibold",children:Na(F.amount)})]},F.id))})]}),ue.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"From Time Tracking"}),s.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md mt-1",children:ue.map(F=>{const W=r.find(_=>_.id===F.taskId),ee=g.find(_=>_.id===F.memberId),re=(F.hours||0)*((W==null?void 0:W.hourlyRate)||0);return s.jsxs("li",{className:"flex justify-between items-center p-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{children:F.description||`Work on '${W==null?void 0:W.title}'`}),s.jsxs("p",{className:"text-xs text-slate-500",children:[ee==null?void 0:ee.firstName," logged ",F.hours,"h on ",new Date(F.endDate).toLocaleDateString()]})]}),s.jsx("span",{className:"font-semibold",children:Na(re)})]},F.id)})})]}),Y.length===0&&ue.length===0&&s.jsx("p",{className:"text-center text-slate-500 py-6 italic",children:"No actuals have been logged against this budget item."})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>P(null),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 border border-slate-300 rounded-md hover:bg-slate-200",children:"Close"})})]})}):null};return s.jsxs("section",{children:[T.isOpen&&s.jsx(k,{}),E&&s.jsx(C,{}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Budget vs. Actuals"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-8",children:[s.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Revenues"}),s.jsx(Fu,{title:"Grants",budgetTotal:G.totalGrants,actualTotal:b.revenues.grants.reduce((H,Y)=>H+(Y.actualAmount||0),0),children:s.jsx(Kd,{items:b.revenues.grants,categoryPath:["revenues","grants"],onUpdateRevenue:B,editingRevenueId:M,onSetEditingRevenueId:A,fieldMap:j})}),s.jsxs(Fu,{title:"Tickets & Box Office",budgetTotal:G.totalTickets,actualTotal:b.revenues.tickets.actualTotalTickets||0,children:[s.jsx(as,{label:"Projected Audience",value:G.projectedAudience.toFixed(0),align:"right"}),s.jsx(as,{label:"Average Ticket Price",value:Na(b.revenues.tickets.avgTicketPrice),description:b.revenues.tickets.description,align:"right"}),s.jsxs("div",{className:"py-2.5 grid grid-cols-2 gap-4 group",children:[s.jsx("div",{className:"text-sm text-slate-600 font-semibold",children:"Actual Ticket Revenue"}),s.jsx("div",{className:"text-sm text-right font-bold text-teal-700 cursor-pointer",onClick:()=>A("tickets"),children:M==="tickets"?s.jsx(Et,{type:"number",defaultValue:b.revenues.tickets.actualTotalTickets||"",onBlur:H=>{B(["revenues","tickets","actualTotalTickets"],parseFloat(H.target.value)||0),A(null)},onKeyDown:H=>{H.key==="Enter"&&H.currentTarget.blur()},autoFocus:!0,className:"text-right py-1"}):s.jsxs(s.Fragment,{children:[Na(b.revenues.tickets.actualTotalTickets||0)," ",s.jsx("i",{className:"fa-solid fa-pencil text-xs text-slate-300 ml-1 group-hover:text-teal-600 transition-colors"})]})})]})]}),s.jsx(Fu,{title:"Sales",budgetTotal:G.totalSales,actualTotal:b.revenues.sales.reduce((H,Y)=>H+(Y.actualAmount||0),0),children:s.jsx(Kd,{items:b.revenues.sales,categoryPath:["revenues","sales"],onUpdateRevenue:B,editingRevenueId:M,onSetEditingRevenueId:A,fieldMap:j})}),s.jsx(Fu,{title:"Fundraising",budgetTotal:G.totalFundraising,actualTotal:b.revenues.fundraising.reduce((H,Y)=>H+(Y.actualAmount||0),0),children:s.jsx(Kd,{items:b.revenues.fundraising,categoryPath:["revenues","fundraising"],onUpdateRevenue:B,editingRevenueId:M,onSetEditingRevenueId:A,fieldMap:j})}),s.jsx(Fu,{title:"Contributions",budgetTotal:G.totalContributions,actualTotal:b.revenues.contributions.reduce((H,Y)=>H+(Y.actualAmount||0),0),children:s.jsx(Kd,{items:b.revenues.contributions,categoryPath:["revenues","contributions"],onUpdateRevenue:B,editingRevenueId:M,onSetEditingRevenueId:A,fieldMap:j})}),s.jsxs("div",{className:"bg-teal-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-lg mt-6 shadow-md",children:[s.jsx("span",{children:"Total Revenue (Budgeted)"}),s.jsx("span",{children:Na(G.totalRevenue)})]})]}),s.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"Expenses"}),s.jsxs("button",{onClick:()=>O({isOpen:!0}),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:[s.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Log Top-Level Expense"]})]}),s.jsx(le,{title:"Professional Fees",categoryKey:"professionalFees",items:b.expenses.professionalFees}),s.jsx(le,{title:"Travel",categoryKey:"travel",items:b.expenses.travel}),s.jsx(le,{title:"Production & Publication",categoryKey:"production",items:b.expenses.production}),s.jsx(le,{title:"Administration",categoryKey:"administration",items:b.expenses.administration}),s.jsx(le,{title:"Research",categoryKey:"research",items:b.expenses.research}),s.jsx(le,{title:"Professional Development",categoryKey:"professionalDevelopment",items:b.expenses.professionalDevelopment}),s.jsxs("div",{className:"bg-rose-600 text-white p-4 rounded-lg flex justify-between items-center font-bold text-lg mt-6 shadow-md",children:[s.jsx("span",{children:"Total Expenses (Budgeted)"}),s.jsx("span",{children:Na(G.totalExpenses)})]})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Financial Summary"}),s.jsxs("div",{className:"bg-slate-100 p-6 rounded-lg border border-slate-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-3",children:"The Plan (Budget)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(as,{label:"Total Secured Revenue (Approved)",value:s.jsx("span",{className:"font-bold text-green-700",children:Na(G.totalSecuredRevenue)})}),s.jsx(as,{label:"Total Potential Revenue (Pending)",value:s.jsx("span",{className:"font-bold text-yellow-700",children:Na(G.totalPendingRevenue)})}),s.jsx(as,{label:"Total Projected Revenue (Secured + Pending)",value:Na(G.totalRevenue)}),s.jsx(as,{label:"Total Planned Expenses (Cash)",value:Na(G.totalExpenses)}),s.jsx(as,{label:"Planned Surplus / Deficit",value:s.jsx("span",{className:`font-extrabold text-lg ${G.balance>=0?"text-green-700":"text-orange-600"}`,children:Na(G.balance)})})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"The Reality (Actuals to Date)"}),s.jsxs("div",{className:"relative group",children:[s.jsx("i",{className:"fa-solid fa-circle-info text-slate-500 cursor-help"}),s.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-2 bg-slate-700 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 text-center",children:"Actuals include the value of all 'Approved' time logs and all direct expenses. 'Pending' activities are not included."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(as,{label:"Actual Cash Received",value:s.jsx("span",{className:"font-bold text-green-700",children:Na(G.totalActualRevenue)})}),s.jsx(as,{label:"Actual Cash Spent",value:s.jsx("span",{className:"font-bold text-blue-700",children:Na(z)})}),s.jsx(as,{label:"Current Cash Balance",description:"(Actual Revenue - Actual Spent)",value:s.jsx("span",{className:`font-extrabold text-lg ${G.totalActualRevenue-z>=0?"text-green-700":"text-red-700"}`,children:Na(G.totalActualRevenue-z)})})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-300",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-3",children:"The Full Picture (Total Project Value)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(as,{label:"Contributed Value (In-Kind/Volunteer)",description:"Non-cash contributions from time tracking",value:s.jsx("span",{className:"font-bold text-teal-700",children:Na(ne)})}),s.jsx(as,{label:"Total Value Delivered to Date",description:"(Actual Cash Spent + Contributed Value)",value:s.jsx("span",{className:"font-bold text-black",children:Na(z+ne)})})]})]})]})]})]})},m2=({task:n,onSave:i,onCancel:r})=>{const{state:{projects:o,members:d}}=ma(),[u,m]=ye.useState(n),g=(N,b)=>{m(T=>({...T,[N]:b}))},h=N=>{const b={...u,taskType:N};N==="Milestone"&&(b.budgetItemId="",b.estimatedHours=0,b.hourlyRate=0,b.workType="Paid"),m(b)},v=N=>{m(b=>({...b,projectId:N,budgetItemId:""}))},S=ye.useMemo(()=>{if(!u.projectId)return[{value:"",label:"Select a project first"}];const N=o.find(M=>M.id===u.projectId);if(!N)return[{value:"",label:"Project not found"}];const b=[],T=Object.keys(N.budget.expenses),O={professionalFees:"Professional Fees",travel:"Travel",production:"Production",administration:"Administration",research:"Research",professionalDevelopment:"Professional Development"};return T.forEach(M=>{N.budget.expenses[M].forEach(A=>{const E=A.source.charAt(0).toUpperCase()+A.source.slice(1);b.push({value:A.id,label:`${O[M]}: ${A.description||E}`})})}),[{value:"",label:"Select a budget item (optional)"},...b]},[u.projectId,o]),j=N=>{N.preventDefault(),i(u)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:s.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:s.jsxs("form",{onSubmit:j,children:[s.jsx("div",{className:"flex justify-between items-start mb-6 border-b pb-4 text-slate-800",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:u.id?"Edit Task":"Add New Task"}),u.taskCode&&s.jsxs("p",{className:"text-sm text-slate-500 font-mono mt-1",children:["Task ID: ",u.taskCode]})]})}),s.jsxs("div",{className:"space-y-5",children:[s.jsx(lt,{label:"Task Title",htmlFor:"title",required:!0,children:s.jsx(Et,{id:"title",value:u.title,onChange:N=>g("title",N.target.value)})}),s.jsx(lt,{label:"Task Type",htmlFor:"taskType",required:!0,children:s.jsx(na,{id:"taskType",value:u.taskType,onChange:N=>h(N.target.value),options:Jg})}),s.jsx(lt,{label:"Description",htmlFor:"description",children:s.jsx(pn,{id:"description",rows:3,value:u.description,onChange:N=>g("description",N.target.value),wordLimit:150})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsx(lt,{label:"Project",htmlFor:"project",required:!0,children:s.jsx(na,{id:"project",value:u.projectId,onChange:N=>v(N.target.value),options:[{value:"",label:"Select a project"},...o.map(N=>({value:N.id,label:N.projectTitle}))]})}),s.jsx(lt,{label:"Assigned To",htmlFor:"member",children:s.jsx(na,{id:"member",value:u.assignedMemberId,onChange:N=>g("assignedMemberId",N.target.value),options:[{value:"",label:"Unassigned"},...d.map(N=>({value:N.id,label:`${N.firstName} ${N.lastName}`}))]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[s.jsx(lt,{label:"Status",htmlFor:"status",children:s.jsx(na,{id:"status",value:u.status,onChange:N=>g("status",N.target.value),options:Qg})}),s.jsx(lt,{label:"Start Date",htmlFor:"startDate",children:s.jsx(Et,{type:"date",id:"startDate",value:u.startDate,onChange:N=>g("startDate",N.target.value)})}),s.jsx(lt,{label:"Due Date",htmlFor:"dueDate",children:s.jsx(Et,{type:"date",id:"dueDate",value:u.dueDate,onChange:N=>g("dueDate",N.target.value)})})]}),u.taskType==="Time-Based"&&s.jsxs("div",{className:"bg-slate-100 p-4 rounded-md border border-slate-200",children:[s.jsx("h4",{className:"text-md font-semibold text-slate-700 mb-3",children:"Time & Budget"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.jsx(lt,{label:"Estimated Hours",htmlFor:"estimatedHours",children:s.jsx(Et,{type:"number",id:"estimatedHours",value:u.estimatedHours||"",onChange:N=>g("estimatedHours",parseFloat(N.target.value)||0),step:"0.5"})})}),s.jsx(lt,{label:"Budget Line Item",htmlFor:"budgetItemId",children:s.jsx(na,{id:"budgetItemId",value:u.budgetItemId,onChange:N=>g("budgetItemId",N.target.value),options:S,disabled:!u.projectId})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsx(lt,{label:"Work Type",htmlFor:"workType",children:s.jsx(na,{id:"workType",value:u.workType,onChange:N=>g("workType",N.target.value),options:Zg})}),s.jsx(lt,{label:u.workType==="Paid"?"Hourly Rate ($)":"Hourly Value ($)",htmlFor:"hourlyRate",instructions:u.workType!=="Paid"&&"Assign a monetary value for in-kind/volunteer contributions for reporting.",children:s.jsx(Et,{type:"number",id:"hourlyRate",value:u.hourlyRate||"",onChange:N=>g("hourlyRate",parseFloat(N.target.value)||0),step:"0.01"})})]})]})]}),s.jsxs("div",{className:"mt-8 flex justify-end space-x-3 border-t pt-5",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Task"})]})]})})})},g2=({activity:n,onSave:i,onCancel:r,selectedProjectId:o})=>{const{state:{tasks:d,members:u,projects:m}}=ma(),g=()=>{if(n.taskId){const R=d.find(le=>le.id===n.taskId);return(R==null?void 0:R.projectId)||o}return o},[h,v]=ye.useState(g()),[S,j]=ye.useState([]),[N,b]=ye.useState({...n,memberIds:n.memberId?[n.memberId]:[]}),T=!!n.id,O=N.startTime&&N.endTime;ye.useEffect(()=>{if(N.startTime&&N.endTime){const R=new Date(`1970-01-01T${N.startTime}:00Z`),le=new Date(`1970-01-01T${N.endTime}:00Z`);if(le>R){const C=(le.getTime()-R.getTime())/(1e3*60*60),H=Math.round(C*4)/4;b(Y=>({...Y,hours:H}))}else b(k=>({...k,hours:0}))}},[N.startTime,N.endTime]),ye.useEffect(()=>{if(!h){j([{value:"",label:"Select a project first"}]);return}const R=d.filter(k=>k.projectId===h&&k.taskType==="Time-Based");if(R.length===0){j([{value:"",label:"No time-based tasks in project"}]);return}const le=[{value:"",label:"Select a task"},...R.map(k=>({value:k.id,label:`${k.taskCode}: ${k.title}`}))];j(le)},[h,d]);const M=(R,le)=>{b(k=>({...k,[R]:le}))},A=R=>{b(le=>({...le,memberIds:R}))},E=R=>{v(R),M("taskId","")},P=ye.useMemo(()=>[{value:"",label:"Select a project"},...m.map(R=>({value:R.id,label:R.projectTitle}))],[m]),G=R=>{if(R.preventDefault(),!N.taskId){alert("Please select a task.");return}if(N.memberIds.length===0){alert("Please select at least one member.");return}const le={...N,memberId:N.memberIds[0]};i(le)},Q=ye.useMemo(()=>u.map(R=>({value:R.id,label:`${R.firstName} ${R.lastName}`})),[u]),ne=ye.useMemo(()=>{if(T&&N.memberId){const R=u.find(le=>le.id===N.memberId);return R?`${R.firstName} ${R.lastName}`:"Unknown Member"}return""},[T,N.memberId,u]),z=!T&&N.memberIds.length>1,B=(N.hours||0)*N.memberIds.length;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:s.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:s.jsxs("form",{onSubmit:G,children:[s.jsx("h3",{className:"text-2xl font-bold mb-6 border-b pb-4 text-slate-800",children:T?"Edit Activity":"Add New Activity"}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsx(lt,{label:"Project",htmlFor:"project",required:!0,children:s.jsx(na,{id:"project",value:h,onChange:R=>E(R.target.value),options:P,disabled:T})}),s.jsx(lt,{label:"Task",htmlFor:"task",required:!0,instructions:"Note: Only Time-Based tasks are shown. Milestones cannot have time logged against them.",children:s.jsx(na,{id:"task",value:N.taskId,onChange:R=>M("taskId",R.target.value),options:S,disabled:T||!h})})]}),s.jsx(lt,{label:"Member(s)",htmlFor:"member",required:!0,instructions:T?"Each activity is a unique record. To change the member, please create a new activity.":null,children:T?s.jsx(Et,{value:ne,disabled:!0}):s.jsx("div",{className:"max-h-36 overflow-y-auto p-2 border border-slate-300 rounded-md bg-white",children:s.jsx(Xu,{name:"members",options:Q,selectedValues:N.memberIds,onChange:A,columns:3})})}),s.jsx(lt,{label:"Description",htmlFor:"description",children:s.jsx(pn,{id:"description",rows:4,value:N.description,onChange:R=>M("description",R.target.value),wordLimit:200})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsx(lt,{label:"Start Date",htmlFor:"startDate",required:!0,children:s.jsx(Et,{type:"date",id:"startDate",value:N.startDate,onChange:R=>M("startDate",R.target.value)})}),s.jsx(lt,{label:"End Date",htmlFor:"endDate",required:!0,children:s.jsx(Et,{type:"date",id:"endDate",value:N.endDate,onChange:R=>M("endDate",R.target.value)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[s.jsx(lt,{label:"Start Time",htmlFor:"startTime",instructions:"Optional",children:s.jsx(Et,{type:"time",id:"startTime",value:N.startTime||"",onChange:R=>M("startTime",R.target.value)})}),s.jsx(lt,{label:"End Time",htmlFor:"endTime",instructions:"Optional",children:s.jsx(Et,{type:"time",id:"endTime",value:N.endTime||"",onChange:R=>M("endTime",R.target.value)})}),s.jsx(lt,{label:`Hours Spent ${T?"":"(each)"}`,htmlFor:"hours",required:!0,children:s.jsx(Et,{type:"number",id:"hours",value:N.hours||"",onChange:R=>M("hours",parseFloat(R.target.value)||0),step:"0.25",disabled:!!O,title:O?"Hours are calculated automatically from start/end times":"Enter hours spent"})})]}),z&&s.jsxs("div",{className:"bg-teal-50 text-teal-800 p-3 rounded-md text-center text-sm border border-teal-200",children:["This will create ",s.jsx("span",{className:"font-bold",children:N.memberIds.length})," separate activity logs for a total of ",s.jsxs("span",{className:"font-bold",children:[B.toFixed(2)," hours"]}),"."]})]}),N.createdAt&&s.jsxs("div",{className:"mt-6 text-xs text-slate-400 text-center border-t pt-4",children:[s.jsxs("span",{children:["Created: ",new Date(N.createdAt).toLocaleString()]}),N.updatedAt&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:"|"}),s.jsxs("span",{children:["Last Updated: ",new Date(N.updatedAt).toLocaleString()]})]})]}),s.jsxs("div",{className:"mt-8 flex justify-end space-x-3 border-t pt-5",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Activity"})]})]})})})},Vo=({isOpen:n,onClose:i,onConfirm:r,title:o,message:d,confirmButtonText:u="Confirm",cancelButtonText:m="Cancel"})=>n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4 transition-opacity","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:s.jsx("i",{className:"fa-solid fa-triangle-exclamation h-6 w-6 text-red-600","aria-hidden":"true"})}),s.jsxs("div",{className:"ml-4 text-left",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800",id:"modal-title",children:o}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-slate-600",children:d})})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:m}),s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:u})]})]})}):null,p5=n=>{const i="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",r={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${i} ${r[n]||r.Backlog}`},m5=n=>`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${{Approved:"bg-green-100 text-green-800",Pending:"bg-yellow-100 text-yellow-800"}[n]}`,ym=n=>!n.isComplete&&n.dueDate&&new Date(n.dueDate)<new Date,g5=({project:n})=>{const{state:i,dispatch:r,notify:o}=ma(),{tasks:d,activities:u,members:m}=i,[g,h]=ye.useState(!1),[v,S]=ye.useState(null),[j,N]=ye.useState(!1),[b,T]=ye.useState(null),[O,M]=ye.useState(!1),[A,E]=ye.useState(null),[P,G]=ye.useState(new Set),[Q,ne]=ye.useState("updatedAt"),[z,B]=ye.useState("desc"),[R,le]=ye.useState("all"),k=ye.useMemo(()=>new Map(m.map(de=>[de.id,`${de.firstName} ${de.lastName}`])),[m]),C=ye.useMemo(()=>{let de=d.filter(ke=>ke.projectId===n.id);if(R!=="all"){const ke=new Date,Oe=new Date(ke.getTime()+7*24*60*60*1e3);de=de.filter(Ge=>R==="overdue"?ym(Ge):R==="dueThisWeek"?Ge.dueDate&&new Date(Ge.dueDate)>=ke&&new Date(Ge.dueDate)<=Oe:R==="todo"?Ge.status==="To Do":R==="inProgress"?Ge.status==="In Progress":R==="done"?Ge.status==="Done":!0)}return de.sort((ke,Oe)=>{let Ge=0;switch(Q){case"dueDate":Ge=(ke.dueDate?new Date(ke.dueDate).getTime():1/0)-(Oe.dueDate?new Date(Oe.dueDate).getTime():1/0);break;case"assignee":Ge=(k.get(ke.assignedMemberId)||"Z").localeCompare(k.get(Oe.assignedMemberId)||"Z");break;case"updatedAt":default:Ge=(Oe.updatedAt?new Date(Oe.updatedAt).getTime():0)-(ke.updatedAt?new Date(ke.updatedAt).getTime():0);break}return z==="asc"?Ge:-Ge})},[d,n.id,Q,z,R,k]),H=ye.useMemo(()=>new Set(C.map(de=>de.id)),[C]),Y=ye.useMemo(()=>u.filter(de=>H.has(de.taskId)),[u,H]),ue=ye.useMemo(()=>{const de=new Map;return Y.forEach(ke=>{const Oe=de.get(ke.taskId)||[];Oe.push(ke),de.set(ke.taskId,Oe)}),de},[Y]),F=de=>{G(ke=>{const Oe=new Set(ke);return Oe.has(de)?Oe.delete(de):Oe.add(de),Oe})},W=()=>{const de=(n.projectTitle.match(/\b(\w)/g)||["T"]).join("").toUpperCase().substring(0,4),ke=d.filter(Je=>Je.projectId===n.id&&Je.taskCode.startsWith(de));let Oe=0;ke.forEach(Je=>{const Pe=Je.taskCode.split("-")[1];if(Pe){const fe=parseInt(Pe,10);!isNaN(fe)&&fe>Oe&&(Oe=fe)}});const Ge=`${de}-${Oe+1}`,We={...a2,id:`task_${Date.now()}`,projectId:n.id,taskCode:Ge};S(We),h(!0)},ee=de=>{S(de),h(!0)},re=de=>{const ke=!d.find(We=>We.id===de.id),Oe=new Date().toISOString(),Ge={...de,updatedAt:Oe};r({type:ke?"ADD_TASK":"UPDATE_TASK",payload:Ge}),o(ke?"Task created!":"Task updated!","success"),h(!1),S(null)},_=de=>{const ke=d.find(Oe=>Oe.id===de);if(ke){const Oe={...ke,isComplete:!ke.isComplete,status:ke.isComplete?"To Do":"Done",updatedAt:new Date().toISOString()};r({type:"UPDATE_TASK",payload:Oe}),o(ke.isComplete?`Task '${ke.title}' marked as incomplete.`:`Task '${ke.title}' marked as complete.`,"success")}},ie=de=>{const ke={...Gh,taskId:de};T(ke),N(!0)},D=de=>{T(de),N(!0)},V=de=>{const ke=new Date().toISOString();if(de.id&&de.createdAt){const{memberIds:Ge,...We}=de,Je={...We,updatedAt:ke};r({type:"UPDATE_ACTIVITY",payload:Je}),o("Activity updated!","success")}else if(de.memberIds&&de.memberIds.length>0){const{memberIds:Ge,...We}=de,Je=Ge.map(Pe=>({...We,id:`act_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,memberId:Pe,status:"Pending",createdAt:ke,updatedAt:ke}));r({type:"ADD_ACTIVITIES",payload:Je}),o(`${Je.length} new activity log(s) created!`,"success")}N(!1),T(null)},J=de=>{r({type:"APPROVE_ACTIVITY",payload:de}),o("Activity approved.","success")},se=(de,ke)=>{E({id:de,type:ke}),M(!0)},te=()=>{A&&(A.type==="task"?(r({type:"DELETE_TASK",payload:A.id}),o("Task and related activities deleted.","success")):(r({type:"DELETE_ACTIVITY",payload:A.id}),o("Activity deleted.","success")),M(!1),E(null))},pe=de=>{const ke=m.find(Oe=>Oe.id===de);return ke?`${ke.firstName} ${ke.lastName}`:"Unknown"},me=ye.useMemo(()=>A?A.type==="task"?"Are you sure you want to delete this task? All associated time logs will also be permanently deleted. This cannot be undone.":"Are you sure you want to delete this activity log?":"",[A]);return s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Project Workplan"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-48",children:s.jsx(na,{value:R,onChange:de=>le(de.target.value),options:i2})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(na,{className:"rounded-r-none",value:Q,onChange:de=>ne(de.target.value),options:n2}),s.jsx("button",{onClick:()=>B(de=>de==="asc"?"desc":"asc"),className:"px-3 py-2 bg-slate-200 text-slate-600 rounded-r-md border-y border-r border-slate-400 hover:bg-slate-300 h-full",title:`Sort direction: ${z==="asc"?"Ascending":"Descending"}`,children:s.jsx("i",{className:`fa-solid ${z==="asc"?"fa-arrow-up":"fa-arrow-down"}`})})]}),s.jsxs("button",{onClick:W,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add Task"]})]})]}),C.length===0?s.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-lg",children:[s.jsx("i",{className:"fa-solid fa-list-check text-6xl text-slate-300"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No tasks for this project yet."}),s.jsx("p",{className:"text-slate-500 mt-1",children:'Click "Add Task" to get started.'})]}):s.jsx("div",{className:"space-y-3",children:C.map(de=>{const ke=ue.get(de.id)||[],Oe=P.has(de.id),Ge=de.taskType==="Milestone",We=ym(de);return s.jsxs("div",{className:`bg-slate-50 rounded-lg border transition-shadow hover:shadow-md ${We?"border-red-300 bg-red-50":"border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center p-3",children:[s.jsx("button",{onClick:()=>F(de.id),className:"p-2 rounded-full hover:bg-slate-200",children:s.jsx("i",{className:`fa-solid fa-chevron-right text-xs text-slate-500 transition-transform ${Oe?"rotate-90":""}`})}),s.jsxs("div",{className:"flex-grow mx-3",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:de.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded mr-2",children:de.taskCode}),pe(de.assignedMemberId),We&&s.jsx("span",{className:"ml-2 text-red-600 font-bold text-xs",children:"OVERDUE"})]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 sm:gap-4",children:[Ge?s.jsxs("div",{className:"flex items-center mr-4",children:[s.jsx("input",{type:"checkbox",id:`hub-complete-${de.id}`,checked:de.isComplete,onChange:()=>_(de.id),className:"h-5 w-5 text-teal-600 border-slate-300 rounded focus:ring-teal-500 cursor-pointer"}),s.jsx("label",{htmlFor:`hub-complete-${de.id}`,className:"ml-2 text-sm font-medium text-slate-700 cursor-pointer",children:de.isComplete?"Complete":"Incomplete"})]}):s.jsx("span",{className:p5(de.status),children:de.status}),s.jsx("button",{onClick:()=>ie(de.id),className:"px-2 py-1 text-xs font-semibold text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:"Log Time"}),s.jsx("button",{onClick:()=>ee(de),className:"p-2 text-slate-500 hover:text-teal-600",children:s.jsx("i",{className:"fa-solid fa-pencil"})}),s.jsx("button",{onClick:()=>se(de.id,"task"),className:"p-2 text-slate-500 hover:text-red-600",children:s.jsx("i",{className:"fa-solid fa-trash-alt"})})]})]}),Oe&&s.jsx("div",{className:"border-t border-slate-200 bg-white",children:ke.length>0?s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"sr-only",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Member"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Hours"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:ke.map(Je=>s.jsxs("tr",{children:[s.jsx("td",{className:"p-3 w-1/3",children:Je.description}),s.jsx("td",{className:"p-3",children:pe(Je.memberId)}),s.jsx("td",{className:"p-3",children:new Date(Je.endDate).toLocaleDateString()}),s.jsxs("td",{className:"p-3 font-semibold",children:[Je.hours,"h"]}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:m5(Je.status),children:Je.status})}),s.jsxs("td",{className:"p-3 text-right space-x-3",children:[Je.status==="Pending"&&s.jsx("button",{onClick:()=>J(Je.id),className:"font-semibold text-green-600 hover:text-green-800",children:"Approve"}),s.jsx("button",{onClick:()=>D(Je),className:"font-semibold text-teal-600 hover:text-teal-800",children:"Edit"}),s.jsx("button",{onClick:()=>se(Je.id,"activity"),className:"font-semibold text-red-600 hover:text-red-800",children:"Delete"})]})]},Je.id))})]}):s.jsx("p",{className:"p-6 text-center text-slate-500 italic",children:"No time has been logged for this task yet."})})]},de.id)})}),g&&v&&s.jsx(m2,{task:v,onSave:re,onCancel:()=>h(!1)}),j&&b&&s.jsx(g2,{activity:b,onSave:V,onCancel:()=>N(!1),selectedProjectId:n.id}),O&&s.jsx(Vo,{isOpen:O,onClose:()=>M(!1),onConfirm:te,title:`Delete ${A==null?void 0:A.type}`,message:me,confirmButtonText:`Delete ${A==null?void 0:A.type}`})]})},_h=n=>n.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),kh=({icon:n,value:i,label:r,color:o})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center gap-4 border-l-4",style:{borderLeftColor:o},children:[s.jsx("div",{className:"w-10 h-10 flex-shrink-0 rounded-full flex items-center justify-center",style:{backgroundColor:`${o}20`},children:s.jsx("i",{className:`${n} text-xl`,style:{color:o}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:i}),s.jsx("div",{className:"text-sm font-medium text-slate-500",children:r})]})]}),v5=({value:n,max:i,color:r="bg-teal-500",height:o="h-2"})=>{const d=i>0?Math.min(n/i*100,100):0;return s.jsx("div",{className:`w-full bg-slate-200 rounded-full ${o}`,children:s.jsx("div",{className:`${r} ${o} rounded-full transition-all duration-500`,style:{width:`${d}%`}})})},b5=({project:n})=>{const{state:{activities:i,directExpenses:r,members:o,tasks:d}}=ma(),[u,m]=ye.useState("all"),g=ye.useMemo(()=>new Map(o.map(T=>[T.id,T])),[o]),h=ye.useMemo(()=>d.filter(T=>T.projectId===n.id),[d,n.id]),v=ye.useMemo(()=>new Map(h.map(T=>[T.id,T])),[h]),S=ye.useMemo(()=>{const T=new Date;let O;switch(u){case"last7days":O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-7);break;case"last30days":O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-30);break;case"thisMonth":O=new Date(T.getFullYear(),T.getMonth(),1);break;case"all":default:O=new Date(0);break}O.setHours(0,0,0,0);const M=new Set(h.map(P=>P.id)),A=i.filter(P=>M.has(P.taskId)?new Date(P.endDate)>=O:!1),E=r.filter(P=>P.projectId!==n.id?!1:new Date(P.date)>=O);return{filteredActivities:A,filteredExpenses:E}},[u,i,r,h,n.id]),j=ye.useMemo(()=>{let T=0,O=0;const M=new Set;return S.filteredActivities.forEach(A=>{if(A.status!=="Approved")return;const E=v.get(A.taskId);E&&(T+=A.hours,M.add(A.memberId),E.workType==="Paid"&&(O+=A.hours*E.hourlyRate))}),S.filteredExpenses.forEach(A=>{O+=A.amount}),{totalHours:T,totalPaidExpenses:O,activeMembersCount:M.size}},[S,v]),N=ye.useMemo(()=>n.collaboratorDetails.map(T=>{const O=g.get(T.memberId);if(!O)return null;const M=h.filter(z=>z.assignedMemberId===T.memberId),A=new Set(M.map(z=>z.id)),E=M.reduce((z,B)=>z+(B.estimatedHours||0),0);let P=0,G=0,Q=0;return S.filteredActivities.filter(z=>z.memberId===T.memberId&&A.has(z.taskId)&&z.status==="Approved").forEach(z=>{const B=v.get(z.taskId);B&&(P+=z.hours,B.workType==="Paid"?G+=z.hours:Q+=z.hours)}),{memberId:T.memberId,name:`${O.firstName} ${O.lastName}`,imageUrl:O.imageUrl,totalLoggedHours:P,paidHours:G,inKindHours:Q,totalEstimatedHours:E}}).filter(T=>T!==null),[n.collaboratorDetails,h,S.filteredActivities,g,v]),b=ye.useMemo(()=>{const T=S.filteredActivities.filter(M=>M.status==="Approved").map(M=>({type:"activity",date:new Date(M.endDate),item:M})),O=S.filteredExpenses.map(M=>({type:"expense",date:new Date(M.date),item:M}));return[...T,...O].sort((M,A)=>A.date.getTime()-M.date.getTime())},[S]);return s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Activity & Insights"}),s.jsx("div",{className:"w-56",children:s.jsx(na,{options:a5,value:u,onChange:T=>m(T.target.value)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(kh,{icon:"fa-solid fa-clock",value:j.totalHours.toFixed(1)+"h",label:"Hours Logged",color:"#14b8a6"}),s.jsx(kh,{icon:"fa-solid fa-hand-holding-dollar",value:_h(j.totalPaidExpenses),label:"Paid Expenses",color:"#3b82f6"}),s.jsx(kh,{icon:"fa-solid fa-users",value:j.activeMembersCount,label:"Active Members",color:"#8b5cf6"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Detailed Activity Feed"}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm max-h-[600px] overflow-y-auto",children:b.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12 italic",children:"No approved activities or expenses in this period."}):s.jsx("ul",{className:"divide-y divide-slate-200",children:b.map((T,O)=>s.jsxs("li",{className:"p-4 flex items-start gap-4",children:[s.jsxs("div",{className:"flex-shrink-0 w-12 text-center",children:[s.jsx("div",{className:"text-lg font-bold text-slate-700",children:T.date.toLocaleDateString(void 0,{day:"numeric"})}),s.jsx("div",{className:"text-xs text-slate-500 uppercase",children:T.date.toLocaleDateString(void 0,{month:"short"})})]}),s.jsx("div",{className:"flex-grow border-l border-slate-200 pl-4",children:T.type==="activity"?(()=>{const M=v.get(T.item.taskId),A=(M==null?void 0:M.workType)==="Paid",E=A?T.item.hours*((M==null?void 0:M.hourlyRate)||0):0,P=g.get(T.item.memberId);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:M==null?void 0:M.title}),s.jsxs("span",{className:"text-lg font-bold text-teal-600",children:[T.item.hours,"h",A&&E>0&&s.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",_h(E),")"]})]})]}),s.jsx("p",{className:"text-sm text-slate-600",children:T.item.description}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Logged by: ",P==null?void 0:P.firstName]})]})})():s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:"Direct Expense"}),s.jsx("span",{className:"text-lg font-bold text-blue-600",children:_h(T.item.amount)})]}),s.jsx("p",{className:"text-sm text-slate-600",children:T.item.description})]})})]},O))})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Contributor Breakdown"}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-4",children:N.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12 italic",children:"No collaborators found for this project."}):N.map(T=>s.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:T.imageUrl||`https://ui-avatars.com/api/?name=${T.name}&background=random`,alt:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800",children:T.name}),s.jsxs("p",{className:"text-xs text-slate-500 font-semibold",children:[T.totalLoggedHours.toFixed(1)," Total Hours Logged"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center text-xs mb-3",children:[s.jsxs("div",{className:"bg-blue-100 text-blue-800 p-1.5 rounded",children:[s.jsxs("div",{className:"font-bold",children:[T.paidHours.toFixed(1),"h"]}),s.jsx("div",{children:"Paid"})]}),s.jsxs("div",{className:"bg-purple-100 text-purple-800 p-1.5 rounded",children:[s.jsxs("div",{className:"font-bold",children:[T.inKindHours.toFixed(1),"h"]}),s.jsx("div",{children:"In-Kind"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 mb-1",children:[s.jsx("span",{children:"Effort vs Estimate"}),s.jsxs("span",{children:[T.totalLoggedHours.toFixed(1),"h / ",T.totalEstimatedHours.toFixed(1),"h"]})]}),s.jsx(v5,{value:T.totalLoggedHours,max:T.totalEstimatedHours})]})]},T.memberId))})]})]})]})},x5=({project:n,onBack:i,onSave:r})=>{const{state:{tasks:o,activities:d,directExpenses:u}}=ma(),[m,g]=ye.useState("info"),h=ye.useMemo(()=>o.filter(b=>b.projectId===n.id),[o,n.id]),v=ye.useMemo(()=>{const b=new Set(h.map(T=>T.id));return d.filter(T=>b.has(T.taskId))},[d,h]),S=ye.useMemo(()=>u.filter(b=>b.projectId===n.id),[u,n.id]),j=[{id:"info",label:"Project Info",icon:"fa-solid fa-circle-info"},{id:"collaborators",label:"Collaborators",icon:"fa-solid fa-users"},{id:"budget",label:"Budget vs. Actuals",icon:"fa-solid fa-chart-pie"},{id:"workplan",label:"Workplan & Tasks",icon:"fa-solid fa-list-check"},{id:"insights",label:"Activity & Insights",icon:"fa-solid fa-chart-line"}],N=()=>{switch(m){case"info":return s.jsx(xm,{project:n});case"collaborators":return s.jsx(d5,{project:n});case"budget":return s.jsx(h5,{project:n,onSave:r,tasks:h,activities:v,directExpenses:S});case"workplan":return s.jsx(g5,{project:n});case"insights":return s.jsx(b5,{project:n});default:return s.jsx(xm,{project:n})}};return s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-5",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n.projectTitle}),s.jsxs("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 shadow-sm",children:[s.jsx("i",{className:"fa fa-arrow-left mr-2"}),"Back to List"]})]}),s.jsx("div",{className:"border-b border-slate-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:j.map(b=>s.jsxs("button",{type:"button",onClick:()=>g(b.id),className:`group whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md flex items-center gap-2 ${m===b.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":m===b.id?"page":void 0,children:[s.jsx("i",{className:`${b.icon} ${m===b.id?"text-teal-600":"text-slate-400 group-hover:text-slate-600"}`}),b.label]},b.id))})}),s.jsx("div",{children:N()})]})},y5=({onNavigate:n})=>{const{state:i,dispatch:r,notify:o}=ma(),{projects:d}=i,[u,m]=ye.useState("list"),[g,h]=ye.useState(null),[v,S]=ye.useState(!1),[j,N]=ye.useState(null),[b,T]=ye.useState(!1),[O,M]=ye.useState(null),A=()=>{const k={...Yg,id:`proj_${Date.now()}`,projectTitle:"New Project"};h(k),m("edit")},E=k=>{const C=d.find(H=>H.id===k);C&&(h(C),m("view"))},P=k=>{const C=d.find(H=>H.id===k);C&&(h(C),m("edit"))},G=k=>{N(k),S(!0)},Q=()=>{j&&(r({type:"DELETE_PROJECT",payload:j}),o("Project and all associated data deleted.","success"),m("list"),h(null),S(!1),N(null))},ne=k=>{const C=!d.find(ue=>ue.id===k.id),H=d.find(ue=>ue.id===k.id),Y=C?[...d,k]:d.map(ue=>ue.id===k.id?k:ue);r({type:"SET_PROJECTS",payload:Y}),H&&H.status!=="Completed"&&k.status==="Completed"&&(M(k.id),T(!0)),u==="edit"?(o(C?"Project created successfully!":"Project saved successfully!","success"),m("list"),h(null)):u==="view"&&(o("Project updated successfully!","success"),h(k))},z=()=>{m("list"),h(null)},B=(k,C)=>{const H=d.find(Y=>Y.id===k);r({type:"UPDATE_PROJECT_STATUS",payload:{projectId:k,status:C}}),o(`Project status updated to ${C}.`,"success"),H&&H.status!=="Completed"&&C==="Completed"&&(M(k),T(!0))},R=()=>{O&&(r({type:"SET_REPORT_PROJECT_ID_TO_OPEN",payload:O}),n("reports"),T(!1),M(null))},le=()=>{switch(u){case"edit":return g&&s.jsx(u5,{project:g,onSave:ne,onCancel:z},g.id);case"view":return g&&s.jsx(x5,{project:g,onBack:z,onSave:ne});case"list":default:return s.jsx(r5,{projects:d,onAddProject:A,onEditProject:P,onDeleteProject:G,onViewProject:E,onUpdateProjectStatus:B})}};return s.jsx("div",{className:"font-sans text-slate-800",children:s.jsxs("main",{className:"w-full",children:[le(),v&&s.jsx(Vo,{isOpen:v,onClose:()=>S(!1),onConfirm:Q,title:"Delete Project",message:s.jsxs(s.Fragment,{children:["Are you sure you want to delete this project?",s.jsx("br",{}),s.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})," All associated tasks, activities, and expenses will also be permanently deleted."]}),confirmButtonText:"Delete Project"}),b&&s.jsx(Vo,{isOpen:b,onClose:()=>T(!1),onConfirm:R,title:"Project Complete",message:"This project is now complete. Would you like to generate the final report now?",confirmButtonText:"Generate Report",cancelButtonText:"Later"})]})})},Ic=n=>n.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),Fc=({icon:n,value:i,label:r,color:o})=>s.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md flex items-center gap-4 border-l-4",style:{borderLeftColor:o},children:[s.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center",style:{backgroundColor:`${o}20`},children:s.jsx("i",{className:`${n} text-2xl`,style:{color:o}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-slate-800",children:i}),s.jsx("div",{className:"text-sm font-medium text-slate-500",children:r})]})]}),zu=({title:n,icon:i,children:r,className:o=""})=>s.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 ${o}`,children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 pb-3 border-b border-slate-200 flex items-center gap-3",children:[s.jsx("i",{className:`${i} text-teal-600`}),s.jsx("span",{children:n})]}),s.jsx("div",{className:"space-y-4",children:r})]}),w5=({onNavigate:n})=>s.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[s.jsx("i",{className:"fa-solid fa-rocket text-7xl text-teal-500"}),s.jsx("h1",{className:"mt-6 text-4xl font-bold text-slate-800",children:"Welcome to The Arts Incubator!"}),s.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool is designed to help you manage your artistic projects from concept to completion. Ready to get started?"}),s.jsxs("div",{className:"mt-8 flex justify-center items-center gap-4",children:[s.jsxs("button",{onClick:()=>n("projects"),className:"px-6 py-3 text-lg font-semibold text-white bg-teal-600 border border-transparent rounded-md shadow-lg hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-transform hover:scale-105",children:[s.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Create Your First Project"]}),s.jsxs("button",{onClick:()=>n("detailedSampleData"),className:"px-6 py-3 text-lg font-semibold text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-transform hover:scale-105",children:[s.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"Explore with Sample Data"]})]})]}),j5=({onNavigate:n})=>{const{state:i,dispatch:r}=ma(),{projects:o,members:d,tasks:u,activities:m,directExpenses:g}=i,h=ye.useMemo(()=>new Map(u.map(b=>[b.id,b])),[u]),v=ye.useMemo(()=>new Map(o.map(b=>[b.id,b.projectTitle])),[o]),S=ye.useMemo(()=>new Map(d.map(b=>[b.id,{name:`${b.firstName} ${b.lastName}`,imageUrl:b.imageUrl}])),[d]),j=ye.useMemo(()=>{const b=m.filter(_=>_.status==="Approved"),T=o.filter(_=>_.status==="Active").length,O=o.filter(_=>_.status==="Completed").length,M=new Date,A=new Date(M.getTime()+7*24*60*60*1e3),P=u.filter(_=>{const ie=o.find(D=>D.id===_.projectId);return(ie==null?void 0:ie.status)==="Active"}).filter(_=>{if(_.isComplete||!_.dueDate)return!1;const ie=new Date(_.dueDate);return ie>=M&&ie<=A}),G=new Set(o.filter(_=>["Active","On Hold"].includes(_.status)).map(_=>_.id)),Q=m.filter(_=>{const ie=h.get(_.taskId);return _.status==="Pending"&&ie&&G.has(ie.projectId)}),ne=o.filter(_=>["Active","On Hold"].includes(_.status)),z=new Set(ne.map(_=>_.id)),B=new Set(u.filter(_=>z.has(_.projectId)).map(_=>_.id)),R=_=>Object.values(_.expenses).flat().reduce((ie,D)=>ie+(D.amount||0),0),le=ne.reduce((_,ie)=>_+R(ie.budget),0),k=b.filter(_=>{var ie;return B.has(_.taskId)&&((ie=h.get(_.taskId))==null?void 0:ie.workType)==="Paid"}).reduce((_,ie)=>{var D;return _+(ie.hours||0)*(((D=h.get(ie.taskId))==null?void 0:D.hourlyRate)||0)},0)+g.filter(_=>z.has(_.projectId)).reduce((_,ie)=>_+ie.amount,0),C=o.filter(_=>["Active","On Hold","Completed"].includes(_.status)),H=new Set(C.map(_=>_.id)),Y=new Set(u.filter(_=>H.has(_.projectId)).map(_=>_.id)),ue=C.reduce((_,ie)=>{const D=ie.budget,V=D.revenues.grants.reduce((me,de)=>me+(de.actualAmount||0),0),J=D.revenues.tickets.actualTotalTickets||0,se=D.revenues.sales.reduce((me,de)=>me+(de.actualAmount||0),0),te=D.revenues.fundraising.reduce((me,de)=>me+(de.actualAmount||0),0),pe=D.revenues.contributions.reduce((me,de)=>me+(de.actualAmount||0),0);return _+V+J+se+te+pe},0),F=b.filter(_=>{var ie;return Y.has(_.taskId)&&((ie=h.get(_.taskId))==null?void 0:ie.workType)==="Paid"}).reduce((_,ie)=>{var D;return _+(ie.hours||0)*(((D=h.get(ie.taskId))==null?void 0:D.hourlyRate)||0)},0)+g.filter(_=>H.has(_.projectId)).reduce((_,ie)=>_+ie.amount,0),W=b.reduce((_,ie)=>_+(ie.hours||0),0),ee=new Map;b.forEach(_=>{ee.set(_.memberId,(ee.get(_.memberId)||0)+(_.hours||0))});const re=Array.from(ee.entries()).map(([_,ie])=>({memberId:_,hours:ie})).sort((_,ie)=>ie.hours-_.hours).slice(0,5);return{activeProjectsCount:T,completedProjectsCount:O,tasksDueThisWeek:P,pendingActivities:Q,totalBudgetedExpenses:le,totalActualPaidExpenses:k,totalLifetimeActualRevenue:ue,totalLifetimeActualExpenses:F,totalHoursAllTime:W,topContributors:re}},[o,u,m,g,h]);if(o.length===0)return s.jsx(w5,{onNavigate:n});const N=j.topContributors.length>0?j.topContributors[0].hours:1;return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Global Dashboard"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"A high-level overview of all collective activity."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-8",children:[s.jsx(Fc,{icon:"fa-solid fa-briefcase",value:j.activeProjectsCount,label:"Active Projects",color:"#14b8a6"}),s.jsx(Fc,{icon:"fa-solid fa-check-double",value:j.completedProjectsCount,label:"Completed Projects",color:"#3b82f6"}),s.jsx(Fc,{icon:"fa-solid fa-clock-rotate-left",value:j.pendingActivities.length,label:"Pending Approvals",color:"#f97316"}),s.jsx(Fc,{icon:"fa-solid fa-list-check",value:j.tasksDueThisWeek.length,label:"Tasks Due This Week",color:"#f59e0b"}),s.jsx(Fc,{icon:"fa-solid fa-users",value:d.length,label:"Collective Members",color:"#8b5cf6"}),s.jsx(Fc,{icon:"fa-solid fa-hourglass-half",value:j.totalHoursAllTime.toFixed(1),label:"Total Hours Logged",color:"#ef4444"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx(zu,{title:"Operational Financial Snapshot (Active & On Hold Projects)",icon:"fa-solid fa-chart-pie",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Budgeted Expenses"}),s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Ic(j.totalBudgetedExpenses)})]}),s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Actual Expenses"}),s.jsx("div",{className:"text-2xl font-bold text-blue-800",children:Ic(j.totalActualPaidExpenses)})]}),s.jsxs("div",{className:"bg-slate-200 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-600 font-bold",children:"Remaining Budget"}),s.jsx("div",{className:`text-2xl font-extrabold ${j.totalBudgetedExpenses-j.totalActualPaidExpenses>=0?"text-green-600":"text-red-600"}`,children:Ic(j.totalBudgetedExpenses-j.totalActualPaidExpenses)})]})]})}),s.jsx(zu,{title:"Lifetime Financial Summary",icon:"fa-solid fa-landmark",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Lifetime Revenue"}),s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Ic(j.totalLifetimeActualRevenue)})]}),s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-500 font-semibold",children:"Total Lifetime Expenses"}),s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Ic(j.totalLifetimeActualExpenses)})]}),s.jsxs("div",{className:"bg-slate-200 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-600 font-bold",children:"Lifetime Net Result"}),s.jsx("div",{className:`text-2xl font-extrabold ${j.totalLifetimeActualRevenue-j.totalLifetimeActualExpenses>=0?"text-green-600":"text-red-600"}`,children:Ic(j.totalLifetimeActualRevenue-j.totalLifetimeActualExpenses)})]})]})}),s.jsxs(zu,{title:"Pending Approvals",icon:"fa-solid fa-clock-rotate-left",children:[j.pendingActivities.length>0?s.jsx("ul",{className:"divide-y divide-slate-200 -mx-6",children:j.pendingActivities.slice(0,5).map(b=>{var O;const T=h.get(b.taskId);return s.jsxs("li",{className:"flex items-center justify-between px-6 py-3 hover:bg-slate-50",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-slate-800",children:(T==null?void 0:T.title)||"Untitled Task"}),s.jsxs("div",{className:"text-sm text-slate-500",children:[((O=S.get(b.memberId))==null?void 0:O.name)||"Unknown"," logged ",b.hours,"h on ",new Date(b.endDate).toLocaleDateString()]})]}),s.jsxs("button",{onClick:()=>r({type:"APPROVE_ACTIVITY",payload:b.id}),className:"px-3 py-1.5 text-xs font-semibold text-white bg-green-600 rounded-full shadow-sm hover:bg-green-700 transition-colors",children:[s.jsx("i",{className:"fa-solid fa-check mr-1"})," Approve"]})]},b.id)})}):s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No activities are pending approval. Great job!"}),j.pendingActivities.length>5&&s.jsxs("p",{className:"text-center text-sm text-slate-500 mt-2",children:["...and ",j.pendingActivities.length-5," more."]})]})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsx(zu,{title:"Upcoming Deadlines (Active Projects)",icon:"fa-solid fa-calendar-check",children:j.tasksDueThisWeek.length>0?s.jsx("ul",{className:"divide-y divide-slate-200 -mx-6",children:j.tasksDueThisWeek.map(b=>{var T;return s.jsxs("li",{className:"px-6 py-3",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:b.title}),s.jsxs("div",{className:"text-sm text-slate-500",children:[s.jsx("span",{className:"font-medium text-teal-700",children:v.get(b.projectId)}),s.jsx("span",{className:"mx-1",children:"|"}),"Due: ",new Date(b.dueDate).toLocaleDateString()]}),s.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Assigned to: ",((T=S.get(b.assignedMemberId))==null?void 0:T.name)||"Unassigned"]})]},b.id)})}):s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No tasks are due in the next 7 days."})}),s.jsx(zu,{title:"Top Contributors (by Hours)",icon:"fa-solid fa-award",children:j.topContributors.length>0?s.jsx("ul",{className:"space-y-4",children:j.topContributors.map(({memberId:b,hours:T})=>{const O=S.get(b),M=T/N*100;return s.jsx("li",{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{className:"h-9 w-9 rounded-full object-cover",src:(O==null?void 0:O.imageUrl)||`https://ui-avatars.com/api/?name=${O==null?void 0:O.name}&background=random`,alt:""}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-semibold text-slate-800",children:(O==null?void 0:O.name)||"Unknown Member"}),s.jsxs("span",{className:"font-bold text-slate-600",children:[T.toFixed(1),"h"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${M}%`}})})]})]})},b)})}):s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No approved hours have been logged yet."})})]})]})]})},N5=({members:n,onAddMember:i,onEditMember:r,onDeleteMember:o,onViewMember:d})=>s.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Collective Members"}),s.jsxs("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Member"]})]}),n.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("i",{className:"fa-solid fa-users text-6xl text-slate-300"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No members have been added."}),s.jsx("p",{className:"text-slate-500 mt-1",children:'Click "Add New Member" to build your collective!'})]}):s.jsx("ul",{className:"divide-y divide-slate-200",children:n.map(u=>s.jsxs("li",{className:"py-4 flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center mb-3 sm:mb-0",children:[s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:u.imageUrl||`https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}&background=random`,alt:""}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("p",{className:"text-lg font-semibold text-teal-700 hover:underline cursor-pointer",onClick:()=>d(u.id),children:[u.firstName," ",u.lastName]}),s.jsx("p",{className:"text-sm text-slate-500",children:u.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[s.jsxs("button",{onClick:()=>d(u.id),className:"px-3 py-1 text-sm text-slate-600 bg-white hover:bg-slate-50 rounded-md border border-slate-300","aria-label":`View ${u.firstName}`,children:[s.jsx("i",{className:"fa fa-eye mr-1"}),"View"]}),s.jsxs("button",{onClick:()=>r(u.id),className:"px-3 py-1 text-sm text-slate-600 bg-white hover:bg-slate-50 rounded-md border border-slate-300","aria-label":`Edit ${u.firstName}`,children:[s.jsx("i",{className:"fa fa-pencil mr-1"}),"Edit"]}),s.jsxs("button",{onClick:()=>o(u.id),className:"px-3 py-1 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-md border border-red-200","aria-label":`Delete ${u.firstName}`,children:[s.jsx("i",{className:"fa fa-trash-alt mr-1"}),"Delete"]})]})]},u.id))})]}),S5=({member:n,onSave:i,onCancel:r})=>{const[o,d]=ye.useState(n),u=ye.useCallback((g,h)=>{d(v=>({...v,[g]:h}))},[]),m=g=>{g.preventDefault(),i(o)};return s.jsxs("form",{onSubmit:m,className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s.jsx("div",{className:"flex justify-between items-start mb-6 border-b pb-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n.id?"Edit Member":"Add New Member"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(lt,{label:"First Name",htmlFor:"firstName",required:!0,children:s.jsx(Et,{id:"firstName",value:o.firstName,onChange:g=>u("firstName",g.target.value)})}),s.jsx(lt,{label:"Last Name",htmlFor:"lastName",required:!0,children:s.jsx(Et,{id:"lastName",value:o.lastName,onChange:g=>u("lastName",g.target.value)})})]}),s.jsx(lt,{label:"Member ID / Number",htmlFor:"memberId",children:s.jsx(Et,{id:"memberId",value:o.memberId,onChange:g=>u("memberId",g.target.value)})}),s.jsx(lt,{label:"Email",htmlFor:"email",required:!0,children:s.jsx(Et,{type:"email",id:"email",value:o.email,onChange:g=>u("email",g.target.value)})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(lt,{label:"City",htmlFor:"city",children:s.jsx(Et,{id:"city",value:o.city,onChange:g=>u("city",g.target.value)})}),s.jsx(lt,{label:"Province/Territory",htmlFor:"province",children:s.jsx(na,{id:"province",options:e5,value:o.province,onChange:g=>u("province",g.target.value)})}),s.jsx(lt,{label:"Postal Code",htmlFor:"postalCode",children:s.jsx(Et,{id:"postalCode",value:o.postalCode,onChange:g=>u("postalCode",g.target.value)})})]}),s.jsx(lt,{label:"Image URL",htmlFor:"imageUrl",instructions:"A direct URL to a profile picture for this member.",children:s.jsx(Et,{id:"imageUrl",value:o.imageUrl,onChange:g=>u("imageUrl",g.target.value)})}),s.jsx(lt,{label:"Availability",htmlFor:"availability",children:s.jsx(na,{id:"availability",options:t5,value:o.availability,onChange:g=>u("availability",g.target.value)})}),s.jsx(lt,{label:"Short Bio",htmlFor:"shortBio",instructions:"A brief summary for quick reference.",children:s.jsx(pn,{id:"shortBio",rows:4,value:o.shortBio,onChange:g=>u("shortBio",g.target.value),wordLimit:250})}),s.jsx(lt,{label:"Full Artist Bio",htmlFor:"artistBio",instructions:"A more detailed biography for grant applications or press kits.",children:s.jsx(pn,{id:"artistBio",rows:8,value:o.artistBio,onChange:g=>u("artistBio",g.target.value),wordLimit:500})})]}),s.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-slate-200 mt-6 space-x-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:"Save Member"})]})]})},Qr=({label:n,value:i,children:r,className:o})=>s.jsxs("div",{className:o,children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:n}),i&&s.jsx("div",{className:"mt-1 text-slate-900",children:i}),r&&s.jsx("div",{className:"mt-1 text-slate-900 prose prose-slate max-w-none prose-p:my-1 prose-ul:my-1 whitespace-pre-wrap",children:r})]}),A5=({status:n})=>{const i={Backlog:"bg-slate-100 text-slate-800","To Do":"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800"};return s.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${i[n]||i.Backlog}`,children:n})},T5=({type:n})=>{const i={Paid:"bg-blue-100 text-blue-800","In-Kind":"bg-purple-100 text-purple-800",Volunteer:"bg-orange-100 text-orange-800"};return s.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${i[n]}`,children:n})},C5=({value:n,max:i,color:r="bg-teal-500",height:o="h-2"})=>{const d=i>0?Math.min(n/i*100,100):0;return s.jsx("div",{className:`w-full bg-slate-200 rounded-full ${o}`,children:s.jsx("div",{className:`${r} ${o} rounded-full transition-all duration-500`,style:{width:`${d}%`}})})},wm=n=>n.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),D5=n=>!n.isComplete&&n.dueDate&&new Date(n.dueDate)<new Date,L5=({member:n,onBack:i})=>{const{state:{projects:r,tasks:o,activities:d}}=ma(),[u,m]=ye.useState("profile"),[g,h]=ye.useState(new Set),v=ye.useMemo(()=>new Map(r.map(A=>[A.id,A.projectTitle])),[r]),S=ye.useMemo(()=>{const A=o.filter(E=>E.assignedMemberId===n.id);return new Map(A.map(E=>[E.id,E]))},[o,n.id]),j=ye.useMemo(()=>{const A=d.filter(B=>B.memberId===n.id&&B.status==="Approved"),E=A.reduce((B,R)=>B+(R.hours||0),0),P=new Set(r.filter(B=>B.collaboratorDetails.some(R=>R.memberId===n.id)).map(B=>B.id)),G=r.filter(B=>["Pending","Active","On Hold"].includes(B.status)&&P.has(B.id)).length,Q=r.filter(B=>["Completed","Terminated"].includes(B.status)&&P.has(B.id)).length,ne=o.filter(B=>B.assignedMemberId===n.id&&B.status==="Done").length,z=new Map;return A.forEach(B=>{const R=S.get(B.taskId);if(R){const le=z.get(R.projectId)||0;z.set(R.projectId,le+(B.hours||0))}}),{totalHoursAllTime:E,totalOngoingProjects:G,totalCompletedProjects:Q,totalCompletedTasks:ne,hoursByProject:Array.from(z.entries()).map(([B,R])=>({projectId:B,projectName:v.get(B)||"Unknown Project",hours:R})).sort((B,R)=>R.hours-B.hours)}},[n.id,d,r,o,v,S]),N=A=>{h(E=>{const P=new Set(E);return P.has(A)?P.delete(A):P.add(A),P})},b=ye.useMemo(()=>r.filter(A=>A.collaboratorDetails.some(E=>E.memberId===n.id)).map(A=>{var B;const E=((B=A.collaboratorDetails.find(R=>R.memberId===n.id))==null?void 0:B.role)||"",P=Array.from(S.values()).filter(R=>R.projectId===A.id);let G=0,Q=0;const ne=P.map(R=>{const k=d.filter(H=>H.taskId===R.id&&H.memberId===n.id&&H.status==="Approved").map(H=>{const Y=(H.hours||0)*(R.hourlyRate||0);return R.workType==="Paid"?G+=Y:Q+=Y,{...H,value:Y,workType:R.workType}}),C=k.reduce((H,Y)=>H+(Y.hours||0),0);return{...R,activities:k,loggedHours:C}}),z=ne.filter(R=>R.status==="Done").length;return{project:A,role:E,tasks:ne,completedTasks:z,totalPaidValue:G,totalInKindValue:Q}}),[r,S,d,n.id]),T=Math.max(...j.hoursByProject.map(A=>A.hours),1),O=[{id:"profile",label:"Profile Information",icon:"fa-solid fa-user"},{id:"activity",label:"Activity Report",icon:"fa-solid fa-chart-line"}],M=()=>{switch(u){case"profile":const A=b.filter(G=>["Pending","Active","On Hold"].includes(G.project.status)),E=b.filter(G=>["Completed","Terminated"].includes(G.project.status)),P=G=>s.jsx("div",{className:"mt-2 space-y-3",children:G.map(Q=>{const ne=g.has(Q.project.id);return s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg",children:[s.jsxs("button",{onClick:()=>N(Q.project.id),className:"w-full text-left p-3 flex flex-col gap-3 hover:bg-slate-100 rounded-t-lg transition-colors duration-150","aria-expanded":ne,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-800",children:Q.project.projectTitle}),Q.role&&s.jsxs("span",{className:"text-slate-500 text-sm",children:[" as ",Q.role]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"px-2.5 py-1 text-xs font-semibold text-teal-800 bg-teal-100 rounded-full",children:[Q.tasks.length," Task",Q.tasks.length!==1?"s":""]}),s.jsx("i",{className:`fa-solid fa-chevron-down text-slate-500 transition-transform ${ne?"rotate-180":""}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[s.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"Task Progress"}),s.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",children:[Q.completedTasks," / ",Q.tasks.length," Done"]})]}),s.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[s.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"Total Paid"}),s.jsx("div",{className:"text-sm font-bold text-blue-600 mt-1",children:wm(Q.totalPaidValue)})]}),s.jsxs("div",{className:"bg-white p-2 rounded-md border border-slate-200",children:[s.jsx("div",{className:"text-xs text-slate-500 font-semibold",children:"In-Kind Value"}),s.jsx("div",{className:"text-sm font-bold text-purple-600 mt-1",children:wm(Q.totalInKindValue)})]})]})]}),ne&&s.jsx("div",{className:"border-t border-slate-200 bg-white p-3 space-y-3",children:Q.tasks.length>0?Q.tasks.map(z=>s.jsxs("div",{className:"bg-white border border-slate-200 rounded-md p-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("h4",{className:"font-bold text-slate-800",children:z.title}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[s.jsx(A5,{status:z.status}),s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:z.taskCode})]})]}),s.jsxs("p",{className:`text-xs mt-1 ${D5(z)?"text-red-500 font-bold":"text-slate-500"}`,children:["Due: ",z.dueDate?new Date(z.dueDate).toLocaleDateString():"N/A"]}),s.jsx("p",{className:"text-sm text-slate-600 my-2",children:z.description}),z.taskType==="Time-Based"&&s.jsxs("div",{className:"my-3",children:[s.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 mb-1",children:[s.jsx("span",{children:"Hours Logged"}),s.jsxs("span",{children:[z.loggedHours.toFixed(1)," / ",z.estimatedHours,"h"]})]}),s.jsx(C5,{value:z.loggedHours,max:z.estimatedHours})]}),z.activities.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h5",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Approved Activity Logs:"}),s.jsx("table",{className:"min-w-full text-xs",children:s.jsx("tbody",{className:"divide-y divide-slate-100",children:z.activities.map(B=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-1.5 pr-2 w-full",children:B.description}),s.jsx("td",{className:"py-1.5 px-2 whitespace-nowrap",children:new Date(B.endDate).toLocaleDateString()}),s.jsxs("td",{className:"py-1.5 px-2 whitespace-nowrap font-bold",children:[B.hours,"h"]}),s.jsx("td",{className:"py-1.5 pl-2 text-right",children:s.jsx(T5,{type:B.workType})})]},B.id))})})]})]},z.id)):s.jsx("p",{className:"text-slate-500 italic text-center py-4",children:"No tasks assigned for this project."})})]},Q.project.id)})});return s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"md:col-span-1 flex flex-col items-center",children:[s.jsx("img",{className:"h-48 w-48 rounded-full object-cover shadow-lg border-4 border-white",src:n.imageUrl||`https://ui-avatars.com/api/?name=${n.firstName}+${n.lastName}&background=random&size=256`,alt:`Profile of ${n.firstName} ${n.lastName}`}),s.jsxs("div",{className:"mt-6 w-full space-y-4 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[s.jsx(Qr,{label:"Email",value:s.jsx("a",{href:`mailto:${n.email}`,className:"text-teal-600 hover:underline break-all",children:n.email})}),s.jsx(Qr,{label:"Location",value:`${n.city||"N/A"}, ${n.province}`}),s.jsx(Qr,{label:"Availability",value:n.availability||"N/A"}),s.jsx(Qr,{label:"Member ID",value:n.memberId||"N/A"})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsx(Qr,{label:"Short Bio",children:s.jsx("p",{children:n.shortBio||"No short bio provided."})}),s.jsx(Qr,{label:"Full Artist Bio",children:s.jsx("p",{children:n.artistBio||"No full artist bio provided."})})]})]}),s.jsxs("div",{className:"mt-12 space-y-8",children:[s.jsx(Qr,{label:"Active & Ongoing Projects",children:A.length>0?P(A):s.jsx("p",{className:"text-slate-500 italic mt-2",children:"No active project assignments."})}),s.jsx(Qr,{label:"Completed Projects",children:E.length>0?P(E):s.jsx("p",{className:"text-slate-500 italic mt-2",children:"No completed project assignments."})})]})]});case"activity":return s.jsx("div",{className:"space-y-8",children:s.jsxs(Qr,{label:"Contribution Snapshot",children:[s.jsxs("div",{className:"bg-slate-50/70 border border-slate-200 rounded-lg p-4 grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[s.jsx("p",{className:"text-4xl font-extrabold text-red-600",children:j.totalHoursAllTime.toFixed(1)}),s.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Hours Logged"})]}),s.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[s.jsx("p",{className:"text-4xl font-extrabold text-teal-600",children:j.totalOngoingProjects}),s.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Active & Ongoing Projects"})]}),s.jsxs("div",{className:"border-r border-slate-200 pr-4",children:[s.jsx("p",{className:"text-4xl font-extrabold text-green-600",children:j.totalCompletedProjects}),s.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Completed Projects"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-extrabold text-blue-600",children:j.totalCompletedTasks}),s.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Completed Tasks"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Hours by Project"}),s.jsx("div",{className:"space-y-2",children:j.hoursByProject.map(G=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-medium mb-1",children:[s.jsx("span",{className:"text-slate-700",children:G.projectName}),s.jsxs("span",{className:"text-slate-500",children:[G.hours.toFixed(1),"h"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${G.hours/T*100}%`}})})]},G.projectId))})]})]})});default:return null}};return s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-200 pb-5",children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[n.firstName," ",n.lastName]}),s.jsxs("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 shadow-sm",children:[s.jsx("i",{className:"fa fa-arrow-left mr-2"}),"Back to List"]})]}),s.jsx("div",{className:"border-b border-slate-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:O.map(A=>s.jsxs("button",{type:"button",onClick:()=>m(A.id),className:`group whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md flex items-center gap-2 ${u===A.id?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":u===A.id?"page":void 0,children:[s.jsx("i",{className:`${A.icon} ${u===A.id?"text-teal-600":"text-slate-400 group-hover:text-slate-600"}`}),A.label]},A.id))})}),s.jsx("div",{children:M()})]})},_5=()=>{const{state:n,dispatch:i,notify:r}=ma(),{members:o}=n,[d,u]=ye.useState("list"),[m,g]=ye.useState(null),[h,v]=ye.useState(!1),[S,j]=ye.useState(null),N=()=>{const G={...Wg,id:`mem_${Date.now()}`};g(G),u("edit")},b=G=>{const Q=o.find(ne=>ne.id===G);Q&&(g(Q),u("view"))},T=G=>{const Q=o.find(ne=>ne.id===G);Q&&(g(Q),u("edit"))},O=G=>{j(G),v(!0)},M=()=>{S&&(i({type:"DELETE_MEMBER",payload:S}),r("Member deleted and unassigned from all projects and tasks.","success"),u("list"),g(null),v(!1),j(null))},A=G=>{const Q=!o.some(z=>z.id===G.id),ne=Q?[...o,G]:o.map(z=>z.id===G.id?G:z);i({type:"SET_MEMBERS",payload:ne}),r(Q?"Member added successfully!":"Member updated successfully!","success"),u("list"),g(null)},E=()=>{u("list"),g(null)},P=()=>{switch(d){case"edit":return m&&s.jsx(S5,{member:m,onSave:A,onCancel:E},m.id);case"view":return m&&s.jsx(L5,{member:m,onBack:E});case"list":default:return s.jsx(N5,{members:o,onAddMember:N,onEditMember:T,onDeleteMember:O,onViewMember:b})}};return s.jsx("div",{className:"font-sans text-slate-800",children:s.jsxs("main",{className:"w-full",children:[P(),h&&s.jsx(Vo,{isOpen:h,onClose:()=>v(!1),onConfirm:M,title:"Delete Member",message:s.jsxs(s.Fragment,{children:["Are you sure you want to delete this member?",s.jsx("br",{}),"They will be removed from all projects and unassigned from all tasks.",s.jsx("strong",{className:"font-bold text-red-700",children:" This action cannot be undone."})]}),confirmButtonText:"Delete Member"})]})})},k5=n=>{const i="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",r={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${i} ${r[n]||r.Backlog}`},ff=n=>!n.isComplete&&n.dueDate&&new Date(n.dueDate)<new Date,E5=({task:n,onEditTask:i,onDeleteTask:r,projectMap:o,assigneeName:d})=>s.jsxs("div",{className:`bg-white p-4 rounded-lg border shadow-sm ${ff(n)?"border-red-300":"border-slate-200"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"font-bold text-slate-800 pr-2",children:n.title}),s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded flex-shrink-0",children:n.taskCode})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-3",children:o.get(n.projectId)||"N/A"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4 h-10 overflow-hidden",children:n.description}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("span",{className:"text-slate-500",children:["Due: ",s.jsx("span",{className:ff(n)?"font-bold text-red-600":"font-medium text-slate-700",children:n.dueDate?new Date(n.dueDate).toLocaleDateString():"N/A"})]}),s.jsx("span",{className:"text-slate-500",children:d})]}),s.jsxs("div",{className:"flex justify-end items-center mt-4 pt-3 border-t border-slate-200 space-x-2",children:[s.jsx("button",{onClick:()=>i(n.id),className:"px-2 py-1 text-xs font-medium text-teal-700 bg-teal-50 hover:bg-teal-100 rounded-md",children:"Edit"}),s.jsx("button",{onClick:()=>r(n.id),className:"px-2 py-1 text-xs font-medium text-red-700 bg-red-50 hover:bg-red-100 rounded-md",children:"Delete"})]})]}),M5=({tasks:n,onAddTask:i,onEditTask:r,onDeleteTask:o,onToggleTaskComplete:d,selectedProjectId:u})=>{const{state:{projects:m,members:g}}=ma(),[h,v]=ye.useState("list"),[S,j]=ye.useState(""),[N,b]=ye.useState(""),[T,O]=ye.useState("updatedAt"),[M,A]=ye.useState("desc"),[E,P]=ye.useState("all"),[G,Q]=ye.useState(null),ne=ye.useMemo(()=>new Map(g.map(k=>[k.id,`${k.firstName} ${k.lastName}`])),[g]),z=ye.useMemo(()=>new Map(m.map(k=>[k.id,k.projectTitle])),[m]),B=ye.useMemo(()=>n.filter(C=>{const H=!u||C.projectId===u,Y=!S||C.assignedMemberId===S,ue=z.get(C.projectId)||"",F=!N||C.title.toLowerCase().includes(N.toLowerCase())||C.description.toLowerCase().includes(N.toLowerCase())||C.taskCode&&C.taskCode.toLowerCase().includes(N.toLowerCase())||ue.toLowerCase().includes(N.toLowerCase()),W=new Date,ee=new Date(W.getTime()+7*24*60*60*1e3),re=E==="all"||E==="overdue"&&ff(C)||E==="dueThisWeek"&&C.dueDate&&new Date(C.dueDate)>=W&&new Date(C.dueDate)<=ee||E==="todo"&&C.status==="To Do"||E==="inProgress"&&C.status==="In Progress"||E==="done"&&C.status==="Done";return H&&Y&&F&&re}).sort((C,H)=>{let Y=0;switch(T){case"dueDate":Y=(C.dueDate?new Date(C.dueDate).getTime():1/0)-(H.dueDate?new Date(H.dueDate).getTime():1/0);break;case"assignee":Y=(ne.get(C.assignedMemberId)||"Z").localeCompare(ne.get(H.assignedMemberId)||"Z");break;case"updatedAt":default:Y=(H.updatedAt?new Date(H.updatedAt).getTime():0)-(C.updatedAt?new Date(C.updatedAt).getTime():0);break}return M==="asc"?Y:-Y}),[n,u,S,N,z,T,M,E,ne]),R=ye.useMemo(()=>B.reduce((k,C)=>(k[C.status]||(k[C.status]=[]),k[C.status].push(C),k),{}),[B]),le=k=>{d(k),Q(k),setTimeout(()=>{Q(null)},1500)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 flex-grow",children:[s.jsx(Et,{placeholder:"Search tasks...",value:N,onChange:k=>b(k.target.value),className:"lg:col-span-2"}),s.jsx(na,{value:E,onChange:k=>P(k.target.value),options:i2}),s.jsx(na,{value:S,onChange:k=>j(k.target.value),options:[{value:"",label:"All Members"},...g.map(k=>({value:k.id,label:`${k.firstName} ${k.lastName}`}))]}),s.jsxs("div",{className:"flex",children:[s.jsx(na,{className:"rounded-r-none",value:T,onChange:k=>O(k.target.value),options:n2}),s.jsx("button",{onClick:()=>A(k=>k==="asc"?"desc":"asc"),className:"px-3 bg-slate-200 text-slate-600 rounded-r-md border-y border-r border-slate-400 hover:bg-slate-300",title:`Sort direction: ${M==="asc"?"Ascending":"Descending"}`,children:s.jsx("i",{className:`fa-solid ${M==="asc"?"fa-arrow-up":"fa-arrow-down"}`})})]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[s.jsxs("div",{className:"bg-slate-200 p-1 rounded-lg flex",children:[s.jsx("button",{onClick:()=>v("list"),className:`px-3 py-1 text-sm font-semibold rounded-md ${h==="list"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-500"}`,children:"List"}),s.jsx("button",{onClick:()=>v("board"),className:`px-3 py-1 text-sm font-semibold rounded-md ${h==="board"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-500"}`,children:"Board"})]}),s.jsxs("button",{onClick:i,disabled:!u,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",title:u?"Add New Task":"Please select a project to add a task",children:[s.jsx("i",{className:"fa fa-plus mr-2"}),"Add Task"]})]})]}),h==="list"&&s.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:B.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-check-double text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No tasks found"}),s.jsx("p",{className:"text-slate-500 mt-2 text-base",children:'Select a project and click "Add Task", or adjust your filters.'})]}):s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Task"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Assignee"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Updated"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:B.map(k=>{var H;const C=ff(k);return s.jsxs("tr",{className:`transition-colors duration-500 ${G===k.id?"bg-teal-50":""} ${C?"bg-red-50 hover:bg-red-100":"hover:bg-slate-50"}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-xs font-bold bg-slate-200 text-slate-600 rounded-md px-2 py-1",children:k.taskCode||"N/A"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:k.title}),s.jsx("div",{className:"text-sm text-slate-500",children:z.get(k.projectId)||"N/A"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:k.assignedMemberId&&ne.has(k.assignedMemberId)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:((H=g.find(Y=>Y.id===k.assignedMemberId))==null?void 0:H.imageUrl)||`https://ui-avatars.com/api/?name=${ne.get(k.assignedMemberId)}&background=random`,alt:""})}),s.jsx("div",{className:"ml-3",children:s.jsx("div",{className:"text-sm font-medium text-slate-900",children:ne.get(k.assignedMemberId)||"Unassigned"})})]}):s.jsx("div",{className:"text-sm text-slate-500",children:"Unassigned"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.taskType==="Milestone"?s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`complete-${k.id}`,checked:k.isComplete,onChange:()=>le(k.id),className:"h-5 w-5 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),s.jsx("label",{htmlFor:`complete-${k.id}`,className:"ml-2 text-sm font-medium text-slate-700",children:k.isComplete?"Complete":"Incomplete"})]}):s.jsx("span",{className:k5(k.status),children:k.status})}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${C?"text-red-600 font-semibold":"text-slate-600"}`,children:k.dueDate?new Date(k.dueDate).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:k.updatedAt?new Date(k.updatedAt).toLocaleDateString():"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>r(k.id),className:"text-teal-600 hover:text-teal-900 mr-4 font-semibold",children:"Edit"}),s.jsx("button",{onClick:()=>o(k.id),className:"text-red-600 hover:text-red-900 font-semibold",children:"Delete"})]})]},k.id)})})]})}),h==="board"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["To Do","In Progress","Done","Backlog"].map(k=>s.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[s.jsxs("h3",{className:"font-bold text-slate-700 mb-4 px-2",children:[k," ",s.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",(R[k]||[]).length,")"]})]}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(R[k]||[]).map(C=>s.jsx(E5,{task:C,onEditTask:r,onDeleteTask:o,projectMap:z,assigneeName:ne.get(C.assignedMemberId)||"Unassigned"},C.id)),(!R[k]||R[k].length===0)&&s.jsx("div",{className:"text-center text-sm text-slate-400 p-8 border-2 border-dashed border-slate-300 rounded-lg",children:"Empty"})]})]},k))})]})},Zd=n=>n.toLocaleString("en-CA",{style:"currency",currency:"CAD"}),O5=(n=[])=>n.reduce((i,r)=>i+(r.amount||0),0),P5=n=>{const i="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",r={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${i} ${r[n]||r.Backlog}`},jm=({title:n,tasks:i,members:r,budgeted:o,allActivities:d})=>{const[u,m]=ye.useState(new Set),g=N=>{m(b=>{const T=new Set(b);return T.has(N)?T.delete(N):T.add(N),T})},{actualPaid:h,contributedValue:v}=ye.useMemo(()=>{let N=0,b=0;return i.forEach(T=>{if(T.taskType==="Milestone")return;d.filter(M=>M.taskId===T.id&&M.status==="Approved").forEach(M=>{const A=(M.hours||0)*(T.hourlyRate||0);T.workType==="Paid"?N+=A:b+=A})}),{actualPaid:N,contributedValue:b}},[i,d]),S=o-h,j=N=>d.filter(b=>b.taskId===N&&b.status==="Approved").reduce((b,T)=>b+(T.hours||0),0);return s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mt-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:n}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center my-4 border-y border-slate-200 py-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Budgeted"}),s.jsx("div",{className:"text-xl font-bold text-slate-700",children:Zd(o)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-wider flex items-center justify-center gap-1",children:[s.jsx("span",{children:"Actual Paid"}),s.jsxs("div",{className:"relative group",children:[s.jsx("i",{className:"fa-solid fa-circle-info text-slate-400 cursor-help"}),s.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-2 bg-slate-700 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 text-center",children:"Actuals include the value of 'Approved' time logs for tasks in this category. Direct expenses are not included in this workplan view."})]})]}),s.jsx("div",{className:"text-xl font-bold text-blue-600",children:Zd(h)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Contributed"}),s.jsx("div",{className:"text-xl font-bold text-teal-600",children:Zd(v)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Variance"}),s.jsx("div",{className:`text-xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,children:Zd(S)})]})]}),i.length>0?s.jsxs("table",{className:"min-w-full mt-3",children:[s.jsx("thead",{className:"sr-only",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Task"}),s.jsx("th",{children:"Assignee"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Hours"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map(N=>{const b=r.find(E=>E.id===N.assignedMemberId),T=j(N.id),O=d.filter(E=>E.taskId===N.id&&E.status==="Approved"),M=u.has(N.id),A=N.taskType==="Milestone";return s.jsxs(Km.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>g(N.id),children:[s.jsx("td",{className:"py-2.5 pr-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:`fa-solid fa-chevron-right text-xs text-slate-400 mr-3 transition-transform ${M?"rotate-90":""}`}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-slate-800 flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:N.taskCode}),s.jsx("span",{children:N.title})]}),s.jsx("div",{className:"text-xs text-slate-500",children:N.dueDate?new Date(N.dueDate).toLocaleDateString():"No due date"})]})]})}),s.jsx("td",{className:"py-2.5 px-2 text-sm text-slate-600 whitespace-nowrap",children:b?`${b.firstName} ${b.lastName}`:"Unassigned"}),s.jsx("td",{className:"py-2.5 px-2 whitespace-nowrap",children:A?s.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${N.isComplete?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:N.isComplete?"Milestone Complete":"Milestone"}):s.jsx("span",{className:P5(N.status),children:N.status})}),s.jsx("td",{className:"py-2.5 pl-2 text-right text-sm text-slate-600 whitespace-nowrap",children:!A&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{title:"Actual Hours",className:"font-bold",children:[T,"h"]})," / ",s.jsxs("span",{title:"Estimated Hours",children:[N.estimatedHours,"h"]})]})})]}),M&&!A&&O.length>0&&s.jsx("tr",{className:"bg-slate-50",children:s.jsx("td",{colSpan:4,className:"p-0",children:s.jsxs("div",{className:"px-6 py-3",children:[s.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase mb-2 ml-4",children:"Approved Activities"}),s.jsx("table",{className:"min-w-full",children:s.jsx("tbody",{className:"divide-y divide-slate-200",children:O.map(E=>{const P=r.find(G=>G.id===E.memberId);return s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pl-6 pr-2 text-sm text-slate-600 w-1/3",children:E.description}),s.jsx("td",{className:"py-2 px-2 text-sm text-slate-500 w-1/4",children:P?`${P.firstName} ${P.lastName}`:"Unknown"}),s.jsx("td",{className:"py-2 px-2 text-sm text-slate-500 w-1/4",children:new Date(E.endDate).toLocaleDateString()}),s.jsxs("td",{className:"py-2 pl-2 pr-6 text-sm text-slate-600 text-right font-medium w-auto",children:[E.hours,"h"]})]},E.id)})})})]})})}),M&&!A&&O.length===0&&s.jsx("tr",{className:"bg-slate-50",children:s.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-slate-500 italic",children:"No approved time has been logged for this task."})})]},N.id)})})]}):s.jsx("p",{className:"text-sm text-slate-400 italic text-center py-2",children:"No tasks in this category."})]})},R5=({selectedProjectId:n})=>{const{state:{tasks:i,projects:r,members:o,activities:d}}=ma(),u=Object.entries(yi).map(([g,h])=>{const v=g.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase());return{key:g,label:v,fields:h}}),m=ye.useMemo(()=>{const g=r.filter(h=>i.some(v=>v.projectId===h.id));return n?g.filter(h=>h.id===n):g},[r,i,n]);return m.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-file-signature text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:n?"No Tasks for This Project":"No Projects with Tasks"}),s.jsx("p",{className:"text-slate-500 mt-2 text-base",children:n?"Create a task for this project to see it in the report.":"Assign tasks to a project to see the workplan report."})]}):s.jsx("div",{className:"space-y-12",children:m.map(g=>{const h=i.filter(S=>S.projectId===g.id),v=h.filter(S=>!S.budgetItemId);return s.jsxs("div",{className:"bg-slate-50 p-4 sm:p-6 rounded-lg",children:[s.jsx("h3",{className:"text-2xl font-bold text-teal-700 border-b-2 border-teal-200 pb-3",children:g.projectTitle}),u.map(S=>{const j=new Set(g.budget.expenses[S.key].map(T=>T.id)),N=h.filter(T=>T.taskType==="Time-Based"&&j.has(T.budgetItemId)),b=O5(g.budget.expenses[S.key]);return N.length===0&&b===0?null:s.jsx(jm,{title:`Expenses: ${S.label}`,tasks:N,members:o,budgeted:b,allActivities:d},S.key)}),v.length>0&&s.jsx(jm,{title:"Uncategorized Tasks",tasks:v,members:o,budgeted:0,allActivities:d})]},g.id)})})},B5=n=>`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${{Approved:"bg-green-100 text-green-800",Pending:"bg-yellow-100 text-yellow-800"}[n]}`,I5=n=>{const i="px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full",r={Done:"bg-green-100 text-green-800","In Progress":"bg-blue-100 text-blue-800","To Do":"bg-yellow-100 text-yellow-800",Backlog:"bg-slate-100 text-slate-800"};return`${i} ${r[n]||r.Backlog}`},F5=({task:n,projectMap:i,memberMap:r,onAddActivityForTask:o})=>{const d=r.get(n.assignedMemberId)||"Unassigned";return s.jsxs("tr",{className:"bg-slate-50/70 hover:bg-slate-100 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-900 flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:n.taskCode}),s.jsx("span",{children:n.title})]}),s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:i.get(n.projectId)}),s.jsx("p",{className:"text-sm text-slate-500 italic",children:"No activity logged"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:d}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:n.updatedAt?new Date(n.updatedAt).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:I5(n.status),children:n.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("button",{onClick:()=>o(n.id),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:[s.jsx("i",{className:"fa fa-plus-circle mr-2"}),"Log Activity"]})})]})},z5=({activity:n,taskMap:i,projectMap:r,memberMap:o,onApproveActivity:d,onEditActivity:u,onDeleteActivity:m})=>{const g=i.get(n.taskId),h=o.get(n.memberId)||"Unknown",v=g?r.get(g.projectId):"Unknown";return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-900 flex items-center gap-2",children:[(g==null?void 0:g.taskCode)&&s.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded",children:g.taskCode}),s.jsx("span",{children:(g==null?void 0:g.title)||"Task not found"})]}),s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:v}),s.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap max-w-sm",children:n.description})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-800",children:h}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[s.jsxs("div",{children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]}),n.startTime&&n.endTime&&s.jsxs("div",{className:"text-xs text-slate-500",children:["(",n.startTime," - ",n.endTime,")"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-800 font-semibold",children:[n.hours,"h"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:n.updatedAt?new Date(n.updatedAt).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:B5(n.status),children:n.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[n.status==="Pending"&&s.jsx("button",{onClick:()=>d(n.id),className:"text-green-600 hover:text-green-900 font-semibold",children:"Approve"}),s.jsx("button",{onClick:()=>u(n.id),className:"text-teal-600 hover:text-teal-900 font-semibold",children:"Edit"}),s.jsx("button",{onClick:()=>m(n.id),className:"text-red-600 hover:text-red-900 font-semibold",children:"Delete"})]})]})},q5=({onAddActivity:n,onEditActivity:i,onDeleteActivity:r,onApproveActivity:o,onAddActivityForTask:d,selectedProjectId:u,searchTerm:m,setSearchTerm:g,filterMember:h,setFilterMember:v})=>{const{state:{activities:S,tasks:j,projects:N,members:b}}=ma(),[T,O]=ye.useState("date-desc"),[M,A]=ye.useState("all"),[E,P]=ye.useState(!0),G=ye.useMemo(()=>new Map(j.map(R=>[R.id,R])),[j]),Q=ye.useMemo(()=>new Map(N.map(R=>[R.id,R.projectTitle])),[N]),ne=ye.useMemo(()=>new Map(b.map(R=>[R.id,`${R.firstName} ${R.lastName}`])),[b]),{sortedActivities:z,placeholderTasks:B}=ye.useMemo(()=>{const R=m.toLowerCase(),le=S.filter(Y=>{var D;const ue=G.get(Y.taskId);if(!ue||!(!u||ue.projectId===u))return!1;const W=!h||Y.memberId===h,ee=M==="all"||Y.status.toLowerCase()===M,re=((D=ne.get(Y.memberId))==null?void 0:D.toLowerCase())||"",_=ue.title.toLowerCase(),ie=!m||Y.description.toLowerCase().includes(R)||_.includes(R)||re.includes(R);return W&&ee&&ie}),k=le.sort((Y,ue)=>{switch(T){case"date-asc":return new Date(Y.endDate).getTime()-new Date(ue.endDate).getTime();case"updatedAt":return(ue.updatedAt?new Date(ue.updatedAt).getTime():0)-(Y.updatedAt?new Date(Y.updatedAt).getTime():0);case"date-desc":default:return new Date(ue.endDate).getTime()-new Date(Y.endDate).getTime()}}),C=new Set(le.map(Y=>Y.taskId)),H=j.filter(Y=>!(!u||Y.projectId===u)||!(!h||Y.assignedMemberId===h)?!1:!C.has(Y.id)&&Y.taskType==="Time-Based");return{sortedActivities:k,placeholderTasks:H}},[S,j,u,h,M,m,T,G,ne]);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 flex-grow",children:[s.jsx(Et,{placeholder:"Search descriptions, tasks...",value:m,onChange:R=>g(R.target.value)}),s.jsx(na,{value:h,onChange:R=>v(R.target.value),options:[{value:"",label:"All Members"},...b.map(R=>({value:R.id,label:`${R.firstName} ${R.lastName}`}))]}),s.jsx(na,{value:M,onChange:R=>A(R.target.value),options:Kg}),s.jsx(na,{value:T,onChange:R=>O(R.target.value),options:$g})]}),s.jsxs("button",{onClick:n,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa fa-plus mr-2"}),"Add New Activity"]})]}),s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"show-placeholders",checked:E,onChange:()=>P(!E),className:"h-4 w-4 text-teal-600 border-slate-300 rounded focus:ring-teal-500"}),s.jsx("label",{htmlFor:"show-placeholders",className:"ml-2 block text-sm text-slate-700",children:"Show tasks awaiting activity logs"})]})}),s.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:z.length===0&&(!E||B.length===0)?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-hourglass-end text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No Activities Found"}),s.jsx("p",{className:"text-slate-500 mt-2 text-base",children:"Try adjusting your filters or add a new activity."})]}):s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Task / Description"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Member"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Hours"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Updated"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[z.map(R=>s.jsx(z5,{activity:R,taskMap:G,projectMap:Q,memberMap:ne,onApproveActivity:o,onEditActivity:i,onDeleteActivity:r},R.id)),E&&B.map(R=>s.jsx(F5,{task:R,projectMap:Q,memberMap:ne,onAddActivityForTask:d},`ph-${R.id}`))]})]})})]})},U5=()=>{const{state:n,dispatch:i,notify:r}=ma(),{tasks:o,projects:d,members:u,activities:m}=n,[g,h]=ye.useState("workplan"),[v,S]=ye.useState(""),[j,N]=ye.useState(!1),[b,T]=ye.useState(null),[O,M]=ye.useState(!1),[A,E]=ye.useState(null),[P,G]=ye.useState(""),[Q,ne]=ye.useState(""),[z,B]=ye.useState(!1),[R,le]=ye.useState(null),k=()=>{const se=d.find(me=>me.id===v);let te="";if(se){const me=(se.projectTitle.match(/\b(\w)/g)||["T"]).join("").toUpperCase().substring(0,4),de=o.filter(Oe=>Oe.projectId===v&&Oe.taskCode.startsWith(me));let ke=0;de.forEach(Oe=>{const Ge=Oe.taskCode.split("-")[1];if(Ge){const We=parseInt(Ge,10);!isNaN(We)&&We>ke&&(ke=We)}}),te=`${me}-${ke+1}`}else te=`TASK-${o.filter(me=>!me.projectId).length+1}`;const pe={...a2,id:`task_${Date.now()}`,projectId:v,taskCode:te};T(pe),N(!0)},C=se=>{const te=o.find(pe=>pe.id===se);te&&(T(te),N(!0))},H=se=>{le(se),B(!0)},Y=()=>{R&&(i({type:"DELETE_TASK",payload:R}),r("Task and related activities deleted.","success"),B(!1),le(null))},ue=se=>{const te=!o.some(de=>de.id===se.id),pe=new Date().toISOString(),me={...se,updatedAt:pe};i({type:te?"ADD_TASK":"UPDATE_TASK",payload:me}),r(te?"Task created successfully!":"Task updated successfully!","success"),N(!1),T(null)},F=se=>{const te=o.find(pe=>pe.id===se);if(te){const pe={...te,isComplete:!te.isComplete,status:te.isComplete?"To Do":"Done",updatedAt:new Date().toISOString()};i({type:"UPDATE_TASK",payload:pe}),r(te.isComplete?`Task '${te.title}' marked as incomplete.`:`Task '${te.title}' marked as complete.`,"success")}},W=()=>{const se={...Gh,id:"",createdAt:""};E(se),M(!0)},ee=se=>{const te=o.find(me=>me.id===se);if(!te)return;const pe={...Gh,taskId:te.id,description:""};E(pe),M(!0)},re=se=>{const te=m.find(pe=>pe.id===se);te&&(E(te),M(!0))},_=se=>{window.confirm("Are you sure you want to delete this activity?")&&(i({type:"DELETE_ACTIVITY",payload:se}),r("Activity deleted.","success"))},ie=se=>{i({type:"APPROVE_ACTIVITY",payload:se}),r("Activity approved.","success")},D=se=>{const te=new Date().toISOString();if(se.id&&se.createdAt){const me={...se,updatedAt:te};delete me.memberIds,i({type:"UPDATE_ACTIVITY",payload:me}),r("Activity updated successfully!","success")}else if(se.memberIds&&se.memberIds.length>0){const{memberIds:me,...de}=se,ke=me.map(Oe=>({...de,id:`act_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,memberId:Oe,status:"Pending",createdAt:te,updatedAt:te}));i({type:"ADD_ACTIVITIES",payload:ke}),r(`${ke.length} new activity log(s) created!`,"success"),G(""),ne("")}M(!1),E(null)},V=se=>{S(se),G(""),ne("")},J=()=>{const se=[{value:"",label:"All Projects"},...d.map(pe=>({value:pe.id,label:pe.projectTitle}))],te=o.filter(pe=>!v||pe.projectId===v);return s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b border-slate-200 pb-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Task & Activity Management"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"Select a project and view to manage your workplan."})]}),s.jsx("div",{className:"w-full md:w-64",children:s.jsx(lt,{label:"Filter by Project",htmlFor:"project_filter",className:"mb-0",children:s.jsx(na,{id:"project_filter",value:v,onChange:pe=>V(pe.target.value),options:se})})})]}),s.jsx("div",{className:"border-b border-slate-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:["workplan","tasks","activities"].map(pe=>s.jsx("button",{type:"button",onClick:()=>h(pe),className:`whitespace-nowrap py-3 px-3 border-b-2 font-semibold text-sm transition-all duration-200 rounded-t-md capitalize ${g===pe?"border-teal-500 text-teal-600 bg-slate-100":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:pe==="workplan"?"Workplan Report":pe},pe))})}),s.jsxs("div",{className:"py-2",children:[g==="workplan"&&s.jsx(R5,{selectedProjectId:v}),g==="tasks"&&s.jsx(M5,{tasks:te,onAddTask:k,onEditTask:C,onDeleteTask:H,onToggleTaskComplete:F,selectedProjectId:v}),g==="activities"&&s.jsx(q5,{onAddActivity:W,onEditActivity:re,onDeleteActivity:_,onApproveActivity:ie,onAddActivityForTask:ee,selectedProjectId:v,searchTerm:P,setSearchTerm:G,filterMember:Q,setFilterMember:ne})]}),j&&b&&s.jsx(m2,{task:b,onSave:ue,onCancel:()=>N(!1)}),O&&A&&s.jsx(g2,{activity:A,onSave:D,onCancel:()=>M(!1),selectedProjectId:v}),z&&s.jsx(Vo,{isOpen:z,onClose:()=>B(!1),onConfirm:Y,title:"Delete Task",message:"Are you sure you want to delete this task? All associated time tracking activities will also be deleted. This cannot be undone.",confirmButtonText:"Delete Task"})]})};return s.jsx("div",{className:"font-sans text-slate-800",children:s.jsx("main",{className:"w-full",children:J()})})},xi=n=>(n||0).toLocaleString("en-CA",{style:"currency",currency:"CAD"}),ns=({title:n,className:i=""})=>s.jsx("div",{className:`bg-slate-700 text-white font-semibold p-1.5 mt-4 text-sm ${i}`,children:n}),On=({headers:n,rows:i,isTotal:r=!1})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm border-collapse border border-slate-300",children:[!r&&s.jsx("thead",{children:s.jsx("tr",{children:n.map((o,d)=>s.jsx("th",{className:`p-2 border border-slate-300 bg-slate-100 font-semibold text-slate-600 text-left ${o.toLowerCase().includes("projected")||o.toLowerCase().includes("actual")||o.toLowerCase().includes("requested")||o.toLowerCase().includes("awarded")||o.toLowerCase().includes("capacity")||o.toLowerCase().includes("price")||o.toLowerCase().includes("audience")?"text-right":""}`,children:o},d))})}),s.jsx("tbody",{children:i.map((o,d)=>s.jsx("tr",{className:"border-t border-slate-300 bg-white hover:bg-slate-50",children:o.map((u,m)=>s.jsx("td",{className:`p-2 border-b border-slate-300 ${r?"font-bold":""} ${typeof u=="number"||typeof u=="string"&&u.startsWith("$")?"text-right":""}`,children:u},m))},d))})]})}),H5=({project:n,actuals:i,settings:r})=>{const o=n.budget,{revenueLabels:d,expenseLabels:u}=r.budget,m=ye.useMemo(()=>{const O=Object.values(Wl).flat();return new Map(O.map(M=>[M.key,d[M.key]!==void 0&&d[M.key]!==""?d[M.key]:M.label]))},[d]),g=ye.useMemo(()=>{const O=Object.values(yi).flat();return new Map(O.map(M=>[M.key,u[M.key]!==void 0&&u[M.key]!==""?u[M.key]:M.label]))},[u]),{totalRevenue:h,totalExpenses:v,projectedAudience:S,totalTickets:j}=rp(o),N=Array.from(i.values()).reduce((O,M)=>O+M,0),b=O=>i.get(O)||0,T=(O,M,A=!0)=>O.map(E=>{const P=E.amount||0,G=b(E.id),Q=[M.get(E.source)||E.source];return A?(Q.push(xi(P)),Q.push(xi(G)),Q.push(E.description)):(Q.push(xi(P)),Q.push(xi(G))),Q});return s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:"Budget Report"}),s.jsxs("div",{className:"bg-slate-50 border p-4 rounded-md mt-6",children:[s.jsx(ns,{title:"Total budget"}),s.jsx(On,{headers:["","Projected revenues","Actual revenues","Projected expenses","Actual expenses"],rows:[["Total budget",xi(h),xi(h),xi(v),xi(N)]],isTotal:!0}),s.jsx(ns,{title:"Revenue: Grants"}),s.jsx(On,{headers:["","Requested","Awarded","Description"],rows:T(o.revenues.grants,m)}),s.jsx(ns,{title:"Revenue: Tickets and box office"}),s.jsx(On,{headers:["","Number of venues (projected)","Number of venues (actual)","% of venue sold out (projected)","% of venue sold out (actual)","Average venue capacity (projected)","Average venue capacity (actual)","Description"],rows:[["Venue information",o.revenues.tickets.numVenues,"N/A",`${o.revenues.tickets.percentCapacity}%`,"N/A",o.revenues.tickets.venueCapacity,"N/A",o.revenues.tickets.description]]}),s.jsx("div",{className:"mt-[-1px]",children:s.jsx(On,{headers:["","Projected","Actual","Description"],rows:[["Average ticket price",xi(o.revenues.tickets.avgTicketPrice),"N/A",""]]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-[-1px]",children:[s.jsx(On,{headers:["","Projected","Actual"],rows:[["Total audience",S.toFixed(0),"N/A"]]}),s.jsx(On,{headers:["","Projected","Actual"],rows:[["Total tickets or box office",xi(j),"N/A"]]})]}),s.jsx(ns,{title:"Revenue: Sales"}),s.jsx(On,{headers:["Source","Projected","Actual","Description"],rows:T(o.revenues.sales,m)}),s.jsx(ns,{title:"Revenue: Fundraising"}),s.jsx(On,{headers:["Source","Projected","Actual","Description"],rows:T(o.revenues.fundraising,m)}),s.jsx(ns,{title:"Revenue: Contributions"}),s.jsx(On,{headers:["Source","Projected","Actual","Description"],rows:T(o.revenues.contributions,m)}),s.jsx("div",{className:"mt-4",children:s.jsx(On,{headers:["","Projected","Actual"],rows:[["Total revenues",xi(h),xi(h)]],isTotal:!0})}),s.jsx(ns,{title:"Expenses: Professional fees and honorariums"}),s.jsx(On,{headers:["Expense Item","Projected","Actual","Description"],rows:T(o.expenses.professionalFees,g)}),s.jsx(ns,{title:"Expenses: Travel"}),s.jsx(On,{headers:["Expense Item","Projected","Actual","Description"],rows:T(o.expenses.travel,g)}),s.jsx(ns,{title:"Expenses: Production and publication costs"}),s.jsx(On,{headers:["Expense Item","Projected","Actual","Description"],rows:T(o.expenses.production,g)}),s.jsx(ns,{title:"Expenses: Administration"}),s.jsx(On,{headers:["Expense Item","Projected","Actual","Description"],rows:T(o.expenses.administration,g)}),s.jsx(ns,{title:"Expenses: Research"}),s.jsx(On,{headers:["Expense Item","Projected","Actual"],rows:T(o.expenses.research,g,!1)}),s.jsx(ns,{title:"Expenses: Professional development"}),s.jsx(On,{headers:["Expense Item","Projected","Actual"],rows:T(o.expenses.professionalDevelopment,g,!1)}),s.jsx("div",{className:"mt-4",children:s.jsx(On,{headers:["","Projected","Actual"],rows:[["Total expenses",xi(v),xi(N)]],isTotal:!0})})]})]})},G5=({options:n,selectedValue:i,onChange:r,name:o})=>s.jsx("div",{className:"space-y-2",children:n.map(d=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`${o}-${d.value}`,name:o,type:"radio",value:d.value,checked:i===d.value,onChange:()=>r(d.value),className:"h-4 w-4 text-teal-600 border-slate-300 focus:ring-teal-500"}),s.jsx("label",{htmlFor:`${o}-${d.value}`,className:"ml-3 block text-sm font-medium text-slate-700",children:d.label})]},d.value))}),V5="modulepreload",Y5=function(n){return"/"+n},Nm={},Vh=function(i,r,o){let d=Promise.resolve();if(r&&r.length>0){let m=function(v){return Promise.all(v.map(S=>Promise.resolve(S).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),h=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));d=m(r.map(v=>{if(v=Y5(v),v in Nm)return;Nm[v]=!0;const S=v.endsWith(".css"),j=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${j}`))return;const N=document.createElement("link");if(N.rel=S?"stylesheet":V5,S||(N.as="script"),N.crossOrigin="",N.href=v,h&&N.setAttribute("nonce",h),document.head.appendChild(N),S)return new Promise((b,T)=>{N.addEventListener("load",b),N.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return d.then(m=>{for(const g of m||[])g.status==="rejected"&&u(g.reason);return i().catch(u)})};function ua(n){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ua(n)}var wi=Uint8Array,ri=Uint16Array,Qu=Uint32Array,mf=new wi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gf=new wi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yh=new wi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v2=function(n,i){for(var r=new ri(31),o=0;o<31;++o)r[o]=i+=1<<n[o-1];for(var d=new Qu(r[30]),o=1;o<30;++o)for(var u=r[o];u<r[o+1];++u)d[u]=u-r[o]<<5|o;return[r,d]},b2=v2(mf,2),x2=b2[0],Wh=b2[1];x2[28]=258,Wh[258]=28;var y2=v2(gf,0),W5=y2[0],Sm=y2[1],Xh=new ri(32768);for(var Da=0;Da<32768;++Da){var Hl=(Da&43690)>>>1|(Da&21845)<<1;Hl=(Hl&52428)>>>2|(Hl&13107)<<2,Hl=(Hl&61680)>>>4|(Hl&3855)<<4,Xh[Da]=((Hl&65280)>>>8|(Hl&255)<<8)>>>1}var mr=function(n,i,r){for(var o=n.length,d=0,u=new ri(i);d<o;++d)++u[n[d]-1];var m=new ri(i);for(d=0;d<i;++d)m[d]=m[d-1]+u[d-1]<<1;var g;if(r){g=new ri(1<<i);var h=15-i;for(d=0;d<o;++d)if(n[d])for(var v=d<<4|n[d],S=i-n[d],j=m[n[d]-1]++<<S,N=j|(1<<S)-1;j<=N;++j)g[Xh[j]>>>h]=v}else for(g=new ri(o),d=0;d<o;++d)g[d]=Xh[m[n[d]-1]++]>>>15-n[d];return g},Kl=new wi(288);for(var Da=0;Da<144;++Da)Kl[Da]=8;for(var Da=144;Da<256;++Da)Kl[Da]=9;for(var Da=256;Da<280;++Da)Kl[Da]=7;for(var Da=280;Da<288;++Da)Kl[Da]=8;var $u=new wi(32);for(var Da=0;Da<32;++Da)$u[Da]=5;var X5=mr(Kl,9,0),Q5=mr(Kl,9,1),$5=mr($u,5,0),K5=mr($u,5,1),Eh=function(n){for(var i=n[0],r=1;r<n.length;++r)n[r]>i&&(i=n[r]);return i},Ms=function(n,i,r){var o=i/8>>0;return(n[o]|n[o+1]<<8)>>>(i&7)&r},Mh=function(n,i){var r=i/8>>0;return(n[r]|n[r+1]<<8|n[r+2]<<16)>>>(i&7)},lp=function(n){return(n/8>>0)+(n&7&&1)},w2=function(n,i,r){(r==null||r>n.length)&&(r=n.length);var o=new(n instanceof ri?ri:n instanceof Qu?Qu:wi)(r-i);return o.set(n.subarray(i,r)),o},Z5=function(n,i,r){var o=n.length,d=!i||r,u=!r||r.i;r||(r={}),i||(i=new wi(o*3));var m=function(te){var pe=i.length;if(te>pe){var me=new wi(Math.max(pe*2,te));me.set(i),i=me}},g=r.f||0,h=r.p||0,v=r.b||0,S=r.l,j=r.d,N=r.m,b=r.n,T=o*8;do{if(!S){r.f=g=Ms(n,h,1);var O=Ms(n,h+1,3);if(h+=3,O)if(O==1)S=Q5,j=K5,N=9,b=5;else if(O==2){var P=Ms(n,h,31)+257,G=Ms(n,h+10,15)+4,Q=P+Ms(n,h+5,31)+1;h+=14;for(var ne=new wi(Q),z=new wi(19),B=0;B<G;++B)z[Yh[B]]=Ms(n,h+B*3,7);h+=G*3;var R=Eh(z),le=(1<<R)-1;if(!u&&h+Q*(R+7)>T)break;for(var k=mr(z,R,1),B=0;B<Q;){var C=k[Ms(n,h,le)];h+=C&15;var M=C>>>4;if(M<16)ne[B++]=M;else{var H=0,Y=0;for(M==16?(Y=3+Ms(n,h,3),h+=2,H=ne[B-1]):M==17?(Y=3+Ms(n,h,7),h+=3):M==18&&(Y=11+Ms(n,h,127),h+=7);Y--;)ne[B++]=H}}var ue=ne.subarray(0,P),F=ne.subarray(P);N=Eh(ue),b=Eh(F),S=mr(ue,N,1),j=mr(F,b,1)}else throw"invalid block type";else{var M=lp(h)+4,A=n[M-4]|n[M-3]<<8,E=M+A;if(E>o){if(u)throw"unexpected EOF";break}d&&m(v+A),i.set(n.subarray(M,E),v),r.b=v+=A,r.p=h=E*8;continue}if(h>T)throw"unexpected EOF"}d&&m(v+131072);for(var W=(1<<N)-1,ee=(1<<b)-1,re=N+b+18;u||h+re<T;){var H=S[Mh(n,h)&W],_=H>>>4;if(h+=H&15,h>T)throw"unexpected EOF";if(!H)throw"invalid length/literal";if(_<256)i[v++]=_;else if(_==256){S=null;break}else{var ie=_-254;if(_>264){var B=_-257,D=mf[B];ie=Ms(n,h,(1<<D)-1)+x2[B],h+=D}var V=j[Mh(n,h)&ee],J=V>>>4;if(!V)throw"invalid distance";h+=V&15;var F=W5[J];if(J>3){var D=gf[J];F+=Mh(n,h)&(1<<D)-1,h+=D}if(h>T)throw"unexpected EOF";d&&m(v+131072);for(var se=v+ie;v<se;v+=4)i[v]=i[v-F],i[v+1]=i[v+1-F],i[v+2]=i[v+2-F],i[v+3]=i[v+3-F];v=se}}r.l=S,r.p=h,r.b=v,S&&(g=1,r.m=N,r.d=j,r.n=b)}while(!g);return v==i.length?i:w2(i,0,v)},$r=function(n,i,r){r<<=i&7;var o=i/8>>0;n[o]|=r,n[o+1]|=r>>>8},qu=function(n,i,r){r<<=i&7;var o=i/8>>0;n[o]|=r,n[o+1]|=r>>>8,n[o+2]|=r>>>16},Oh=function(n,i){for(var r=[],o=0;o<n.length;++o)n[o]&&r.push({s:o,f:n[o]});var d=r.length,u=r.slice();if(!d)return[new wi(0),0];if(d==1){var m=new wi(r[0].s+1);return m[r[0].s]=1,[m,1]}r.sort(function(Q,ne){return Q.f-ne.f}),r.push({s:-1,f:25001});var g=r[0],h=r[1],v=0,S=1,j=2;for(r[0]={s:-1,f:g.f+h.f,l:g,r:h};S!=d-1;)g=r[r[v].f<r[j].f?v++:j++],h=r[v!=S&&r[v].f<r[j].f?v++:j++],r[S++]={s:-1,f:g.f+h.f,l:g,r:h};for(var N=u[0].s,o=1;o<d;++o)u[o].s>N&&(N=u[o].s);var b=new ri(N+1),T=Qh(r[S-1],b,0);if(T>i){var o=0,O=0,M=T-i,A=1<<M;for(u.sort(function(ne,z){return b[z.s]-b[ne.s]||ne.f-z.f});o<d;++o){var E=u[o].s;if(b[E]>i)O+=A-(1<<T-b[E]),b[E]=i;else break}for(O>>>=M;O>0;){var P=u[o].s;b[P]<i?O-=1<<i-b[P]++-1:++o}for(;o>=0&&O;--o){var G=u[o].s;b[G]==i&&(--b[G],++O)}T=i}return[new wi(b),T]},Qh=function(n,i,r){return n.s==-1?Math.max(Qh(n.l,i,r+1),Qh(n.r,i,r+1)):i[n.s]=r},Am=function(n){for(var i=n.length;i&&!n[--i];);for(var r=new ri(++i),o=0,d=n[0],u=1,m=function(h){r[o++]=h},g=1;g<=i;++g)if(n[g]==d&&g!=i)++u;else{if(!d&&u>2){for(;u>138;u-=138)m(32754);u>2&&(m(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(m(d),--u;u>6;u-=6)m(8304);u>2&&(m(u-3<<5|8208),u=0)}for(;u--;)m(d);u=1,d=n[g]}return[r.subarray(0,o),i]},Uu=function(n,i){for(var r=0,o=0;o<i.length;++o)r+=n[o]*i[o];return r},$h=function(n,i,r){var o=r.length,d=lp(i+2);n[d]=o&255,n[d+1]=o>>>8,n[d+2]=n[d]^255,n[d+3]=n[d+1]^255;for(var u=0;u<o;++u)n[d+u+4]=r[u];return(d+4+o)*8},Tm=function(n,i,r,o,d,u,m,g,h,v,S){$r(i,S++,r),++d[256];for(var j=Oh(d,15),N=j[0],b=j[1],T=Oh(u,15),O=T[0],M=T[1],A=Am(N),E=A[0],P=A[1],G=Am(O),Q=G[0],ne=G[1],z=new ri(19),B=0;B<E.length;++B)z[E[B]&31]++;for(var B=0;B<Q.length;++B)z[Q[B]&31]++;for(var R=Oh(z,7),le=R[0],k=R[1],C=19;C>4&&!le[Yh[C-1]];--C);var H=v+5<<3,Y=Uu(d,Kl)+Uu(u,$u)+m,ue=Uu(d,N)+Uu(u,O)+m+14+3*C+Uu(z,le)+(2*z[16]+3*z[17]+7*z[18]);if(H<=Y&&H<=ue)return $h(i,S,n.subarray(h,h+v));var F,W,ee,re;if($r(i,S,1+(ue<Y)),S+=2,ue<Y){F=mr(N,b,0),W=N,ee=mr(O,M,0),re=O;var _=mr(le,k,0);$r(i,S,P-257),$r(i,S+5,ne-1),$r(i,S+10,C-4),S+=14;for(var B=0;B<C;++B)$r(i,S+3*B,le[Yh[B]]);S+=3*C;for(var ie=[E,Q],D=0;D<2;++D)for(var V=ie[D],B=0;B<V.length;++B){var J=V[B]&31;$r(i,S,_[J]),S+=le[J],J>15&&($r(i,S,V[B]>>>5&127),S+=V[B]>>>12)}}else F=X5,W=Kl,ee=$5,re=$u;for(var B=0;B<g;++B)if(o[B]>255){var J=o[B]>>>18&31;qu(i,S,F[J+257]),S+=W[J+257],J>7&&($r(i,S,o[B]>>>23&31),S+=mf[J]);var se=o[B]&31;qu(i,S,ee[se]),S+=re[se],se>3&&(qu(i,S,o[B]>>>5&8191),S+=gf[se])}else qu(i,S,F[o[B]]),S+=W[o[B]];return qu(i,S,F[256]),S+W[256]},J5=new Qu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ev=function(n,i,r,o,d,u){var m=n.length,g=new wi(o+m+5*(1+Math.floor(m/7e3))+d),h=g.subarray(o,g.length-d),v=0;if(!i||m<8)for(var S=0;S<=m;S+=65535){var j=S+65535;j<m?v=$h(h,v,n.subarray(S,j)):(h[S]=u,v=$h(h,v,n.subarray(S,m)))}else{for(var N=J5[i-1],b=N>>>13,T=N&8191,O=(1<<r)-1,M=new ri(32768),A=new ri(O+1),E=Math.ceil(r/3),P=2*E,G=function(Je){return(n[Je]^n[Je+1]<<E^n[Je+2]<<P)&O},Q=new Qu(25e3),ne=new ri(288),z=new ri(32),B=0,R=0,S=0,le=0,k=0,C=0;S<m;++S){var H=G(S),Y=S&32767,ue=A[H];if(M[Y]=ue,A[H]=Y,k<=S){var F=m-S;if((B>7e3||le>24576)&&F>423){v=Tm(n,h,0,Q,ne,z,R,le,C,S-C,v),le=B=R=0,C=S;for(var W=0;W<286;++W)ne[W]=0;for(var W=0;W<30;++W)z[W]=0}var ee=2,re=0,_=T,ie=Y-ue&32767;if(F>2&&H==G(S-ie))for(var D=Math.min(b,F)-1,V=Math.min(32767,S),J=Math.min(258,F);ie<=V&&--_&&Y!=ue;){if(n[S+ee]==n[S+ee-ie]){for(var se=0;se<J&&n[S+se]==n[S+se-ie];++se);if(se>ee){if(ee=se,re=ie,se>D)break;for(var te=Math.min(ie,se-2),pe=0,W=0;W<te;++W){var me=S-ie+W+32768&32767,de=M[me],ke=me-de+32768&32767;ke>pe&&(pe=ke,ue=me)}}}Y=ue,ue=M[Y],ie+=Y-ue+32768&32767}if(re){Q[le++]=268435456|Wh[ee]<<18|Sm[re];var Oe=Wh[ee]&31,Ge=Sm[re]&31;R+=mf[Oe]+gf[Ge],++ne[257+Oe],++z[Ge],k=S+ee,++B}else Q[le++]=n[S],++ne[n[S]]}}v=Tm(n,h,u,Q,ne,z,R,le,C,S-C,v)}return w2(g,0,o+lp(v)+d)},tv=function(){var n=1,i=0;return{p:function(r){for(var o=n,d=i,u=r.length,m=0;m!=u;){for(var g=Math.min(m+5552,u);m<g;++m)o+=r[m],d+=o;o%=65521,d%=65521}n=o,i=d},d:function(){return(n>>>8<<16|(i&255)<<8|i>>>8)+((n&255)<<23)*2}}},av=function(n,i,r,o,d){return ev(n,i.level==null?6:i.level,i.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+i.mem,r,o,!0)},nv=function(n,i,r){for(;r;++i)n[i]=r,r>>>=8},iv=function(n,i){var r=i.level,o=r==0?0:r<6?1:r==9?3:2;n[0]=120,n[1]=o<<6|(o?32-2*o:1)},sv=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Kh(n,i){i===void 0&&(i={});var r=tv();r.p(n);var o=av(n,i,2,4);return iv(o,i),nv(o,o.length-4,r.d()),o}function rv(n,i){return Z5((sv(n),n.subarray(2,-4)),i)}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ph(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var ba={log:Ph,warn:function(n){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):Ph.call(null,arguments))},error:function(n){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):Ph(n))}};function Rh(n,i,r){var o=new XMLHttpRequest;o.open("GET",n),o.responseType="blob",o.onload=function(){Fo(o.response,i,r)},o.onerror=function(){ba.error("could not download file")},o.send()}function Cm(n){var i=new XMLHttpRequest;i.open("HEAD",n,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function Jd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}}var Hu,Zh,Fo=xt.saveAs||((typeof window>"u"?"undefined":ua(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,i,r){var o=xt.URL||xt.webkitURL,d=document.createElement("a");i=i||n.name||"download",d.download=i,d.rel="noopener",typeof n=="string"?(d.href=n,d.origin!==location.origin?Cm(d.href)?Rh(n,i,r):Jd(d,d.target="_blank"):Jd(d)):(d.href=o.createObjectURL(n),setTimeout(function(){o.revokeObjectURL(d.href)},4e4),setTimeout(function(){Jd(d)},0))}:"msSaveOrOpenBlob"in navigator?function(n,i,r){if(i=i||n.name||"download",typeof n=="string")if(Cm(n))Rh(n,i,r);else{var o=document.createElement("a");o.href=n,o.target="_blank",setTimeout(function(){Jd(o)})}else navigator.msSaveOrOpenBlob(function(d,u){return u===void 0?u={autoBom:!1}:ua(u)!=="object"&&(ba.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}(n,r),i)}:function(n,i,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof n=="string")return Rh(n,i,r);var d=n.type==="application/octet-stream",u=/constructor/i.test(xt.HTMLElement)||xt.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&u)&&(typeof FileReader>"u"?"undefined":ua(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var S=g.result;S=m?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=S:location=S,o=null},g.readAsDataURL(n)}else{var h=xt.URL||xt.webkitURL,v=h.createObjectURL(n);o?o.location=v:location.href=v,o=null,setTimeout(function(){h.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function j2(n){var i;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],o=0;o<r.length;o++){var d=r[o].re,u=r[o].process,m=d.exec(n);m&&(i=u(m),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),h=this.g.toString(16),v=this.b.toString(16);return g.length==1&&(g="0"+g),h.length==1&&(h="0"+h),v.length==1&&(v="0"+v),"#"+g+h+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bh(n,i){var r=n[0],o=n[1],d=n[2],u=n[3];r=Yn(r,o,d,u,i[0],7,-680876936),u=Yn(u,r,o,d,i[1],12,-389564586),d=Yn(d,u,r,o,i[2],17,606105819),o=Yn(o,d,u,r,i[3],22,-1044525330),r=Yn(r,o,d,u,i[4],7,-176418897),u=Yn(u,r,o,d,i[5],12,1200080426),d=Yn(d,u,r,o,i[6],17,-1473231341),o=Yn(o,d,u,r,i[7],22,-45705983),r=Yn(r,o,d,u,i[8],7,1770035416),u=Yn(u,r,o,d,i[9],12,-1958414417),d=Yn(d,u,r,o,i[10],17,-42063),o=Yn(o,d,u,r,i[11],22,-1990404162),r=Yn(r,o,d,u,i[12],7,1804603682),u=Yn(u,r,o,d,i[13],12,-40341101),d=Yn(d,u,r,o,i[14],17,-1502002290),r=Wn(r,o=Yn(o,d,u,r,i[15],22,1236535329),d,u,i[1],5,-165796510),u=Wn(u,r,o,d,i[6],9,-1069501632),d=Wn(d,u,r,o,i[11],14,643717713),o=Wn(o,d,u,r,i[0],20,-373897302),r=Wn(r,o,d,u,i[5],5,-701558691),u=Wn(u,r,o,d,i[10],9,38016083),d=Wn(d,u,r,o,i[15],14,-660478335),o=Wn(o,d,u,r,i[4],20,-405537848),r=Wn(r,o,d,u,i[9],5,568446438),u=Wn(u,r,o,d,i[14],9,-1019803690),d=Wn(d,u,r,o,i[3],14,-187363961),o=Wn(o,d,u,r,i[8],20,1163531501),r=Wn(r,o,d,u,i[13],5,-1444681467),u=Wn(u,r,o,d,i[2],9,-51403784),d=Wn(d,u,r,o,i[7],14,1735328473),r=Xn(r,o=Wn(o,d,u,r,i[12],20,-1926607734),d,u,i[5],4,-378558),u=Xn(u,r,o,d,i[8],11,-2022574463),d=Xn(d,u,r,o,i[11],16,1839030562),o=Xn(o,d,u,r,i[14],23,-35309556),r=Xn(r,o,d,u,i[1],4,-1530992060),u=Xn(u,r,o,d,i[4],11,1272893353),d=Xn(d,u,r,o,i[7],16,-155497632),o=Xn(o,d,u,r,i[10],23,-1094730640),r=Xn(r,o,d,u,i[13],4,681279174),u=Xn(u,r,o,d,i[0],11,-358537222),d=Xn(d,u,r,o,i[3],16,-722521979),o=Xn(o,d,u,r,i[6],23,76029189),r=Xn(r,o,d,u,i[9],4,-640364487),u=Xn(u,r,o,d,i[12],11,-421815835),d=Xn(d,u,r,o,i[15],16,530742520),r=Qn(r,o=Xn(o,d,u,r,i[2],23,-995338651),d,u,i[0],6,-198630844),u=Qn(u,r,o,d,i[7],10,1126891415),d=Qn(d,u,r,o,i[14],15,-1416354905),o=Qn(o,d,u,r,i[5],21,-57434055),r=Qn(r,o,d,u,i[12],6,1700485571),u=Qn(u,r,o,d,i[3],10,-1894986606),d=Qn(d,u,r,o,i[10],15,-1051523),o=Qn(o,d,u,r,i[1],21,-2054922799),r=Qn(r,o,d,u,i[8],6,1873313359),u=Qn(u,r,o,d,i[15],10,-30611744),d=Qn(d,u,r,o,i[6],15,-1560198380),o=Qn(o,d,u,r,i[13],21,1309151649),r=Qn(r,o,d,u,i[4],6,-145523070),u=Qn(u,r,o,d,i[11],10,-1120210379),d=Qn(d,u,r,o,i[2],15,718787259),o=Qn(o,d,u,r,i[9],21,-343485551),n[0]=Ql(r,n[0]),n[1]=Ql(o,n[1]),n[2]=Ql(d,n[2]),n[3]=Ql(u,n[3])}function vf(n,i,r,o,d,u){return i=Ql(Ql(i,n),Ql(o,u)),Ql(i<<d|i>>>32-d,r)}function Yn(n,i,r,o,d,u,m){return vf(i&r|~i&o,n,i,d,u,m)}function Wn(n,i,r,o,d,u,m){return vf(i&o|r&~o,n,i,d,u,m)}function Xn(n,i,r,o,d,u,m){return vf(i^r^o,n,i,d,u,m)}function Qn(n,i,r,o,d,u,m){return vf(r^(i|~o),n,i,d,u,m)}function N2(n){var i,r=n.length,o=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n.length;i+=64)Bh(o,lv(n.substring(i-64,i)));n=n.substring(i-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<n.length;i++)d[i>>2]|=n.charCodeAt(i)<<(i%4<<3);if(d[i>>2]|=128<<(i%4<<3),i>55)for(Bh(o,d),i=0;i<16;i++)d[i]=0;return d[14]=8*r,Bh(o,d),o}function lv(n){var i,r=[];for(i=0;i<64;i+=4)r[i>>2]=n.charCodeAt(i)+(n.charCodeAt(i+1)<<8)+(n.charCodeAt(i+2)<<16)+(n.charCodeAt(i+3)<<24);return r}Hu=xt.atob.bind(xt),Zh=xt.btoa.bind(xt);var Dm="0123456789abcdef".split("");function ov(n){for(var i="",r=0;r<4;r++)i+=Dm[n>>8*r+4&15]+Dm[n>>8*r&15];return i}function cv(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Jh(n){return N2(n).map(cv).join("")}var uv=function(n){for(var i=0;i<n.length;i++)n[i]=ov(n[i]);return n.join("")}(N2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ql(n,i){if(uv){var r=(65535&n)+(65535&i);return(n>>16)+(i>>16)+(r>>16)<<16|65535&r}return n+i&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ep(n,i){var r,o,d,u;if(n!==r){for(var m=(d=n,u=1+(256/n.length>>0),new Array(u+1).join(d)),g=[],h=0;h<256;h++)g[h]=h;var v=0;for(h=0;h<256;h++){var S=g[h];v=(v+S+m.charCodeAt(h))%256,g[h]=g[v],g[v]=S}r=n,o=g}else g=o;var j=i.length,N=0,b=0,T="";for(h=0;h<j;h++)b=(b+(S=g[N=(N+1)%256]))%256,g[N]=g[b],g[b]=S,m=g[(g[N]+g[b])%256],T+=String.fromCharCode(i.charCodeAt(h)^m);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Lm={print:4,modify:8,copy:16,"annot-forms":32};function Hc(n,i,r,o){this.v=1,this.r=2;var d=192;n.forEach(function(g){if(Lm.perm!==void 0)throw new Error("Invalid permission: "+g);d+=Lm[g]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var u=(i+this.padding).substr(0,32),m=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(u,m),this.P=-(1+(255^d)),this.encryptionKey=Jh(u+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=ep(this.encryptionKey,this.padding)}function Gc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var i="",r=n.length,o=0;o<r;o++){var d=n.charCodeAt(o);d<33||d===35||d===37||d===40||d===41||d===47||d===60||d===62||d===91||d===93||d===123||d===125||d>126?i+="#"+("0"+d.toString(16)).slice(-2):i+=n[o]}return i}function _m(n){if(ua(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(r,o,d){if(d=d||!1,typeof r!="string"||typeof o!="function"||typeof d!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(r)||(i[r]={});var u=Math.random().toString(35);return i[r][u]=[o,!!d],u},this.unsubscribe=function(r){for(var o in i)if(i[o][r])return delete i[o][r],Object.keys(i[o]).length===0&&delete i[o],!0;return!1},this.publish=function(r){if(i.hasOwnProperty(r)){var o=Array.prototype.slice.call(arguments,1),d=[];for(var u in i[r]){var m=i[r][u];try{m[0].apply(n,o)}catch(g){xt.console&&ba.error("jsPDF PubSub Error",g.message,g)}m[1]&&d.push(u)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Ku(n){if(!(this instanceof Ku))return new Ku(n);var i="opacity,stroke-opacity".split(",");for(var r in n)n.hasOwnProperty(r)&&i.indexOf(r)>=0&&(this[r]=n[r]);this.id="",this.objectNumber=-1}function S2(n,i){this.gState=n,this.matrix=i,this.id="",this.objectNumber=-1}function Xl(n,i,r,o,d){if(!(this instanceof Xl))return new Xl(n,i,r,o,d);this.type=n==="axial"?2:3,this.coords=i,this.colors=r,S2.call(this,o,d)}function zo(n,i,r,o,d){if(!(this instanceof zo))return new zo(n,i,r,o,d);this.boundingBox=n,this.xStep=i,this.yStep=r,this.stream="",this.cloneIndex=0,S2.call(this,o,d)}function mt(n){var i,r=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],d=arguments[2],u=arguments[3],m=[],g=1,h=16,v="S",S=null;ua(n=n||{})==="object"&&(r=n.orientation,o=n.unit||o,d=n.format||d,u=n.compress||n.compressPdf||u,(S=n.encryption||null)!==null&&(S.userPassword=S.userPassword||"",S.ownerPassword=S.ownerPassword||"",S.userPermissions=S.userPermissions||[]),g=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(i=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),v=n.defaultPathOperation||"S"),m=n.filters||(u===!0?["FlateEncode"]:m),o=o||"mm",r=(""+(r||"P")).toLowerCase();var j=n.putOnlyUsedFonts||!1,N={},b={internal:{},__private__:{}};b.__private__.PubSub=_m;var T="1.3",O=b.__private__.getPdfVersion=function(){return T};b.__private__.setPdfVersion=function(y){T=y};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return M};var A=b.__private__.getPageFormat=function(y){return M[y]};d=d||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},P=E.COMPAT;function G(){this.saveGraphicsState(),fe(new ct(tt,0,0,-tt,0,Ws()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),v="n",P=E.ADVANCED}function Q(){this.restoreGraphicsState(),v="S",P=E.COMPAT}var ne=b.__private__.combineFontStyleAndFontWeight=function(y,U){if(y=="bold"&&U=="normal"||y=="bold"&&U==400||y=="normal"&&U=="italic"||y=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(y=U==400||U==="normal"?y==="italic"?"italic":"normal":U!=700&&U!=="bold"||y!=="normal"?(U==700?"bold":U)+""+y:"bold"),y};b.advancedAPI=function(y){var U=P===E.COMPAT;return U&&G.call(this),typeof y!="function"||(y(this),U&&Q.call(this)),this},b.compatAPI=function(y){var U=P===E.ADVANCED;return U&&Q.call(this),typeof y!="function"||(y(this),U&&G.call(this)),this},b.isAdvancedAPI=function(){return P===E.ADVANCED};var z,B=function(y){if(P!==E.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=b.roundToPrecision=b.__private__.roundToPrecision=function(y,U){var ce=i||U;if(isNaN(y)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ce).replace(/0+$/,"")};z=b.hpf=b.__private__.hpf=typeof h=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,h)}:h==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,16)};var le=b.f2=b.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return R(y,2)},k=b.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return R(y,3)},C=b.scale=b.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return P===E.COMPAT?y*tt:P===E.ADVANCED?y:void 0},H=function(y){return P===E.COMPAT?Ws()-y:P===E.ADVANCED?y:void 0},Y=function(y){return C(H(y))};b.__private__.setPrecision=b.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(i=parseInt(y,10))};var ue,F="00000000000000000000000000000000",W=b.__private__.getFileId=function(){return F},ee=b.__private__.setFileId=function(y){return F=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),S!==null&&(nn=new Hc(S.userPermissions,S.userPassword,S.ownerPassword,F)),F};b.setFileId=function(y){return ee(y),this},b.getFileId=function(){return W()};var re=b.__private__.convertDateToPDFDate=function(y){var U=y.getTimezoneOffset(),ce=U<0?"+":"-",ge=Math.floor(Math.abs(U/60)),Se=Math.abs(U%60),Re=[ce,J(ge),"'",J(Se),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),Re].join("")},_=b.__private__.convertPDFDateToDate=function(y){var U=parseInt(y.substr(2,4),10),ce=parseInt(y.substr(6,2),10)-1,ge=parseInt(y.substr(8,2),10),Se=parseInt(y.substr(10,2),10),Re=parseInt(y.substr(12,2),10),Ve=parseInt(y.substr(14,2),10);return new Date(U,ce,ge,Se,Re,Ve,0)},ie=b.__private__.setCreationDate=function(y){var U;if(y===void 0&&(y=new Date),y instanceof Date)U=re(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=y}return ue=U},D=b.__private__.getCreationDate=function(y){var U=ue;return y==="jsDate"&&(U=_(ue)),U};b.setCreationDate=function(y){return ie(y),this},b.getCreationDate=function(y){return D(y)};var V,J=b.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},se=b.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},te=0,pe=[],me=[],de=0,ke=[],Oe=[],Ge=!1,We=me,Je=function(){te=0,de=0,me=[],pe=[],ke=[],Jn=qa(),ei=qa()};b.__private__.setCustomOutputDestination=function(y){Ge=!0,We=y};var Pe=function(y){Ge||(We=y)};b.__private__.resetCustomOutputDestination=function(){Ge=!1,We=me};var fe=b.__private__.out=function(y){return y=y.toString(),de+=y.length+1,We.push(y),We},ht=b.__private__.write=function(y){return fe(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},st=b.__private__.getArrayBuffer=function(y){for(var U=y.length,ce=new ArrayBuffer(U),ge=new Uint8Array(ce);U--;)ge[U]=y.charCodeAt(U);return ce},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ye};var Qe=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(y){return Qe=P===E.ADVANCED?y/tt:y,this};var Ke,Ze=b.__private__.getFontSize=b.getFontSize=function(){return P===E.COMPAT?Qe:Qe*tt},ut=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(y){return ut=y,this},b.__private__.getR2L=b.getR2L=function(){return ut};var St,_t=b.__private__.setZoomMode=function(y){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ke=y;else if(isNaN(y)){if(U.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ke=y}else Ke=parseInt(y,10)};b.__private__.getZoomMode=function(){return Ke};var Ct,jt=b.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');St=y};b.__private__.getPageMode=function(){return St};var It=b.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Ct=y};b.__private__.getLayoutMode=function(){return Ct},b.__private__.setDisplayMode=b.setDisplayMode=function(y,U,ce){return _t(y),It(U),jt(ce),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(y){if(Object.keys(rt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[y]},b.__private__.getDocumentProperties=function(){return rt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(y){for(var U in rt)rt.hasOwnProperty(U)&&y[U]&&(rt[U]=y[U]);return this},b.__private__.setDocumentProperty=function(y,U){if(Object.keys(rt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[y]=U};var Rt,tt,gn,Ft,Pn,Ht={},ia={},Rn=[],$t={},Bs={},Sa={},$n={},Kn=null,La=0,Nt=[],Xt=new _m(b),is=n.hotfixes||[],Ya={},Ni={},Ii=[],ct=function y(U,ce,ge,Se,Re,Ve){if(!(this instanceof y))return new y(U,ce,ge,Se,Re,Ve);isNaN(U)&&(U=1),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=1),isNaN(Re)&&(Re=0),isNaN(Ve)&&(Ve=0),this._matrix=[U,ce,ge,Se,Re,Ve]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(y)},ct.prototype.multiply=function(y){var U=y.sx*this.sx+y.shy*this.shx,ce=y.sx*this.shy+y.shy*this.sy,ge=y.shx*this.sx+y.sy*this.shx,Se=y.shx*this.shy+y.sy*this.sy,Re=y.tx*this.sx+y.ty*this.shx+this.tx,Ve=y.tx*this.shy+y.ty*this.sy+this.ty;return new ct(U,ce,ge,Se,Re,Ve)},ct.prototype.decompose=function(){var y=this.sx,U=this.shy,ce=this.shx,ge=this.sy,Se=this.tx,Re=this.ty,Ve=Math.sqrt(y*y+U*U),et=(y/=Ve)*ce+(U/=Ve)*ge;ce-=y*et,ge-=U*et;var ot=Math.sqrt(ce*ce+ge*ge);return et/=ot,y*(ge/=ot)<U*(ce/=ot)&&(y=-y,U=-U,et=-et,Ve=-Ve),{scale:new ct(Ve,0,0,ot,0,0),translate:new ct(1,0,0,1,Se,Re),rotate:new ct(y,U,-U,y,0,0),skew:new ct(1,0,et,1,0,0)}},ct.prototype.toString=function(y){return this.join(" ")},ct.prototype.inversed=function(){var y=this.sx,U=this.shy,ce=this.shx,ge=this.sy,Se=this.tx,Re=this.ty,Ve=1/(y*ge-U*ce),et=ge*Ve,ot=-U*Ve,Tt=-ce*Ve,kt=y*Ve;return new ct(et,ot,Tt,kt,-et*Se-Tt*Re,-ot*Se-kt*Re)},ct.prototype.applyToPoint=function(y){var U=y.x*this.sx+y.y*this.shx+this.tx,ce=y.x*this.shy+y.y*this.sy+this.ty;return new cl(U,ce)},ct.prototype.applyToRectangle=function(y){var U=this.applyToPoint(y),ce=this.applyToPoint(new cl(y.x+y.w,y.y+y.h));return new fo(U.x,U.y,ce.x-U.x,ce.y-U.y)},ct.prototype.clone=function(){var y=this.sx,U=this.shy,ce=this.shx,ge=this.sy,Se=this.tx,Re=this.ty;return new ct(y,U,ce,ge,Se,Re)},b.Matrix=ct;var da=b.matrixMult=function(y,U){return U.multiply(y)},Aa=new ct(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Aa;var Wa=function(y,U){if(!Bs[y]){var ce=(U instanceof Xl?"Sh":"P")+(Object.keys($t).length+1).toString(10);U.id=ce,Bs[y]=ce,$t[ce]=U,Xt.publish("addPattern",U)}};b.ShadingPattern=Xl,b.TilingPattern=zo,b.addShadingPattern=function(y,U){return B("addShadingPattern()"),Wa(y,U),this},b.beginTilingPattern=function(y){B("beginTilingPattern()"),ul(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},b.endTilingPattern=function(y,U){B("endTilingPattern()"),U.stream=Oe[V].join(`
`),Wa(y,U),Xt.publish("endTilingPattern",U),Ii.pop().restore()};var Oa=b.__private__.newObject=function(){var y=qa();return Zn(y,!0),y},qa=b.__private__.newObjectDeferred=function(){return te++,pe[te]=function(){return de},te},Zn=function(y,U){return U=typeof U=="boolean"&&U,pe[y]=de,U&&fe(y+" 0 obj"),y},vr=b.__private__.newAdditionalObject=function(){var y={objId:qa(),content:""};return ke.push(y),y},Jn=qa(),ei=qa(),vn=b.__private__.decodeColorString=function(y){var U=y.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ce=parseFloat(U[0]);U=[ce,ce,ce,"r"]}for(var ge="#",Se=0;Se<3;Se++)ge+=("0"+Math.floor(255*parseFloat(U[Se])).toString(16)).slice(-2);return ge},bn=b.__private__.encodeColorString=function(y){var U;typeof y=="string"&&(y={ch1:y});var ce=y.ch1,ge=y.ch2,Se=y.ch3,Re=y.ch4,Ve=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var et=new j2(ce);if(et.ok)ce=et.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var ot=parseInt(ce.substr(1),16);ce=ot>>16&255,ge=ot>>8&255,Se=255&ot}if(ge===void 0||Re===void 0&&ce===ge&&ge===Se)if(typeof ce=="string")U=ce+" "+Ve[0];else switch(y.precision){case 2:U=le(ce/255)+" "+Ve[0];break;case 3:default:U=k(ce/255)+" "+Ve[0]}else if(Re===void 0||ua(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return U=["1.","1.","1.",Ve[1]].join(" ");if(typeof ce=="string")U=[ce,ge,Se,Ve[1]].join(" ");else switch(y.precision){case 2:U=[le(ce/255),le(ge/255),le(Se/255),Ve[1]].join(" ");break;default:case 3:U=[k(ce/255),k(ge/255),k(Se/255),Ve[1]].join(" ")}}else if(typeof ce=="string")U=[ce,ge,Se,Re,Ve[2]].join(" ");else switch(y.precision){case 2:U=[le(ce),le(ge),le(Se),le(Re),Ve[2]].join(" ");break;case 3:default:U=[k(ce),k(ge),k(Se),k(Re),Ve[2]].join(" ")}return U},Bn=b.__private__.getFilters=function(){return m},cn=b.__private__.putStream=function(y){var U=(y=y||{}).data||"",ce=y.filters||Bn(),ge=y.alreadyAppliedFilters||[],Se=y.addLength1||!1,Re=U.length,Ve=y.objectId,et=function(Ra){return Ra};if(S!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");S!==null&&(et=nn.encryptor(Ve,0));var ot={};ce===!0&&(ce=["FlateEncode"]);var Tt=y.additionalKeyValues||[],kt=(ot=mt.API.processDataByFilters!==void 0?mt.API.processDataByFilters(U,ce):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(ot.data.length!==0&&(Tt.push({key:"Length",value:ot.data.length}),Se===!0&&Tt.push({key:"Length1",value:Re})),kt.length!=0)if(kt.split("/").length-1==1)Tt.push({key:"Filter",value:kt});else{Tt.push({key:"Filter",value:"["+kt+"]"});for(var zt=0;zt<Tt.length;zt+=1)if(Tt[zt].key==="DecodeParms"){for(var xa=[],Ta=0;Ta<ot.reverseChain.split("/").length-1;Ta+=1)xa.push("null");xa.push(Tt[zt].value),Tt[zt].value="["+xa.join(" ")+"]"}}fe("<<");for(var Pa=0;Pa<Tt.length;Pa++)fe("/"+Tt[Pa].key+" "+Tt[Pa].value);fe(">>"),ot.data.length!==0&&(fe("stream"),fe(et(ot.data)),fe("endstream"))},sa=b.__private__.putPage=function(y){var U=y.number,ce=y.data,ge=y.objId,Se=y.contentsObjId;Zn(ge,!0),fe("<</Type /Page"),fe("/Parent "+y.rootDictionaryObjId+" 0 R"),fe("/Resources "+y.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(z(y.mediaBox.bottomLeftX))+" "+parseFloat(z(y.mediaBox.bottomLeftY))+" "+z(y.mediaBox.topRightX)+" "+z(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&fe("/CropBox ["+z(y.cropBox.bottomLeftX)+" "+z(y.cropBox.bottomLeftY)+" "+z(y.cropBox.topRightX)+" "+z(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&fe("/BleedBox ["+z(y.bleedBox.bottomLeftX)+" "+z(y.bleedBox.bottomLeftY)+" "+z(y.bleedBox.topRightX)+" "+z(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&fe("/TrimBox ["+z(y.trimBox.bottomLeftX)+" "+z(y.trimBox.bottomLeftY)+" "+z(y.trimBox.topRightX)+" "+z(y.trimBox.topRightY)+"]"),y.artBox!==null&&fe("/ArtBox ["+z(y.artBox.bottomLeftX)+" "+z(y.artBox.bottomLeftY)+" "+z(y.artBox.topRightX)+" "+z(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&fe("/UserUnit "+y.userUnit),Xt.publish("putPage",{objId:ge,pageContext:Nt[U],pageNumber:U,page:ce}),fe("/Contents "+Se+" 0 R"),fe(">>"),fe("endobj");var Re=ce.join(`
`);return P===E.ADVANCED&&(Re+=`
Q`),Zn(Se,!0),cn({data:Re,filters:Bn(),objectId:Se}),fe("endobj"),ge},Is=b.__private__.putPages=function(){var y,U,ce=[];for(y=1;y<=La;y++)Nt[y].objId=qa(),Nt[y].contentsObjId=qa();for(y=1;y<=La;y++)ce.push(sa({number:y,data:Oe[y],objId:Nt[y].objId,contentsObjId:Nt[y].contentsObjId,mediaBox:Nt[y].mediaBox,cropBox:Nt[y].cropBox,bleedBox:Nt[y].bleedBox,trimBox:Nt[y].trimBox,artBox:Nt[y].artBox,userUnit:Nt[y].userUnit,rootDictionaryObjId:Jn,resourceDictionaryObjId:ei}));Zn(Jn,!0),fe("<</Type /Pages");var ge="/Kids [";for(U=0;U<La;U++)ge+=ce[U]+" 0 R ";fe(ge+"]"),fe("/Count "+La),fe(">>"),fe("endobj"),Xt.publish("postPutPages")},br=function(y){Xt.publish("putFont",{font:y,out:fe,newObject:Oa,putStream:cn}),y.isAlreadyPutted!==!0&&(y.objectNumber=Oa(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Gc(y.postScriptName)),fe("/Subtype /Type1"),typeof y.encoding=="string"&&fe("/Encoding /"+y.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},li=function(){for(var y in Ht)Ht.hasOwnProperty(y)&&(j===!1||j===!0&&N.hasOwnProperty(y))&&br(Ht[y])},Si=function(y){y.objectNumber=Oa();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[z(y.x),z(y.y),z(y.x+y.width),z(y.y+y.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ce=y.pages[1].join(`
`);cn({data:ce,additionalKeyValues:U,objectId:y.objectNumber}),fe("endobj")},Jr=function(){for(var y in Ya)Ya.hasOwnProperty(y)&&Si(Ya[y])},eo=function(y,U){var ce,ge=[],Se=1/(U-1);for(ce=0;ce<1;ce+=Se)ge.push(ce);if(ge.push(1),y[0].offset!=0){var Re={offset:0,color:y[0].color};y.unshift(Re)}if(y[y.length-1].offset!=1){var Ve={offset:1,color:y[y.length-1].color};y.push(Ve)}for(var et="",ot=0,Tt=0;Tt<ge.length;Tt++){for(ce=ge[Tt];ce>y[ot+1].offset;)ot++;var kt=y[ot].offset,zt=(ce-kt)/(y[ot+1].offset-kt),xa=y[ot].color,Ta=y[ot+1].color;et+=se(Math.round((1-zt)*xa[0]+zt*Ta[0]).toString(16))+se(Math.round((1-zt)*xa[1]+zt*Ta[1]).toString(16))+se(Math.round((1-zt)*xa[2]+zt*Ta[2]).toString(16))}return et.trim()},Xo=function(y,U){U||(U=21);var ce=Oa(),ge=eo(y.colors,U),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+U+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cn({data:ge,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),fe("endobj"),y.objectNumber=Oa(),fe("<< /ShadingType "+y.type),fe("/ColorSpace /DeviceRGB");var Re="/Coords ["+z(parseFloat(y.coords[0]))+" "+z(parseFloat(y.coords[1]))+" ";y.type===2?Re+=z(parseFloat(y.coords[2]))+" "+z(parseFloat(y.coords[3])):Re+=z(parseFloat(y.coords[2]))+" "+z(parseFloat(y.coords[3]))+" "+z(parseFloat(y.coords[4]))+" "+z(parseFloat(y.coords[5])),fe(Re+="]"),y.matrix&&fe("/Matrix ["+y.matrix.toString()+"]"),fe("/Function "+ce+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Yc=function(y,U){var ce=qa(),ge=Oa();U.push({resourcesOid:ce,objectOid:ge}),y.objectNumber=ge;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+y.boundingBox.map(z).join(" ")+"]"}),Se.push({key:"XStep",value:z(y.xStep)}),Se.push({key:"YStep",value:z(y.yStep)}),Se.push({key:"Resources",value:ce+" 0 R"}),y.matrix&&Se.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),cn({data:y.stream,additionalKeyValues:Se,objectId:y.objectNumber}),fe("endobj")},ss=function(y){var U;for(U in $t)$t.hasOwnProperty(U)&&($t[U]instanceof Xl?Xo($t[U]):$t[U]instanceof zo&&Yc($t[U],y))},xr=function(y){for(var U in y.objectNumber=Oa(),fe("<<"),y)switch(U){case"opacity":fe("/ca "+le(y[U]));break;case"stroke-opacity":fe("/CA "+le(y[U]))}fe(">>"),fe("endobj")},Ai=function(){var y;for(y in Sa)Sa.hasOwnProperty(y)&&xr(Sa[y])},yr=function(){for(var y in fe("/XObject <<"),Ya)Ya.hasOwnProperty(y)&&Ya[y].objectNumber>=0&&fe("/"+y+" "+Ya[y].objectNumber+" 0 R");Xt.publish("putXobjectDict"),fe(">>")},Qo=function(){nn.oid=Oa(),fe("<<"),fe("/Filter /Standard"),fe("/V "+nn.v),fe("/R "+nn.r),fe("/U <"+nn.toHexString(nn.U)+">"),fe("/O <"+nn.toHexString(nn.O)+">"),fe("/P "+nn.P),fe(">>"),fe("endobj")},rs=function(){for(var y in fe("/Font <<"),Ht)Ht.hasOwnProperty(y)&&(j===!1||j===!0&&N.hasOwnProperty(y))&&fe("/"+y+" "+Ht[y].objectNumber+" 0 R");fe(">>")},to=function(){if(Object.keys($t).length>0){for(var y in fe("/Shading <<"),$t)$t.hasOwnProperty(y)&&$t[y]instanceof Xl&&$t[y].objectNumber>=0&&fe("/"+y+" "+$t[y].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),fe(">>")}},Fs=function(y){if(Object.keys($t).length>0){for(var U in fe("/Pattern <<"),$t)$t.hasOwnProperty(U)&&$t[U]instanceof b.TilingPattern&&$t[U].objectNumber>=0&&$t[U].objectNumber<y&&fe("/"+U+" "+$t[U].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),fe(">>")}},Wc=function(){if(Object.keys(Sa).length>0){var y;for(y in fe("/ExtGState <<"),Sa)Sa.hasOwnProperty(y)&&Sa[y].objectNumber>=0&&fe("/"+y+" "+Sa[y].objectNumber+" 0 R");Xt.publish("putGStateDict"),fe(">>")}},_a=function(y){Zn(y.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rs(),to(),Fs(y.objectOid),Wc(),yr(),fe(">>"),fe("endobj")},Tn=function(){var y=[];li(),Ai(),Jr(),ss(y),Xt.publish("putResources"),y.forEach(_a),_a({resourcesOid:ei,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},ao=function(){Xt.publish("putAdditionalObjects");for(var y=0;y<ke.length;y++){var U=ke[y];Zn(U.objId,!0),fe(U.content),fe("endobj")}Xt.publish("postPutAdditionalObjects")},$o=function(y){ia[y.fontName]=ia[y.fontName]||{},ia[y.fontName][y.fontStyle]=y.id},zs=function(y,U,ce,ge,Se){var Re={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:y,fontName:U,fontStyle:ce,encoding:ge,isStandardFont:Se||!1,metadata:{}};return Xt.publish("addFont",{font:Re,instance:this}),Ht[Re.id]=Re,$o(Re),Re.id},Ko=function(y){for(var U=0,ce=Ye.length;U<ce;U++){var ge=zs.call(this,y[U][0],y[U][1],y[U][2],Ye[U][3],!0);j===!1&&(N[ge]=!0);var Se=y[U][0].split("-");$o({id:ge,fontName:Se[0],fontStyle:Se[1]||""})}Xt.publish("addFonts",{fonts:Ht,dictionary:ia})},In=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ge){var U=ge.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var ce="Error in function "+U.split(`
`)[0].split("<")[0]+": "+ge.message;if(!xt.console)throw new Error(ce);xt.console.error(ce,ge),xt.alert&&alert(ce)}},y.foo.bar=y,y.foo},el=function(y,U){var ce,ge,Se,Re,Ve,et,ot,Tt,kt;if(Se=(U=U||{}).sourceEncoding||"Unicode",Ve=U.outputEncoding,(U.autoencode||Ve)&&Ht[Rt].metadata&&Ht[Rt].metadata[Se]&&Ht[Rt].metadata[Se].encoding&&(Re=Ht[Rt].metadata[Se].encoding,!Ve&&Ht[Rt].encoding&&(Ve=Ht[Rt].encoding),!Ve&&Re.codePages&&(Ve=Re.codePages[0]),typeof Ve=="string"&&(Ve=Re[Ve]),Ve)){for(ot=!1,et=[],ce=0,ge=y.length;ce<ge;ce++)(Tt=Ve[y.charCodeAt(ce)])?et.push(String.fromCharCode(Tt)):et.push(y[ce]),et[ce].charCodeAt(0)>>8&&(ot=!0);y=et.join("")}for(ce=y.length;ot===void 0&&ce!==0;)y.charCodeAt(ce-1)>>8&&(ot=!0),ce--;if(!ot)return y;for(et=U.noBOM?[]:[254,255],ce=0,ge=y.length;ce<ge;ce++){if((kt=(Tt=y.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(kt),et.push(Tt-(kt<<8))}return String.fromCharCode.apply(void 0,et)},ga=b.__private__.pdfEscape=b.pdfEscape=function(y,U){return el(y,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=b.__private__.beginPage=function(y){Oe[++La]=[],Nt[La]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},ls(La),Pe(Oe[V])},no=function(y,U){var ce,ge,Se;switch(r=U||r,typeof y=="string"&&(ce=A(y.toLowerCase()),Array.isArray(ce)&&(ge=ce[0],Se=ce[1])),Array.isArray(y)&&(ge=y[0]*tt,Se=y[1]*tt),isNaN(ge)&&(ge=d[0],Se=d[1]),(ge>14400||Se>14400)&&(ba.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Se=Math.min(14400,Se)),d=[ge,Se],r.substr(0,1)){case"l":Se>ge&&(d=[Se,ge]);break;case"p":ge>Se&&(d=[Se,ge])}wr(d),nc(Gs),fe(Ti),uo!==0&&fe(uo+" J"),ol!==0&&fe(ol+" j"),Xt.publish("addPage",{pageNumber:La})},io=function(y){y>0&&y<=La&&(Oe.splice(y,1),Nt.splice(y,1),La--,V>La&&(V=La),this.setPage(V))},ls=function(y){y>0&&y<=La&&(V=y)},Zo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Oe.length-1},so=function(y,U,ce){var ge,Se=void 0;return ce=ce||{},y=y!==void 0?y:Ht[Rt].fontName,U=U!==void 0?U:Ht[Rt].fontStyle,ge=y.toLowerCase(),ia[ge]!==void 0&&ia[ge][U]!==void 0?Se=ia[ge][U]:ia[y]!==void 0&&ia[y][U]!==void 0?Se=ia[y][U]:ce.disableWarning===!1&&ba.warn("Unable to look up font label for font '"+y+"', '"+U+"'. Refer to getFontList() for available fonts."),Se||ce.noFallback||(Se=ia.times[U])==null&&(Se=ia.times.normal),Se},qs=b.__private__.putInfo=function(){var y=Oa(),U=function(ge){return ge};for(var ce in S!==null&&(U=nn.encryptor(y,0)),fe("<<"),fe("/Producer ("+ga(U("jsPDF "+mt.version))+")"),rt)rt.hasOwnProperty(ce)&&rt[ce]&&fe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+ga(U(rt[ce]))+")");fe("/CreationDate ("+ga(U(ue))+")"),fe(">>"),fe("endobj")},ro=b.__private__.putCatalog=function(y){var U=(y=y||{}).rootDictionaryObjId||Jn;switch(Oa(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+U+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+Ke;ce.substr(ce.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+le(Ke)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}St&&fe("/PageMode /"+St),Xt.publish("putCatalog"),fe(">>"),fe("endobj")},Jo=b.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(te+1)),fe("/Root "+te+" 0 R"),fe("/Info "+(te-1)+" 0 R"),S!==null&&fe("/Encrypt "+nn.oid+" 0 R"),fe("/ID [ <"+F+"> <"+F+"> ]"),fe(">>")},ec=b.__private__.putHeader=function(){fe("%PDF-"+T),fe("%")},lo=b.__private__.putXRef=function(){var y="0000000000";fe("xref"),fe("0 "+(te+1)),fe("0000000000 65535 f ");for(var U=1;U<=te;U++)typeof pe[U]=="function"?fe((y+pe[U]()).slice(-10)+" 00000 n "):pe[U]!==void 0?fe((y+pe[U]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},os=b.__private__.buildDocument=function(){Je(),Pe(me),Xt.publish("buildDocument"),ec(),Is(),ao(),Tn(),S!==null&&Qo(),qs(),ro();var y=de;return lo(),Jo(),fe("startxref"),fe(""+y),fe("%%EOF"),Pe(Oe[V]),me.join(`
`)},tl=b.__private__.getBlob=function(y){return new Blob([st(y)],{type:"application/pdf"})},cs=b.output=b.__private__.output=In(function(y,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",y){case void 0:return os();case"save":b.save(U.filename);break;case"arraybuffer":return st(os());case"blob":return tl(os());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(tl(os()))||void 0;ba.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ge=os();try{ce=Zh(ge)}catch{ce=Zh(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+U.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Se=U.pdfObjectUrl,Re="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",et=xt.open();return et!==null&&et.document.write(Ve),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Tt=xt.open();if(Tt!==null){Tt.document.write(ot);var kt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=U.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',xa=xt.open();if(xa!==null&&(xa.document.write(zt),xa.document.title=U.filename),xa||typeof safari>"u")return xa;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",U);default:return null}}),al=function(y){return Array.isArray(is)===!0&&is.indexOf(y)>-1};switch(o){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=al("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);tt=o}var nn=null;ie(),ee();var Us=function(y){return S!==null?nn.encryptor(y,0):function(U){return U}},us=b.__private__.getPageInfo=b.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[y].objId,pageNumber:y,pageContext:Nt[y]}},yt=b.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Nt)if(Nt[U].objId===y)break;return us(U)},oo=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Nt[V].objId,pageNumber:V,pageContext:Nt[V]}};b.addPage=function(){return no.apply(this,arguments),this},b.setPage=function(){return ls.apply(this,arguments),Pe.call(this,Oe[V]),this},b.insertPage=function(y){return this.addPage(),this.movePage(V,y),this},b.movePage=function(y,U){var ce,ge;if(y>U){ce=Oe[y],ge=Nt[y];for(var Se=y;Se>U;Se--)Oe[Se]=Oe[Se-1],Nt[Se]=Nt[Se-1];Oe[U]=ce,Nt[U]=ge,this.setPage(U)}else if(y<U){ce=Oe[y],ge=Nt[y];for(var Re=y;Re<U;Re++)Oe[Re]=Oe[Re+1],Nt[Re]=Nt[Re+1];Oe[U]=ce,Nt[U]=ge,this.setPage(U)}return this},b.deletePage=function(){return io.apply(this,arguments),this},b.__private__.text=b.text=function(y,U,ce,ge,Se){var Re,Ve,et,ot,Tt,kt,zt,xa,Ta,Pa=(ge=ge||{}).scope||this;if(typeof y=="number"&&typeof U=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Ra=ce;ce=U,U=y,y=Ra}if(arguments[3]instanceof ct?(B("The transform parameter of text() with a Matrix value"),Ta=Se):(et=arguments[4],ot=arguments[5],ua(zt=arguments[3])==="object"&&zt!==null||(typeof et=="string"&&(ot=et,et=null),typeof zt=="string"&&(ot=zt,zt=null),typeof zt=="number"&&(et=zt,zt=null),ge={flags:zt,angle:et,align:ot})),isNaN(U)||isNaN(ce)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Pa;var sn="",Ci=!1,ai=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:ti,Ui=Pa.internal.scaleFactor;function mo(fa){return fa=fa.split("	").join(Array(ge.TabLen||9).join(" ")),ga(fa,zt)}function hs(fa){for(var ra,ka=fa.concat(),Ba=[],Xa=ka.length;Xa--;)typeof(ra=ka.shift())=="string"?Ba.push(ra):Array.isArray(fa)&&(ra.length===1||ra[1]===void 0&&ra[2]===void 0)?Ba.push(ra[0]):Ba.push([ra[0],ra[1],ra[2]]);return Ba}function ps(fa,ra){var ka;if(typeof fa=="string")ka=ra(fa)[0];else if(Array.isArray(fa)){for(var Ba,Xa,bs=fa.concat(),dn=[],Dn=bs.length;Dn--;)typeof(Ba=bs.shift())=="string"?dn.push(ra(Ba)[0]):Array.isArray(Ba)&&typeof Ba[0]=="string"&&(Xa=ra(Ba[0],Ba[1],Ba[2]),dn.push([Xa[0],Xa[1],Xa[2]]));ka=dn}return ka}var hl=!1,Xs=!0;if(typeof y=="string")hl=!0;else if(Array.isArray(y)){var pl=y.concat();Ve=[];for(var Ar,yn=pl.length;yn--;)(typeof(Ar=pl.shift())!="string"||Array.isArray(Ar)&&typeof Ar[0]!="string")&&(Xs=!1);hl=Xs}if(hl===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Qs=Qe/Pa.internal.scaleFactor,Tr=Qs*(ai-1);switch(ge.baseline){case"bottom":ce-=Tr;break;case"top":ce+=Qs-Tr;break;case"hanging":ce+=Qs-2*Tr;break;case"middle":ce+=Qs/2-Tr}if((kt=ge.maxWidth||0)>0&&(typeof y=="string"?y=Pa.splitTextToSize(y,kt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(fa,ra){return fa.concat(Pa.splitTextToSize(ra,kt))},[]))),Re={text:y,x:U,y:ce,options:ge,mutex:{pdfEscape:ga,activeFontKey:Rt,fonts:Ht,activeFontSize:Qe}},Xt.publish("preProcessText",Re),y=Re.text,et=(ge=Re.options).angle,!(Ta instanceof ct)&&et&&typeof et=="number"){et*=Math.PI/180,ge.rotationDirection===0&&(et=-et),P===E.ADVANCED&&(et=-et);var Cr=Math.cos(et),ml=Math.sin(et);Ta=new ct(Cr,ml,-ml,Cr,0,0)}else et&&et instanceof ct&&(Ta=et);P!==E.ADVANCED||Ta||(Ta=Aa),(Tt=ge.charSpace||ll)!==void 0&&(sn+=z(C(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xa=ge.horizontalScale)!==void 0&&(sn+=z(100*xa)+` Tz
`),ge.lang;var zn=-1,Zc=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,go=Pa.internal.getCurrentPageInfo().pageContext;switch(Zc){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var sc=go.usedRenderingMode!==void 0?go.usedRenderingMode:-1;zn!==-1?sn+=zn+` Tr
`:sc!==-1&&(sn+=`0 Tr
`),zn!==-1&&(go.usedRenderingMode=zn),ot=ge.align||"left";var Di,un=Qe*ai,Dr=Pa.internal.pageSize.getWidth(),rc=Ht[Rt];Tt=ge.charSpace||ll,kt=ge.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var ms=[];if(Object.prototype.toString.call(y)==="[object Array]"){var ni;Ve=hs(y),ot!=="left"&&(Di=Ve.map(function(fa){return Pa.getStringUnitWidth(fa,{font:rc,charSpace:Tt,fontSize:Qe,doKerning:!1})*Qe/Ui}));var di,Hi=0;if(ot==="right"){U-=Di[0],y=[],yn=Ve.length;for(var Gi=0;Gi<yn;Gi++)Gi===0?(di=ui(U),ni=fs(ce)):(di=C(Hi-Di[Gi]),ni=-un),y.push([Ve[Gi],di,ni]),Hi=Di[Gi]}else if(ot==="center"){U-=Di[0]/2,y=[],yn=Ve.length;for(var qn=0;qn<yn;qn++)qn===0?(di=ui(U),ni=fs(ce)):(di=C((Hi-Di[qn])/2),ni=-un),y.push([Ve[qn],di,ni]),Hi=Di[qn]}else if(ot==="left"){y=[],yn=Ve.length;for(var $s=0;$s<yn;$s++)y.push(Ve[$s])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');y=[],yn=Ve.length,kt=kt!==0?kt:Dr;for(var Cn=0;Cn<yn;Cn++)ni=Cn===0?fs(ce):-un,di=Cn===0?ui(U):0,Cn<yn-1?ms.push(z(C((kt-Di[Cn])/(Ve[Cn].split(" ").length-1)))):ms.push(0),y.push([Ve[Cn],di,ni])}}var Ks=typeof ge.R2L=="boolean"?ge.R2L:ut;Ks===!0&&(y=ps(y,function(fa,ra,ka){return[fa.split("").reverse().join(""),ra,ka]})),Re={text:y,x:U,y:ce,options:ge,mutex:{pdfEscape:ga,activeFontKey:Rt,fonts:Ht,activeFontSize:Qe}},Xt.publish("postProcessText",Re),y=Re.text,Ci=Re.mutex.isHex||!1;var gl=Ht[Rt].encoding;gl!=="WinAnsiEncoding"&&gl!=="StandardEncoding"||(y=ps(y,function(fa,ra,ka){return[mo(fa),ra,ka]})),Ve=hs(y),y=[];for(var Un,wn,Li,Zs=0,fi=1,Js=Array.isArray(Ve[0])?fi:Zs,gs="",vl=function(fa,ra,ka){var Ba="";return ka instanceof ct?(ka=typeof ge.angle=="number"?da(ka,new ct(1,0,0,1,fa,ra)):da(new ct(1,0,0,1,fa,ra),ka),P===E.ADVANCED&&(ka=da(new ct(1,0,0,-1,0,0),ka)),Ba=ka.join(" ")+` Tm
`):Ba=z(fa)+" "+z(ra)+` Td
`,Ba},hi=0;hi<Ve.length;hi++){switch(gs="",Js){case fi:Li=(Ci?"<":"(")+Ve[hi][0]+(Ci?">":")"),Un=parseFloat(Ve[hi][1]),wn=parseFloat(Ve[hi][2]);break;case Zs:Li=(Ci?"<":"(")+Ve[hi]+(Ci?">":")"),Un=ui(U),wn=fs(ce)}ms!==void 0&&ms[hi]!==void 0&&(gs=ms[hi]+` Tw
`),hi===0?y.push(gs+vl(Un,wn,Ta)+Li):Js===Zs?y.push(gs+Li):Js===fi&&y.push(gs+vl(Un,wn,Ta)+Li)}y=Js===Zs?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var vs=`BT
/`;return vs+=Rt+" "+Qe+` Tf
`,vs+=z(Qe*ai)+` TL
`,vs+=Nr+`
`,vs+=sn,vs+=y,fe(vs+="ET"),N[Rt]=!0,Pa};var tc=b.__private__.clip=b.clip=function(y){return fe(y==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return tc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return fe("n"),this};var Fn=b.__private__.isValidStyle=function(y){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(U=!0),U};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(y){return Fn(y)&&(v=y),this};var oi=b.__private__.getStyle=b.getStyle=function(y){var U=v;switch(y){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=y}return U},nl=b.close=function(){return fe("h"),this};b.stroke=function(){return fe("S"),this},b.fill=function(y){return Fi("f",y),this},b.fillEvenOdd=function(y){return Fi("f*",y),this},b.fillStroke=function(y){return Fi("B",y),this},b.fillStrokeEvenOdd=function(y){return Fi("B*",y),this};var Fi=function(y,U){ua(U)==="object"?il(U,y):fe(y)},ci=function(y){y===null||P===E.ADVANCED&&y===void 0||(y=oi(y),fe(y))};function co(y,U,ce,ge,Se){var Re=new zo(U||this.boundingBox,ce||this.xStep,ge||this.yStep,this.gState,Se||this.matrix);Re.stream=this.stream;var Ve=y+"$$"+this.cloneIndex+++"$$";return Wa(Ve,Re),Re}var il=function(y,U){var ce=Bs[y.key],ge=$t[ce];if(ge instanceof Xl)fe("q"),fe(ac(U)),ge.gState&&b.setGState(ge.gState),fe(y.matrix.toString()+" cm"),fe("/"+ce+" sh"),fe("Q");else if(ge instanceof zo){var Se=new ct(1,0,0,-1,0,Ws());y.matrix&&(Se=Se.multiply(y.matrix||Aa),ce=co.call(ge,y.key,y.boundingBox,y.xStep,y.yStep,Se).id),fe("q"),fe("/Pattern cs"),fe("/"+ce+" scn"),ge.gState&&b.setGState(ge.gState),fe(U),fe("Q")}},ac=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Hs=b.moveTo=function(y,U){return fe(z(C(y))+" "+z(Y(U))+" m"),this},zi=b.lineTo=function(y,U){return fe(z(C(y))+" "+z(Y(U))+" l"),this},ds=b.curveTo=function(y,U,ce,ge,Se,Re){return fe([z(C(y)),z(Y(U)),z(C(ce)),z(Y(ge)),z(C(Se)),z(Y(Re)),"c"].join(" ")),this};b.__private__.line=b.line=function(y,U,ce,ge,Se){if(isNaN(y)||isNaN(U)||isNaN(ce)||isNaN(ge)||!Fn(Se))throw new Error("Invalid arguments passed to jsPDF.line");return P===E.COMPAT?this.lines([[ce-y,ge-U]],y,U,[1,1],Se||"S"):this.lines([[ce-y,ge-U]],y,U,[1,1]).stroke()},b.__private__.lines=b.lines=function(y,U,ce,ge,Se,Re){var Ve,et,ot,Tt,kt,zt,xa,Ta,Pa,Ra,sn,Ci;if(typeof y=="number"&&(Ci=ce,ce=U,U=y,y=Ci),ge=ge||[1,1],Re=Re||!1,isNaN(U)||isNaN(ce)||!Array.isArray(y)||!Array.isArray(ge)||!Fn(Se)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hs(U,ce),Ve=ge[0],et=ge[1],Tt=y.length,Ra=U,sn=ce,ot=0;ot<Tt;ot++)(kt=y[ot]).length===2?(Ra=kt[0]*Ve+Ra,sn=kt[1]*et+sn,zi(Ra,sn)):(zt=kt[0]*Ve+Ra,xa=kt[1]*et+sn,Ta=kt[2]*Ve+Ra,Pa=kt[3]*et+sn,Ra=kt[4]*Ve+Ra,sn=kt[5]*et+sn,ds(zt,xa,Ta,Pa,Ra,sn));return Re&&nl(),ci(Se),this},b.path=function(y){for(var U=0;U<y.length;U++){var ce=y[U],ge=ce.c;switch(ce.op){case"m":Hs(ge[0],ge[1]);break;case"l":zi(ge[0],ge[1]);break;case"c":ds.apply(this,ge);break;case"h":nl()}}return this},b.__private__.rect=b.rect=function(y,U,ce,ge,Se){if(isNaN(y)||isNaN(U)||isNaN(ce)||isNaN(ge)||!Fn(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return P===E.COMPAT&&(ge=-ge),fe([z(C(y)),z(Y(U)),z(C(ce)),z(C(ge)),"re"].join(" ")),ci(Se),this},b.__private__.triangle=b.triangle=function(y,U,ce,ge,Se,Re,Ve){if(isNaN(y)||isNaN(U)||isNaN(ce)||isNaN(ge)||isNaN(Se)||isNaN(Re)||!Fn(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-y,ge-U],[Se-ce,Re-ge],[y-Se,U-Re]],y,U,[1,1],Ve,!0),this},b.__private__.roundedRect=b.roundedRect=function(y,U,ce,ge,Se,Re,Ve){if(isNaN(y)||isNaN(U)||isNaN(ce)||isNaN(ge)||isNaN(Se)||isNaN(Re)||!Fn(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ce),Re=Math.min(Re,.5*ge),this.lines([[ce-2*Se,0],[Se*et,0,Se,Re-Re*et,Se,Re],[0,ge-2*Re],[0,Re*et,-Se*et,Re,-Se,Re],[2*Se-ce,0],[-Se*et,0,-Se,-Re*et,-Se,-Re],[0,2*Re-ge],[0,-Re*et,Se*et,-Re,Se,-Re]],y+Se,U,[1,1],Ve,!0),this},b.__private__.ellipse=b.ellipse=function(y,U,ce,ge,Se){if(isNaN(y)||isNaN(U)||isNaN(ce)||isNaN(ge)||!Fn(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*ce,Ve=4/3*(Math.SQRT2-1)*ge;return Hs(y+ce,U),ds(y+ce,U-Ve,y+Re,U-ge,y,U-ge),ds(y-Re,U-ge,y-ce,U-Ve,y-ce,U),ds(y-ce,U+Ve,y-Re,U+ge,y,U+ge),ds(y+Re,U+ge,y+ce,U+Ve,y+ce,U),ci(Se),this},b.__private__.circle=b.circle=function(y,U,ce,ge){if(isNaN(y)||isNaN(U)||isNaN(ce)||!Fn(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,U,ce,ce,ge)},b.setFont=function(y,U,ce){return ce&&(U=ne(U,ce)),Rt=so(y,U,{disableWarning:!1}),this};var xn=b.__private__.getFont=b.getFont=function(){return Ht[so.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var y,U,ce={};for(y in ia)if(ia.hasOwnProperty(y))for(U in ce[y]=[],ia[y])ia[y].hasOwnProperty(U)&&ce[y].push(U);return ce},b.addFont=function(y,U,ce,ge,Se){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(ce=ne(ce,ge)),Se=Se||"Identity-H",zs.call(this,y,U,ce,Se)};var ti,Gs=n.lineWidth||.200025,qi=b.__private__.getLineWidth=b.getLineWidth=function(){return Gs},nc=b.__private__.setLineWidth=b.setLineWidth=function(y){return Gs=y,fe(z(C(y))+" w"),this};b.__private__.setLineDash=mt.API.setLineDash=mt.API.setLineDashPattern=function(y,U){if(y=y||[],U=U||0,isNaN(U)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ce){return z(C(ce))}).join(" "),U=z(C(U)),fe("["+y+"] "+U+" d"),this};var sl=b.__private__.getLineHeight=b.getLineHeight=function(){return Qe*ti};b.__private__.getLineHeight=b.getLineHeight=function(){return Qe*ti};var rl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(ti=y),this},Vs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ti};rl(n.lineHeight);var ui=b.__private__.getHorizontalCoordinate=function(y){return C(y)},fs=b.__private__.getVerticalCoordinate=function(y){return P===E.ADVANCED?y:Nt[V].mediaBox.topRightY-Nt[V].mediaBox.bottomLeftY-C(y)},Xc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(y){return z(ui(y))},Ys=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(y){return z(fs(y))},Ti=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return vn(Ti)},b.__private__.setStrokeColor=b.setDrawColor=function(y,U,ce,ge){return Ti=bn({ch1:y,ch2:U,ch3:ce,ch4:ge,pdfColorType:"draw",precision:2}),fe(Ti),this};var jr=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return vn(jr)},b.__private__.setFillColor=b.setFillColor=function(y,U,ce,ge){return jr=bn({ch1:y,ch2:U,ch3:ce,ch4:ge,pdfColorType:"fill",precision:2}),fe(jr),this};var Nr=n.textColor||"0 g",Qc=b.__private__.getTextColor=b.getTextColor=function(){return vn(Nr)};b.__private__.setTextColor=b.setTextColor=function(y,U,ce,ge){return Nr=bn({ch1:y,ch2:U,ch3:ce,ch4:ge,pdfColorType:"text",precision:3}),this};var ll=n.charSpace,$c=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ll||0)};b.__private__.setCharSpace=b.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ll=y,this};var uo=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(y){var U=b.CapJoinStyles[y];if(U===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uo=U,fe(U+" J"),this};var ol=0;b.__private__.setLineJoin=b.setLineJoin=function(y){var U=b.CapJoinStyles[y];if(U===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ol=U,fe(U+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(z(C(y))+" M"),this},b.GState=Ku,b.setGState=function(y){(y=typeof y=="string"?Sa[$n[y]]:ic(null,y)).equals(Kn)||(fe("/"+y.id+" gs"),Kn=y)};var ic=function(y,U){if(!y||!$n[y]){var ce=!1;for(var ge in Sa)if(Sa.hasOwnProperty(ge)&&Sa[ge].equals(U)){ce=!0;break}if(ce)U=Sa[ge];else{var Se="GS"+(Object.keys(Sa).length+1).toString(10);Sa[Se]=U,U.id=Se}return y&&($n[y]=U.id),Xt.publish("addGState",U),U}};b.addGState=function(y,U){return ic(y,U),this},b.saveGraphicsState=function(){return fe("q"),Rn.push({key:Rt,size:Qe,color:Nr}),this},b.restoreGraphicsState=function(){fe("Q");var y=Rn.pop();return Rt=y.key,Qe=y.size,Nr=y.color,Kn=null,this},b.setCurrentTransformationMatrix=function(y){return fe(y.toString()+" cm"),this},b.comment=function(y){return fe("#"+y),this};var cl=function(y,U){var ce=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Re){isNaN(Re)||(ce=parseFloat(Re))}});var ge=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Re){isNaN(Re)||(ge=parseFloat(Re))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Re){Se=Re.toString()}}),this},fo=function(y,U,ce,ge){cl.call(this,y,U),this.type="rect";var Se=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ve){isNaN(Ve)||(Se=parseFloat(Ve))}});var Re=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Ve){isNaN(Ve)||(Re=parseFloat(Ve))}}),this},ho=function(){this.page=La,this.currentPage=V,this.pages=Oe.slice(0),this.pagesContext=Nt.slice(0),this.x=gn,this.y=Ft,this.matrix=Pn,this.width=Sr(V),this.height=Ws(V),this.outputDestination=We,this.id="",this.objectNumber=-1};ho.prototype.restore=function(){La=this.page,V=this.currentPage,Nt=this.pagesContext,Oe=this.pages,gn=this.x,Ft=this.y,Pn=this.matrix,fl(V,this.width),po(V,this.height),We=this.outputDestination};var ul=function(y,U,ce,ge,Se){Ii.push(new ho),La=V=0,Oe=[],gn=y,Ft=U,Pn=Se,wr([ce,ge])},Kc=function(y){if(Ni[y])Ii.pop().restore();else{var U=new ho,ce="Xo"+(Object.keys(Ya).length+1).toString(10);U.id=ce,Ni[y]=ce,Ya[ce]=U,Xt.publish("addFormObject",U),Ii.pop().restore()}};for(var dl in b.beginFormObject=function(y,U,ce,ge,Se){return ul(y,U,ce,ge,Se),this},b.endFormObject=function(y){return Kc(y),this},b.doFormObject=function(y,U){var ce=Ya[Ni[y]];return fe("q"),fe(U.toString()+" cm"),fe("/"+ce.id+" Do"),fe("Q"),this},b.getFormObject=function(y){var U=Ya[Ni[y]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},b.save=function(y,U){return y=y||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Fo(tl(os()),y),typeof Fo.unload=="function"&&xt.setTimeout&&setTimeout(Fo.unload,911),this):new Promise(function(ce,ge){try{var Se=Fo(tl(os()),y);typeof Fo.unload=="function"&&xt.setTimeout&&setTimeout(Fo.unload,911),ce(Se)}catch(Re){ge(Re.message)}})},mt.API)mt.API.hasOwnProperty(dl)&&(dl==="events"&&mt.API.events.length?function(y,U){var ce,ge,Se;for(Se=U.length-1;Se!==-1;Se--)ce=U[Se][0],ge=U[Se][1],y.subscribe.apply(y,[ce].concat(typeof ge=="function"?[ge]:ge))}(Xt,mt.API.events):b[dl]=mt.API[dl]);var Sr=b.getPageWidth=function(y){return(Nt[y=y||V].mediaBox.topRightX-Nt[y].mediaBox.bottomLeftX)/tt},fl=b.setPageWidth=function(y,U){Nt[y].mediaBox.topRightX=U*tt+Nt[y].mediaBox.bottomLeftX},Ws=b.getPageHeight=function(y){return(Nt[y=y||V].mediaBox.topRightY-Nt[y].mediaBox.bottomLeftY)/tt},po=b.setPageHeight=function(y,U){Nt[y].mediaBox.topRightY=U*tt+Nt[y].mediaBox.bottomLeftY};return b.internal={pdfEscape:ga,getStyle:oi,getFont:xn,getFontSize:Ze,getCharSpace:$c,getTextColor:Qc,getLineHeight:sl,getLineHeightFactor:Vs,getLineWidth:qi,write:ht,getHorizontalCoordinate:ui,getVerticalCoordinate:fs,getCoordinateString:Xc,getVerticalCoordinateString:Ys,collections:{},newObject:Oa,newAdditionalObject:vr,newObjectDeferred:qa,newObjectDeferredBegin:Zn,getFilters:Bn,putStream:cn,events:Xt,scaleFactor:tt,pageSize:{getWidth:function(){return Sr(V)},setWidth:function(y){fl(V,y)},getHeight:function(){return Ws(V)},setHeight:function(y){po(V,y)}},encryptionOptions:S,encryption:nn,getEncryptor:Us,output:cs,getNumberOfPages:Zo,pages:Oe,out:fe,f2:le,f3:k,getPageInfo:us,getPageInfoByObjId:yt,getCurrentPageInfo:oo,getPDFVersion:O,Point:cl,Rectangle:fo,Matrix:ct,hasHotfix:al},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Sr(V)},set:function(y){fl(V,y)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ws(V)},set:function(y){po(V,y)},enumerable:!0,configurable:!0}),Ko.call(b,Ye),Rt="F1",no(d,r),Xt.publish("initialized"),b}Hc.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Hc.prototype.toHexString=function(n){return n.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hc.prototype.hexToBytes=function(n){for(var i=[],r=0;r<n.length;r+=2)i.push(String.fromCharCode(parseInt(n.substr(r,2),16)));return i.join("")},Hc.prototype.processOwnerPassword=function(n,i){return ep(Jh(i).substr(0,5),n)},Hc.prototype.encryptor=function(n,i){var r=Jh(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&i,i>>8&255)).substr(0,10);return function(o){return ep(r,o)}},Ku.prototype.equals=function(n){var i,r="id,objectNumber,equals";if(!n||ua(n)!==ua(this))return!1;var o=0;for(i in this)if(!(r.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!n.hasOwnProperty(i)||this[i]!==n[i])return!1;o++}for(i in n)n.hasOwnProperty(i)&&r.indexOf(i)<0&&o--;return o===0},mt.API={events:[]},mt.version="2.5.1";var Va=mt.API,op=1,Wo=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(n){return n.toFixed(2)},Gl=function(n){return n.toFixed(5)};Va.__acroform__={};var ji=function(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n},km=function(n){return n*op},hr=function(n){var i=new T2,r=nt.internal.getHeight(n)||0,o=nt.internal.getWidth(n)||0;return i.BBox=[0,0,Number(Lt(o)),Number(Lt(r))],i},dv=Va.__acroform__.setBit=function(n,i){if(n=n||0,i=i||0,isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<i},fv=Va.__acroform__.clearBit=function(n,i){if(n=n||0,i=i||0,isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<i)},hv=Va.__acroform__.getBit=function(n,i){if(isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<i)==0?0:1},en=Va.__acroform__.getBitForPdf=function(n,i){if(isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hv(n,i-1)},tn=Va.__acroform__.setBitForPdf=function(n,i){if(isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dv(n,i-1)},an=Va.__acroform__.clearBitForPdf=function(n,i){if(isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fv(n,i-1)},pv=Va.__acroform__.calculateCoordinates=function(n,i){var r=i.internal.getHorizontalCoordinate,o=i.internal.getVerticalCoordinate,d=n[0],u=n[1],m=n[2],g=n[3],h={};return h.lowerLeft_X=r(d)||0,h.lowerLeft_Y=o(u+g)||0,h.upperRight_X=r(d+m)||0,h.upperRight_Y=o(u)||0,[Number(Lt(h.lowerLeft_X)),Number(Lt(h.lowerLeft_Y)),Number(Lt(h.upperRight_X)),Number(Lt(h.upperRight_Y))]},mv=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var i=[],r=n._V||n.DV,o=tp(n,r),d=n.scope.internal.getFont(n.fontName,n.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(n.scope.__private__.encodeColorString(n.color)),i.push("/"+d+" "+Lt(o.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(o.text),i.push("ET"),i.push("Q"),i.push("EMC");var u=hr(n);return u.scope=n.scope,u.stream=i.join(`
`),u}},tp=function(n,i){var r=n.fontSize===0?n.maxFontSize:n.fontSize,o={text:"",fontSize:""},d=(i=(i=i.substr(0,1)=="("?i.substr(1):i).substr(i.length-1)==")"?i.substr(0,i.length-1):i).split(" ");d=n.multiline?d.map(function(k){return k.split(`
`)}):d.map(function(k){return[k]});var u=r,m=nt.internal.getHeight(n)||0;m=m<0?-m:m;var g=nt.internal.getWidth(n)||0;g=g<0?-g:g;var h=function(k,C,H){if(k+1<d.length){var Y=C+" "+d[k+1][0];return ef(Y,n,H).width<=g-4}return!1};u++;e:for(;u>0;){i="",u--;var v,S,j=ef("3",n,u).height,N=n.multiline?m-u:(m-j)/2,b=N+=2,T=0,O=0,M=0;if(u<=0){i=`(...) Tj
`,i+="% Width of Text: "+ef(i,n,u=12).width+", FieldWidth:"+g+`
`;break}for(var A="",E=0,P=0;P<d.length;P++)if(d.hasOwnProperty(P)){var G=!1;if(d[P].length!==1&&M!==d[P].length-1){if((j+2)*(E+2)+2>m)continue e;A+=d[P][M],G=!0,O=P,P--}else{A=(A+=d[P][M]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var Q=parseInt(P),ne=h(Q,A,u),z=P>=d.length-1;if(ne&&!z){A+=" ",M=0;continue}if(ne||z){if(z)O=Q;else if(n.multiline&&(j+2)*(E+2)+2>m)continue e}else{if(!n.multiline||(j+2)*(E+2)+2>m)continue e;O=Q}}for(var B="",R=T;R<=O;R++){var le=d[R];if(n.multiline){if(R===O){B+=le[M]+" ",M=(M+1)%le.length;continue}if(R===T){B+=le[le.length-1]+" ";continue}}B+=le[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,S=ef(B,n,u).width,n.textAlign){case"right":v=g-S-2;break;case"center":v=(g-S)/2;break;case"left":default:v=2}i+=Lt(v)+" "+Lt(b)+` Td
`,i+="("+Wo(B)+`) Tj
`,i+=-Lt(v)+` 0 Td
`,b=-(u+2),S=0,T=G?O:O+1,E++,A=""}break}return o.text=i,o.fontSize=u,o},ef=function(n,i,r){var o=i.scope.internal.getFont(i.fontName,i.fontStyle),d=i.scope.getStringUnitWidth(n,{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:i.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:d}},gv={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vv=function(n,i){var r={type:"reference",object:n};i.internal.getPageInfo(n.page).pageContext.annotations.find(function(o){return o.type===r.type&&o.object===r.object})===void 0&&i.internal.getPageInfo(n.page).pageContext.annotations.push(r)},bv=function(n,i){for(var r in n)if(n.hasOwnProperty(r)){var o=r,d=n[r];i.internal.newObjectDeferredBegin(d.objId,!0),ua(d)==="object"&&typeof d.putStream=="function"&&d.putStream(),delete n[o]}},xv=function(n,i){if(i.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ps.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(gv)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");op=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new C2,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in o)if(o.hasOwnProperty(d)){var u=o[d];u.objId=void 0,u.hasAnnotation&&vv(u,r)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(r){(function(o,d){var u=!o;for(var m in o||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(m)){var g=o[m],h=[],v=g.Rect;if(g.Rect&&(g.Rect=pv(g.Rect,d)),d.internal.newObjectDeferredBegin(g.objId,!0),g.DA=nt.createDefaultAppearanceStream(g),ua(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(h=g.getKeyValueListForStream()),g.Rect=v,g.hasAppearanceStream&&!g.appearanceStreamContent){var S=mv(g);h.push({key:"AP",value:"<</N "+S+">>"}),d.internal.acroformPlugin.xForms.push(S)}if(g.appearanceStreamContent){var j="";for(var N in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(N)){var b=g.appearanceStreamContent[N];if(j+="/"+N+" ",j+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var m in b)if(b.hasOwnProperty(m)){var T=b[m];typeof T=="function"&&(T=T.call(d,g)),j+="/"+m+" "+T+" ",d.internal.acroformPlugin.xForms.indexOf(T)>=0||d.internal.acroformPlugin.xForms.push(T)}}else typeof(T=b)=="function"&&(T=T.call(d,g)),j+="/"+m+" "+T,d.internal.acroformPlugin.xForms.indexOf(T)>=0||d.internal.acroformPlugin.xForms.push(T);j+=">>"}h.push({key:"AP",value:`<<
`+j+">>"})}d.internal.putStream({additionalKeyValues:h,objectId:g.objId}),d.internal.out("endobj")}u&&bv(d.internal.acroformPlugin.xForms,d)})(r,n)}),n.internal.acroformPlugin.isInitialized=!0}},A2=Va.__acroform__.arrayToPdfArray=function(n,i,r){var o=function(m){return m};if(Array.isArray(n)){for(var d="[",u=0;u<n.length;u++)switch(u!==0&&(d+=" "),ua(n[u])){case"boolean":case"number":case"object":d+=n[u].toString();break;case"string":n[u].substr(0,1)!=="/"?(i!==void 0&&r&&(o=r.internal.getEncryptor(i)),d+="("+Wo(o(n[u].toString()))+")"):d+=n[u].toString()}return d+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ih=function(n,i,r){var o=function(d){return d};return i!==void 0&&r&&(o=r.internal.getEncryptor(i)),(n=n||"").toString(),n="("+Wo(o(n))+")"},pr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pr.prototype.toString=function(){return this.objId+" 0 R"},pr.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},pr.prototype.getKeyValueListForStream=function(){var n=[],i=Object.getOwnPropertyNames(this).filter(function(u){return u!="content"&&u!="appearanceStreamContent"&&u!="scope"&&u!="objId"&&u.substring(0,1)!="_"});for(var r in i)if(Object.getOwnPropertyDescriptor(this,i[r]).configurable===!1){var o=i[r],d=this[o];d&&(Array.isArray(d)?n.push({key:o,value:A2(d,this.objId,this.scope)}):d instanceof pr?(d.scope=this.scope,n.push({key:o,value:d.objId+" 0 R"})):typeof d!="function"&&n.push({key:o,value:d}))}return n};var T2=function(){pr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){n=r.trim()},get:function(){return n||null}})};ji(T2,pr);var C2=function(){pr.call(this);var n,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var r=function(o){return o};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Wo(r(n))+")"}},set:function(r){n=r}})};ji(C2,pr);var Ps=function n(){pr.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');i=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!en(i,3)},set:function(A){A?this.F=tn(i,3):this.F=an(i,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(A){o=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(A){o[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(A){o[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(A){o[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(A){o[3]=A}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var u=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!u||u.length<1){if(this instanceof hf)return;u="FieldObject"+n.FieldNum++}var A=function(E){return E};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Wo(A(u))+")"},set:function(A){u=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return u},set:function(A){u=A}});var m="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return m},set:function(A){m=A}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(A){g=A}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/op:v},set:function(A){v=A}});var S="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return S},set:function(A){S=A}});var j="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!j||this instanceof hf||this instanceof $l))return Ih(j,this.objId,this.scope)},set:function(A){A=A.toString(),j=A}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof mn?N:Ih(N,this.objId,this.scope)},set:function(A){A=A.toString(),N=this instanceof mn?A:A.substr(0,1)==="("?zc(A.substr(1,A.length-2)):zc(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?zc(N.substr(1,N.length-1)):N},set:function(A){A=A.toString(),N=this instanceof mn?"/"+A:A}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof mn?b:Ih(b,this.objId,this.scope)},set:function(A){A=A.toString(),b=this instanceof mn?A:A.substr(0,1)==="("?zc(A.substr(1,A.length-2)):zc(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?zc(b.substr(1,b.length-1)):b},set:function(A){A=A.toString(),b=this instanceof mn?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(A){A=!!A,O=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(A){T=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,1)},set:function(A){A?this.Ff=tn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,2)},set:function(A){A?this.Ff=tn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,3)},set:function(A){A?this.Ff=tn(this.Ff,3):this.Ff=an(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');M=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(M){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};ji(Ps,pr);var qo=function(){Ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(r){n=r}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return A2(i,this.objId,this.scope)},set:function(r){var o,d;d=[],typeof(o=r)=="string"&&(d=function(u,m,g){g||(g=1);for(var h,v=[];h=m.exec(u);)v.push(h[g]);return v}(o,/\((.*?)\)/g)),i=d}}),this.getOptions=function(){return i},this.setOptions=function(r){i=r,this.sort&&i.sort()},this.addOption=function(r){r=(r=r||"").toString(),i.push(r),this.sort&&i.sort()},this.removeOption=function(r,o){for(o=o||!1,r=(r=r||"").toString();i.indexOf(r)!==-1&&(i.splice(i.indexOf(r),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,18)},set:function(r){r?this.Ff=tn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=tn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,20)},set:function(r){r?(this.Ff=tn(this.Ff,20),i.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,22)},set:function(r){r?this.Ff=tn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(r){r?this.Ff=tn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,27)},set:function(r){r?this.Ff=tn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};ji(qo,Ps);var Uo=function(){qo.call(this),this.fontName="helvetica",this.combo=!1};ji(Uo,qo);var Ho=function(){Uo.call(this),this.combo=!0};ji(Ho,Uo);var Gu=function(){Ho.call(this),this.edit=!0};ji(Gu,Ho);var mn=function(){Ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,15)},set:function(r){r?this.Ff=tn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,16)},set:function(r){r?this.Ff=tn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,17)},set:function(r){r?this.Ff=tn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(r){r?this.Ff=tn(this.Ff,26):this.Ff=an(this.Ff,26)}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(i).length!==0){var o,d=[];for(o in d.push("<<"),i)d.push("/"+o+" ("+Wo(r(i[o]))+")");return d.push(">>"),d.join(`
`)}},set:function(r){ua(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}})};ji(mn,Ps);var Vu=function(){mn.call(this),this.pushButton=!0};ji(Vu,mn);var Go=function(){mn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(i){n=i!==void 0?i:[]}})};ji(Go,mn);var hf=function(){var n,i;Ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(d){n=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(d){i=d}});var r,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(g){return g};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var u,m=[];for(u in m.push("<<"),o)m.push("/"+u+" ("+Wo(d(o[u]))+")");return m.push(">>"),m.join(`
`)},set:function(d){ua(d)==="object"&&(o=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(d){typeof d=="string"&&(o.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(d){r=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(d){r="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ji(hf,Ps),Go.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var r=this.Kids[i];r.appearanceStreamContent=n.createAppearanceStream(r.optionName),r.caption=n.getCA()}},Go.prototype.createOption=function(n){var i=new hf;return i.Parent=this,i.optionName=n,this.Kids.push(i),yv.call(this.scope,i),i};var Yu=function(){mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};ji(Yu,mn);var $l=function(){Ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,13)},set:function(i){i?this.Ff=tn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,21)},set:function(i){i?this.Ff=tn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(i){i?this.Ff=tn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,24)},set:function(i){i?this.Ff=tn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,25)},set:function(i){i?this.Ff=tn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(i){i?this.Ff=tn(this.Ff,26):this.Ff=an(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(i){Number.isInteger(i)&&(n=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ji($l,Ps);var Wu=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,14)},set:function(n){n?this.Ff=tn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};ji(Wu,$l);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=[],o=n.scope.internal.getFont(n.fontName,n.fontStyle).id,d=n.scope.__private__.encodeColorString(n.color),u=tp(n,n.caption);return r.push("0.749023 g"),r.push("0 0 "+Lt(nt.internal.getWidth(n))+" "+Lt(nt.internal.getHeight(n))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+o+" "+Lt(u.fontSize)+" Tf "+d),r.push("BT"),r.push(u.text),r.push("ET"),r.push("Q"),r.push("EMC"),i.stream=r.join(`
`),i},YesNormal:function(n){var i=hr(n);i.scope=n.scope;var r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,o=n.scope.__private__.encodeColorString(n.color),d=[],u=nt.internal.getHeight(n),m=nt.internal.getWidth(n),g=tp(n,n.caption);return d.push("1 g"),d.push("0 0 "+Lt(m)+" "+Lt(u)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+Lt(m-1)+" "+Lt(u-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+r+" "+Lt(g.fontSize)+" Tf "+o),d.push(g.text),d.push("ET"),d.push("Q"),i.stream=d.join(`
`),i},OffPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(nt.internal.getWidth(n))+" "+Lt(nt.internal.getHeight(n))+" re"),r.push("f"),i.stream=r.join(`
`),i}},RadioButton:{Circle:{createAppearanceStream:function(n){var i={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return i.N[n]=nt.RadioButton.Circle.YesNormal,i.D[n]=nt.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(n){var i=hr(n);i.scope=n.scope;var r=[],o=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;o=Number((.9*o).toFixed(5));var d=nt.internal.Bezier_C,u=Number((o*d).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gl(nt.internal.getWidth(n)/2)+" "+Gl(nt.internal.getHeight(n)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+u+" "+u+" "+o+" 0 "+o+" c"),r.push("-"+u+" "+o+" -"+o+" "+u+" -"+o+" 0 c"),r.push("-"+o+" -"+u+" -"+u+" -"+o+" 0 -"+o+" c"),r.push(u+" -"+o+" "+o+" -"+u+" "+o+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i},YesPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=[],o=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;o=Number((.9*o).toFixed(5));var d=Number((2*o).toFixed(5)),u=Number((d*nt.internal.Bezier_C).toFixed(5)),m=Number((o*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gl(nt.internal.getWidth(n)/2)+" "+Gl(nt.internal.getHeight(n)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+u+" "+u+" "+d+" 0 "+d+" c"),r.push("-"+u+" "+d+" -"+d+" "+u+" -"+d+" 0 c"),r.push("-"+d+" -"+u+" -"+u+" -"+d+" 0 -"+d+" c"),r.push(u+" -"+d+" "+d+" -"+u+" "+d+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gl(nt.internal.getWidth(n)/2)+" "+Gl(nt.internal.getHeight(n)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+m+" "+m+" "+o+" 0 "+o+" c"),r.push("-"+m+" "+o+" -"+o+" "+m+" -"+o+" 0 c"),r.push("-"+o+" -"+m+" -"+m+" -"+o+" 0 -"+o+" c"),r.push(m+" -"+o+" "+o+" -"+m+" "+o+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i},OffPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=[],o=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;o=Number((.9*o).toFixed(5));var d=Number((2*o).toFixed(5)),u=Number((d*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gl(nt.internal.getWidth(n)/2)+" "+Gl(nt.internal.getHeight(n)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+u+" "+u+" "+d+" 0 "+d+" c"),r.push("-"+u+" "+d+" -"+d+" "+u+" -"+d+" 0 c"),r.push("-"+d+" -"+u+" -"+u+" -"+d+" 0 -"+d+" c"),r.push(u+" -"+d+" "+d+" -"+u+" "+d+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i}},Cross:{createAppearanceStream:function(n){var i={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return i.N[n]=nt.RadioButton.Cross.YesNormal,i.D[n]=nt.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(n){var i=hr(n);i.scope=n.scope;var r=[],o=nt.internal.calculateCross(n);return r.push("q"),r.push("1 1 "+Lt(nt.internal.getWidth(n)-2)+" "+Lt(nt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(o.x1.x)+" "+Lt(o.x1.y)+" m"),r.push(Lt(o.x2.x)+" "+Lt(o.x2.y)+" l"),r.push(Lt(o.x4.x)+" "+Lt(o.x4.y)+" m"),r.push(Lt(o.x3.x)+" "+Lt(o.x3.y)+" l"),r.push("s"),r.push("Q"),i.stream=r.join(`
`),i},YesPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=nt.internal.calculateCross(n),o=[];return o.push("0.749023 g"),o.push("0 0 "+Lt(nt.internal.getWidth(n))+" "+Lt(nt.internal.getHeight(n))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+Lt(nt.internal.getWidth(n)-2)+" "+Lt(nt.internal.getHeight(n)-2)+" re"),o.push("W"),o.push("n"),o.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),o.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),o.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),o.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),o.push("s"),o.push("Q"),i.stream=o.join(`
`),i},OffPushDown:function(n){var i=hr(n);i.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(nt.internal.getWidth(n))+" "+Lt(nt.internal.getHeight(n))+" re"),r.push("f"),i.stream=r.join(`
`),i}}},createDefaultAppearanceStream:function(n){var i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color);return"/"+i+" "+n.fontSize+" Tf "+r}};nt.internal={Bezier_C:.551915024494,calculateCross:function(n){var i=nt.internal.getWidth(n),r=nt.internal.getHeight(n),o=Math.min(i,r);return{x1:{x:(i-o)/2,y:(r-o)/2+o},x2:{x:(i-o)/2+o,y:(r-o)/2},x3:{x:(i-o)/2,y:(r-o)/2},x4:{x:(i-o)/2+o,y:(r-o)/2+o}}}},nt.internal.getWidth=function(n){var i=0;return ua(n)==="object"&&(i=km(n.Rect[2])),i},nt.internal.getHeight=function(n){var i=0;return ua(n)==="object"&&(i=km(n.Rect[3])),i};var yv=Va.addField=function(n){if(xv(this,n),!(n instanceof Ps))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=n).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Va.AcroFormChoiceField=qo,Va.AcroFormListBox=Uo,Va.AcroFormComboBox=Ho,Va.AcroFormEditBox=Gu,Va.AcroFormButton=mn,Va.AcroFormPushButton=Vu,Va.AcroFormRadioButton=Go,Va.AcroFormCheckBox=Yu,Va.AcroFormTextField=$l,Va.AcroFormPasswordField=Wu,Va.AcroFormAppearance=nt,Va.AcroForm={ChoiceField:qo,ListBox:Uo,ComboBox:Ho,EditBox:Gu,Button:mn,PushButton:Vu,RadioButton:Go,CheckBox:Yu,TextField:$l,PasswordField:Wu,Appearance:nt},mt.AcroForm={ChoiceField:qo,ListBox:Uo,ComboBox:Ho,EditBox:Gu,Button:mn,PushButton:Vu,RadioButton:Go,CheckBox:Yu,TextField:$l,PasswordField:Wu,Appearance:nt};var wv=mt.AcroForm;function D2(n){return n.reduce(function(i,r,o){return i[r]=o,i},{})}(function(n){n.__addimage__={};var i="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=n.__addimage__.getImageFileTypeByImageData=function(k,C){var H,Y,ue,F,W,ee=i;if((C=C||i)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ne(k))for(W in r)for(ue=r[W],H=0;H<ue.length;H+=1){for(F=!0,Y=0;Y<ue[H].length;Y+=1)if(ue[H][Y]!==void 0&&ue[H][Y]!==k[Y]){F=!1;break}if(F===!0){ee=W;break}}else for(W in r)for(ue=r[W],H=0;H<ue.length;H+=1){for(F=!0,Y=0;Y<ue[H].length;Y+=1)if(ue[H][Y]!==void 0&&ue[H][Y]!==k.charCodeAt(Y)){F=!1;break}if(F===!0){ee=W;break}}return ee===i&&C!==i&&(ee=C),ee},d=function k(C){for(var H=this.internal.write,Y=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:C.width}),F.push({key:"Height",value:C.height}),C.colorSpace===M.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===M.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var W="",ee=0,re=C.transparency.length;ee<re;ee++)W+=C.transparency[ee]+" "+C.transparency[ee]+" ";F.push({key:"Mask",value:"["+W+"]"})}C.sMask!==void 0&&F.push({key:"SMask",value:C.objectId+1+" 0 R"});var _=C.filter!==void 0?["/"+C.filter]:void 0;if(Y({data:C.data,additionalKeyValues:F,alreadyAppliedFilters:_,objectId:C.objectId}),H("endobj"),"sMask"in C&&C.sMask!==void 0){var ie="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,D={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ie,data:C.sMask};"filter"in C&&(D.filter=C.filter),k.call(this,D)}if(C.colorSpace===M.INDEXED){var V=this.internal.newObject();Y({data:B(new Uint8Array(C.palette)),objectId:V}),H("endobj")}},u=function(){var k=this.internal.collections.addImage_images;for(var C in k)d.call(this,k[C])},m=function(){var k,C=this.internal.collections.addImage_images,H=this.internal.write;for(var Y in C)H("/I"+(k=C[Y]).index,k.objectId,"0","R")},g=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",m))},h=function(){var k=this.internal.collections.addImage_images;return g.call(this),k},v=function(){return Object.keys(this.internal.collections.addImage_images).length},S=function(k){return typeof n["process"+k.toUpperCase()]=="function"},j=function(k){return ua(k)==="object"&&k.nodeType===1},N=function(k,C){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var H=""+k.getAttribute("src");if(H.indexOf("data:image/")===0)return Hu(unescape(H).split("base64,").pop());var Y=n.loadFile(H,!0);if(Y!==void 0)return Y}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ue;switch(C){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return Hu(k.toDataURL(ue,1).split("base64,").pop())}},b=function(k){var C=this.internal.collections.addImage_images;if(C){for(var H in C)if(k===C[H].alias)return C[H]}},T=function(k,C,H){return k||C||(k=-96,C=-96),k<0&&(k=-1*H.width*72/k/this.internal.scaleFactor),C<0&&(C=-1*H.height*72/C/this.internal.scaleFactor),k===0&&(k=C*H.width/H.height),C===0&&(C=k*H.height/H.width),[k,C]},O=function(k,C,H,Y,ue,F){var W=T.call(this,H,Y,ue),ee=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,_=h.call(this);if(H=W[0],Y=W[1],_[ue.index]=ue,F){F*=Math.PI/180;var ie=Math.cos(F),D=Math.sin(F),V=function(se){return se.toFixed(4)},J=[V(ie),V(D),V(-1*D),V(ie),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,ee(k),re(C+Y),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ee(H),"0","0",ee(Y),"0","0","cm"].join(" "))):this.internal.write([ee(H),"0","0",ee(Y),ee(k),re(C+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},M=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(k){var C,H,Y=0;if(typeof k=="string")for(H=k.length,C=0;C<H;C++)Y=(Y<<5)-Y+k.charCodeAt(C),Y|=0;else if(ne(k))for(H=k.byteLength/2,C=0;C<H;C++)Y=(Y<<5)-Y+k[C],Y|=0;return Y},P=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var C=!0;return k.length===0&&(C=!1),k.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(C=!1),C},G=n.__addimage__.extractImageFromDataUrl=function(k){var C=(k=k||"").split("base64,"),H=null;if(C.length===2){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(Y)&&(H={mimeType:Y[1],charset:Y[2],data:C[1]})}return H},Q=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return Q()&&k instanceof ArrayBuffer};var ne=n.__addimage__.isArrayBufferView=function(k){return Q()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(k){for(var C=k.length,H=new Uint8Array(C),Y=0;Y<C;Y++)H[Y]=k.charCodeAt(Y);return H},B=n.__addimage__.arrayBufferToBinaryString=function(k){for(var C="",H=ne(k)?k:new Uint8Array(k),Y=0;Y<H.length;Y+=8192)C+=String.fromCharCode.apply(null,H.subarray(Y,Y+8192));return C};n.addImage=function(){var k,C,H,Y,ue,F,W,ee,re;if(typeof arguments[1]=="number"?(C=i,H=arguments[1],Y=arguments[2],ue=arguments[3],F=arguments[4],W=arguments[5],ee=arguments[6],re=arguments[7]):(C=arguments[1],H=arguments[2],Y=arguments[3],ue=arguments[4],F=arguments[5],W=arguments[6],ee=arguments[7],re=arguments[8]),ua(k=arguments[0])==="object"&&!j(k)&&"imageData"in k){var _=k;k=_.imageData,C=_.format||C||i,H=_.x||H||0,Y=_.y||Y||0,ue=_.w||_.width||ue,F=_.h||_.height||F,W=_.alias||W,ee=_.compression||ee,re=_.rotation||_.angle||re}var ie=this.internal.getFilters();if(ee===void 0&&ie.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(H)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var D=R.call(this,k,C,W,ee);return O.call(this,H,Y,ue,F,D,re),this};var R=function(k,C,H,Y){var ue,F,W;if(typeof k=="string"&&o(k)===i){k=unescape(k);var ee=le(k,!1);(ee!==""||(ee=n.loadFile(k,!0))!==void 0)&&(k=ee)}if(j(k)&&(k=N(k,C)),C=o(k,C),!S(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((W=H)==null||W.length===0)&&(H=function(re){return typeof re=="string"||ne(re)?E(re):ne(re.data)?E(re.data):null}(k)),(ue=b.call(this,H))||(Q()&&(k instanceof Uint8Array||C==="RGBA"||(F=k,k=z(k))),ue=this["process"+C.toUpperCase()](k,v.call(this),H,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in n.image_compression?re:A.NONE}(Y),F)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},le=n.__addimage__.convertBase64ToBinaryString=function(k,C){var H;C=typeof C!="boolean"||C;var Y,ue="";if(typeof k=="string"){Y=(H=G(k))!==null?H.data:k;try{ue=Hu(Y)}catch(F){if(C)throw P(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(k){var C,H,Y="";if(j(k)&&(k=N(k)),typeof k=="string"&&o(k)===i&&((Y=le(k,!1))===""&&(Y=n.loadFile(k)||""),k=Y),H=o(k),!S(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!Q()||k instanceof Uint8Array||(k=z(k)),!(C=this["process"+H.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=H,C}})(mt.API),function(n){var i=function(r){if(r!==void 0&&r!="")return!0};mt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(r){for(var o,d,u,m=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,S=!1,j=0;j<v.length&&!S;j++)switch((o=v[j]).type){case"link":(i(o.options.url)||i(o.options.pageNumber))&&(S=!0);break;case"reference":case"text":case"freetext":S=!0}if(S!=0){this.internal.write("/Annots [");for(var N=0;N<v.length;N++){o=v[N];var b=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(O.objId),E=o.title||"Note";u="<</Type /Annot /Subtype /Text "+(d="/Rect ["+m(o.bounds.x)+" "+g(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w)+" "+g(o.bounds.y)+"] ")+"/Contents ("+b(A(o.contents))+")",u+=" /Popup "+M.objId+" 0 R",u+=" /P "+h.objId+" 0 R",u+=" /T ("+b(A(E))+") >>",O.content=u;var P=O.objId+" 0 R";u="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+m(o.bounds.x+30)+" "+g(o.bounds.y+o.bounds.h)+" "+m(o.bounds.x+o.bounds.w+30)+" "+g(o.bounds.y)+"] ")+" /Parent "+P,o.open&&(u+=" /Open true"),u+=" >>",M.content=u,this.internal.write(O.objId,"0 R",M.objId,"0 R");break;case"freetext":d="/Rect ["+m(o.bounds.x)+" "+g(o.bounds.y)+" "+m(o.bounds.x+o.bounds.w)+" "+g(o.bounds.y+o.bounds.h)+"] ";var G=o.color||"#000000";u="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+b(T(o.contents))+")",u+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",u+=" /Border [0 0 0]",u+=" >>",this.internal.write(u);break;case"link":if(o.options.name){var Q=this.annotations._nameMap[o.options.name];o.options.pageNumber=Q.page,o.options.top=Q.y}else o.options.top||(o.options.top=0);if(d="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",u="",o.options.url)u="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+b(T(o.options.url))+") >>";else if(o.options.pageNumber)switch(u="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":u+=" /Fit]";break;case"FitH":u+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,u+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var ne=g(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),u+=" /XYZ "+o.options.left+" "+ne+" "+o.options.zoom+"]"}u!=""&&(u+=" >>",this.internal.write(u))}}this.internal.write("]")}}]),n.createAnnotation=function(r){var o=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":o.pageContext.annotations.push(r)}},n.link=function(r,o,d,u,m){var g=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:h(r),y:v(o),w:h(r+d),h:v(o+u)},options:m,type:"link"})},n.textWithLink=function(r,o,d,u){var m,g,h=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(u.maxWidth!==void 0){g=u.maxWidth;var S=this.splitTextToSize(r,g).length;m=Math.ceil(v*S)}else g=h,m=v;return this.text(r,o,d,u),d+=.2*v,u.align==="center"&&(o-=h/2),u.align==="right"&&(o-=h),this.link(o,d-v,g,m,u),h},n.getTextWidth=function(r){var o=this.internal.getFontSize();return this.getStringUnitWidth(r)*o/this.internal.scaleFactor}}(mt.API),function(n){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];n.__arabicParser__={};var u=n.__arabicParser__.isInArabicSubstitutionA=function(O){return i[O.charCodeAt(0)]!==void 0},m=n.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},g=n.__arabicParser__.isArabicEndLetter=function(O){return m(O)&&u(O)&&i[O.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(O){return m(O)&&d.indexOf(O.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return m(O)&&u(O)&&i[O.charCodeAt(0)].length>=1};var v=n.__arabicParser__.arabicLetterHasFinalForm=function(O){return m(O)&&u(O)&&i[O.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(O){return m(O)&&u(O)&&i[O.charCodeAt(0)].length>=3};var S=n.__arabicParser__.arabicLetterHasMedialForm=function(O){return m(O)&&u(O)&&i[O.charCodeAt(0)].length==4},j=n.__arabicParser__.resolveLigatures=function(O){var M=0,A=r,E="",P=0;for(M=0;M<O.length;M+=1)A[O.charCodeAt(M)]!==void 0?(P++,typeof(A=A[O.charCodeAt(M)])=="number"&&(E+=String.fromCharCode(A),A=r,P=0),M===O.length-1&&(A=r,E+=O.charAt(M-(P-1)),M-=P-1,P=0)):(A=r,E+=O.charAt(M-P),M-=P,P=0);return E};n.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&o[O.charCodeAt(0)]!==void 0};var N=n.__arabicParser__.getCorrectForm=function(O,M,A){return m(O)?u(O)===!1?-1:!v(O)||!m(M)&&!m(A)||!m(A)&&g(M)||g(O)&&!m(M)||g(O)&&h(M)||g(O)&&g(M)?0:S(O)&&m(M)&&!g(M)&&m(A)&&v(A)?3:g(O)||!m(A)?1:2:-1},b=function(O){var M=0,A=0,E=0,P="",G="",Q="",ne=(O=O||"").split("\\s+"),z=[];for(M=0;M<ne.length;M+=1){for(z.push(""),A=0;A<ne[M].length;A+=1)P=ne[M][A],G=ne[M][A-1],Q=ne[M][A+1],m(P)?(E=N(P,G,Q),z[M]+=E!==-1?String.fromCharCode(i[P.charCodeAt(0)][E]):P):z[M]+=P;z[M]=j(z[M])}return z.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var O,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(M)){var E=0;for(A=[],E=0;E<M.length;E+=1)Array.isArray(M[E])?A.push([b(M[E][0]),M[E][1],M[E][2]]):A.push([b(M[E])]);O=A}else O=b(M);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};n.events.push(["preProcessText",T])}(mt.API),mt.API.autoPrint=function(n){var i;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})}return this},function(n){var i=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(g){r=g}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(g){o=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(g){d=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var u=[];Object.defineProperty(this,"childNodes",{get:function(){return u},set:function(g){u=g}});var m={};Object.defineProperty(this,"style",{get:function(){return m},set:function(g){m=g}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(r,o){var d;if((r=r||"2d")!=="2d")return null;for(d in o)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=o[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(mt.API),function(n){var i={left:0,top:0,bottom:0,right:0},r=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new u,this.internal.__cell__.pages=1},u=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(O){h=O}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(O){v=O}});var S=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return S},set:function(O){S=O}});var j=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return j},set:function(O){j=O}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(O){N=O}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(O){b=O}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(O){T=O}}),this};u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},u.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return o.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,v){o.call(this);var S=(v=v||{}).fontSize||this.getFontSize(),j=v.font||this.getFont(),N=v.scaleFactor||this.internal.scaleFactor,b=0,T=0,O=0,M=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var A=v.maxWidth;A>0?typeof h=="string"?h=this.splitTextToSize(h,A):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(P,G){return P.concat(M.splitTextToSize(G,A))},[])):h=Array.isArray(h)?h:[h];for(var E=0;E<h.length;E++)b<(O=this.getStringUnitWidth(h[E],{font:j})*S)&&(b=O);return b!==0&&(T=h.length),{w:b/=N,h:Math.max((T*S*this.getLineHeightFactor()-S*(this.getLineHeightFactor()-1))/N,0)}},n.cellAddPage=function(){o.call(this),this.addPage();var h=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new u(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var m=n.cell=function(){var h;h=arguments[0]instanceof u?arguments[0]:new u(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var v=this.internal.__cell__.lastCell,S=this.internal.__cell__.padding,j=this.internal.__cell__.margins||i,N=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===h.lineNumber?(h.x=(v.x||0)+(v.width||0),h.y=v.y||0):v.y+v.height+h.height+j.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=j.top,b&&N&&(this.printHeaderRow(h.lineNumber,!0),h.y+=N[0].height)):h.y=v.y+v.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-S,h.y+S,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+S,{align:"center",baseline:"top",maxWidth:h.width-S-S}):this.text(h.text,h.x+S,h.y+S,{align:"left",baseline:"top",maxWidth:h.width-S-S})),this.internal.__cell__.lastCell=h,this};n.table=function(h,v,S,j,N){if(o.call(this),!S)throw new Error("No data for PDF table.");var b,T,O,M,A=[],E=[],P=[],G={},Q={},ne=[],z=[],B=(N=N||{}).autoSize||!1,R=N.printHeaders!==!1,le=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,k=N.margins||Object.assign({width:this.getPageWidth()},i),C=typeof N.padding=="number"?N.padding:3,H=N.headerBackgroundColor||"#c8c8c8",Y=N.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=Y,this.setFontSize(le),j==null)E=A=Object.keys(S[0]),P=A.map(function(){return"left"});else if(Array.isArray(j)&&ua(j[0])==="object")for(A=j.map(function(_){return _.name}),E=j.map(function(_){return _.prompt||_.name||""}),P=j.map(function(_){return _.align||"left"}),b=0;b<j.length;b+=1)Q[j[b].name]=j[b].width*(19.049976/25.4);else Array.isArray(j)&&typeof j[0]=="string"&&(E=A=j,P=A.map(function(){return"left"}));if(B||Array.isArray(j)&&typeof j[0]=="string")for(b=0;b<A.length;b+=1){for(G[M=A[b]]=S.map(function(_){return _[M]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(E[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=G[M],this.setFont(void 0,"normal"),O=0;O<T.length;O+=1)ne.push(this.getTextDimensions(T[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[M]=Math.max.apply(null,ne)+C+C,ne=[]}if(R){var ue={};for(b=0;b<A.length;b+=1)ue[A[b]]={},ue[A[b]].text=E[b],ue[A[b]].align=P[b];var F=g.call(this,ue,Q);z=A.map(function(_){return new u(h,v,Q[_],F,ue[_].text,void 0,ue[_].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var W=j.reduce(function(_,ie){return _[ie.name]=ie.align,_},{});for(b=0;b<S.length;b+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:b,data:S[b]},this);var ee=g.call(this,S[b],Q);for(O=0;O<A.length;O+=1){var re=S[b][A[O]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:b,col:O,data:re},this),m.call(this,new u(h,v,Q[A[O]],ee,re,b+2,W[A[O]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=v,this};var g=function(h,v){var S=this.internal.__cell__.padding,j=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(h).map(function(b){var T=h[b];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,v[b]-S-S)},this).map(function(b){return this.getLineHeightFactor()*b.length*j/N+S+S},this).reduce(function(b,T){return Math.max(b,T)},0)};n.setTableHeaderRow=function(h){o.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,v){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var S;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var j=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new u(j[0],j[1],j[2],j[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){S=this.internal.__cell__.tableHeaderRow[b].clone(),v&&(S.y=this.internal.__cell__.margins.top||0,N.push(S)),S.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),m.call(this,S),this.setTextColor(T)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),r=!1}}(mt.API);var L2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ap=D2(_2),k2=[100,200,300,400,500,600,700,800,900],jv=D2(k2);function np(n){var i=n.family.replace(/"|'/g,"").toLowerCase(),r=function(u){return L2[u=u||"normal"]?u:"normal"}(n.style),o=function(u){if(!u)return 400;if(typeof u=="number")return u>=100&&u<=900&&u%100==0?u:400;if(/^\d00$/.test(u))return parseInt(u);switch(u){case"bold":return 700;case"normal":default:return 400}}(n.weight),d=function(u){return typeof ap[u=u||"normal"]=="number"?u:"normal"}(n.stretch);return{family:i,style:r,weight:o,stretch:d,src:n.src||[],ref:n.ref||{name:i,style:[d,r,o].join(" ")}}}function Em(n,i,r,o){var d;for(d=r;d>=0&&d<i.length;d+=o)if(n[i[d]])return n[i[d]];for(d=r;d>=0&&d<i.length;d-=o)if(n[i[d]])return n[i[d]]}var Nv={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Om(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Sv(n,i,r){for(var o=(r=r||{}).defaultFontFamily||"times",d=Object.assign({},Nv,r.genericFontFamilies||{}),u=null,m=null,g=0;g<i.length;++g)if(d[(u=np(i[g])).family]&&(u.family=d[u.family]),n.hasOwnProperty(u.family)){m=n[u.family];break}if(!(m=m||n[o]))throw new Error("Could not find a font-family for the rule '"+Om(u)+"' and default family '"+o+"'.");if(m=function(h,v){if(v[h])return v[h];var S=ap[h],j=S<=ap.normal?-1:1,N=Em(v,_2,S,j);if(!N)throw new Error("Could not find a matching font-stretch value for "+h);return N}(u.stretch,m),m=function(h,v){if(v[h])return v[h];for(var S=L2[h],j=0;j<S.length;++j)if(v[S[j]])return v[S[j]];throw new Error("Could not find a matching font-style for "+h)}(u.style,m),!(m=function(h,v){if(v[h])return v[h];if(h===400&&v[500])return v[500];if(h===500&&v[400])return v[400];var S=jv[h],j=Em(v,k2,S,h<400?-1:1);if(!j)throw new Error("Could not find a matching font-weight for value "+h);return j}(u.weight,m)))throw new Error("Failed to resolve a font for the rule '"+Om(u)+"'.");return m}function Pm(n){return n.trimLeft()}function Av(n,i){for(var r=0;r<n.length;){if(n.charAt(r)===i)return[n.substring(0,r),n.substring(r+1)];r+=1}return null}function Tv(n){var i=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return i===null?null:[i[0],n.substring(i[0].length)]}var tf,Rm,Bm,Fh=["times"];(function(n){var i,r,o,d,u,m,g,h,v,S=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new h,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new m,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new m,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new j(this),i=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,u=this.internal.getVerticalCoordinate,m=this.internal.Point,g=this.internal.Rectangle,h=this.internal.Matrix,v=new S}]);var j=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=D;Object.defineProperty(this,"pdf",{get:function(){return V}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Pe){J=!!Pe}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Pe){se=!!Pe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(Pe){isNaN(Pe)||(te=Pe)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Pe){isNaN(Pe)||(pe=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(Pe){var fe;typeof Pe=="number"?fe=[Pe,Pe,Pe,Pe]:((fe=new Array(4))[0]=Pe[0],fe[1]=Pe.length>=2?Pe[1]:fe[0],fe[2]=Pe.length>=3?Pe[2]:fe[0],fe[3]=Pe.length>=4?Pe[3]:fe[1]),v.margin=fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Pe){me=Pe}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(Pe){de=Pe}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(Pe){ke=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(Pe){Pe instanceof S&&(v=Pe)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(Pe){v.path=Pe}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Pe){Oe=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var fe;fe=N(Pe),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var fe=N(Pe);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var Ge=null;function We(Pe,fe){if(Ge===null){var ht=function(st){var Ye=[];return Object.keys(st).forEach(function(Qe){st[Qe].forEach(function(Ke){var Ze=null;switch(Ke){case"bold":Ze={family:Qe,weight:"bold"};break;case"italic":Ze={family:Qe,style:"italic"};break;case"bolditalic":Ze={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Qe}}Ze!==null&&(Ze.ref={name:Qe,style:Ke},Ye.push(Ze))})}),Ye}(Pe.getFontList());Ge=function(st){for(var Ye={},Qe=0;Qe<st.length;++Qe){var Ke=np(st[Qe]),Ze=Ke.family,ut=Ke.stretch,St=Ke.style,_t=Ke.weight;Ye[Ze]=Ye[Ze]||{},Ye[Ze][ut]=Ye[Ze][ut]||{},Ye[Ze][ut][St]=Ye[Ze][ut][St]||{},Ye[Ze][ut][St][_t]=Ke}return Ye}(ht.concat(fe))}return Ge}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Pe){Ge=null,Je=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var fe;if(this.ctx.font=Pe,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var ht=fe[1],st=(fe[2],fe[3]),Ye=fe[4],Qe=(fe[5],fe[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(Ke==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var Ze=function(rt){var Rt,tt,gn=[],Ft=rt.trim();if(Ft==="")return Fh;if(Ft in Mm)return[Mm[Ft]];for(;Ft!=="";){switch(tt=null,Rt=(Ft=Pm(Ft)).charAt(0)){case'"':case"'":tt=Av(Ft.substring(1),Rt);break;default:tt=Tv(Ft)}if(tt===null||(gn.push(tt[0]),(Ft=Pm(tt[1]))!==""&&Ft.charAt(0)!==","))return Fh;Ft=Ft.replace(/^,/,"")}return gn}(Qe);if(this.fontFaces){var ut=Sv(We(this.pdf,this.fontFaces),Ze.map(function(rt){return{family:rt,stretch:"normal",weight:st,style:ht}}));this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var St="";(st==="bold"||parseInt(st,10)>=700||ht==="bold")&&(St="bold"),ht==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var _t="",Ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<Ze.length;jt++){if(this.pdf.internal.getFont(Ze[jt],St,{noFallback:!0,disableWarning:!0})!==void 0){_t=Ze[jt];break}if(St==="bolditalic"&&this.pdf.internal.getFont(Ze[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=Ze[jt],St="bold";else if(this.pdf.internal.getFont(Ze[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=Ze[jt],St="normal";break}}if(_t===""){for(var It=0;It<Ze.length;It++)if(Ct[Ze[It]]){_t=Ct[Ze[It]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};j.prototype.setLineDash=function(D){this.lineDash=D},j.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},j.prototype.fill=function(){G.call(this,"fill",!1)},j.prototype.stroke=function(){G.call(this,"stroke",!1)},j.prototype.beginPath=function(){this.path=[{type:"begin"}]},j.prototype.moveTo=function(D,V){if(isNaN(D)||isNaN(V))throw ba.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new m(D,V));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new m(D,V)},j.prototype.closePath=function(){var D=new m(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&ua(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){D=new m(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new m(D.x,D.y)},j.prototype.lineTo=function(D,V){if(isNaN(D)||isNaN(V))throw ba.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new m(D,V));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new m(J.x,J.y)},j.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},j.prototype.quadraticCurveTo=function(D,V,J,se){if(isNaN(J)||isNaN(se)||isNaN(D)||isNaN(V))throw ba.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new m(J,se)),pe=this.ctx.transform.applyToPoint(new m(D,V));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new m(te.x,te.y)},j.prototype.bezierCurveTo=function(D,V,J,se,te,pe){if(isNaN(te)||isNaN(pe)||isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se))throw ba.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new m(te,pe)),de=this.ctx.transform.applyToPoint(new m(D,V)),ke=this.ctx.transform.applyToPoint(new m(J,se));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:ke.x,y2:ke.y,x:me.x,y:me.y}),this.ctx.lastPoint=new m(me.x,me.y)},j.prototype.arc=function(D,V,J,se,te,pe){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se)||isNaN(te))throw ba.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new m(D,V));D=me.x,V=me.y;var de=this.ctx.transform.applyToPoint(new m(0,J)),ke=this.ctx.transform.applyToPoint(new m(0,0));J=Math.sqrt(Math.pow(de.x-ke.x,2)+Math.pow(de.y-ke.y,2))}Math.abs(te-se)>=2*Math.PI&&(se=0,te=2*Math.PI),this.path.push({type:"arc",x:D,y:V,radius:J,startAngle:se,endAngle:te,counterclockwise:pe})},j.prototype.arcTo=function(D,V,J,se,te){throw new Error("arcTo not implemented.")},j.prototype.rect=function(D,V,J,se){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se))throw ba.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,V),this.lineTo(D+J,V),this.lineTo(D+J,V+se),this.lineTo(D,V+se),this.lineTo(D,V),this.lineTo(D+J,V),this.lineTo(D,V)},j.prototype.fillRect=function(D,V,J,se){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se))throw ba.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,V,J,se),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},j.prototype.strokeRect=function(D,V,J,se){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se))throw ba.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(D,V,J,se),this.stroke())},j.prototype.clearRect=function(D,V,J,se){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se))throw ba.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,V,J,se))},j.prototype.save=function(D){D=typeof D!="boolean"||D;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new S(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},j.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(V),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},j.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(D){var V,J,se,te;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))V=0,J=0,se=0,te=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(pe!==null)V=parseInt(pe[1]),J=parseInt(pe[2]),se=parseInt(pe[3]),te=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)V=parseInt(pe[1]),J=parseInt(pe[2]),se=parseInt(pe[3]),te=parseFloat(pe[4]);else{if(te=1,typeof D=="string"&&D.charAt(0)!=="#"){var me=new j2(D);D=me.ok?me.toHex():"#000000"}D.length===4?(V=D.substring(1,2),V+=V,J=D.substring(2,3),J+=J,se=D.substring(3,4),se+=se):(V=D.substring(1,3),J=D.substring(3,5),se=D.substring(5,7)),V=parseInt(V,16),J=parseInt(J,16),se=parseInt(se,16)}}return{r:V,g:J,b:se,a:te,style:D}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};j.prototype.fillText=function(D,V,J,se){if(isNaN(V)||isNaN(J)||typeof D!="string")throw ba.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!b.call(this)){var te=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:D,x:V,y:J,scale:pe,angle:te,align:this.textAlign,maxWidth:se})}},j.prototype.strokeText=function(D,V,J,se){if(isNaN(V)||isNaN(J)||typeof D!="string")throw ba.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){se=isNaN(se)?void 0:se;var te=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:D,x:V,y:J,scale:pe,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:se})}},j.prototype.measureText=function(D){if(typeof D!="string")throw ba.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,J=this.pdf.internal.scaleFactor,se=V.internal.getFontSize(),te=V.getStringUnitWidth(D)*se/V.internal.scaleFactor,pe=function(me){var de=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new pe({width:te*=Math.round(96*J/72*1e4)/1e4})},j.prototype.scale=function(D,V){if(isNaN(D)||isNaN(V))throw ba.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new h(D,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},j.prototype.rotate=function(D){if(isNaN(D))throw ba.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new h(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},j.prototype.translate=function(D,V){if(isNaN(D)||isNaN(V))throw ba.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new h(1,0,0,1,D,V);this.ctx.transform=this.ctx.transform.multiply(J)},j.prototype.transform=function(D,V,J,se,te,pe){if(isNaN(D)||isNaN(V)||isNaN(J)||isNaN(se)||isNaN(te)||isNaN(pe))throw ba.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new h(D,V,J,se,te,pe);this.ctx.transform=this.ctx.transform.multiply(me)},j.prototype.setTransform=function(D,V,J,se,te,pe){D=isNaN(D)?1:D,V=isNaN(V)?0:V,J=isNaN(J)?0:J,se=isNaN(se)?1:se,te=isNaN(te)?0:te,pe=isNaN(pe)?0:pe,this.ctx.transform=new h(D,V,J,se,te,pe)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};j.prototype.drawImage=function(D,V,J,se,te,pe,me,de,ke){var Oe=this.pdf.getImageProperties(D),Ge=1,We=1,Je=1,Pe=1;se!==void 0&&de!==void 0&&(Je=de/se,Pe=ke/te,Ge=Oe.width/se*de/se,We=Oe.height/te*ke/te),pe===void 0&&(pe=V,me=J,V=0,J=0),se!==void 0&&de===void 0&&(de=se,ke=te),se===void 0&&de===void 0&&(de=Oe.width,ke=Oe.height);for(var fe,ht=this.ctx.transform.decompose(),st=ee(ht.rotate.shx),Ye=new h,Qe=(Ye=(Ye=(Ye=Ye.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new g(pe-V*Je,me-J*Pe,se*Ge,te*We)),Ke=M.call(this,Qe),Ze=[],ut=0;ut<Ke.length;ut+=1)Ze.indexOf(Ke[ut])===-1&&Ze.push(Ke[ut]);if(P(Ze),this.autoPaging)for(var St=Ze[0],_t=Ze[Ze.length-1],Ct=St;Ct<_t+1;Ct++){this.pdf.setPage(Ct);var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Ct===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ct===1?0:rt+(Ct-2)*Rt;if(this.ctx.clip_path.length!==0){var gn=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(fe,this.posX+this.margin[3],-tt+It+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=gn}var Ft=JSON.parse(JSON.stringify(Qe));Ft=E([Ft],this.posX+this.margin[3],-tt+It+this.ctx.prevPageLastElemOffset)[0];var Pn=(Ct>St||Ct<_t)&&O.call(this);Pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Rt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,st),Pn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,st)};var M=function(D,V,J){var se=[];V=V||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":se.push(Math.floor((D.y+te)/J)+1);break;case"arc":se.push(Math.floor((D.y+te-D.radius)/J)+1),se.push(Math.floor((D.y+te+D.radius)/J)+1);break;case"qct":var pe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);se.push(Math.floor((pe.y+te)/J)+1),se.push(Math.floor((pe.y+pe.h+te)/J)+1);break;case"bct":var me=_(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);se.push(Math.floor((me.y+te)/J)+1),se.push(Math.floor((me.y+me.h+te)/J)+1);break;case"rect":se.push(Math.floor((D.y+te)/J)+1),se.push(Math.floor((D.y+D.h+te)/J)+1)}for(var de=0;de<se.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<se[de];)A.call(this);return se},A=function(){var D=this.fillStyle,V=this.strokeStyle,J=this.font,se=this.lineCap,te=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=V,this.font=J,this.lineCap=se,this.lineWidth=te,this.lineJoin=pe},E=function(D,V,J){for(var se=0;se<D.length;se++)switch(D[se].type){case"bct":D[se].x2+=V,D[se].y2+=J;case"qct":D[se].x1+=V,D[se].y1+=J;case"mt":case"lt":case"arc":default:D[se].x+=V,D[se].y+=J}return D},P=function(D){return D.sort(function(V,J){return V-J})},G=function(D,V){for(var J,se,te=this.fillStyle,pe=this.strokeStyle,me=this.lineCap,de=this.lineWidth,ke=Math.abs(de*this.ctx.transform.scaleX),Oe=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Je=[],Pe=0;Pe<We.length;Pe++)if(We[Pe].x!==void 0)for(var fe=M.call(this,We[Pe]),ht=0;ht<fe.length;ht+=1)Je.indexOf(fe[ht])===-1&&Je.push(fe[ht]);for(var st=0;st<Je.length;st++)for(;this.pdf.internal.getNumberOfPages()<Je[st];)A.call(this);if(P(Je),this.autoPaging)for(var Ye=Je[0],Qe=Je[Je.length-1],Ke=Ye;Ke<Qe+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=te,this.strokeStyle=pe,this.lineCap=me,this.lineWidth=ke,this.lineJoin=Oe;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Ke===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Ke===1?0:St+(Ke-2)*_t;if(this.ctx.clip_path.length!==0){var jt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(J,this.posX+this.margin[3],-Ct+ut+this.ctx.prevPageLastElemOffset),Q.call(this,D,!0),this.path=jt}if(se=JSON.parse(JSON.stringify(Ge)),this.path=E(se,this.posX+this.margin[3],-Ct+ut+this.ctx.prevPageLastElemOffset),V===!1||Ke===0){var It=(Ke>Ye||Ke<Qe)&&O.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,_t,null).clip().discardPath()),Q.call(this,D,V),It&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=ke,Q.call(this,D,V),this.lineWidth=de;this.path=Ge},Q=function(D,V){if((D!=="stroke"||V||!T.call(this))&&(D==="stroke"||V||!b.call(this))){for(var J,se,te=[],pe=this.path,me=0;me<pe.length;me++){var de=pe[me];switch(de.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:de,deltas:[],abs:[]});break;case"lt":var ke=te.length;if(pe[me-1]&&!isNaN(pe[me-1].x)&&(J=[de.x-pe[me-1].x,de.y-pe[me-1].y],ke>0)){for(;ke>=0;ke--)if(te[ke-1].close!==!0&&te[ke-1].begin!==!0){te[ke-1].deltas.push(J),te[ke-1].abs.push(de);break}}break;case"bct":J=[de.x1-pe[me-1].x,de.y1-pe[me-1].y,de.x2-pe[me-1].x,de.y2-pe[me-1].y,de.x-pe[me-1].x,de.y-pe[me-1].y],te[te.length-1].deltas.push(J);break;case"qct":var Oe=pe[me-1].x+2/3*(de.x1-pe[me-1].x),Ge=pe[me-1].y+2/3*(de.y1-pe[me-1].y),We=de.x+2/3*(de.x1-de.x),Je=de.y+2/3*(de.y1-de.y),Pe=de.x,fe=de.y;J=[Oe-pe[me-1].x,Ge-pe[me-1].y,We-pe[me-1].x,Je-pe[me-1].y,Pe-pe[me-1].x,fe-pe[me-1].y],te[te.length-1].deltas.push(J);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(de)}}se=V?null:D==="stroke"?"stroke":"fill";for(var ht=!1,st=0;st<te.length;st++)if(te[st].arc)for(var Ye=te[st].abs,Qe=0;Qe<Ye.length;Qe++){var Ke=Ye[Qe];Ke.type==="arc"?B.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,V,!ht):H.call(this,Ke.x,Ke.y),ht=!0}else if(te[st].close===!0)this.pdf.internal.out("h"),ht=!1;else if(te[st].begin!==!0){var Ze=te[st].start.x,ut=te[st].start.y;Y.call(this,te[st].deltas,Ze,ut),ht=!0}se&&R.call(this,se),V&&le.call(this)}},ne=function(D){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-J;case"top":return D+V-J;case"hanging":return D+V-2*J;case"middle":return D+V/2-J;case"ideographic":return D;case"alphabetic":default:return D}},z=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};j.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(V,J){this.colorStops.push([V,J])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},j.prototype.createPattern=function(){return this.createLinearGradient()},j.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(D,V,J,se,te,pe,me,de,ke){for(var Oe=F.call(this,J,se,te,pe),Ge=0;Ge<Oe.length;Ge++){var We=Oe[Ge];Ge===0&&(ke?k.call(this,We.x1+D,We.y1+V):H.call(this,We.x1+D,We.y1+V)),ue.call(this,D,V,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}de?le.call(this):R.call(this,me)},R=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(D,V){this.pdf.internal.out(r(D)+" "+o(V)+" m")},C=function(D){var V;switch(D.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var J=this.pdf.getTextDimensions(D.text),se=ne.call(this,D.y),te=z.call(this,se)-J.h,pe=this.ctx.transform.applyToPoint(new m(D.x,se)),me=this.ctx.transform.decompose(),de=new h;de=(de=(de=de.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ke,Oe,Ge,We=this.ctx.transform.applyToRectangle(new g(D.x,se,J.w,J.h)),Je=de.applyToRectangle(new g(D.x,te,J.w,J.h)),Pe=M.call(this,Je),fe=[],ht=0;ht<Pe.length;ht+=1)fe.indexOf(Pe[ht])===-1&&fe.push(Pe[ht]);if(P(fe),this.autoPaging)for(var st=fe[0],Ye=fe[fe.length-1],Qe=st;Qe<Ye+1;Qe++){this.pdf.setPage(Qe);var Ke=Qe===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],St=ut-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],Ct=_t-this.margin[3],jt=Qe===1?0:Ze+(Qe-2)*St;if(this.ctx.clip_path.length!==0){var It=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ke,this.posX+this.margin[3],-1*jt+Ke),Q.call(this,"fill",!0),this.path=It}var rt=E([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-jt+Ke+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*D.scale),Ge=this.lineWidth,this.lineWidth=Ge*D.scale);var Rt=this.autoPaging!=="text";if(Rt||rt.y+rt.h<=ut){if(Rt||rt.y>=Ke&&rt.x<=_t){var tt=Rt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||_t-rt.x)[0],gn=E([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-jt+Ke+this.ctx.prevPageLastElemOffset)[0],Ft=Rt&&(Qe>st||Qe<Ye)&&O.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,St,null).clip().discardPath()),this.pdf.text(tt,gn.x,gn.y,{angle:D.angle,align:V,renderingMode:D.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else rt.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-rt.y);D.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Ge)}else D.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*D.scale),Ge=this.lineWidth,this.lineWidth=Ge*D.scale),this.pdf.text(D.text,pe.x+this.posX,pe.y+this.posY,{angle:D.angle,align:V,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Ge)},H=function(D,V,J,se){J=J||0,se=se||0,this.pdf.internal.out(r(D+J)+" "+o(V+se)+" l")},Y=function(D,V,J){return this.pdf.lines(D,V,J,null,null)},ue=function(D,V,J,se,te,pe,me,de){this.pdf.internal.out([i(d(J+D)),i(u(se+V)),i(d(te+D)),i(u(pe+V)),i(d(me+D)),i(u(de+V)),"c"].join(" "))},F=function(D,V,J,se){for(var te=2*Math.PI,pe=Math.PI/2;V>J;)V-=te;var me=Math.abs(J-V);me<te&&se&&(me=te-me);for(var de=[],ke=se?-1:1,Oe=V;me>1e-5;){var Ge=Oe+ke*Math.min(me,pe);de.push(W.call(this,D,Oe,Ge)),me-=Math.abs(Ge-Oe),Oe=Ge}return de},W=function(D,V,J){var se=(J-V)/2,te=D*Math.cos(se),pe=D*Math.sin(se),me=te,de=-pe,ke=me*me+de*de,Oe=ke+me*te+de*pe,Ge=4/3*(Math.sqrt(2*ke*Oe)-Oe)/(me*pe-de*te),We=me-Ge*de,Je=de+Ge*me,Pe=We,fe=-Je,ht=se+V,st=Math.cos(ht),Ye=Math.sin(ht);return{x1:D*Math.cos(V),y1:D*Math.sin(V),x2:We*st-Je*Ye,y2:We*Ye+Je*st,x3:Pe*st-fe*Ye,y3:Pe*Ye+fe*st,x4:D*Math.cos(J),y4:D*Math.sin(J)}},ee=function(D){return 180*D/Math.PI},re=function(D,V,J,se,te,pe){var me=D+.5*(J-D),de=V+.5*(se-V),ke=te+.5*(J-te),Oe=pe+.5*(se-pe),Ge=Math.min(D,te,me,ke),We=Math.max(D,te,me,ke),Je=Math.min(V,pe,de,Oe),Pe=Math.max(V,pe,de,Oe);return new g(Ge,Je,We-Ge,Pe-Je)},_=function(D,V,J,se,te,pe,me,de){var ke,Oe,Ge,We,Je,Pe,fe,ht,st,Ye,Qe,Ke,Ze,ut,St=J-D,_t=se-V,Ct=te-J,jt=pe-se,It=me-te,rt=de-pe;for(Oe=0;Oe<41;Oe++)st=(fe=(Ge=D+(ke=Oe/40)*St)+ke*((Je=J+ke*Ct)-Ge))+ke*(Je+ke*(te+ke*It-Je)-fe),Ye=(ht=(We=V+ke*_t)+ke*((Pe=se+ke*jt)-We))+ke*(Pe+ke*(pe+ke*rt-Pe)-ht),Oe==0?(Qe=st,Ke=Ye,Ze=st,ut=Ye):(Qe=Math.min(Qe,st),Ke=Math.min(Ke,Ye),Ze=Math.max(Ze,st),ut=Math.max(ut,Ye));return new g(Math.round(Qe),Math.round(Ke),Math.round(Ze-Qe),Math.round(ut-Ke))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,V,J=(D=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:V}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(mt.API),function(n){var i=function(u){var m,g,h,v,S,j,N,b,T,O;for(g=[],h=0,v=(u+=m="\0\0\0\0".slice(u.length%4||4)).length;v>h;h+=4)(S=(u.charCodeAt(h)<<24)+(u.charCodeAt(h+1)<<16)+(u.charCodeAt(h+2)<<8)+u.charCodeAt(h+3))!==0?(j=(S=((S=((S=((S=(S-(O=S%85))/85)-(T=S%85))/85)-(b=S%85))/85)-(N=S%85))/85)%85,g.push(j+33,N+33,b+33,T+33,O+33)):g.push(122);return function(M,A){for(var E=A;E>0;E--)M.pop()}(g,m.length),String.fromCharCode.apply(String,g)+"~>"},r=function(u){var m,g,h,v,S,j=String,N="length",b=255,T="charCodeAt",O="slice",M="replace";for(u[O](-2),u=u[O](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),h=[],v=0,S=(u+=m="uuuuu"[O](u[N]%5||5))[N];S>v;v+=5)g=52200625*(u[T](v)-33)+614125*(u[T](v+1)-33)+7225*(u[T](v+2)-33)+85*(u[T](v+3)-33)+(u[T](v+4)-33),h.push(b&g>>24,b&g>>16,b&g>>8,b&g);return function(A,E){for(var P=E;P>0;P--)A.pop()}(h,m[N]),j.fromCharCode.apply(j,h)},o=function(u){var m=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),m.test(u)===!1)return"";for(var g="",h=0;h<u.length;h+=2)g+=String.fromCharCode("0x"+(u[h]+u[h+1]));return g},d=function(u){for(var m=new Uint8Array(u.length),g=u.length;g--;)m[g]=u.charCodeAt(g);return u=(m=Kh(m)).reduce(function(h,v){return h+String.fromCharCode(v)},"")};n.processDataByFilters=function(u,m){var g=0,h=u||"",v=[];for(typeof(m=m||[])=="string"&&(m=[m]),g=0;g<m.length;g+=1)switch(m[g]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=i(h),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=o(h),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(S){return("0"+S.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=d(h),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+m[g]+'" is not implemented')}return{data:h,reverseChain:v.reverse().join(" ")}}}(mt.API),function(n){n.loadFile=function(i,r,o){return function(d,u,m){u=u!==!1,m=typeof m=="function"?m:function(){};var g=void 0;try{g=function(h,v,S){var j=new XMLHttpRequest,N=0,b=function(T){var O=T.length,M=[],A=String.fromCharCode;for(N=0;N<O;N+=1)M.push(A(255&T.charCodeAt(N)));return M.join("")};if(j.open("GET",h,!v),j.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(j.onload=function(){j.status===200?S(b(this.responseText)):S(void 0)}),j.send(null),v&&j.status===200)return b(j.responseText)}(d,u,m)}catch{}return g}(i,r,o)},n.loadImageFile=n.loadFile}(mt.API),function(n){function i(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):Vh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load html2canvas: "+m))}).then(function(m){return m.default?m.default:m})}function r(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):Vh(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load dompurify: "+m))}).then(function(m){return m.default?m.default:m})}var o=function(m){var g=ua(m);return g==="undefined"?"undefined":g==="string"||m instanceof String?"string":g==="number"||m instanceof Number?"number":g==="function"||m instanceof Function?"function":m&&m.constructor===Array?"array":m&&m.nodeType===1?"element":g==="object"?"object":"unknown"},d=function(m,g){var h=document.createElement(m);for(var v in g.className&&(h.className=g.className),g.innerHTML&&g.dompurify&&(h.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)h.style[v]=g.style[v];return h},u=function m(g){var h=Object.assign(m.convert(Promise.resolve()),JSON.parse(JSON.stringify(m.template))),v=m.convert(Promise.resolve(),h);return v=(v=v.setProgress(1,m,1,[m])).set(g)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(m,g){return m.__proto__=g||u.prototype,m},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(m,g){return this.then(function(){switch(g=g||function(h){switch(o(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(m)){case"string":return this.then(r).then(function(h){return this.set({src:d("div",{innerHTML:m,dompurify:h})})});case"element":return this.set({src:m});case"canvas":return this.set({canvas:m});case"img":return this.set({img:m});default:return this.error("Unknown source type.")}})},u.prototype.to=function(m){switch(m){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var m={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=function h(v,S){for(var j=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),N=v.firstChild;N;N=N.nextSibling)S!==!0&&N.nodeType===1&&N.nodeName==="SCRIPT"||j.appendChild(h(N,S));return v.nodeType===1&&(v.nodeName==="CANVAS"?(j.width=v.width,j.height=v.height,j.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(j.value=v.value),j.addEventListener("load",function(){j.scrollTop=v.scrollTop,j.scrollLeft=v.scrollLeft},!0)),j}(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(m.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:m}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var m=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(m).then(i).then(function(g){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,g(this.prop.container,h)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var m=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(m).then(i).then(function(g){var h=this.opt.jsPDF,v=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,j=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete j.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=v,v)for(var N=0;N<v.length;++N){var b=v[N],T=b.src.find(function(O){return O.format==="truetype"});T&&h.addFont(T.url,b.ref.name,b.ref.style)}return j.windowHeight=j.windowHeight||0,j.windowHeight=j.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):j.windowHeight,h.context2d.save(!0),g(this.prop.container,j)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var m=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=m})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(m,g,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(m,g):this.outputPdf(m,g)},u.prototype.outputPdf=function(m,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(m,g)})},u.prototype.outputImg=function(m){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(m){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+m+'" is not supported.'}})},u.prototype.save=function(m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(m?{filename:m}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(m){if(o(m)!=="object")return this;var g=Object.keys(m||{}).map(function(h){if(h in u.template.prop)return function(){this.prop[h]=m[h]};switch(h){case"margin":return this.setMargin.bind(this,m.margin);case"jsPDF":return function(){return this.opt.jsPDF=m.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,m.pageSize);default:return function(){this.opt[h]=m[h]}}},this);return this.then(function(){return this.thenList(g)})},u.prototype.get=function(m,g){return this.then(function(){var h=m in u.template.prop?this.prop[m]:this.opt[m];return g?g(h):h})},u.prototype.setMargin=function(m){return this.then(function(){switch(o(m)){case"number":m=[m,m,m,m];case"array":if(m.length===2&&(m=[m[0],m[1],m[0],m[1]]),m.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=m}).then(this.setPageSize)},u.prototype.setPageSize=function(m){function g(h,v){return Math.floor(h*v/72*96)}return this.then(function(){(m=m||mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(m.inner={width:m.width-this.opt.margin[1]-this.opt.margin[3],height:m.height-this.opt.margin[0]-this.opt.margin[2]},m.inner.px={width:g(m.inner.width,m.k),height:g(m.inner.height,m.k)},m.inner.ratio=m.inner.height/m.inner.width),this.prop.pageSize=m})},u.prototype.setProgress=function(m,g,h,v){return m!=null&&(this.progress.val=m),g!=null&&(this.progress.state=g),h!=null&&(this.progress.n=h),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(m,g,h,v){return this.setProgress(m?this.progress.val+m:null,g||null,h?this.progress.n+h:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(m,g){var h=this;return this.thenCore(m,g,function(v,S){return h.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(j){return h.updateProgress(null,v),j}).then(v,S).then(function(j){return h.updateProgress(1),j})})},u.prototype.thenCore=function(m,g,h){h=h||Promise.prototype.then,m&&(m=m.bind(this)),g&&(g=g.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:u.convert(Object.assign({},this),Promise.prototype),S=h.call(v,m,g);return u.convert(S,this.__proto__)},u.prototype.thenExternal=function(m,g){return Promise.prototype.then.call(this,m,g)},u.prototype.thenList=function(m){var g=this;return m.forEach(function(h){g=g.thenCore(h)}),g},u.prototype.catch=function(m){m&&(m=m.bind(this));var g=Promise.prototype.catch.call(this,m);return u.convert(g,this)},u.prototype.catchExternal=function(m){return Promise.prototype.catch.call(this,m)},u.prototype.error=function(m){return this.then(function(){throw new Error(m)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,mt.getPageSize=function(m,g,h){if(ua(m)==="object"){var v=m;m=v.orientation,g=v.unit||g,h=v.format||h}g=g||"mm",h=h||"a4",m=(""+(m||"P")).toLowerCase();var S,j=(""+h).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+g}var b,T=0,O=0;if(N.hasOwnProperty(j))T=N[j][1]/S,O=N[j][0]/S;else try{T=h[1],O=h[0]}catch{throw new Error("Invalid format: "+h)}if(m==="p"||m==="portrait")m="p",O>T&&(b=O,O=T,T=b);else{if(m!=="l"&&m!=="landscape")throw"Invalid orientation: "+m;m="l",T>O&&(b=O,O=T,T=b)}return{width:O,height:T,unit:g,k:S,orientation:m}},n.html=function(m,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(np):null;var h=new u(g);return g.worker?h:h.from(m).doCallback()}}(mt.API),mt.API.addJS=function(n){return Bm=n,this.internal.events.subscribe("postPutResources",function(){tf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tf!==void 0&&Rm!==void 0&&this.internal.out("/Names <</JavaScript "+tf+" 0 R>>")}),this},function(n){var i;n.events.push(["postPutResources",function(){var r=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=r.outline.render().split(/\r\n/),u=0;u<d.length;u++){var m=d[u],g=o.exec(m);if(g!=null){var h=g[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(m)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,S=[];for(u=0;u<v;u++){var j=r.internal.newObject();S.push(j);var N=r.internal.getPageInfo(u+1);r.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),u=0;u<S.length;u++)r.internal.write("(page_"+(u+1)+")"+S[u]+" 0 R");r.internal.write(" ] >>","endobj"),i=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),n.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(o,d,u){var m={title:d,options:u,children:[]};return o==null&&(o=this.root),o.children.push(m),m},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(o){o.id=r.internal.newObjectDeferred();for(var d=0;d<o.children.length;d++)this.genIds_r(o.children[d])},r.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},r.outline.renderItems=function(o){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,u=0;u<o.children.length;u++){var m=o.children[u];this.objStart(m),this.line("/Title "+this.makeString(m.title)),this.line("/Parent "+this.makeRef(o)),u>0&&this.line("/Prev "+this.makeRef(o.children[u-1])),u<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[u+1])),m.children.length>0&&(this.line("/First "+this.makeRef(m.children[0])),this.line("/Last "+this.makeRef(m.children[m.children.length-1])));var g=this.count=this.count_r({count:0},m);if(g>0&&this.line("/Count "+g),m.options&&m.options.pageNumber){var h=r.internal.getPageInfo(m.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var v=0;v<o.children.length;v++)this.renderItems(o.children[v])},r.outline.line=function(o){this.ctx.val+=o+`\r
`},r.outline.makeRef=function(o){return o.id+" 0 R"},r.outline.makeString=function(o){return"("+r.internal.pdfEscape(o)+")"},r.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(o,d){for(var u=0;u<d.children.length;u++)o.count++,this.count_r(o,d.children[u]);return o.count}}])}(mt.API),function(n){var i=[192,193,194,195,196,197,198,199];n.processJPEG=function(r,o,d,u,m,g){var h,v=this.decode.DCT_DECODE,S=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=m||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(h=function(j){for(var N,b=256*j.charCodeAt(4)+j.charCodeAt(5),T=j.length,O={width:0,height:0,numcomponents:1},M=4;M<T;M+=2){if(M+=b,i.indexOf(j.charCodeAt(M+1))!==-1){N=256*j.charCodeAt(M+5)+j.charCodeAt(M+6),O={width:256*j.charCodeAt(M+7)+j.charCodeAt(M+8),height:N,numcomponents:j.charCodeAt(M+9)};break}b=256*j.charCodeAt(M+2)+j.charCodeAt(M+3)}return O}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}S={data:r,width:h.width,height:h.height,colorSpace:g,bitsPerComponent:8,filter:v,index:o,alias:d}}return S}}(mt.API);var qc,af,Im,Fm,zm,Cv=function(){var n,i,r;function o(u){var m,g,h,v,S,j,N,b,T,O,M,A,E,P;for(this.data=u,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},j=null;;){switch(m=this.readUInt32(),T=(function(){var G,Q;for(Q=[],G=0;G<4;++G)Q.push(String.fromCharCode(this.data[this.pos++]));return Q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(m);break;case"fcTL":j&&this.animation.frames.push(j),this.pos+=4,j={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),v=this.readUInt16()||100,j.delay=1e3*S/v,j.disposeOp=this.data[this.pos++],j.blendOp=this.data[this.pos++],j.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,m-=4),u=(j!=null?j.data:void 0)||this.imgData,A=0;0<=m?A<m:A>m;0<=m?++A:--A)u.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(m),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((O=h-this.transparency.indexed.length)>0)for(E=0;0<=O?E<O:E>O;0<=O?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(m)[0];break;case 2:this.transparency.rgb=this.read(m)}break;case"tEXt":N=(M=this.read(m)).indexOf(0),b=String.fromCharCode.apply(String,M.slice(0,N)),this.text[b]=String.fromCharCode.apply(String,M.slice(N+1));break;case"IEND":return j&&this.animation.frames.push(j),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,g=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*g,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=m}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(u){var m,g;for(g=[],m=0;0<=u?m<u:m>u;0<=u?++m:--m)g.push(this.data[this.pos++]);return g},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(u){var m=this.pixelBitlength/8,g=new Uint8Array(this.width*this.height*m),h=0,v=this;if(u==null&&(u=this.imgData),u.length===0)return new Uint8Array(0);function S(j,N,b,T){var O,M,A,E,P,G,Q,ne,z,B,R,le,k,C,H,Y,ue,F,W,ee,re,_=Math.ceil((v.width-j)/b),ie=Math.ceil((v.height-N)/T),D=v.width==_&&v.height==ie;for(C=m*_,le=D?g:new Uint8Array(C*ie),G=u.length,k=0,M=0;k<ie&&h<G;){switch(u[h++]){case 0:for(E=ue=0;ue<C;E=ue+=1)le[M++]=u[h++];break;case 1:for(E=F=0;F<C;E=F+=1)O=u[h++],P=E<m?0:le[M-m],le[M++]=(O+P)%256;break;case 2:for(E=W=0;W<C;E=W+=1)O=u[h++],A=(E-E%m)/m,H=k&&le[(k-1)*C+A*m+E%m],le[M++]=(H+O)%256;break;case 3:for(E=ee=0;ee<C;E=ee+=1)O=u[h++],A=(E-E%m)/m,P=E<m?0:le[M-m],H=k&&le[(k-1)*C+A*m+E%m],le[M++]=(O+Math.floor((P+H)/2))%256;break;case 4:for(E=re=0;re<C;E=re+=1)O=u[h++],A=(E-E%m)/m,P=E<m?0:le[M-m],k===0?H=Y=0:(H=le[(k-1)*C+A*m+E%m],Y=A&&le[(k-1)*C+(A-1)*m+E%m]),Q=P+H-Y,ne=Math.abs(Q-P),B=Math.abs(Q-H),R=Math.abs(Q-Y),z=ne<=B&&ne<=R?P:B<=R?H:Y,le[M++]=(O+z)%256;break;default:throw new Error("Invalid filter algorithm: "+u[h-1])}if(!D){var V=((N+k*T)*v.width+j)*m,J=k*C;for(E=0;E<_;E+=1){for(var se=0;se<m;se+=1)g[V++]=le[J++];V+=(b-1)*m}}k++}}return u=rv(u),v.interlaceMethod==1?(S(0,0,8,8),S(4,0,8,8),S(0,4,4,8),S(2,0,4,4),S(0,2,2,4),S(1,0,2,2),S(0,1,1,2)):S(0,0,1,1),g},o.prototype.decodePalette=function(){var u,m,g,h,v,S,j,N,b;for(g=this.palette,S=this.transparency.indexed||[],v=new Uint8Array((S.length||0)+g.length),h=0,u=0,m=j=0,N=g.length;j<N;m=j+=3)v[h++]=g[m],v[h++]=g[m+1],v[h++]=g[m+2],v[h++]=(b=S[u++])!=null?b:255;return v},o.prototype.copyToImageData=function(u,m){var g,h,v,S,j,N,b,T,O,M,A;if(h=this.colors,O=null,g=this.hasAlphaChannel,this.palette.length&&(O=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette(),h=4,g=!0),T=(v=u.data||u).length,j=O||m,S=N=0,h===1)for(;S<T;)b=O?4*m[S/4]:N,M=j[b++],v[S++]=M,v[S++]=M,v[S++]=M,v[S++]=g?j[b++]:255,N=b;else for(;S<T;)b=O?4*m[S/4]:N,v[S++]=j[b++],v[S++]=j[b++],v[S++]=j[b++],v[S++]=g?j[b++]:255,N=b},o.prototype.decode=function(){var u;return u=new Uint8Array(this.width*this.height*4),this.copyToImageData(u,this.decodePixels()),u};var d=function(){if(Object.prototype.toString.call(xt)==="[object Window]"){try{i=xt.document.createElement("canvas"),r=i.getContext("2d")}catch{return!1}return!0}return!1};return d(),n=function(u){var m;if(d()===!0)return r.width=u.width,r.height=u.height,r.clearRect(0,0,u.width,u.height),r.putImageData(u,0,0),(m=new Image).src=i.toDataURL(),m;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(u){var m,g,h,v,S,j,N,b;if(this.animation){for(b=[],g=S=0,j=(N=this.animation.frames).length;S<j;g=++S)m=N[g],h=u.createImageData(m.width,m.height),v=this.decodePixels(new Uint8Array(m.data)),this.copyToImageData(h,v),m.imageData=h,b.push(m.image=n(h));return b}},o.prototype.renderFrame=function(u,m){var g,h,v;return g=(h=this.animation.frames)[m],v=h[m-1],m===0&&u.clearRect(0,0,this.width,this.height),(v!=null?v.disposeOp:void 0)===1?u.clearRect(v.xOffset,v.yOffset,v.width,v.height):(v!=null?v.disposeOp:void 0)===2&&u.putImageData(v.imageData,v.xOffset,v.yOffset),g.blendOp===0&&u.clearRect(g.xOffset,g.yOffset,g.width,g.height),u.drawImage(g.image,g.xOffset,g.yOffset)},o.prototype.animate=function(u){var m,g,h,v,S,j,N=this;return g=0,j=this.animation,v=j.numFrames,h=j.frames,S=j.numPlays,(m=function(){var b,T;if(b=g++%v,T=h[b],N.renderFrame(u,b),v>1&&g/v<S)return N.animation._timeout=setTimeout(m,T.delay)})()},o.prototype.stopAnimation=function(){var u;return clearTimeout((u=this.animation)!=null?u._timeout:void 0)},o.prototype.render=function(u){var m,g;return u._png&&u._png.stopAnimation(),u._png=this,u.width=this.width,u.height=this.height,m=u.getContext("2d"),this.animation?(this.decodeFrames(m),this.animate(m)):(g=m.createImageData(this.width,this.height),this.copyToImageData(g,this.decodePixels()),m.putImageData(g,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Dv(n){var i=0;if(n[i++]!==71||n[i++]!==73||n[i++]!==70||n[i++]!==56||(n[i++]+1&253)!=56||n[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=n[i++]|n[i++]<<8,o=n[i++]|n[i++]<<8,d=n[i++],u=d>>7,m=1<<(7&d)+1;n[i++],n[i++];var g=null,h=null;u&&(g=i,h=m,i+=3*m);var v=!0,S=[],j=0,N=null,b=0,T=null;for(this.width=r,this.height=o;v&&i<n.length;)switch(n[i++]){case 33:switch(n[i++]){case 255:if(n[i]!==11||n[i+1]==78&&n[i+2]==69&&n[i+3]==84&&n[i+4]==83&&n[i+5]==67&&n[i+6]==65&&n[i+7]==80&&n[i+8]==69&&n[i+9]==50&&n[i+10]==46&&n[i+11]==48&&n[i+12]==3&&n[i+13]==1&&n[i+16]==0)i+=14,T=n[i++]|n[i++]<<8,i++;else for(i+=12;;){if(!((k=n[i++])>=0))throw Error("Invalid block size");if(k===0)break;i+=k}break;case 249:if(n[i++]!==4||n[i+4]!==0)throw new Error("Invalid graphics extension block.");var O=n[i++];j=n[i++]|n[i++]<<8,N=n[i++],(1&O)==0&&(N=null),b=O>>2&7,i++;break;case 254:for(;;){if(!((k=n[i++])>=0))throw Error("Invalid block size");if(k===0)break;i+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[i-1].toString(16))}break;case 44:var M=n[i++]|n[i++]<<8,A=n[i++]|n[i++]<<8,E=n[i++]|n[i++]<<8,P=n[i++]|n[i++]<<8,G=n[i++],Q=G>>6&1,ne=1<<(7&G)+1,z=g,B=h,R=!1;G>>7&&(R=!0,z=i,B=ne,i+=3*ne);var le=i;for(i++;;){var k;if(!((k=n[i++])>=0))throw Error("Invalid block size");if(k===0)break;i+=k}S.push({x:M,y:A,width:E,height:P,has_local_palette:R,palette_offset:z,palette_size:B,data_offset:le,data_length:i-le,transparent_index:N,interlaced:!!Q,delay:j,disposal:b});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+n[i-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return T},this.frameInfo=function(C){if(C<0||C>=S.length)throw new Error("Frame index out of range.");return S[C]},this.decodeAndBlitFrameBGRA=function(C,H){var Y=this.frameInfo(C),ue=Y.width*Y.height,F=new Uint8Array(ue);qm(n,Y.data_offset,F,ue);var W=Y.palette_offset,ee=Y.transparent_index;ee===null&&(ee=256);var re=Y.width,_=r-re,ie=re,D=4*(Y.y*r+Y.x),V=4*((Y.y+Y.height)*r+Y.x),J=D,se=4*_;Y.interlaced===!0&&(se+=4*r*7);for(var te=8,pe=0,me=F.length;pe<me;++pe){var de=F[pe];if(ie===0&&(ie=re,(J+=se)>=V&&(se=4*_+4*r*(te-1),J=D+(re+_)*(te<<1),te>>=1)),de===ee)J+=4;else{var ke=n[W+3*de],Oe=n[W+3*de+1],Ge=n[W+3*de+2];H[J++]=Ge,H[J++]=Oe,H[J++]=ke,H[J++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(C,H){var Y=this.frameInfo(C),ue=Y.width*Y.height,F=new Uint8Array(ue);qm(n,Y.data_offset,F,ue);var W=Y.palette_offset,ee=Y.transparent_index;ee===null&&(ee=256);var re=Y.width,_=r-re,ie=re,D=4*(Y.y*r+Y.x),V=4*((Y.y+Y.height)*r+Y.x),J=D,se=4*_;Y.interlaced===!0&&(se+=4*r*7);for(var te=8,pe=0,me=F.length;pe<me;++pe){var de=F[pe];if(ie===0&&(ie=re,(J+=se)>=V&&(se=4*_+4*r*(te-1),J=D+(re+_)*(te<<1),te>>=1)),de===ee)J+=4;else{var ke=n[W+3*de],Oe=n[W+3*de+1],Ge=n[W+3*de+2];H[J++]=ke,H[J++]=Oe,H[J++]=Ge,H[J++]=255}--ie}}}function qm(n,i,r,o){for(var d=n[i++],u=1<<d,m=u+1,g=m+1,h=d+1,v=(1<<h)-1,S=0,j=0,N=0,b=n[i++],T=new Int32Array(4096),O=null;;){for(;S<16&&b!==0;)j|=n[i++]<<S,S+=8,b===1?b=n[i++]:--b;if(S<h)break;var M=j&v;if(j>>=h,S-=h,M!==u){if(M===m)break;for(var A=M<g?M:O,E=0,P=A;P>u;)P=T[P]>>8,++E;var G=P;if(N+E+(A!==M?1:0)>o)return void ba.log("Warning, gif stream longer than expected.");r[N++]=G;var Q=N+=E;for(A!==M&&(r[N++]=G),P=A;E--;)P=T[P],r[--Q]=255&P,P>>=8;O!==null&&g<4096&&(T[g++]=O<<8|G,g>=v+1&&h<12&&(++h,v=v<<1|1)),O=M}else g=m+1,v=(1<<(h=d+1))-1,O=null}return N!==o&&ba.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zh(n){var i,r,o,d,u,m=Math.floor,g=new Array(64),h=new Array(64),v=new Array(64),S=new Array(64),j=new Array(65535),N=new Array(65535),b=new Array(64),T=new Array(64),O=[],M=0,A=7,E=new Array(64),P=new Array(64),G=new Array(64),Q=new Array(256),ne=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(D,V){for(var J=0,se=0,te=new Array,pe=1;pe<=16;pe++){for(var me=1;me<=D[pe];me++)te[V[se]]=[],te[V[se]][0]=J,te[V[se]][1]=pe,se++,J++;J*=2}return te}function W(D){for(var V=D[0],J=D[1]-1;J>=0;)V&1<<J&&(M|=1<<A),J--,--A<0&&(M==255?(ee(255),ee(0)):ee(M),A=7,M=0)}function ee(D){O.push(D)}function re(D){ee(D>>8&255),ee(255&D)}function _(D,V,J,se,te){for(var pe,me=te[0],de=te[240],ke=function(Ye,Qe){var Ke,Ze,ut,St,_t,Ct,jt,It,rt,Rt,tt=0;for(rt=0;rt<8;++rt){Ke=Ye[tt],Ze=Ye[tt+1],ut=Ye[tt+2],St=Ye[tt+3],_t=Ye[tt+4],Ct=Ye[tt+5],jt=Ye[tt+6];var gn=Ke+(It=Ye[tt+7]),Ft=Ke-It,Pn=Ze+jt,Ht=Ze-jt,ia=ut+Ct,Rn=ut-Ct,$t=St+_t,Bs=St-_t,Sa=gn+$t,$n=gn-$t,Kn=Pn+ia,La=Pn-ia;Ye[tt]=Sa+Kn,Ye[tt+4]=Sa-Kn;var Nt=.707106781*(La+$n);Ye[tt+2]=$n+Nt,Ye[tt+6]=$n-Nt;var Xt=.382683433*((Sa=Bs+Rn)-(La=Ht+Ft)),is=.5411961*Sa+Xt,Ya=1.306562965*La+Xt,Ni=.707106781*(Kn=Rn+Ht),Ii=Ft+Ni,ct=Ft-Ni;Ye[tt+5]=ct+is,Ye[tt+3]=ct-is,Ye[tt+1]=Ii+Ya,Ye[tt+7]=Ii-Ya,tt+=8}for(tt=0,rt=0;rt<8;++rt){Ke=Ye[tt],Ze=Ye[tt+8],ut=Ye[tt+16],St=Ye[tt+24],_t=Ye[tt+32],Ct=Ye[tt+40],jt=Ye[tt+48];var da=Ke+(It=Ye[tt+56]),Aa=Ke-It,Wa=Ze+jt,Oa=Ze-jt,qa=ut+Ct,Zn=ut-Ct,vr=St+_t,Jn=St-_t,ei=da+vr,vn=da-vr,bn=Wa+qa,Bn=Wa-qa;Ye[tt]=ei+bn,Ye[tt+32]=ei-bn;var cn=.707106781*(Bn+vn);Ye[tt+16]=vn+cn,Ye[tt+48]=vn-cn;var sa=.382683433*((ei=Jn+Zn)-(Bn=Oa+Aa)),Is=.5411961*ei+sa,br=1.306562965*Bn+sa,li=.707106781*(bn=Zn+Oa),Si=Aa+li,Jr=Aa-li;Ye[tt+40]=Jr+Is,Ye[tt+24]=Jr-Is,Ye[tt+8]=Si+br,Ye[tt+56]=Si-br,tt++}for(rt=0;rt<64;++rt)Rt=Ye[rt]*Qe[rt],b[rt]=Rt>0?Rt+.5|0:Rt-.5|0;return b}(D,V),Oe=0;Oe<64;++Oe)T[z[Oe]]=ke[Oe];var Ge=T[0]-J;J=T[0],Ge==0?W(se[0]):(W(se[N[pe=32767+Ge]]),W(j[pe]));for(var We=63;We>0&&T[We]==0;)We--;if(We==0)return W(me),J;for(var Je,Pe=1;Pe<=We;){for(var fe=Pe;T[Pe]==0&&Pe<=We;)++Pe;var ht=Pe-fe;if(ht>=16){Je=ht>>4;for(var st=1;st<=Je;++st)W(de);ht&=15}pe=32767+T[Pe],W(te[(ht<<4)+N[pe]]),W(j[pe]),Pe++}return We!=63&&W(me),J}function ie(D){D=Math.min(Math.max(D,1),100),u!=D&&(function(V){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var te=m((J[se]*V+50)/100);te=Math.min(Math.max(te,1),255),g[z[se]]=te}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var de=m((pe[me]*V+50)/100);de=Math.min(Math.max(de,1),255),h[z[me]]=de}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Ge=0;Ge<8;Ge++)for(var We=0;We<8;We++)v[Oe]=1/(g[z[Oe]]*ke[Ge]*ke[We]*8),S[Oe]=1/(h[z[Oe]]*ke[Ge]*ke[We]*8),Oe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),u=D)}this.encode=function(D,V){V&&ie(V),O=new Array,M=0,A=7,re(65496),re(65504),re(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),re(1),re(1),ee(0),ee(0),function(){re(65499),re(132),ee(0);for(var Ze=0;Ze<64;Ze++)ee(g[Ze]);ee(1);for(var ut=0;ut<64;ut++)ee(h[ut])}(),function(Ze,ut){re(65472),re(17),ee(8),re(ut),re(Ze),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(D.width,D.height),function(){re(65476),re(418),ee(0);for(var Ze=0;Ze<16;Ze++)ee(B[Ze+1]);for(var ut=0;ut<=11;ut++)ee(R[ut]);ee(16);for(var St=0;St<16;St++)ee(le[St+1]);for(var _t=0;_t<=161;_t++)ee(k[_t]);ee(1);for(var Ct=0;Ct<16;Ct++)ee(C[Ct+1]);for(var jt=0;jt<=11;jt++)ee(H[jt]);ee(17);for(var It=0;It<16;It++)ee(Y[It+1]);for(var rt=0;rt<=161;rt++)ee(ue[rt])}(),re(65498),re(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var J=0,se=0,te=0;M=0,A=7,this.encode.displayName="_encode_";for(var pe,me,de,ke,Oe,Ge,We,Je,Pe,fe=D.data,ht=D.width,st=D.height,Ye=4*ht,Qe=0;Qe<st;){for(pe=0;pe<Ye;){for(Oe=Ye*Qe+pe,We=-1,Je=0,Pe=0;Pe<64;Pe++)Ge=Oe+(Je=Pe>>3)*Ye+(We=4*(7&Pe)),Qe+Je>=st&&(Ge-=Ye*(Qe+1+Je-st)),pe+We>=Ye&&(Ge-=pe+We-Ye+4),me=fe[Ge++],de=fe[Ge++],ke=fe[Ge++],E[Pe]=(ne[me]+ne[de+256>>0]+ne[ke+512>>0]>>16)-128,P[Pe]=(ne[me+768>>0]+ne[de+1024>>0]+ne[ke+1280>>0]>>16)-128,G[Pe]=(ne[me+1280>>0]+ne[de+1536>>0]+ne[ke+1792>>0]>>16)-128;J=_(E,v,J,i,o),se=_(P,S,se,r,d),te=_(G,S,te,r,d),pe+=32}Qe+=8}if(A>=0){var Ke=[];Ke[1]=A+1,Ke[0]=(1<<A+1)-1,W(Ke)}return re(65497),new Uint8Array(O)},n=n||50,function(){for(var D=String.fromCharCode,V=0;V<256;V++)Q[V]=D(V)}(),i=F(B,R),r=F(C,H),o=F(le,k),d=F(Y,ue),function(){for(var D=1,V=2,J=1;J<=15;J++){for(var se=D;se<V;se++)N[32767+se]=J,j[32767+se]=[],j[32767+se][1]=J,j[32767+se][0]=se;for(var te=-(V-1);te<=-D;te++)N[32767+te]=J,j[32767+te]=[],j[32767+te][1]=J,j[32767+te][0]=V-1+te;D<<=1,V<<=1}}(),function(){for(var D=0;D<256;D++)ne[D]=19595*D,ne[D+256>>0]=38470*D,ne[D+512>>0]=7471*D+32768,ne[D+768>>0]=-11059*D,ne[D+1024>>0]=-21709*D,ne[D+1280>>0]=32768*D+8421375,ne[D+1536>>0]=-27439*D,ne[D+1792>>0]=-5329*D}(),ie(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Os(n,i){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Um(n){function i(B){if(!B)throw Error("assert :P")}function r(B,R,le){for(var k=0;4>k;k++)if(B[R+k]!=le.charCodeAt(k))return!0;return!1}function o(B,R,le,k,C){for(var H=0;H<C;H++)B[R+H]=le[k+H]}function d(B,R,le,k){for(var C=0;C<k;C++)B[R+C]=le}function u(B){return new Int32Array(B)}function m(B,R){for(var le=[],k=0;k<B;k++)le.push(new R);return le}function g(B,R){var le=[];return function k(C,H,Y){for(var ue=Y[H],F=0;F<ue&&(C.push(Y.length>H+1?[]:new R),!(Y.length<H+1));F++)k(C[F],H+1,Y)}(le,0,B),le}var h=function(){var B=this;function R(c,p){for(var w=1<<p-1>>>0;c&w;)w>>>=1;return w?(c&w-1)+w:c}function le(c,p,w,L,q){i(!(L%w));do c[p+(L-=w)]=q;while(0<L)}function k(c,p,w,L,q){if(i(2328>=q),512>=q)var X=u(512);else if((X=u(q))==null)return 0;return function($,K,ae,oe,ve,Ce){var Ae,je,qe=K,Me=1<<ae,be=u(16),we=u(16);for(i(ve!=0),i(oe!=null),i($!=null),i(0<ae),je=0;je<ve;++je){if(15<oe[je])return 0;++be[oe[je]]}if(be[0]==ve)return 0;for(we[1]=0,Ae=1;15>Ae;++Ae){if(be[Ae]>1<<Ae)return 0;we[Ae+1]=we[Ae]+be[Ae]}for(je=0;je<ve;++je)Ae=oe[je],0<oe[je]&&(Ce[we[Ae]++]=je);if(we[15]==1)return(oe=new C).g=0,oe.value=Ce[0],le($,qe,1,Me,oe),Me;var Be,Ue=-1,Fe=Me-1,at=0,Xe=1,dt=1,$e=1<<ae;for(je=0,Ae=1,ve=2;Ae<=ae;++Ae,ve<<=1){if(Xe+=dt<<=1,0>(dt-=be[Ae]))return 0;for(;0<be[Ae];--be[Ae])(oe=new C).g=Ae,oe.value=Ce[je++],le($,qe+at,ve,$e,oe),at=R(at,Ae)}for(Ae=ae+1,ve=2;15>=Ae;++Ae,ve<<=1){if(Xe+=dt<<=1,0>(dt-=be[Ae]))return 0;for(;0<be[Ae];--be[Ae]){if(oe=new C,(at&Fe)!=Ue){for(qe+=$e,Be=1<<(Ue=Ae)-ae;15>Ue&&!(0>=(Be-=be[Ue]));)++Ue,Be<<=1;Me+=$e=1<<(Be=Ue-ae),$[K+(Ue=at&Fe)].g=Be+ae,$[K+Ue].value=qe-K-Ue}oe.g=Ae-ae,oe.value=Ce[je++],le($,qe+(at>>ae),ve,$e,oe),at=R(at,Ae)}}return Xe!=2*we[15]-1?0:Me}(c,p,w,L,q,X)}function C(){this.value=this.g=0}function H(){this.value=this.g=0}function Y(){this.G=m(5,C),this.H=u(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=m(yn,H)}function ue(c,p,w,L){i(c!=null),i(p!=null),i(2147483648>L),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=w,c.Jd=p,c.Yc=w+L,c.Zc=4<=L?w+L-4+1:w,pe(c)}function F(c,p){for(var w=0;0<p--;)w|=de(c,128)<<p;return w}function W(c,p){var w=F(c,p);return me(c)?-w:w}function ee(c,p,w,L){var q,X=0;for(i(c!=null),i(p!=null),i(4294967288>L),c.Sb=L,c.Ra=0,c.u=0,c.h=0,4<L&&(L=4),q=0;q<L;++q)X+=p[w+q]<<8*q;c.Ra=X,c.bb=L,c.oa=p,c.pa=w}function re(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Cr-8>>>0,++c.bb,c.u-=8;J(c)&&(c.h=1,c.u=0)}function _(c,p){if(i(0<=p),!c.h&&p<=Tr){var w=V(c)&Qs[p];return c.u+=p,re(c),w}return c.h=1,c.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(c){return c.Ra>>>(c.u&Cr-1)>>>0}function J(c){return i(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Cr}function se(c,p){c.u=p,c.h=J(c)}function te(c){c.u>=ml&&(i(c.u>=ml),re(c))}function pe(c){i(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(i(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return F(c,1)}function de(c,p){var w=c.Ca;0>c.b&&pe(c);var L=c.b,q=w*p>>>8,X=(c.I>>>L>q)+0;for(X?(w-=q,c.I-=q+1<<L>>>0):w=q+1,L=w,q=0;256<=L;)q+=8,L>>=8;return L=7^q+zn[L],c.b-=L,c.Ca=(w<<L)-1,X}function ke(c,p,w){c[p+0]=w>>24&255,c[p+1]=w>>16&255,c[p+2]=w>>8&255,c[p+3]=w>>0&255}function Oe(c,p){return c[p+0]<<0|c[p+1]<<8}function Ge(c,p){return Oe(c,p)|c[p+2]<<16}function We(c,p){return Oe(c,p)|Oe(c,p+2)<<16}function Je(c,p){var w=1<<p;return i(c!=null),i(0<p),c.X=u(w),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function Pe(c,p){i(c!=null),i(p!=null),i(c.Xa==p.Xa),o(p.X,0,c.X,0,1<<p.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function ht(c,p,w,L){i(w!=null),i(L!=null);var q=w[0],X=L[0];return q==0&&(q=(c*X+p/2)/p),X==0&&(X=(p*q+c/2)/c),0>=q||0>=X?0:(w[0]=q,L[0]=X,1)}function st(c,p){return c+(1<<p)-1>>>p}function Ye(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function Qe(c,p){B[p]=function(w,L,q,X,$,K,ae){var oe;for(oe=0;oe<$;++oe){var ve=B[c](K[ae+oe-1],q,X+oe);K[ae+oe]=Ye(w[L+oe],ve)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ze(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function ut(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function St(c,p){return ut(c+(c-p+.5>>1))}function _t(c,p,w){return Math.abs(p-w)-Math.abs(c-w)}function Ct(c,p,w,L,q,X,$){for(L=X[$-1],w=0;w<q;++w)X[$+w]=L=Ye(c[p+w],L)}function jt(c,p,w,L,q){var X;for(X=0;X<w;++X){var $=c[p+X],K=$>>8&255,ae=16711935&(ae=(ae=16711935&$)+((K<<16)+K));L[q+X]=(4278255360&$)+ae>>>0}}function It(c,p){p.jd=c>>0&255,p.hd=c>>8&255,p.ud=c>>16&255}function rt(c,p,w,L,q,X){var $;for($=0;$<L;++$){var K=p[w+$],ae=K>>>8,oe=K,ve=255&(ve=(ve=K>>>16)+((c.jd<<24>>24)*(ae<<24>>24)>>>5));oe=255&(oe=(oe=oe+((c.hd<<24>>24)*(ae<<24>>24)>>>5))+((c.ud<<24>>24)*(ve<<24>>24)>>>5)),q[X+$]=(4278255360&K)+(ve<<16)+oe}}function Rt(c,p,w,L,q){B[p]=function(X,$,K,ae,oe,ve,Ce,Ae,je){for(ae=Ce;ae<Ae;++ae)for(Ce=0;Ce<je;++Ce)oe[ve++]=q(K[L(X[$++])])},B[c]=function(X,$,K,ae,oe,ve,Ce){var Ae=8>>X.b,je=X.Ea,qe=X.K[0],Me=X.w;if(8>Ae)for(X=(1<<X.b)-1,Me=(1<<Ae)-1;$<K;++$){var be,we=0;for(be=0;be<je;++be)be&X||(we=L(ae[oe++])),ve[Ce++]=q(qe[we&Me]),we>>=Ae}else B["VP8LMapColor"+w](ae,oe,qe,Me,ve,Ce,$,K,je)}}function tt(c,p,w,L,q){for(w=p+w;p<w;){var X=c[p++];L[q++]=X>>16&255,L[q++]=X>>8&255,L[q++]=X>>0&255}}function gn(c,p,w,L,q){for(w=p+w;p<w;){var X=c[p++];L[q++]=X>>16&255,L[q++]=X>>8&255,L[q++]=X>>0&255,L[q++]=X>>24&255}}function Ft(c,p,w,L,q){for(w=p+w;p<w;){var X=($=c[p++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;L[q++]=X,L[q++]=$}}function Pn(c,p,w,L,q){for(w=p+w;p<w;){var X=($=c[p++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;L[q++]=X,L[q++]=$}}function Ht(c,p,w,L,q){for(w=p+w;p<w;){var X=c[p++];L[q++]=X>>0&255,L[q++]=X>>8&255,L[q++]=X>>16&255}}function ia(c,p,w,L,q,X){if(X==0)for(w=p+w;p<w;)ke(L,((X=c[p++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),q+=32;else o(L,q,c,p,w)}function Rn(c,p){B[p][0]=B[c+"0"],B[p][1]=B[c+"1"],B[p][2]=B[c+"2"],B[p][3]=B[c+"3"],B[p][4]=B[c+"4"],B[p][5]=B[c+"5"],B[p][6]=B[c+"6"],B[p][7]=B[c+"7"],B[p][8]=B[c+"8"],B[p][9]=B[c+"9"],B[p][10]=B[c+"10"],B[p][11]=B[c+"11"],B[p][12]=B[c+"12"],B[p][13]=B[c+"13"],B[p][14]=B[c+"0"],B[p][15]=B[c+"0"]}function $t(c){return c==yo||c==er||c==ys||c==xl}function Bs(){this.eb=[],this.size=this.A=this.fb=0}function Sa(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $n(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bs,this.f.kb=new Sa,this.sd=null}function Kn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function La(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nt(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Xt(c,p){var w=c.T,L=p.ba.f.RGBA,q=L.eb,X=L.fb+c.ka*L.A,$=ln[p.ba.S],K=c.y,ae=c.O,oe=c.f,ve=c.N,Ce=c.ea,Ae=c.W,je=p.cc,qe=p.dc,Me=p.Mc,be=p.Nc,we=c.ka,Be=c.ka+c.T,Ue=c.U,Fe=Ue+1>>1;for(we==0?$(K,ae,null,null,oe,ve,Ce,Ae,oe,ve,Ce,Ae,q,X,null,null,Ue):($(p.ec,p.fc,K,ae,je,qe,Me,be,oe,ve,Ce,Ae,q,X-L.A,q,X,Ue),++w);we+2<Be;we+=2)je=oe,qe=ve,Me=Ce,be=Ae,ve+=c.Rc,Ae+=c.Rc,X+=2*L.A,$(K,(ae+=2*c.fa)-c.fa,K,ae,je,qe,Me,be,oe,ve,Ce,Ae,q,X-L.A,q,X,Ue);return ae+=c.fa,c.j+Be<c.o?(o(p.ec,p.fc,K,ae,Ue),o(p.cc,p.dc,oe,ve,Fe),o(p.Mc,p.Nc,Ce,Ae,Fe),w--):1&Be||$(K,ae,null,null,oe,ve,Ce,Ae,oe,ve,Ce,Ae,q,X+L.A,null,null,Ue),w}function is(c,p,w){var L=c.F,q=[c.J];if(L!=null){var X=c.U,$=p.ba.S,K=$==Er||$==ys;p=p.ba.f.RGBA;var ae=[0],oe=c.ka;ae[0]=c.T,c.Kb&&(oe==0?--ae[0]:(--oe,q[0]-=c.width),c.j+c.ka+c.T==c.o&&(ae[0]=c.o-c.j-oe));var ve=p.eb;oe=p.fb+oe*p.A,c=Dn(L,q[0],c.width,X,ae,ve,oe+(K?0:3),p.A),i(w==ae),c&&$t($)&&bs(ve,oe,K,X,ae,p.A)}return 0}function Ya(c){var p=c.ma,w=p.ba.S,L=11>w,q=w==bl||w==xo||w==Er||w==xs||w==12||$t(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Xs(p.Oa,c,q?11:12))return 0;if(q&&$t(w)&&Ve(),c.da)alert("todo:use_scaling");else{if(L){if(p.Ib=Nt,c.Kb){if(w=c.U+1>>1,p.memory=u(c.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Xt,Ve()}}else alert("todo:EmitYUV");q&&(p.Jb=is,L&&Se())}if(L&&!ad){for(c=0;256>c;++c)xf[c]=89858*(c-128)+$a>>Qi,No[c]=-22014*(c-128)+$a,eu[c]=-45773*(c-128),Ka[c]=113618*(c-128)+$a>>Qi;for(c=nr;c<mc;++c)p=76283*(c-16)+$a>>Qi,So[c-nr]=ai(p,255),tu[c-nr]=ai(p+8>>4,15);ad=1}return 1}function Ni(c){var p=c.ma,w=c.U,L=c.T;return i(!(1&c.ka)),0>=w||0>=L?0:(w=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,w),p.Dc+=w,1)}function Ii(c){c.ma.memory=null}function ct(c,p,w,L){return _(c,8)!=47?0:(p[0]=_(c,14)+1,w[0]=_(c,14)+1,L[0]=_(c,1),_(c,3)!=0?0:!c.h)}function da(c,p){if(4>c)return c+1;var w=c-2>>1;return(2+(1&c)<<w)+_(p,w)+1}function Aa(c,p){return 120<p?p-120:1<=(w=((w=js[p-1])>>4)*c+(8-(15&w)))?w:1;var w}function Wa(c,p,w){var L=V(w),q=c[p+=255&L].g-8;return 0<q&&(se(w,w.u+8),L=V(w),p+=c[p].value,p+=L&(1<<q)-1),se(w,w.u+c[p].g),c[p].value}function Oa(c,p,w){return w.g+=c.g,w.value+=c.value<<p>>>0,i(8>=w.g),c.g}function qa(c,p,w){var L=c.xc;return i((p=L==0?0:c.vc[c.md*(w>>L)+(p>>L)])<c.Wb),c.Ya[p]}function Zn(c,p,w,L){var q=c.ab,X=c.c*p,$=c.C;p=$+p;var K=w,ae=L;for(L=c.Ta,w=c.Ua;0<q--;){var oe=c.gc[q],ve=$,Ce=p,Ae=K,je=ae,qe=(ae=L,K=w,oe.Ea);switch(i(ve<Ce),i(Ce<=oe.nc),oe.hc){case 2:sc(Ae,je,(Ce-ve)*qe,ae,K);break;case 0:var Me=ve,be=Ce,we=ae,Be=K,Ue=($e=oe).Ea;Me==0&&(Zc(Ae,je,null,null,1,we,Be),Ct(Ae,je+1,0,0,Ue-1,we,Be+1),je+=Ue,Be+=Ue,++Me);for(var Fe=1<<$e.b,at=Fe-1,Xe=st(Ue,$e.b),dt=$e.K,$e=$e.w+(Me>>$e.b)*Xe;Me<be;){var Vt=dt,Kt=$e,Pt=1;for(go(Ae,je,we,Be-Ue,1,we,Be);Pt<Ue;){var Mt=(Pt&~at)+Fe;Mt>Ue&&(Mt=Ue),(0,ms[Vt[Kt++]>>8&15])(Ae,je+ +Pt,we,Be+Pt-Ue,Mt-Pt,we,Be+Pt),Pt=Mt}je+=Ue,Be+=Ue,++Me&at||($e+=Xe)}Ce!=oe.nc&&o(ae,K-qe,ae,K+(Ce-ve-1)*qe,qe);break;case 1:for(qe=Ae,be=je,Ue=(Ae=oe.Ea)-(Be=Ae&~(we=(je=1<<oe.b)-1)),Me=st(Ae,oe.b),Fe=oe.K,oe=oe.w+(ve>>oe.b)*Me;ve<Ce;){for(at=Fe,Xe=oe,dt=new Ke,$e=be+Be,Vt=be+Ae;be<$e;)It(at[Xe++],dt),ni(dt,qe,be,je,ae,K),be+=je,K+=je;be<Vt&&(It(at[Xe++],dt),ni(dt,qe,be,Ue,ae,K),be+=Ue,K+=Ue),++ve&we||(oe+=Me)}break;case 3:if(Ae==ae&&je==K&&0<oe.b){for(be=ae,Ae=qe=K+(Ce-ve)*qe-(Be=(Ce-ve)*st(oe.Ea,oe.b)),je=ae,we=K,Me=[],Be=(Ue=Be)-1;0<=Be;--Be)Me[Be]=je[we+Be];for(Be=Ue-1;0<=Be;--Be)be[Ae+Be]=Me[Be];Di(oe,ve,Ce,ae,qe,ae,K)}else Di(oe,ve,Ce,Ae,je,ae,K)}K=L,ae=w}ae!=w&&o(L,w,K,ae,X)}function vr(c,p){var w=c.V,L=c.Ba+c.c*c.C,q=p-c.C;if(i(p<=c.l.o),i(16>=q),0<q){var X=c.l,$=c.Ta,K=c.Ua,ae=X.width;if(Zn(c,q,w,L),q=K=[K],i((w=c.C)<(L=p)),i(X.v<X.va),L>X.o&&(L=X.o),w<X.j){var oe=X.j-w;w=X.j,q[0]+=oe*ae}if(w>=L?w=0:(q[0]+=4*X.v,X.ka=w-X.j,X.U=X.va-X.v,X.T=L-w,w=1),w){if(K=K[0],11>(w=c.ca).S){var ve=w.f.RGBA,Ce=(L=w.S,q=X.U,X=X.T,oe=ve.eb,ve.A),Ae=X;for(ve=ve.fb+c.Ma*ve.A;0<Ae--;){var je=$,qe=K,Me=q,be=oe,we=ve;switch(L){case jn:di(je,qe,Me,be,we);break;case bl:Hi(je,qe,Me,be,we);break;case yo:Hi(je,qe,Me,be,we),bs(be,we,0,Me,1,0);break;case Vi:$s(je,qe,Me,be,we);break;case xo:ia(je,qe,Me,be,we,1);break;case er:ia(je,qe,Me,be,we,1),bs(be,we,0,Me,1,0);break;case Er:ia(je,qe,Me,be,we,0);break;case ys:ia(je,qe,Me,be,we,0),bs(be,we,1,Me,1,0);break;case xs:Gi(je,qe,Me,be,we);break;case xl:Gi(je,qe,Me,be,we),dn(be,we,Me,1,0);break;case uc:qn(je,qe,Me,be,we);break;default:i(0)}K+=ae,ve+=Ce}c.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");i(c.Ma<=w.height)}}c.C=p,i(c.C<=c.i)}function Jn(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var w=c.Ya[p].G,L=c.Ya[p].H;if(0<w[1][L[1]+0].g||0<w[2][L[2]+0].g||0<w[3][L[3]+0].g)return 0}return 1}function ei(c,p,w,L,q,X){if(c.Z!=0){var $=c.qd,K=c.rd;for(i(Wi[c.Z]!=null);p<w;++p)Wi[c.Z]($,K,L,q,L,q,X),$=L,K=q,q+=X;c.qd=$,c.rd=K}}function vn(c,p){var w=c.l.ma,L=w.Z==0||w.Z==1?c.l.j:c.C;if(L=c.C<L?L:c.C,i(p<=c.l.o),p>L){var q=c.l.width,X=w.ca,$=w.tb+q*L,K=c.V,ae=c.Ba+c.c*L,oe=c.gc;i(c.ab==1),i(oe[0].hc==3),Dr(oe[0],L,p,K,ae,X,$),ei(w,L,p,X,$,q)}c.C=c.Ma=p}function bn(c,p,w,L,q,X,$){var K=c.$/L,ae=c.$%L,oe=c.m,ve=c.s,Ce=w+c.$,Ae=Ce;q=w+L*q;var je=w+L*X,qe=280+ve.ua,Me=c.Pb?K:16777216,be=0<ve.ua?ve.Wa:null,we=ve.wc,Be=Ce<je?qa(ve,ae,K):null;i(c.C<X),i(je<=q);var Ue=!1;e:for(;;){for(;Ue||Ce<je;){var Fe=0;if(K>=Me){var at=Ce-w;i((Me=c).Pb),Me.wd=Me.m,Me.xd=at,0<Me.s.ua&&Pe(Me.s.Wa,Me.s.vb),Me=K+Ju}if(ae&we||(Be=qa(ve,ae,K)),i(Be!=null),Be.Qb&&(p[Ce]=Be.qb,Ue=!0),!Ue)if(te(oe),Be.jc){Fe=oe,at=p;var Xe=Ce,dt=Be.pd[V(Fe)&yn-1];i(Be.jc),256>dt.g?(se(Fe,Fe.u+dt.g),at[Xe]=dt.value,Fe=0):(se(Fe,Fe.u+dt.g-256),i(256<=dt.value),Fe=dt.value),Fe==0&&(Ue=!0)}else Fe=Wa(Be.G[0],Be.H[0],oe);if(oe.h)break;if(Ue||256>Fe){if(!Ue)if(Be.nd)p[Ce]=(Be.qb|Fe<<8)>>>0;else{if(te(oe),Ue=Wa(Be.G[1],Be.H[1],oe),te(oe),at=Wa(Be.G[2],Be.H[2],oe),Xe=Wa(Be.G[3],Be.H[3],oe),oe.h)break;p[Ce]=(Xe<<24|Ue<<16|Fe<<8|at)>>>0}if(Ue=!1,++Ce,++ae>=L&&(ae=0,++K,$!=null&&K<=X&&!(K%16)&&$(c,K),be!=null))for(;Ae<Ce;)Fe=p[Ae++],be.X[(506832829*Fe&4294967295)>>>be.Mb]=Fe}else if(280>Fe){if(Fe=da(Fe-256,oe),at=Wa(Be.G[4],Be.H[4],oe),te(oe),at=Aa(L,at=da(at,oe)),oe.h)break;if(Ce-w<at||q-Ce<Fe)break e;for(Xe=0;Xe<Fe;++Xe)p[Ce+Xe]=p[Ce+Xe-at];for(Ce+=Fe,ae+=Fe;ae>=L;)ae-=L,++K,$!=null&&K<=X&&!(K%16)&&$(c,K);if(i(Ce<=q),ae&we&&(Be=qa(ve,ae,K)),be!=null)for(;Ae<Ce;)Fe=p[Ae++],be.X[(506832829*Fe&4294967295)>>>be.Mb]=Fe}else{if(!(Fe<qe))break e;for(Ue=Fe-280,i(be!=null);Ae<Ce;)Fe=p[Ae++],be.X[(506832829*Fe&4294967295)>>>be.Mb]=Fe;Fe=Ce,i(!(Ue>>>(at=be).Xa)),p[Fe]=at.X[Ue],Ue=!0}Ue||i(oe.h==J(oe))}if(c.Pb&&oe.h&&Ce<q)i(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Pe(c.s.vb,c.s.Wa);else{if(oe.h)break e;$!=null&&$(c,K>X?X:K),c.a=0,c.$=Ce-w}return 1}return c.a=3,0}function Bn(c){i(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,i(c!=null)}function cn(){var c=new Kc;return c==null?null:(c.a=0,c.xb=yl,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),sc=jt,ni=rt,di=tt,Hi=gn,Gi=Ft,qn=Pn,$s=Ht,B.VP8LMapColor32b=un,B.VP8LMapColor8b=rc,c)}function sa(c,p,w,L,q){var X=1,$=[c],K=[p],ae=L.m,oe=L.s,ve=null,Ce=0;e:for(;;){if(w)for(;X&&_(ae,1);){var Ae=$,je=K,qe=L,Me=1,be=qe.m,we=qe.gc[qe.ab],Be=_(be,2);if(qe.Oc&1<<Be)X=0;else{switch(qe.Oc|=1<<Be,we.hc=Be,we.Ea=Ae[0],we.nc=je[0],we.K=[null],++qe.ab,i(4>=qe.ab),Be){case 0:case 1:we.b=_(be,3)+2,Me=sa(st(we.Ea,we.b),st(we.nc,we.b),0,qe,we.K),we.K=we.K[0];break;case 3:var Ue,Fe=_(be,8)+1,at=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Ae[0]=st(we.Ea,at),we.b=at,Ue=Me=sa(Fe,1,0,qe,we.K)){var Xe,dt=Fe,$e=we,Vt=1<<(8>>$e.b),Kt=u(Vt);if(Kt==null)Ue=0;else{var Pt=$e.K[0],Mt=$e.w;for(Kt[0]=$e.K[0][0],Xe=1;Xe<1*dt;++Xe)Kt[Xe]=Ye(Pt[Mt+Xe],Kt[Xe-1]);for(;Xe<4*Vt;++Xe)Kt[Xe]=0;$e.K[0]=null,$e.K[0]=Kt,Ue=1}}Me=Ue;break;case 2:break;default:i(0)}X=Me}}if($=$[0],K=K[0],X&&_(ae,1)&&!(X=1<=(Ce=_(ae,4))&&11>=Ce)){L.a=3;break e}var aa;if(aa=X)t:{var Zt,At,la,pt=L,bt=$,Gt=K,Yt=Ce,on=w,Za=pt.m,Ia=pt.s,Fa=[null],Ua=1,gi=0,Jt=Or[Yt];a:for(;;){if(on&&_(Za,1)){var Ha=_(Za,3)+2,_i=st(bt,Ha),ir=st(Gt,Ha),Br=_i*ir;if(!sa(_i,ir,0,pt,Fa))break a;for(Fa=Fa[0],Ia.xc=Ha,Zt=0;Zt<Br;++Zt){var sr=Fa[Zt]>>8&65535;Fa[Zt]=sr,sr>=Ua&&(Ua=sr+1)}}if(Za.h)break a;for(At=0;5>At;++At){var ya=ii[At];!At&&0<Yt&&(ya+=1<<Yt),gi<ya&&(gi=ya)}var Ao=m(Ua*Jt,C),gc=Ua,_n=m(gc,Y);if(_n==null)var Ca=null;else i(65536>=gc),Ca=_n;var Ir=u(gi);if(Ca==null||Ir==null||Ao==null){pt.a=1;break a}var rr=Ao;for(Zt=la=0;Zt<Ua;++Zt){var Hn=Ca[Zt],lr=Hn.G,Gn=Hn.H,To=0,jl=1,vc=0;for(At=0;5>At;++At){ya=ii[At],lr[At]=rr,Gn[At]=la,!At&&0<Yt&&(ya+=1<<Yt);i:{var Co,bc=ya,Do=pt,Nl=Ir,sd=rr,rd=la,Lo=0,Ts=Do.m,wf=_(Ts,1);if(d(Nl,0,0,bc),wf){var ld=_(Ts,1)+1,od=_(Ts,1),au=_(Ts,od==0?1:8);Nl[au]=1,ld==2&&(Nl[au=_(Ts,8)]=1);var Sl=1}else{var nu=u(19),iu=_(Ts,4)+4;if(19<iu){Do.a=3;var _o=0;break i}for(Co=0;Co<iu;++Co)nu[ws[Co]]=_(Ts,3);var xc=void 0,Al=void 0,cd=Do,ud=nu,Cs=bc,ko=Nl,yc=0,ki=cd.m,Tl=8,su=m(128,C);n:for(;k(su,0,7,ud,19);){if(_(ki,1)){var dd=2+2*_(ki,3);if((xc=2+_(ki,dd))>Cs)break n}else xc=Cs;for(Al=0;Al<Cs&&xc--;){te(ki);var ru=su[0+(127&V(ki))];se(ki,ki.u+ru.g);var Fr=ru.value;if(16>Fr)ko[Al++]=Fr,Fr!=0&&(Tl=Fr);else{var fd=Fr==16,lu=Fr-16,ou=mi[lu],cu=_(ki,dc[lu])+ou;if(Al+cu>Cs)break n;for(var hd=fd?Tl:0;0<cu--;)ko[Al++]=hd}}yc=1;break n}yc||(cd.a=3),Sl=yc}(Sl=Sl&&!Ts.h)&&(Lo=k(sd,rd,8,Nl,bc)),Sl&&Lo!=0?_o=Lo:(Do.a=3,_o=0)}if(_o==0)break a;if(jl&&Mr[At]==1&&(jl=rr[la].g==0),To+=rr[la].g,la+=_o,3>=At){var zr,wc=Ir[0];for(zr=1;zr<ya;++zr)Ir[zr]>wc&&(wc=Ir[zr]);vc+=wc}}if(Hn.nd=jl,Hn.Qb=0,jl&&(Hn.qb=(lr[3][Gn[3]+0].value<<24|lr[1][Gn[1]+0].value<<16|lr[2][Gn[2]+0].value)>>>0,To==0&&256>lr[0][Gn[0]+0].value&&(Hn.Qb=1,Hn.qb+=lr[0][Gn[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>vc,Hn.jc){var Eo,Ds=Hn;for(Eo=0;Eo<yn;++Eo){var $i=Eo,Ls=Ds.pd[$i],Mo=Ds.G[0][Ds.H[0]+$i];256<=Mo.value?(Ls.g=Mo.g+256,Ls.value=Mo.value):(Ls.g=0,Ls.value=0,$i>>=Oa(Mo,8,Ls),$i>>=Oa(Ds.G[1][Ds.H[1]+$i],16,Ls),$i>>=Oa(Ds.G[2][Ds.H[2]+$i],0,Ls),Oa(Ds.G[3][Ds.H[3]+$i],24,Ls))}}}Ia.vc=Fa,Ia.Wb=Ua,Ia.Ya=Ca,Ia.yc=Ao,aa=1;break t}aa=0}if(!(X=aa)){L.a=3;break e}if(0<Ce){if(oe.ua=1<<Ce,!Je(oe.Wa,Ce)){L.a=1,X=0;break e}}else oe.ua=0;var Oo=L,uu=$,pd=K,du=Oo.s,fu=du.xc;if(Oo.c=uu,Oo.i=pd,du.md=st(uu,fu),du.wc=fu==0?-1:(1<<fu)-1,w){L.xb=td;break e}if((ve=u($*K))==null){L.a=1,X=0;break e}X=(X=bn(L,ve,0,$,K,K,null))&&!ae.h;break e}return X?(q!=null?q[0]=ve:(i(ve==null),i(w)),L.$=0,w||Bn(oe)):Bn(oe),X}function Is(c,p){var w=c.c*c.i,L=w+p+16*p;return i(c.c<=p),c.V=u(L),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+w+p,1)}function br(c,p){var w=c.C,L=p-w,q=c.V,X=c.Ba+c.c*w;for(i(p<=c.l.o);0<L;){var $=16<L?16:L,K=c.l.ma,ae=c.l.width,oe=ae*$,ve=K.ca,Ce=K.tb+ae*w,Ae=c.Ta,je=c.Ua;Zn(c,$,q,X),Lr(Ae,je,ve,Ce,oe),ei(K,w,w+$,ve,Ce,ae),L-=$,q+=$*c.c,w+=$}i(w==p),c.C=c.Ma=p}function li(){this.ub=this.yd=this.td=this.Rb=0}function Si(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jr(){this.Fb=this.Bb=this.Cb=0,this.Zb=u(4),this.Lb=u(4)}function eo(){this.Yb=function(){var c=[];return function p(w,L,q){for(var X=q[L],$=0;$<X&&(w.push(q.length>L+1?[]:0),!(q.length<L+1));$++)p(w[$],L+1,q)}(c,0,[3,11]),c}()}function Xo(){this.jb=u(3),this.Wc=g([4,8],eo),this.Xc=g([4,17],eo)}function Yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new u(4),this.od=new u(4)}function ss(){this.ld=this.La=this.dd=this.tc=0}function xr(){this.Na=this.la=0}function Ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yr(){this.ad=u(384),this.Za=0,this.Ob=u(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qo(){this.uc=this.M=this.Nb=0,this.wa=Array(new ss),this.Y=0,this.ya=Array(new yr),this.aa=0,this.l=new Fs}function rs(){this.y=u(16),this.f=u(8),this.ea=u(8)}function to(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new li,this.Kc=new Si,this.ed=new Yc,this.Qa=new Jr,this.Ic=this.$c=this.Aa=0,this.D=new Qo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=m(8,ie),this.ia=0,this.pb=m(4,Ai),this.Pa=new Xo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rs),this.Hd=0,this.rb=Array(new xr),this.sb=0,this.wa=Array(new ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yr),this.L=this.aa=0,this.gd=g([4,2],ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wc(){var c=new to;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Qa||(Qa=$o)),c}function _a(c,p,w){return c.a==0&&(c.a=p,c.sc=w,c.cb=0),0}function Tn(c,p,w){return 3<=w&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function ao(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return _a(c,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,L=p.w,q=p.ha;if(4>q)return _a(c,7,"Truncated header.");var X=w[L+0]|w[L+1]<<8|w[L+2]<<16,$=c.Od;if($.Rb=!(1&X),$.td=X>>1&7,$.yd=X>>4&1,$.ub=X>>5,3<$.td)return _a(c,3,"Incorrect keyframe parameters.");if(!$.yd)return _a(c,4,"Frame not displayable.");L+=3,q-=3;var K=c.Kc;if($.Rb){if(7>q)return _a(c,7,"cannot parse picture header");if(!Tn(w,L,q))return _a(c,3,"Bad code word");K.c=16383&(w[L+4]<<8|w[L+3]),K.Td=w[L+4]>>6,K.i=16383&(w[L+6]<<8|w[L+5]),K.Ud=w[L+6]>>6,L+=7,q-=7,c.za=K.c+15>>4,c.Ub=K.i+15>>4,p.width=K.c,p.height=K.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,d((X=c.Pa).jb,0,255,X.jb.length),i((X=c.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,d(X.Zb,0,0,X.Zb.length),d(X.Lb,0,0,X.Lb)}if($.ub>q)return _a(c,7,"bad partition length");ue(X=c.m,w,L,$.ub),L+=$.ub,q-=$.ub,$.Rb&&(K.Ld=me(X),K.Kd=me(X)),K=c.Qa;var ae,oe=c.Pa;if(i(X!=null),i(K!=null),K.Cb=me(X),K.Cb){if(K.Bb=me(X),me(X)){for(K.Fb=me(X),ae=0;4>ae;++ae)K.Zb[ae]=me(X)?W(X,7):0;for(ae=0;4>ae;++ae)K.Lb[ae]=me(X)?W(X,6):0}if(K.Bb)for(ae=0;3>ae;++ae)oe.jb[ae]=me(X)?F(X,8):255}else K.Bb=0;if(X.Ka)return _a(c,3,"cannot parse segment header");if((K=c.ed).zd=me(X),K.Tb=F(X,6),K.wb=F(X,3),K.Pc=me(X),K.Pc&&me(X)){for(oe=0;4>oe;++oe)me(X)&&(K.vd[oe]=W(X,6));for(oe=0;4>oe;++oe)me(X)&&(K.od[oe]=W(X,6))}if(c.L=K.Tb==0?0:K.zd?1:2,X.Ka)return _a(c,3,"cannot parse filter header");var ve=q;if(q=ae=L,L=ae+ve,K=ve,c.Xb=(1<<F(c.m,2))-1,ve<3*(oe=c.Xb))w=7;else{for(ae+=3*oe,K-=3*oe,ve=0;ve<oe;++ve){var Ce=w[q+0]|w[q+1]<<8|w[q+2]<<16;Ce>K&&(Ce=K),ue(c.Jc[+ve],w,ae,Ce),ae+=Ce,K-=Ce,q+=3}ue(c.Jc[+oe],w,ae,K),w=ae<L?0:5}if(w!=0)return _a(c,w,"cannot parse partitions");for(w=F(ae=c.m,7),q=me(ae)?W(ae,4):0,L=me(ae)?W(ae,4):0,K=me(ae)?W(ae,4):0,oe=me(ae)?W(ae,4):0,ae=me(ae)?W(ae,4):0,ve=c.Qa,Ce=0;4>Ce;++Ce){if(ve.Cb){var Ae=ve.Zb[Ce];ve.Fb||(Ae+=w)}else{if(0<Ce){c.pb[Ce]=c.pb[0];continue}Ae=w}var je=c.pb[Ce];je.Sc[0]=wo[ai(Ae+q,127)],je.Sc[1]=jo[ai(Ae+0,127)],je.Eb[0]=2*wo[ai(Ae+L,127)],je.Eb[1]=101581*jo[ai(Ae+K,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=wo[ai(Ae+oe,117)],je.Qc[1]=jo[ai(Ae+ae,127)],je.lc=Ae+ae}if(!$.Rb)return _a(c,4,"Not a key frame.");for(me(X),$=c.Pa,w=0;4>w;++w){for(q=0;8>q;++q)for(L=0;3>L;++L)for(K=0;11>K;++K)oe=de(X,Pr[w][q][L][K])?F(X,8):Yi[w][q][L][K],$.Wc[w][q].Yb[L][K]=oe;for(q=0;17>q;++q)$.Xc[w][q]=$.Wc[w][ed[q]]}return c.kc=me(X),c.kc&&(c.Bd=F(X,8)),c.cb=1}function $o(c,p,w,L,q,X,$){var K=p[q].Yb[w];for(w=0;16>q;++q){if(!de(c,K[w+0]))return q;for(;!de(c,K[w+1]);)if(K=p[++q].Yb[0],w=0,q==16)return 16;var ae=p[q+1].Yb;if(de(c,K[w+2])){var oe=c,ve=0;if(de(oe,(Ae=K)[(Ce=w)+3]))if(de(oe,Ae[Ce+6])){for(K=0,Ce=2*(ve=de(oe,Ae[Ce+8]))+(Ae=de(oe,Ae[Ce+9+ve])),ve=0,Ae=Ea[Ce];Ae[K];++K)ve+=ve+de(oe,Ae[K]);ve+=3+(8<<Ce)}else de(oe,Ae[Ce+7])?(ve=7+2*de(oe,165),ve+=de(oe,145)):ve=5+de(oe,159);else ve=de(oe,Ae[Ce+4])?3+de(oe,Ae[Ce+5]):2;K=ae[2]}else ve=1,K=ae[1];ae=$+Qt[q],0>(oe=c).b&&pe(oe);var Ce,Ae=oe.b,je=(Ce=oe.Ca>>1)-(oe.I>>Ae)>>31;--oe.b,oe.Ca+=je,oe.Ca|=1,oe.I-=(Ce+1&je)<<Ae,X[ae]=((ve^je)-je)*L[(0<q)+0]}return 16}function zs(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,d(c.zc,0,0,c.zc.length),c.ja=0}function Ko(c,p){if(c==null)return 0;if(p==null)return _a(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!ao(c,p))return 0;if(i(c.cb),p.ac==null||p.ac(p)){p.ob&&(c.L=0);var w=As[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=p.v-w>>4,c.zb=p.j-w>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=p.o+15+w>>4,c.Hb=p.va+15+w>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var L=c.ed;for(w=0;4>w;++w){var q;if(c.Qa.Cb){var X=c.Qa.Lb[w];c.Qa.Fb||(X+=L.Tb)}else X=L.Tb;for(q=0;1>=q;++q){var $=c.gd[w][q],K=X;if(L.Pc&&(K+=L.vd[0],q&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var ae=K;0<L.wb&&(ae=4<L.wb?ae>>2:ae>>1)>9-L.wb&&(ae=9-L.wb),1>ae&&(ae=1),$.dd=ae,$.tc=2*K+ae,$.ld=40<=K?2:15<=K?1:0}else $.tc=0;$.La=q}}}w=0}else _a(c,6,"Frame setup failed"),w=c.a;if(w=w==0){if(w){c.$c=0,0<c.Aa||(c.Ic=nd);e:{w=c.Ic,L=4*(ae=c.za);var oe=32*ae,ve=ae+1,Ce=0<c.L?ae*(0<c.Aa?2:1):0,Ae=(c.Aa==2?2:1)*ae;if(($=L+832+(q=3*(16*w+As[c.L])/2*oe)+(X=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=$)w=0;else{if($>c.Vb){if(c.Vb=0,c.Ec=u($),c.Fc=0,c.Ec==null){w=_a(c,1,"no memory during frame initialization.");break e}c.Vb=$}$=c.Ec,K=c.Fc,c.Ac=$,c.Bc=K,K+=L,c.Gd=m(oe,rs),c.Hd=0,c.rb=m(ve+1,xr),c.sb=1,c.wa=Ce?m(Ce,ss):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=ae),i(!0),c.oc=$,c.pc=K,K+=832,c.ya=m(Ae,yr),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=ae),c.R=16*ae,c.B=8*ae,ae=(oe=As[c.L])*c.R,oe=oe/2*c.B,c.sa=$,c.ta=K+ae,c.qa=c.sa,c.ra=c.ta+16*w*c.R+oe,c.Ha=c.qa,c.Ia=c.ra+8*w*c.B+oe,c.$c=0,K+=q,c.mb=X?$:null,c.nb=X?K:null,i(K+X<=c.Fc+c.Vb),zs(c),d(c.Ac,c.Bc,0,L),w=1}}if(w){if(p.ka=0,p.y=c.sa,p.O=c.ta,p.f=c.qa,p.N=c.ra,p.ea=c.Ha,p.Vd=c.Ia,p.fa=c.R,p.Rc=c.B,p.F=null,p.J=0,!_r){for(w=-255;255>=w;++w)lc[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)vo[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)bo[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)oc[255+w]=0>w?0:255<w?255:w;_r=1}Cn=qs,Ks=io,Un=ls,wn=Zo,Li=so,gl=no,Zs=jr,fi=Nr,Js=$c,gs=uo,vl=Qc,hi=ll,vs=ol,fa=ic,ra=Vs,ka=ui,Ba=fs,Xa=Xc,Ln[0]=Fn,Ln[1]=Jo,Ln[2]=oo,Ln[3]=tc,Ln[4]=oi,Ln[5]=Fi,Ln[6]=nl,Ln[7]=ci,Ln[8]=il,Ln[9]=co,Ns[0]=al,Ns[1]=lo,Ns[2]=os,Ns[3]=tl,Ns[4]=nn,Ns[5]=Us,Ns[6]=us,si[0]=ds,si[1]=ec,si[2]=ac,si[3]=Hs,si[4]=ti,si[5]=xn,si[6]=Gs,w=1}else w=0}w&&(w=function(je,qe){for(je.M=0;je.M<je.Va;++je.M){var Me,be=je.Jc[je.M&je.Xb],we=je.m,Be=je;for(Me=0;Me<Be.za;++Me){var Ue=we,Fe=Be,at=Fe.Ac,Xe=Fe.Bc+4*Me,dt=Fe.zc,$e=Fe.ya[Fe.aa+Me];if(Fe.Qa.Bb?$e.$b=de(Ue,Fe.Pa.jb[0])?2+de(Ue,Fe.Pa.jb[2]):de(Ue,Fe.Pa.jb[1]):$e.$b=0,Fe.kc&&($e.Ad=de(Ue,Fe.Bd)),$e.Za=!de(Ue,145)+0,$e.Za){var Vt=$e.Ob,Kt=0;for(Fe=0;4>Fe;++Fe){var Pt,Mt=dt[0+Fe];for(Pt=0;4>Pt;++Pt){Mt=Jc[at[Xe+Pt]][Mt];for(var aa=tr[de(Ue,Mt[0])];0<aa;)aa=tr[2*aa+de(Ue,Mt[aa])];Mt=-aa,at[Xe+Pt]=Mt}o(Vt,Kt,at,Xe,4),Kt+=4,dt[0+Fe]=Mt}}else Mt=de(Ue,156)?de(Ue,128)?1:3:de(Ue,163)?2:0,$e.Ob[0]=Mt,d(at,Xe,Mt,4),d(dt,0,Mt,4);$e.Dd=de(Ue,142)?de(Ue,114)?de(Ue,183)?1:3:2:0}if(Be.m.Ka)return _a(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(Be=be,Ue=(we=je).rb[we.sb-1],at=we.rb[we.sb+we.ja],Me=we.ya[we.aa+we.ja],Xe=we.kc?Me.Ad:0)Ue.la=at.la=0,Me.Za||(Ue.Na=at.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Zt,At;if(Ue=at,at=Be,Xe=we.Pa.Xc,dt=we.ya[we.aa+we.ja],$e=we.pb[dt.$b],Fe=dt.ad,Vt=0,Kt=we.rb[we.sb-1],Mt=Pt=0,d(Fe,Vt,0,384),dt.Za)var la=0,pt=Xe[3];else{aa=u(16);var bt=Ue.Na+Kt.Na;if(bt=Qa(at,Xe[1],bt,$e.Eb,0,aa,0),Ue.Na=Kt.Na=(0<bt)+0,1<bt)Cn(aa,0,Fe,Vt);else{var Gt=aa[0]+3>>3;for(aa=0;256>aa;aa+=16)Fe[Vt+aa]=Gt}la=1,pt=Xe[0]}var Yt=15&Ue.la,on=15&Kt.la;for(aa=0;4>aa;++aa){var Za=1&on;for(Gt=At=0;4>Gt;++Gt)Yt=Yt>>1|(Za=(bt=Qa(at,pt,bt=Za+(1&Yt),$e.Sc,la,Fe,Vt))>la)<<7,At=At<<2|(3<bt?3:1<bt?2:Fe[Vt+0]!=0),Vt+=16;Yt>>=4,on=on>>1|Za<<7,Pt=(Pt<<8|At)>>>0}for(pt=Yt,la=on>>4,Zt=0;4>Zt;Zt+=2){for(At=0,Yt=Ue.la>>4+Zt,on=Kt.la>>4+Zt,aa=0;2>aa;++aa){for(Za=1&on,Gt=0;2>Gt;++Gt)bt=Za+(1&Yt),Yt=Yt>>1|(Za=0<(bt=Qa(at,Xe[2],bt,$e.Qc,0,Fe,Vt)))<<3,At=At<<2|(3<bt?3:1<bt?2:Fe[Vt+0]!=0),Vt+=16;Yt>>=2,on=on>>1|Za<<5}Mt|=At<<4*Zt,pt|=Yt<<4<<Zt,la|=(240&on)<<Zt}Ue.la=pt,Kt.la=la,dt.Hc=Pt,dt.Gc=Mt,dt.ia=43690&Mt?0:$e.ia,Xe=!(Pt|Mt)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Me.$b][Me.Za],we.wa[we.Y+we.ja].La|=!Xe),Be.Ka)return _a(je,7,"Premature end-of-file encountered.")}if(zs(je),we=qe,Be=1,Me=(be=je).D,Ue=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Me.M=be.M,Me.uc=Ue,ps(be,Me),Be=1,Me=(At=be.D).Nb,Ue=(Mt=As[be.L])*be.R,at=Mt/2*be.B,aa=16*Me*be.R,Gt=8*Me*be.B,Xe=be.sa,dt=be.ta-Ue+aa,$e=be.qa,Fe=be.ra-at+Gt,Vt=be.Ha,Kt=be.Ia-at+Gt,on=(Yt=At.M)==0,Pt=Yt>=be.Va-1,be.Aa==2&&ps(be,At),At.uc)for(Za=(bt=be).D.M,i(bt.D.uc),At=bt.yb;At<bt.Hb;++At){la=At,pt=Za;var Ia=(Fa=(ya=bt).D).Nb;Zt=ya.R;var Fa=Fa.wa[Fa.Y+la],Ua=ya.sa,gi=ya.ta+16*Ia*Zt+16*la,Jt=Fa.dd,Ha=Fa.tc;if(Ha!=0)if(i(3<=Ha),ya.L==1)0<la&&ka(Ua,gi,Zt,Ha+4),Fa.La&&Xa(Ua,gi,Zt,Ha),0<pt&&ra(Ua,gi,Zt,Ha+4),Fa.La&&Ba(Ua,gi,Zt,Ha);else{var _i=ya.B,ir=ya.qa,Br=ya.ra+8*Ia*_i+8*la,sr=ya.Ha,ya=ya.Ia+8*Ia*_i+8*la;Ia=Fa.ld,0<la&&(fi(Ua,gi,Zt,Ha+4,Jt,Ia),gs(ir,Br,sr,ya,_i,Ha+4,Jt,Ia)),Fa.La&&(hi(Ua,gi,Zt,Ha,Jt,Ia),fa(ir,Br,sr,ya,_i,Ha,Jt,Ia)),0<pt&&(Zs(Ua,gi,Zt,Ha+4,Jt,Ia),Js(ir,Br,sr,ya,_i,Ha+4,Jt,Ia)),Fa.La&&(vl(Ua,gi,Zt,Ha,Jt,Ia),vs(ir,Br,sr,ya,_i,Ha,Jt,Ia))}}if(be.ia&&alert("todo:DitherRow"),we.put!=null){if(At=16*Yt,Yt=16*(Yt+1),on?(we.y=be.sa,we.O=be.ta+aa,we.f=be.qa,we.N=be.ra+Gt,we.ea=be.Ha,we.W=be.Ia+Gt):(At-=Mt,we.y=Xe,we.O=dt,we.f=$e,we.N=Fe,we.ea=Vt,we.W=Kt),Pt||(Yt-=Mt),Yt>we.o&&(Yt=we.o),we.F=null,we.J=null,be.Fa!=null&&0<be.Fa.length&&At<Yt&&(we.J=po(be,we,At,Yt-At),we.F=be.mb,we.F==null&&we.F.length==0)){Be=_a(be,3,"Could not decode alpha data.");break e}At<we.j&&(Mt=we.j-At,At=we.j,i(!(1&Mt)),we.O+=be.R*Mt,we.N+=be.B*(Mt>>1),we.W+=be.B*(Mt>>1),we.F!=null&&(we.J+=we.width*Mt)),At<Yt&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=At-we.j,we.U=we.va-we.v,we.T=Yt-At,Be=we.put(we))}Me+1!=be.Ic||Pt||(o(be.sa,be.ta-Ue,Xe,dt+16*be.R,Ue),o(be.qa,be.ra-at,$e,Fe+8*be.B,at),o(be.Ha,be.Ia-at,Vt,Kt+8*be.B,at))}if(!Be)return _a(je,6,"Output aborted.")}return 1}(c,p)),p.bc!=null&&p.bc(p),w&=1}return w?(c.cb=0,w):0}function In(c,p,w,L,q){q=c[p+w+32*L]+(q>>3),c[p+w+32*L]=-256&q?0>q?0:255:q}function el(c,p,w,L,q,X){In(c,p,0,w,L+q),In(c,p,1,w,L+X),In(c,p,2,w,L-X),In(c,p,3,w,L-q)}function ga(c){return(20091*c>>16)+c}function wr(c,p,w,L){var q,X=0,$=u(16);for(q=0;4>q;++q){var K=c[p+0]+c[p+8],ae=c[p+0]-c[p+8],oe=(35468*c[p+4]>>16)-ga(c[p+12]),ve=ga(c[p+4])+(35468*c[p+12]>>16);$[X+0]=K+ve,$[X+1]=ae+oe,$[X+2]=ae-oe,$[X+3]=K-ve,X+=4,p++}for(q=X=0;4>q;++q)K=(c=$[X+0]+4)+$[X+8],ae=c-$[X+8],oe=(35468*$[X+4]>>16)-ga($[X+12]),In(w,L,0,0,K+(ve=ga($[X+4])+(35468*$[X+12]>>16))),In(w,L,1,0,ae+oe),In(w,L,2,0,ae-oe),In(w,L,3,0,K-ve),X++,L+=32}function no(c,p,w,L){var q=c[p+0]+4,X=35468*c[p+4]>>16,$=ga(c[p+4]),K=35468*c[p+1]>>16;el(w,L,0,q+$,c=ga(c[p+1]),K),el(w,L,1,q+X,c,K),el(w,L,2,q-X,c,K),el(w,L,3,q-$,c,K)}function io(c,p,w,L,q){wr(c,p,w,L),q&&wr(c,p+16,w,L+4)}function ls(c,p,w,L){Ks(c,p+0,w,L,1),Ks(c,p+32,w,L+128,1)}function Zo(c,p,w,L){var q;for(c=c[p+0]+4,q=0;4>q;++q)for(p=0;4>p;++p)In(w,L,p,q,c)}function so(c,p,w,L){c[p+0]&&wn(c,p+0,w,L),c[p+16]&&wn(c,p+16,w,L+4),c[p+32]&&wn(c,p+32,w,L+128),c[p+48]&&wn(c,p+48,w,L+128+4)}function qs(c,p,w,L){var q,X=u(16);for(q=0;4>q;++q){var $=c[p+0+q]+c[p+12+q],K=c[p+4+q]+c[p+8+q],ae=c[p+4+q]-c[p+8+q],oe=c[p+0+q]-c[p+12+q];X[0+q]=$+K,X[8+q]=$-K,X[4+q]=oe+ae,X[12+q]=oe-ae}for(q=0;4>q;++q)$=(c=X[0+4*q]+3)+X[3+4*q],K=X[1+4*q]+X[2+4*q],ae=X[1+4*q]-X[2+4*q],oe=c-X[3+4*q],w[L+0]=$+K>>3,w[L+16]=oe+ae>>3,w[L+32]=$-K>>3,w[L+48]=oe-ae>>3,L+=64}function ro(c,p,w){var L,q=p-32,X=rn,$=255-c[q-1];for(L=0;L<w;++L){var K,ae=X,oe=$+c[p-1];for(K=0;K<w;++K)c[p+K]=ae[oe+c[q+K]];p+=32}}function Jo(c,p){ro(c,p,4)}function ec(c,p){ro(c,p,8)}function lo(c,p){ro(c,p,16)}function os(c,p){var w;for(w=0;16>w;++w)o(c,p+32*w,c,p-32,16)}function tl(c,p){var w;for(w=16;0<w;--w)d(c,p,c[p-1],16),p+=32}function cs(c,p,w){var L;for(L=0;16>L;++L)d(p,w+32*L,c,16)}function al(c,p){var w,L=16;for(w=0;16>w;++w)L+=c[p-1+32*w]+c[p+w-32];cs(L>>5,c,p)}function nn(c,p){var w,L=8;for(w=0;16>w;++w)L+=c[p-1+32*w];cs(L>>4,c,p)}function Us(c,p){var w,L=8;for(w=0;16>w;++w)L+=c[p+w-32];cs(L>>4,c,p)}function us(c,p){cs(128,c,p)}function yt(c,p,w){return c+2*p+w+2>>2}function oo(c,p){var w,L=p-32;for(L=new Uint8Array([yt(c[L-1],c[L+0],c[L+1]),yt(c[L+0],c[L+1],c[L+2]),yt(c[L+1],c[L+2],c[L+3]),yt(c[L+2],c[L+3],c[L+4])]),w=0;4>w;++w)o(c,p+32*w,L,0,L.length)}function tc(c,p){var w=c[p-1],L=c[p-1+32],q=c[p-1+64],X=c[p-1+96];ke(c,p+0,16843009*yt(c[p-1-32],w,L)),ke(c,p+32,16843009*yt(w,L,q)),ke(c,p+64,16843009*yt(L,q,X)),ke(c,p+96,16843009*yt(q,X,X))}function Fn(c,p){var w,L=4;for(w=0;4>w;++w)L+=c[p+w-32]+c[p-1+32*w];for(L>>=3,w=0;4>w;++w)d(c,p+32*w,L,4)}function oi(c,p){var w=c[p-1+0],L=c[p-1+32],q=c[p-1+64],X=c[p-1-32],$=c[p+0-32],K=c[p+1-32],ae=c[p+2-32],oe=c[p+3-32];c[p+0+96]=yt(L,q,c[p-1+96]),c[p+1+96]=c[p+0+64]=yt(w,L,q),c[p+2+96]=c[p+1+64]=c[p+0+32]=yt(X,w,L),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=yt($,X,w),c[p+3+64]=c[p+2+32]=c[p+1+0]=yt(K,$,X),c[p+3+32]=c[p+2+0]=yt(ae,K,$),c[p+3+0]=yt(oe,ae,K)}function nl(c,p){var w=c[p+1-32],L=c[p+2-32],q=c[p+3-32],X=c[p+4-32],$=c[p+5-32],K=c[p+6-32],ae=c[p+7-32];c[p+0+0]=yt(c[p+0-32],w,L),c[p+1+0]=c[p+0+32]=yt(w,L,q),c[p+2+0]=c[p+1+32]=c[p+0+64]=yt(L,q,X),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=yt(q,X,$),c[p+3+32]=c[p+2+64]=c[p+1+96]=yt(X,$,K),c[p+3+64]=c[p+2+96]=yt($,K,ae),c[p+3+96]=yt(K,ae,ae)}function Fi(c,p){var w=c[p-1+0],L=c[p-1+32],q=c[p-1+64],X=c[p-1-32],$=c[p+0-32],K=c[p+1-32],ae=c[p+2-32],oe=c[p+3-32];c[p+0+0]=c[p+1+64]=X+$+1>>1,c[p+1+0]=c[p+2+64]=$+K+1>>1,c[p+2+0]=c[p+3+64]=K+ae+1>>1,c[p+3+0]=ae+oe+1>>1,c[p+0+96]=yt(q,L,w),c[p+0+64]=yt(L,w,X),c[p+0+32]=c[p+1+96]=yt(w,X,$),c[p+1+32]=c[p+2+96]=yt(X,$,K),c[p+2+32]=c[p+3+96]=yt($,K,ae),c[p+3+32]=yt(K,ae,oe)}function ci(c,p){var w=c[p+0-32],L=c[p+1-32],q=c[p+2-32],X=c[p+3-32],$=c[p+4-32],K=c[p+5-32],ae=c[p+6-32],oe=c[p+7-32];c[p+0+0]=w+L+1>>1,c[p+1+0]=c[p+0+64]=L+q+1>>1,c[p+2+0]=c[p+1+64]=q+X+1>>1,c[p+3+0]=c[p+2+64]=X+$+1>>1,c[p+0+32]=yt(w,L,q),c[p+1+32]=c[p+0+96]=yt(L,q,X),c[p+2+32]=c[p+1+96]=yt(q,X,$),c[p+3+32]=c[p+2+96]=yt(X,$,K),c[p+3+64]=yt($,K,ae),c[p+3+96]=yt(K,ae,oe)}function co(c,p){var w=c[p-1+0],L=c[p-1+32],q=c[p-1+64],X=c[p-1+96];c[p+0+0]=w+L+1>>1,c[p+2+0]=c[p+0+32]=L+q+1>>1,c[p+2+32]=c[p+0+64]=q+X+1>>1,c[p+1+0]=yt(w,L,q),c[p+3+0]=c[p+1+32]=yt(L,q,X),c[p+3+32]=c[p+1+64]=yt(q,X,X),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=X}function il(c,p){var w=c[p-1+0],L=c[p-1+32],q=c[p-1+64],X=c[p-1+96],$=c[p-1-32],K=c[p+0-32],ae=c[p+1-32],oe=c[p+2-32];c[p+0+0]=c[p+2+32]=w+$+1>>1,c[p+0+32]=c[p+2+64]=L+w+1>>1,c[p+0+64]=c[p+2+96]=q+L+1>>1,c[p+0+96]=X+q+1>>1,c[p+3+0]=yt(K,ae,oe),c[p+2+0]=yt($,K,ae),c[p+1+0]=c[p+3+32]=yt(w,$,K),c[p+1+32]=c[p+3+64]=yt(L,w,$),c[p+1+64]=c[p+3+96]=yt(q,L,w),c[p+1+96]=yt(X,q,L)}function ac(c,p){var w;for(w=0;8>w;++w)o(c,p+32*w,c,p-32,8)}function Hs(c,p){var w;for(w=0;8>w;++w)d(c,p,c[p-1],8),p+=32}function zi(c,p,w){var L;for(L=0;8>L;++L)d(p,w+32*L,c,8)}function ds(c,p){var w,L=8;for(w=0;8>w;++w)L+=c[p+w-32]+c[p-1+32*w];zi(L>>4,c,p)}function xn(c,p){var w,L=4;for(w=0;8>w;++w)L+=c[p+w-32];zi(L>>3,c,p)}function ti(c,p){var w,L=4;for(w=0;8>w;++w)L+=c[p-1+32*w];zi(L>>3,c,p)}function Gs(c,p){zi(128,c,p)}function qi(c,p,w){var L=c[p-w],q=c[p+0],X=3*(q-L)+cc[1020+c[p-2*w]-c[p+w]],$=kr[112+(X+4>>3)];c[p-w]=rn[255+L+kr[112+(X+3>>3)]],c[p+0]=rn[255+q-$]}function nc(c,p,w,L){var q=c[p+0],X=c[p+w];return pi[255+c[p-2*w]-c[p-w]]>L||pi[255+X-q]>L}function sl(c,p,w,L){return 4*pi[255+c[p-w]-c[p+0]]+pi[255+c[p-2*w]-c[p+w]]<=L}function rl(c,p,w,L,q){var X=c[p-3*w],$=c[p-2*w],K=c[p-w],ae=c[p+0],oe=c[p+w],ve=c[p+2*w],Ce=c[p+3*w];return 4*pi[255+K-ae]+pi[255+$-oe]>L?0:pi[255+c[p-4*w]-X]<=q&&pi[255+X-$]<=q&&pi[255+$-K]<=q&&pi[255+Ce-ve]<=q&&pi[255+ve-oe]<=q&&pi[255+oe-ae]<=q}function Vs(c,p,w,L){var q=2*L+1;for(L=0;16>L;++L)sl(c,p+L,w,q)&&qi(c,p+L,w)}function ui(c,p,w,L){var q=2*L+1;for(L=0;16>L;++L)sl(c,p+L*w,1,q)&&qi(c,p+L*w,1)}function fs(c,p,w,L){var q;for(q=3;0<q;--q)Vs(c,p+=4*w,w,L)}function Xc(c,p,w,L){var q;for(q=3;0<q;--q)ui(c,p+=4,w,L)}function Ys(c,p,w,L,q,X,$,K){for(X=2*X+1;0<q--;){if(rl(c,p,w,X,$))if(nc(c,p,w,K))qi(c,p,w);else{var ae=c,oe=p,ve=w,Ce=ae[oe-2*ve],Ae=ae[oe-ve],je=ae[oe+0],qe=ae[oe+ve],Me=ae[oe+2*ve],be=27*(Be=cc[1020+3*(je-Ae)+cc[1020+Ce-qe]])+63>>7,we=18*Be+63>>7,Be=9*Be+63>>7;ae[oe-3*ve]=rn[255+ae[oe-3*ve]+Be],ae[oe-2*ve]=rn[255+Ce+we],ae[oe-ve]=rn[255+Ae+be],ae[oe+0]=rn[255+je-be],ae[oe+ve]=rn[255+qe-we],ae[oe+2*ve]=rn[255+Me-Be]}p+=L}}function Ti(c,p,w,L,q,X,$,K){for(X=2*X+1;0<q--;){if(rl(c,p,w,X,$))if(nc(c,p,w,K))qi(c,p,w);else{var ae=c,oe=p,ve=w,Ce=ae[oe-ve],Ae=ae[oe+0],je=ae[oe+ve],qe=kr[112+((Me=3*(Ae-Ce))+4>>3)],Me=kr[112+(Me+3>>3)],be=qe+1>>1;ae[oe-2*ve]=rn[255+ae[oe-2*ve]+be],ae[oe-ve]=rn[255+Ce+Me],ae[oe+0]=rn[255+Ae-qe],ae[oe+ve]=rn[255+je-be]}p+=L}}function jr(c,p,w,L,q,X){Ys(c,p,w,1,16,L,q,X)}function Nr(c,p,w,L,q,X){Ys(c,p,1,w,16,L,q,X)}function Qc(c,p,w,L,q,X){var $;for($=3;0<$;--$)Ti(c,p+=4*w,w,1,16,L,q,X)}function ll(c,p,w,L,q,X){var $;for($=3;0<$;--$)Ti(c,p+=4,1,w,16,L,q,X)}function $c(c,p,w,L,q,X,$,K){Ys(c,p,q,1,8,X,$,K),Ys(w,L,q,1,8,X,$,K)}function uo(c,p,w,L,q,X,$,K){Ys(c,p,1,q,8,X,$,K),Ys(w,L,1,q,8,X,$,K)}function ol(c,p,w,L,q,X,$,K){Ti(c,p+4*q,q,1,8,X,$,K),Ti(w,L+4*q,q,1,8,X,$,K)}function ic(c,p,w,L,q,X,$,K){Ti(c,p+4,1,q,8,X,$,K),Ti(w,L+4,1,q,8,X,$,K)}function cl(){this.ba=new $n,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new La,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function fo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ho(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ul(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new C}function Kc(){this.xb=this.a=0,this.l=new Fs,this.ca=new $n,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ul,this.ab=0,this.gc=m(4,ho),this.Oc=0}function dl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(c,p,w,L,q,X,$){for(c=c==null?0:c[p+0],p=0;p<$;++p)q[X+p]=c+w[L+p]&255,c=q[X+p]}function fl(c,p,w,L,q,X,$){var K;if(c==null)Sr(null,null,w,L,q,X,$);else for(K=0;K<$;++K)q[X+K]=c[p+K]+w[L+K]&255}function Ws(c,p,w,L,q,X,$){if(c==null)Sr(null,null,w,L,q,X,$);else{var K,ae=c[p+0],oe=ae,ve=ae;for(K=0;K<$;++K)oe=ve+(ae=c[p+K])-oe,ve=w[L+K]+(-256&oe?0>oe?0:255:oe)&255,oe=ae,q[X+K]=ve}}function po(c,p,w,L){var q=p.width,X=p.o;if(i(c!=null&&p!=null),0>w||0>=L||w+L>X)return null;if(!c.Cc){if(c.ga==null){var $;if(c.ga=new dl,($=c.ga==null)||($=p.width*p.o,i(c.Gb.length==0),c.Gb=u($),c.Uc=0,c.Gb==null?$=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,$=1),$=!$),!$){$=c.ga;var K=c.Fa,ae=c.P,oe=c.qc,ve=c.mb,Ce=c.nb,Ae=ae+1,je=oe-1,qe=$.l;if(i(K!=null&&ve!=null&&p!=null),Wi[0]=null,Wi[1]=Sr,Wi[2]=fl,Wi[3]=Ws,$.ca=ve,$.tb=Ce,$.c=p.width,$.i=p.height,i(0<$.c&&0<$.i),1>=oe)p=0;else if($.$a=K[ae+0]>>0&3,$.Z=K[ae+0]>>2&3,$.Lc=K[ae+0]>>4&3,ae=K[ae+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||ae)p=0;else if(qe.put=Ni,qe.ac=Ya,qe.bc=Ii,qe.ma=$,qe.width=p.width,qe.height=p.height,qe.Da=p.Da,qe.v=p.v,qe.va=p.va,qe.j=p.j,qe.o=p.o,$.$a)e:{i($.$a==1),p=cn();t:for(;;){if(p==null){p=0;break e}if(i($!=null),$.mc=p,p.c=$.c,p.i=$.i,p.l=$.l,p.l.ma=$,p.l.width=$.c,p.l.height=$.i,p.a=0,ee(p.m,K,Ae,je),!sa($.c,$.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Jn(p.s)?($.ic=1,K=p.c*p.i,p.Ta=null,p.Ua=0,p.V=u(K),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):($.ic=0,p=Is(p,$.c)),!p))break t;p=1;break e}$.mc=null,p=0}else p=je>=$.c*$.i;$=!p}if($)return null;c.ga.Lc!=1?c.Ga=0:L=X-w}i(c.ga!=null),i(w+L<=X);e:{if(p=(K=c.ga).c,X=K.l.o,K.$a==0){if(Ae=c.rc,je=c.Vc,qe=c.Fa,ae=c.P+1+w*p,oe=c.mb,ve=c.nb+w*p,i(ae<=c.P+c.qc),K.Z!=0)for(i(Wi[K.Z]!=null),$=0;$<L;++$)Wi[K.Z](Ae,je,qe,ae,oe,ve,p),Ae=oe,je=ve,ve+=p,ae+=p;else for($=0;$<L;++$)o(oe,ve,qe,ae,p),Ae=oe,je=ve,ve+=p,ae+=p;c.rc=Ae,c.Vc=je}else{if(i(K.mc!=null),p=w+L,i(($=K.mc)!=null),i(p<=$.i),$.C>=p)p=1;else if(K.ic||Se(),K.ic){K=$.V,Ae=$.Ba,je=$.c;var Me=$.i,be=(qe=1,ae=$.$/je,oe=$.$%je,ve=$.m,Ce=$.s,$.$),we=je*Me,Be=je*p,Ue=Ce.wc,Fe=be<Be?qa(Ce,oe,ae):null;i(be<=we),i(p<=Me),i(Jn(Ce));t:for(;;){for(;!ve.h&&be<Be;){if(oe&Ue||(Fe=qa(Ce,oe,ae)),i(Fe!=null),te(ve),256>(Me=Wa(Fe.G[0],Fe.H[0],ve)))K[Ae+be]=Me,++be,++oe>=je&&(oe=0,++ae<=p&&!(ae%16)&&vn($,ae));else{if(!(280>Me)){qe=0;break t}Me=da(Me-256,ve);var at,Xe=Wa(Fe.G[4],Fe.H[4],ve);if(te(ve),!(be>=(Xe=Aa(je,Xe=da(Xe,ve)))&&we-be>=Me)){qe=0;break t}for(at=0;at<Me;++at)K[Ae+be+at]=K[Ae+be+at-Xe];for(be+=Me,oe+=Me;oe>=je;)oe-=je,++ae<=p&&!(ae%16)&&vn($,ae);be<Be&&oe&Ue&&(Fe=qa(Ce,oe,ae))}i(ve.h==J(ve))}vn($,ae>p?p:ae);break t}!qe||ve.h&&be<we?(qe=0,$.a=ve.h?5:3):$.$=be,p=qe}else p=bn($,$.V,$.Ba,$.c,$.i,p,br);if(!p){L=0;break e}}w+L>=X&&(c.Cc=1),L=1}if(!L)return null;if(c.Cc&&((L=c.ga)!=null&&(L.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+w*q}function y(c,p,w,L,q,X){for(;0<q--;){var $,K=c,ae=p+(w?1:0),oe=c,ve=p+(w?0:3);for($=0;$<L;++$){var Ce=oe[ve+4*$];Ce!=255&&(Ce*=32897,K[ae+4*$+0]=K[ae+4*$+0]*Ce>>23,K[ae+4*$+1]=K[ae+4*$+1]*Ce>>23,K[ae+4*$+2]=K[ae+4*$+2]*Ce>>23)}p+=X}}function U(c,p,w,L,q){for(;0<L--;){var X;for(X=0;X<w;++X){var $=c[p+2*X+0],K=15&(oe=c[p+2*X+1]),ae=4369*K,oe=(240&oe|oe>>4)*ae>>16;c[p+2*X+0]=(240&$|$>>4)*ae>>16&240|(15&$|$<<4)*ae>>16>>4&15,c[p+2*X+1]=240&oe|K}p+=q}}function ce(c,p,w,L,q,X,$,K){var ae,oe,ve=255;for(oe=0;oe<q;++oe){for(ae=0;ae<L;++ae){var Ce=c[p+ae];X[$+4*ae]=Ce,ve&=Ce}p+=w,$+=K}return ve!=255}function ge(c,p,w,L,q){var X;for(X=0;X<q;++X)w[L+X]=c[p+X]>>8}function Se(){bs=y,dn=U,Dn=ce,Lr=ge}function Re(c,p,w){B[c]=function(L,q,X,$,K,ae,oe,ve,Ce,Ae,je,qe,Me,be,we,Be,Ue){var Fe,at=Ue-1>>1,Xe=K[ae+0]|oe[ve+0]<<16,dt=Ce[Ae+0]|je[qe+0]<<16;i(L!=null);var $e=3*Xe+dt+131074>>2;for(p(L[q+0],255&$e,$e>>16,Me,be),X!=null&&($e=3*dt+Xe+131074>>2,p(X[$+0],255&$e,$e>>16,we,Be)),Fe=1;Fe<=at;++Fe){var Vt=K[ae+Fe]|oe[ve+Fe]<<16,Kt=Ce[Ae+Fe]|je[qe+Fe]<<16,Pt=Xe+Vt+dt+Kt+524296,Mt=Pt+2*(Vt+dt)>>3;$e=Mt+Xe>>1,Xe=(Pt=Pt+2*(Xe+Kt)>>3)+Vt>>1,p(L[q+2*Fe-1],255&$e,$e>>16,Me,be+(2*Fe-1)*w),p(L[q+2*Fe-0],255&Xe,Xe>>16,Me,be+(2*Fe-0)*w),X!=null&&($e=Pt+dt>>1,Xe=Mt+Kt>>1,p(X[$+2*Fe-1],255&$e,$e>>16,we,Be+(2*Fe-1)*w),p(X[$+2*Fe+0],255&Xe,Xe>>16,we,Be+(2*Fe+0)*w)),Xe=Vt,dt=Kt}1&Ue||($e=3*Xe+dt+131074>>2,p(L[q+Ue-1],255&$e,$e>>16,Me,be+(Ue-1)*w),X!=null&&($e=3*dt+Xe+131074>>2,p(X[$+Ue-1],255&$e,$e>>16,we,Be+(Ue-1)*w)))}}function Ve(){ln[jn]=Ss,ln[bl]=Xi,ln[Vi]=ar,ln[xo]=fc,ln[Er]=hc,ln[xs]=wl,ln[uc]=pc,ln[yo]=Xi,ln[er]=fc,ln[ys]=hc,ln[xl]=wl}function et(c){return c&-16384?0>c?0:255:c>>bf}function ot(c,p){return et((19077*c>>8)+(26149*p>>8)-14234)}function Tt(c,p,w){return et((19077*c>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function kt(c,p){return et((19077*c>>8)+(33050*p>>8)-17685)}function zt(c,p,w,L,q){L[q+0]=ot(c,w),L[q+1]=Tt(c,p,w),L[q+2]=kt(c,p)}function xa(c,p,w,L,q){L[q+0]=kt(c,p),L[q+1]=Tt(c,p,w),L[q+2]=ot(c,w)}function Ta(c,p,w,L,q){var X=Tt(c,p,w);p=X<<3&224|kt(c,p)>>3,L[q+0]=248&ot(c,w)|X>>5,L[q+1]=p}function Pa(c,p,w,L,q){var X=240&kt(c,p)|15;L[q+0]=240&ot(c,w)|Tt(c,p,w)>>4,L[q+1]=X}function Ra(c,p,w,L,q){L[q+0]=255,zt(c,p,w,L,q+1)}function sn(c,p,w,L,q){xa(c,p,w,L,q),L[q+3]=255}function Ci(c,p,w,L,q){zt(c,p,w,L,q),L[q+3]=255}function ai(c,p){return 0>c?0:c>p?p:c}function Ui(c,p,w){B[c]=function(L,q,X,$,K,ae,oe,ve,Ce){for(var Ae=ve+(-2&Ce)*w;ve!=Ae;)p(L[q+0],X[$+0],K[ae+0],oe,ve),p(L[q+1],X[$+0],K[ae+0],oe,ve+w),q+=2,++$,++ae,ve+=2*w;1&Ce&&p(L[q+0],X[$+0],K[ae+0],oe,ve)}}function mo(c,p,w){return w==0?c==0?p==0?6:5:p==0?4:0:w}function hs(c,p,w,L,q){switch(c>>>30){case 3:Ks(p,w,L,q,0);break;case 2:gl(p,w,L,q);break;case 1:wn(p,w,L,q)}}function ps(c,p){var w,L,q=p.M,X=p.Nb,$=c.oc,K=c.pc+40,ae=c.oc,oe=c.pc+584,ve=c.oc,Ce=c.pc+600;for(w=0;16>w;++w)$[K+32*w-1]=129;for(w=0;8>w;++w)ae[oe+32*w-1]=129,ve[Ce+32*w-1]=129;for(0<q?$[K-1-32]=ae[oe-1-32]=ve[Ce-1-32]=129:(d($,K-32-1,127,21),d(ae,oe-32-1,127,9),d(ve,Ce-32-1,127,9)),L=0;L<c.za;++L){var Ae=p.ya[p.aa+L];if(0<L){for(w=-1;16>w;++w)o($,K+32*w-4,$,K+32*w+12,4);for(w=-1;8>w;++w)o(ae,oe+32*w-4,ae,oe+32*w+4,4),o(ve,Ce+32*w-4,ve,Ce+32*w+4,4)}var je=c.Gd,qe=c.Hd+L,Me=Ae.ad,be=Ae.Hc;if(0<q&&(o($,K-32,je[qe].y,0,16),o(ae,oe-32,je[qe].f,0,8),o(ve,Ce-32,je[qe].ea,0,8)),Ae.Za){var we=$,Be=K-32+16;for(0<q&&(L>=c.za-1?d(we,Be,je[qe].y[15],4):o(we,Be,je[qe+1].y,0,4)),w=0;4>w;w++)we[Be+128+w]=we[Be+256+w]=we[Be+384+w]=we[Be+0+w];for(w=0;16>w;++w,be<<=2)we=$,Be=K+Rr[w],Ln[Ae.Ob[w]](we,Be),hs(be,Me,16*+w,we,Be)}else if(we=mo(L,q,Ae.Ob[0]),Ns[we]($,K),be!=0)for(w=0;16>w;++w,be<<=2)hs(be,Me,16*+w,$,K+Rr[w]);for(w=Ae.Gc,we=mo(L,q,Ae.Dd),si[we](ae,oe),si[we](ve,Ce),be=Me,we=ae,Be=oe,255&(Ae=w>>0)&&(170&Ae?Un(be,256,we,Be):Li(be,256,we,Be)),Ae=ve,be=Ce,255&(w>>=8)&&(170&w?Un(Me,320,Ae,be):Li(Me,320,Ae,be)),q<c.Ub-1&&(o(je[qe].y,0,$,K+480,16),o(je[qe].f,0,ae,oe+224,8),o(je[qe].ea,0,ve,Ce+224,8)),w=8*X*c.B,je=c.sa,qe=c.ta+16*L+16*X*c.R,Me=c.qa,Ae=c.ra+8*L+w,be=c.Ha,we=c.Ia+8*L+w,w=0;16>w;++w)o(je,qe+w*c.R,$,K+32*w,16);for(w=0;8>w;++w)o(Me,Ae+w*c.B,ae,oe+32*w,8),o(be,we+w*c.B,ve,Ce+32*w,8)}}function hl(c,p,w,L,q,X,$,K,ae){var oe=[0],ve=[0],Ce=0,Ae=ae!=null?ae.kd:0,je=ae??new fo;if(c==null||12>w)return 7;je.data=c,je.w=p,je.ha=w,p=[p],w=[w],je.gb=[je.gb];e:{var qe=p,Me=w,be=je.gb;if(i(c!=null),i(Me!=null),i(be!=null),be[0]=0,12<=Me[0]&&!r(c,qe[0],"RIFF")){if(r(c,qe[0]+8,"WEBP")){be=3;break e}var we=We(c,qe[0]+4);if(12>we||4294967286<we){be=3;break e}if(Ae&&we>Me[0]-8){be=7;break e}be[0]=we,qe[0]+=12,Me[0]-=12}be=0}if(be!=0)return be;for(we=0<je.gb[0],w=w[0];;){e:{var Be=c;Me=p,be=w;var Ue=oe,Fe=ve,at=qe=[0];if(($e=Ce=[Ce])[0]=0,8>be[0])be=7;else{if(!r(Be,Me[0],"VP8X")){if(We(Be,Me[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Xe=We(Be,Me[0]+8),dt=1+Ge(Be,Me[0]+12);if(2147483648<=dt*(Be=1+Ge(Be,Me[0]+15))){be=3;break e}at!=null&&(at[0]=Xe),Ue!=null&&(Ue[0]=dt),Fe!=null&&(Fe[0]=Be),Me[0]+=18,be[0]-=18,$e[0]=1}be=0}}if(Ce=Ce[0],qe=qe[0],be!=0)return be;if(Me=!!(2&qe),!we&&Ce)return 3;if(X!=null&&(X[0]=!!(16&qe)),$!=null&&($[0]=Me),K!=null&&(K[0]=0),$=oe[0],qe=ve[0],Ce&&Me&&ae==null){be=0;break}if(4>w){be=7;break}if(we&&Ce||!we&&!Ce&&!r(c,p[0],"ALPH")){w=[w],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Xe=c,be=p,we=w;var $e=je.gb;Ue=je.na,Fe=je.P,at=je.Sa,dt=22,i(Xe!=null),i(we!=null),Be=be[0];var Vt=we[0];for(i(Ue!=null),i(at!=null),Ue[0]=null,Fe[0]=null,at[0]=0;;){if(be[0]=Be,we[0]=Vt,8>Vt){be=7;break e}var Kt=We(Xe,Be+4);if(4294967286<Kt){be=3;break e}var Pt=8+Kt+1&-2;if(dt+=Pt,0<$e&&dt>$e){be=3;break e}if(!r(Xe,Be,"VP8 ")||!r(Xe,Be,"VP8L")){be=0;break e}if(Vt[0]<Pt){be=7;break e}r(Xe,Be,"ALPH")||(Ue[0]=Xe,Fe[0]=Be+8,at[0]=Kt),Be+=Pt,Vt-=Pt}}if(w=w[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],be!=0)break}w=[w],je.Ja=[je.Ja],je.xa=[je.xa];e:if($e=c,be=p,we=w,Ue=je.gb[0],Fe=je.Ja,at=je.xa,Xe=be[0],Be=!r($e,Xe,"VP8 "),dt=!r($e,Xe,"VP8L"),i($e!=null),i(we!=null),i(Fe!=null),i(at!=null),8>we[0])be=7;else{if(Be||dt){if($e=We($e,Xe+4),12<=Ue&&$e>Ue-12){be=3;break e}if(Ae&&$e>we[0]-8){be=7;break e}Fe[0]=$e,be[0]+=8,we[0]-=8,at[0]=dt}else at[0]=5<=we[0]&&$e[Xe+0]==47&&!($e[Xe+4]>>5),Fe[0]=we[0];be=0}if(w=w[0],je.Ja=je.Ja[0],je.xa=je.xa[0],p=p[0],be!=0)break;if(4294967286<je.Ja)return 3;if(K==null||Me||(K[0]=je.xa?2:1),$=[$],qe=[qe],je.xa){if(5>w){be=7;break}K=$,Ae=qe,Me=X,c==null||5>w?c=0:5<=w&&c[p+0]==47&&!(c[p+4]>>5)?(we=[0],$e=[0],Ue=[0],ee(Fe=new D,c,p,w),ct(Fe,we,$e,Ue)?(K!=null&&(K[0]=we[0]),Ae!=null&&(Ae[0]=$e[0]),Me!=null&&(Me[0]=Ue[0]),c=1):c=0):c=0}else{if(10>w){be=7;break}K=qe,c==null||10>w||!Tn(c,p+3,w-3)?c=0:(Ae=c[p+0]|c[p+1]<<8|c[p+2]<<16,Me=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=je.Ja||!Me||!c?c=0:($&&($[0]=Me),K&&(K[0]=c),c=1))}if(!c||($=$[0],qe=qe[0],Ce&&(oe[0]!=$||ve[0]!=qe)))return 3;ae!=null&&(ae[0]=je,ae.offset=p-ae.w,i(4294967286>p-ae.w),i(ae.offset==ae.ha-w));break}return be==0||be==7&&Ce&&ae==null?(X!=null&&(X[0]|=je.na!=null&&0<je.na.length),L!=null&&(L[0]=$),q!=null&&(q[0]=qe),0):be}function Xs(c,p,w){var L=p.width,q=p.height,X=0,$=0,K=L,ae=q;if(p.Da=c!=null&&0<c.Da,p.Da&&(K=c.cd,ae=c.bd,X=c.v,$=c.j,11>w||(X&=-2,$&=-2),0>X||0>$||0>=K||0>=ae||X+K>L||$+ae>q))return 0;if(p.v=X,p.j=$,p.va=X+K,p.o=$+ae,p.U=K,p.T=ae,p.da=c!=null&&0<c.da,p.da){if(!ht(K,ae,w=[c.ib],X=[c.hb]))return 0;p.ib=w[0],p.hb=X[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*L/4&&p.hb<3*q/4,p.Kb=0),1}function pl(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Ar(c,p,w,L){if(L==null||0>=c||0>=p)return 2;if(w!=null){if(w.Da){var q=w.cd,X=w.bd,$=-2&w.v,K=-2&w.j;if(0>$||0>K||0>=q||0>=X||$+q>c||K+X>p)return 2;c=q,p=X}if(w.da){if(!ht(c,p,q=[w.ib],X=[w.hb]))return 2;c=q[0],p=X[0]}}L.width=c,L.height=p;e:{var ae=L.width,oe=L.height;if(c=L.S,0>=ae||0>=oe||!(c>=jn&&13>c))c=2;else{if(0>=L.Rd&&L.sd==null){$=X=q=p=0;var ve=(K=ae*id[c])*oe;if(11>c||(X=(oe+1)/2*(p=(ae+1)/2),c==12&&($=(q=ae)*oe)),(oe=u(ve+2*X+$))==null){c=1;break e}L.sd=oe,11>c?((ae=L.f.RGBA).eb=oe,ae.fb=0,ae.A=K,ae.size=ve):((ae=L.f.kb).y=oe,ae.O=0,ae.fa=K,ae.Fd=ve,ae.f=oe,ae.N=0+ve,ae.Ab=p,ae.Cd=X,ae.ea=oe,ae.W=0+ve+X,ae.Db=p,ae.Ed=X,c==12&&(ae.F=oe,ae.J=0+ve+2*X),ae.Tc=$,ae.lb=q)}if(p=1,q=L.S,X=L.width,$=L.height,q>=jn&&13>q)if(11>q)c=L.f.RGBA,p&=(K=Math.abs(c.A))*($-1)+X<=c.size,p&=K>=X*id[q],p&=c.eb!=null;else{c=L.f.kb,K=(X+1)/2,ve=($+1)/2,ae=Math.abs(c.fa),oe=Math.abs(c.Ab);var Ce=Math.abs(c.Db),Ae=Math.abs(c.lb),je=Ae*($-1)+X;p&=ae*($-1)+X<=c.Fd,p&=oe*(ve-1)+K<=c.Cd,p=(p&=Ce*(ve-1)+K<=c.Ed)&ae>=X&oe>=K&Ce>=K,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,q==12&&(p&=Ae>=X,p&=je<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||w!=null&&w.fd&&(c=pl(L)),c}var yn=64,Qs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tr=24,Cr=32,ml=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(c){return c},B.Predictor2=function(c,p,w){return p[w+0]},B.Predictor3=function(c,p,w){return p[w+1]},B.Predictor4=function(c,p,w){return p[w-1]},B.Predictor5=function(c,p,w){return Ze(Ze(c,p[w+1]),p[w+0])},B.Predictor6=function(c,p,w){return Ze(c,p[w-1])},B.Predictor7=function(c,p,w){return Ze(c,p[w+0])},B.Predictor8=function(c,p,w){return Ze(p[w-1],p[w+0])},B.Predictor9=function(c,p,w){return Ze(p[w+0],p[w+1])},B.Predictor10=function(c,p,w){return Ze(Ze(c,p[w-1]),Ze(p[w+0],p[w+1]))},B.Predictor11=function(c,p,w){var L=p[w+0];return 0>=_t(L>>24&255,c>>24&255,(p=p[w-1])>>24&255)+_t(L>>16&255,c>>16&255,p>>16&255)+_t(L>>8&255,c>>8&255,p>>8&255)+_t(255&L,255&c,255&p)?L:c},B.Predictor12=function(c,p,w){var L=p[w+0];return(ut((c>>24&255)+(L>>24&255)-((p=p[w-1])>>24&255))<<24|ut((c>>16&255)+(L>>16&255)-(p>>16&255))<<16|ut((c>>8&255)+(L>>8&255)-(p>>8&255))<<8|ut((255&c)+(255&L)-(255&p)))>>>0},B.Predictor13=function(c,p,w){var L=p[w-1];return(St((c=Ze(c,p[w+0]))>>24&255,L>>24&255)<<24|St(c>>16&255,L>>16&255)<<16|St(c>>8&255,L>>8&255)<<8|St(c>>0&255,L>>0&255))>>>0};var Zc=B.PredictorAdd0;B.PredictorAdd1=Ct,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var go=B.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var sc,Di=B.ColorIndexInverseTransform,un=B.MapARGB,Dr=B.VP8LColorIndexInverseTransformAlpha,rc=B.MapAlpha,ms=B.VP8LPredictorsAdd=[];ms.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ni,di,Hi,Gi,qn,$s,Cn,Ks,gl,Un,wn,Li,Zs,fi,Js,gs,vl,hi,vs,fa,ra,ka,Ba,Xa,bs,dn,Dn,Lr,lc=u(511),vo=u(2041),bo=u(225),oc=u(767),_r=0,cc=vo,kr=bo,rn=oc,pi=lc,jn=0,bl=1,Vi=2,xo=3,Er=4,xs=5,uc=6,yo=7,er=8,ys=9,xl=10,dc=[2,3,7],mi=[3,3,11],ii=[280,256,256,256,40],Mr=[0,1,1,1,0],ws=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],js=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Or=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ju=8,wo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qa=null,Ea=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ed=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ns=[],Ln=[],si=[],td=1,yl=2,Wi=[],ln=[];Re("UpsampleRgbLinePair",zt,3),Re("UpsampleBgrLinePair",xa,3),Re("UpsampleRgbaLinePair",Ci,4),Re("UpsampleBgraLinePair",sn,4),Re("UpsampleArgbLinePair",Ra,4),Re("UpsampleRgba4444LinePair",Pa,2),Re("UpsampleRgb565LinePair",Ta,2);var Ss=B.UpsampleRgbLinePair,ar=B.UpsampleBgrLinePair,Xi=B.UpsampleRgbaLinePair,fc=B.UpsampleBgraLinePair,hc=B.UpsampleArgbLinePair,wl=B.UpsampleRgba4444LinePair,pc=B.UpsampleRgb565LinePair,Qi=16,$a=1<<Qi-1,nr=-227,mc=482,bf=6,ad=0,xf=u(256),Ka=u(256),eu=u(256),No=u(256),So=u(mc-nr),tu=u(mc-nr);Ui("YuvToRgbRow",zt,3),Ui("YuvToBgrRow",xa,3),Ui("YuvToRgbaRow",Ci,4),Ui("YuvToBgraRow",sn,4),Ui("YuvToArgbRow",Ra,4),Ui("YuvToRgba4444Row",Pa,2),Ui("YuvToRgb565Row",Ta,2);var Rr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],As=[0,2,8],yf=[8,7,6,4,4,2,2,2,1,1,1,1],nd=1;this.WebPDecodeRGBA=function(c,p,w,L,q){var X=bl,$=new cl,K=new $n;$.ba=K,K.S=X,K.width=[K.width],K.height=[K.height];var ae=K.width,oe=K.height,ve=new Kn;if(ve==null||c==null)var Ce=2;else i(ve!=null),Ce=hl(c,p,w,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ce!=0?ae=0:(ae!=null&&(ae[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ae=1),ae){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),q!=null&&(q[0]=K.height);e:{if(L=new Fs,(q=new fo).data=c,q.w=p,q.ha=w,q.kd=1,p=[0],i(q!=null),((c=hl(q.data,q.w,q.ha,null,null,null,p,null,q))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(i($!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=Ni,L.ac=Ya,L.bc=Ii,L.ma=$,q.xa){if((c=cn())==null){$=1;break e}if(function(Ae,je){var qe=[0],Me=[0],be=[0];t:for(;;){if(Ae==null)return 0;if(je==null)return Ae.a=2,0;if(Ae.l=je,Ae.a=0,ee(Ae.m,je.data,je.w,je.ha),!ct(Ae.m,qe,Me,be)){Ae.a=3;break t}if(Ae.xb=yl,je.width=qe[0],je.height=Me[0],!sa(qe[0],Me[0],1,Ae,null))break t;return 1}return i(Ae.a!=0),0}(c,L)){if(L=(p=Ar(L.width,L.height,$.Oa,$.ba))==0){t:{L=c;a:for(;;){if(L==null){L=0;break t}if(i(L.s.yc!=null),i(L.s.Ya!=null),i(0<L.s.Wb),i((w=L.l)!=null),i((q=w.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,i(L.ca!=null),!Xs(q.Oa,w,xo)){L.a=2;break a}if(!Is(L,w.width)||w.da)break a;if((w.da||$t(L.ca.S))&&Se(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Se()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Je(L.s.vb,L.s.Wa.Xa)){L.a=1;break a}L.xb=0}if(!bn(L,L.V,L.Ba,L.c,L.i,w.o,vr))break a;q.Dc=L.Ma,L=1;break t}i(L.a!=0),L=0}L=!L}L&&(p=c.a)}else p=c.a}else{if((c=new Wc)==null){$=1;break e}if(c.Fa=q.na,c.P=q.P,c.qc=q.Sa,ao(c,L)){if((p=Ar(L.width,L.height,$.Oa,$.ba))==0){if(c.Aa=0,w=$.Oa,i((q=c)!=null),w!=null){if(0<(ae=0>(ae=w.Md)?0:100<ae?255:255*ae/100)){for(oe=ve=0;4>oe;++oe)12>(Ce=q.pb[oe]).lc&&(Ce.ia=ae*yf[0>Ce.lc?0:Ce.lc]>>3),ve|=Ce.ia;ve&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=w.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Ko(c,L)||(p=c.a)}}else p=c.a}p==0&&$.Oa!=null&&$.Oa.fd&&(p=pl($.ba))}$=p}X=$!=0?null:11>X?K.f.RGBA.eb:K.f.kb.y}else X=null;return X};var id=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(B,R){for(var le="",k=0;k<4;k++)le+=String.fromCharCode(B[R++]);return le}function S(B,R){return(B[R+0]<<0|B[R+1]<<8|B[R+2]<<16)>>>0}function j(B,R){return(B[R+0]<<0|B[R+1]<<8|B[R+2]<<16|B[R+3]<<24)>>>0}new h;var N=[0],b=[0],T=[],O=new h,M=n,A=function(B,R){var le={},k=0,C=!1,H=0,Y=0;if(le.frames=[],!function(V,J,se,te){for(var pe=0;pe<te;pe++)if(V[J+pe]!=se.charCodeAt(pe))return!0;return!1}(B,R,"RIFF",4)){var ue,F;for(j(B,R+=4),R+=8;R<B.length;){var W=v(B,R),ee=j(B,R+=4);R+=4;var re=ee+(1&ee);switch(W){case"VP8 ":case"VP8L":le.frames[k]===void 0&&(le.frames[k]={}),(D=le.frames[k]).src_off=C?Y:R-8,D.src_size=H+ee+8,k++,C&&(C=!1,H=0,Y=0);break;case"VP8X":(D=le.header={}).feature_flags=B[R];var _=R+4;D.canvas_width=1+S(B,_),_+=3,D.canvas_height=1+S(B,_),_+=3;break;case"ALPH":C=!0,H=re+8,Y=R-8;break;case"ANIM":(D=le.header).bgcolor=j(B,R),_=R+4,D.loop_count=(ue=B)[(F=_)+0]<<0|ue[F+1]<<8,_+=2;break;case"ANMF":var ie,D;(D=le.frames[k]={}).offset_x=2*S(B,R),R+=3,D.offset_y=2*S(B,R),R+=3,D.width=1+S(B,R),R+=3,D.height=1+S(B,R),R+=3,D.duration=S(B,R),R+=3,ie=B[R++],D.dispose=1&ie,D.blend=ie>>1&1}W!="ANMF"&&(R+=re)}return le}}(M,0);A.response=M,A.rgbaoutput=!0,A.dataurl=!1;var E=A.header?A.header:null,P=A.frames?A.frames:null;if(E){E.loop_counter=E.loop_count,N=[E.canvas_height],b=[E.canvas_width];for(var G=0;G<P.length&&P[G].blend!=0;G++);}var Q=P[0],ne=O.WebPDecodeRGBA(M,Q.src_off,Q.src_size,b,N);Q.rgba=ne,Q.imgwidth=b[0],Q.imgheight=N[0];for(var z=0;z<b[0]*N[0]*4;z++)T[z]=ne[z];return this.width=b,this.height=N,this.data=T,this}(function(n){var i=function(){return typeof Kh=="function"},r=function(N,b,T,O){var M=4,A=m;switch(O){case n.image_compression.FAST:M=1,A=u;break;case n.image_compression.MEDIUM:M=6,A=g;break;case n.image_compression.SLOW:M=9,A=h}N=o(N,b,T,A);var E=Kh(N,{level:M});return n.__addimage__.arrayBufferToBinaryString(E)},o=function(N,b,T,O){for(var M,A,E,P=N.length/b,G=new Uint8Array(N.length+P),Q=S(),ne=0;ne<P;ne+=1){if(E=ne*b,M=N.subarray(E,E+b),O)G.set(O(M,T,A),E+ne);else{for(var z,B=Q.length,R=[];z<B;z+=1)R[z]=Q[z](M,T,A);var le=j(R.concat());G.set(R[le],E+ne)}A=M}return G},d=function(N){var b=Array.apply([],N);return b.unshift(0),b},u=function(N,b){var T,O=[],M=N.length;O[0]=1;for(var A=0;A<M;A+=1)T=N[A-b]||0,O[A+1]=N[A]-T+256&255;return O},m=function(N,b,T){var O,M=[],A=N.length;M[0]=2;for(var E=0;E<A;E+=1)O=T&&T[E]||0,M[E+1]=N[E]-O+256&255;return M},g=function(N,b,T){var O,M,A=[],E=N.length;A[0]=3;for(var P=0;P<E;P+=1)O=N[P-b]||0,M=T&&T[P]||0,A[P+1]=N[P]+256-(O+M>>>1)&255;return A},h=function(N,b,T){var O,M,A,E,P=[],G=N.length;P[0]=4;for(var Q=0;Q<G;Q+=1)O=N[Q-b]||0,M=T&&T[Q]||0,A=T&&T[Q-b]||0,E=v(O,M,A),P[Q+1]=N[Q]-E+256&255;return P},v=function(N,b,T){if(N===b&&b===T)return N;var O=Math.abs(b-T),M=Math.abs(N-T),A=Math.abs(N+b-T-T);return O<=M&&O<=A?N:M<=A?b:T},S=function(){return[d,u,m,g,h]},j=function(N){var b=N.map(function(T){return T.reduce(function(O,M){return O+Math.abs(M)},0)});return b.indexOf(Math.min.apply(null,b))};n.processPNG=function(N,b,T,O){var M,A,E,P,G,Q,ne,z,B,R,le,k,C,H,Y,ue=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){if(N=(E=new Cv(N)).imgData,A=E.bits,M=E.colorSpace,G=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){B=(z=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,le=new Uint8Array(B*E.colors),R=new Uint8Array(B);var W,ee=E.pixelBitlength-E.bits;for(H=0,Y=0;H<B;H++){for(C=z[H],W=0;W<ee;)le[Y++]=C>>>W&255,W+=E.bits;R[H]=C>>>W&255}}if(E.bits===16){B=(z=new Uint32Array(E.decodePixels().buffer)).length,le=new Uint8Array(B*(32/E.pixelBitlength)*E.colors),R=new Uint8Array(B*(32/E.pixelBitlength)),k=E.colors>1,H=0,Y=0;for(var re=0;H<B;)C=z[H++],le[Y++]=C>>>0&255,k&&(le[Y++]=C>>>16&255,C=z[H++],le[Y++]=C>>>0&255),R[re++]=C>>>16&255;A=8}O!==n.image_compression.NONE&&i()?(N=r(le,E.width*E.colors,E.colors,O),ne=r(R,E.width,1,O)):(N=le,ne=R,ue=void 0)}if(E.colorType===3&&(M=this.color_spaces.INDEXED,Q=E.palette,E.transparency.indexed)){var _=E.transparency.indexed,ie=0;for(H=0,B=_.length;H<B;++H)ie+=_[H];if((ie/=255)===B-1&&_.indexOf(0)!==-1)P=[_.indexOf(0)];else if(ie!==B){for(z=E.decodePixels(),R=new Uint8Array(z.length),H=0,B=z.length;H<B;H++)R[H]=_[z[H]];ne=r(R,E.width,1)}}var D=function(V){var J;switch(V){case n.image_compression.FAST:J=11;break;case n.image_compression.MEDIUM:J=13;break;case n.image_compression.SLOW:J=14;break;default:J=12}return J}(O);return ue===this.decode.FLATE_DECODE&&(F="/Predictor "+D+" "),F+="/Colors "+G+" /BitsPerComponent "+A+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:T,data:N,index:b,filter:ue,decodeParameters:F,transparency:P,palette:Q,sMask:ne,predictor:D,width:E.width,height:E.height,bitsPerComponent:A,colorSpace:M}}}})(mt.API),function(n){n.processGIF89A=function(i,r,o,d){var u=new Dv(i),m=u.width,g=u.height,h=[];u.decodeAndBlitFrameRGBA(0,h);var v={data:h,width:m,height:g},S=new zh(100).encode(v,100);return n.processJPEG.call(this,S,r,o,d)},n.processGIF87A=n.processGIF89A}(mt.API),Os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var i=0;i<n;i++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:d,green:o,blue:r,quad:u}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Os.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,i=this.width*this.height*4;this.data=new Uint8Array(i),this[n]()}catch(r){ba.log("bit decode error:"+r)}},Os.prototype.bit1=function(){var n,i=Math.ceil(this.width/8),r=i%4;for(n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,d=0;d<i;d++)for(var u=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+8*d*4,g=0;g<8&&8*d+g<this.width;g++){var h=this.palette[u>>7-g&1];this.data[m+4*g]=h.blue,this.data[m+4*g+1]=h.green,this.data[m+4*g+2]=h.red,this.data[m+4*g+3]=255}r!==0&&(this.pos+=4-r)}},Os.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),i=n%4,r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,d=0;d<n;d++){var u=this.datav.getUint8(this.pos++,!0),m=o*this.width*4+2*d*4,g=u>>4,h=15&u,v=this.palette[g];if(this.data[m]=v.blue,this.data[m+1]=v.green,this.data[m+2]=v.red,this.data[m+3]=255,2*d+1>=this.width)break;v=this.palette[h],this.data[m+4]=v.blue,this.data[m+4+1]=v.green,this.data[m+4+2]=v.red,this.data[m+4+3]=255}i!==0&&(this.pos+=4-i)}},Os.prototype.bit8=function(){for(var n=this.width%4,i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var d=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+4*o;if(d<this.palette.length){var m=this.palette[d];this.data[u]=m.red,this.data[u+1]=m.green,this.data[u+2]=m.blue,this.data[u+3]=255}else this.data[u]=255,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255}n!==0&&(this.pos+=4-n)}},Os.prototype.bit15=function(){for(var n=this.width%3,i=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,d=0;d<this.width;d++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(u&i)/i*255|0,g=(u>>5&i)/i*255|0,h=(u>>10&i)/i*255|0,v=u>>15?255:0,S=o*this.width*4+4*d;this.data[S]=h,this.data[S+1]=g,this.data[S+2]=m,this.data[S+3]=v}this.pos+=n}},Os.prototype.bit16=function(){for(var n=this.width%3,i=parseInt("11111",2),r=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var d=this.bottom_up?o:this.height-1-o,u=0;u<this.width;u++){var m=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(m&i)/i*255|0,h=(m>>5&r)/r*255|0,v=(m>>11)/i*255|0,S=d*this.width*4+4*u;this.data[S]=v,this.data[S+1]=h,this.data[S+2]=g,this.data[S+3]=255}this.pos+=n}},Os.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),m=i*this.width*4+4*r;this.data[m]=u,this.data[m+1]=d,this.data[m+2]=o,this.data[m+3]=255}this.pos+=this.width%4}},Os.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),g=i*this.width*4+4*r;this.data[g]=u,this.data[g+1]=d,this.data[g+2]=o,this.data[g+3]=m}},Os.prototype.getData=function(){return this.data},function(n){n.processBMP=function(i,r,o,d){var u=new Os(i,!1),m=u.width,g=u.height,h={data:u.getData(),width:m,height:g},v=new zh(100).encode(h,100);return n.processJPEG.call(this,v,r,o,d)}}(mt.API),Um.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(i,r,o,d){var u=new Um(i),m=u.width,g=u.height,h={data:u.getData(),width:m,height:g},v=new zh(100).encode(h,100);return n.processJPEG.call(this,v,r,o,d)}}(mt.API),mt.API.processRGBA=function(n,i,r){for(var o=n.data,d=o.length,u=new Uint8Array(d/4*3),m=new Uint8Array(d/4),g=0,h=0,v=0;v<d;v+=4){var S=o[v],j=o[v+1],N=o[v+2],b=o[v+3];u[g++]=S,u[g++]=j,u[g++]=N,m[h++]=b}var T=this.__addimage__.arrayBufferToBinaryString(u);return{alpha:this.__addimage__.arrayBufferToBinaryString(m),data:T,index:i,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},mt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qc=mt.API,af=qc.getCharWidthsArray=function(n,i){var r,o,d=(i=i||{}).font||this.internal.getFont(),u=i.fontSize||this.internal.getFontSize(),m=i.charSpace||this.internal.getCharSpace(),g=i.widths?i.widths:d.metadata.Unicode.widths,h=g.fof?g.fof:1,v=i.kerning?i.kerning:d.metadata.Unicode.kerning,S=v.fof?v.fof:1,j=i.doKerning!==!1,N=0,b=n.length,T=0,O=g[0]||h,M=[];for(r=0;r<b;r++)o=n.charCodeAt(r),typeof d.metadata.widthOfString=="function"?M.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(o))+m*(1e3/u)||0)/1e3):(N=j&&ua(v[o])==="object"&&!isNaN(parseInt(v[o][T],10))?v[o][T]/S:0,M.push((g[o]||O)/h+N)),T=o;return M},Im=qc.getStringUnitWidth=function(n,i){var r=(i=i||{}).fontSize||this.internal.getFontSize(),o=i.font||this.internal.getFont(),d=i.charSpace||this.internal.getCharSpace();return qc.processArabic&&(n=qc.processArabic(n)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(n,r,d)/r:af.apply(this,arguments).reduce(function(u,m){return u+m},0)},Fm=function(n,i,r,o){for(var d=[],u=0,m=n.length,g=0;u!==m&&g+i[u]<r;)g+=i[u],u++;d.push(n.slice(0,u));var h=u;for(g=0;u!==m;)g+i[u]>o&&(d.push(n.slice(h,u)),g=0,h=u),g+=i[u],u++;return h!==u&&d.push(n.slice(h,u)),d},zm=function(n,i,r){r||(r={});var o,d,u,m,g,h,v,S=[],j=[S],N=r.textIndent||0,b=0,T=0,O=n.split(" "),M=af.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?O[0].length+2:r.lineIndent||0){var A=Array(h).join(" "),E=[];O.map(function(G){(G=G.split(/\s*\n/)).length>1?E=E.concat(G.map(function(Q,ne){return(ne&&Q.length?`
`:"")+Q})):E.push(G[0])}),O=E,h=Im.apply(this,[A,r])}for(u=0,m=O.length;u<m;u++){var P=0;if(o=O[u],h&&o[0]==`
`&&(o=o.substr(1),P=1),N+b+(T=(d=af.apply(this,[o,r])).reduce(function(G,Q){return G+Q},0))>i||P){if(T>i){for(g=Fm.apply(this,[o,d,i-(N+b),i]),S.push(g.shift()),S=[g.pop()];g.length;)j.push([g.shift()]);T=d.slice(o.length-(S[0]?S[0].length:0)).reduce(function(G,Q){return G+Q},0)}else S=[o];j.push(S),N=T+h,b=M}else S.push(o),N+=b+T,b=M}return v=h?function(G,Q){return(Q?A:"")+G.join(" ")}:function(G){return G.join(" ")},j.map(v)},qc.splitTextToSize=function(n,i,r){var o,d=(r=r||{}).fontSize||this.internal.getFontSize(),u=(function(S){if(S.widths&&S.kerning)return{widths:S.widths,kerning:S.kerning};var j=this.internal.getFont(S.fontName,S.fontStyle);return j.metadata.Unicode?{widths:j.metadata.Unicode.widths||{0:1},kerning:j.metadata.Unicode.kerning||{}}:{font:j.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);o=Array.isArray(n)?n:String(n).split(/\r?\n/);var m=1*this.internal.scaleFactor*i/d;u.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/d:0,u.lineIndent=r.lineIndent;var g,h,v=[];for(g=0,h=o.length;g<h;g++)v=v.concat(zm.apply(this,[o[g],m,u]));return v},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",r={},o={},d=0;d<i.length;d++)r[i[d]]="0123456789abcdef"[d],o["0123456789abcdef"[d]]=i[d];var u=function(j){return"0x"+parseInt(j,10).toString(16)},m=n.__fontmetrics__.compress=function(j){var N,b,T,O,M=["{"];for(var A in j){if(N=j[A],isNaN(parseInt(A,10))?b="'"+A+"'":(A=parseInt(A,10),b=(b=u(A).slice(2)).slice(0,-1)+o[b.slice(-1)]),typeof N=="number")N<0?(T=u(N).slice(3),O="-"):(T=u(N).slice(2),O=""),T=O+T.slice(0,-1)+o[T.slice(-1)];else{if(ua(N)!=="object")throw new Error("Don't know what to do with value type "+ua(N)+".");T=m(N)}M.push(b+T)}return M.push("}"),M.join("")},g=n.__fontmetrics__.uncompress=function(j){if(typeof j!="string")throw new Error("Invalid argument passed to uncompress.");for(var N,b,T,O,M={},A=1,E=M,P=[],G="",Q="",ne=j.length-1,z=1;z<ne;z+=1)(O=j[z])=="'"?N?(T=N.join(""),N=void 0):N=[]:N?N.push(O):O=="{"?(P.push([E,T]),E={},T=void 0):O=="}"?((b=P.pop())[0][b[1]]=E,T=void 0,E=b[0]):O=="-"?A=-1:T===void 0?r.hasOwnProperty(O)?(G+=r[O],T=parseInt(G,16)*A,A=1,G=""):G+=O:r.hasOwnProperty(O)?(Q+=r[O],E[T]=parseInt(Q,16)*A,A=1,T=void 0,Q=""):Q+=O;return M},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},S={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(j){var N=j.font,b=S.Unicode[N.postScriptName];b&&(N.metadata.Unicode={},N.metadata.Unicode.widths=b.widths,N.metadata.Unicode.kerning=b.kerning);var T=v.Unicode[N.postScriptName];T&&(N.metadata.Unicode.encoding=T,N.encoding=T.codePages[0])}])}(mt.API),function(n){var i=function(r){for(var o=r.length,d=new Uint8Array(o),u=0;u<o;u++)d[u]=r.charCodeAt(u);return d};n.API.events.push(["addFont",function(r){var o=void 0,d=r.font,u=r.instance;if(!d.isStandardFont){if(u===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if(typeof(o=u.existsFileInVFS(d.postScriptName)===!1?u.loadFile(d.postScriptName):u.getFileFromVFS(d.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");(function(m,g){g=/^\x00\x01\x00\x00/.test(g)?i(g):i(Hu(g)),m.metadata=n.API.TTFFont.open(g),m.metadata.Unicode=m.metadata.Unicode||{encoding:{},kerning:{},widths:[]},m.metadata.glyIdsUsed=[0]})(d,o)}}])}(mt),function(n){function i(){return(xt.canvg?Promise.resolve(xt.canvg):Vh(()=>import("./index.es-wy-g5aWa.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}mt.API.addSvgAsImage=function(r,o,d,u,m,g,h,v){if(isNaN(o)||isNaN(d))throw ba.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(u)||isNaN(m))throw ba.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var S=document.createElement("canvas");S.width=u,S.height=m;var j=S.getContext("2d");j.fillStyle="#fff",j.fillRect(0,0,S.width,S.height);var N={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return i().then(function(T){return T.fromString(j,r,N)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(N)}).then(function(){b.addImage(S.toDataURL("image/jpeg",1),o,d,u,m,h,v)})}}(),mt.API.putTotalPages=function(n){var i,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(n,"g"),r=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var d=0;d<this.internal.pages[o].length;d++)this.internal.pages[o][d]=this.internal.pages[o][d].replace(i,r);return this},mt.API.viewerPreferences=function(n,i){var r;n=n||{},i=i||!1;var o,d,u,m={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(m),h=[],v=0,S=0,j=0;function N(T,O){var M,A=!1;for(M=0;M<T.length;M+=1)T[M]===O&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(m)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,n==="reset"||i===!0){var b=g.length;for(j=0;j<b;j+=1)r[g[j]].value=r[g[j]].defaultValue,r[g[j]].explicitSet=!1}if(ua(n)==="object"){for(d in n)if(u=n[d],N(g,d)&&u!==void 0){if(r[d].type==="boolean"&&typeof u=="boolean")r[d].value=u;else if(r[d].type==="name"&&N(r[d].valueSet,u))r[d].value=u;else if(r[d].type==="integer"&&Number.isInteger(u))r[d].value=u;else if(r[d].type==="array"){for(v=0;v<u.length;v+=1)if(o=!0,u[v].length===1&&typeof u[v][0]=="number")h.push(String(u[v]-1));else if(u[v].length>1){for(S=0;S<u[v].length;S+=1)typeof u[v][S]!="number"&&(o=!1);o===!0&&h.push([u[v][0]-1,u[v][1]-1].join(" "))}r[d].value="["+h.join(" ")+"]"}else r[d].value=r[d].defaultValue;r[d].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,O=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?O.push("/"+T+" /"+r[T].value):O.push("/"+T+" "+r[T].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(n){var i=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),u=unescape(encodeURIComponent(o)),m=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),v=u.length+m.length+g.length+d.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(d+u+m+g+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(o,d){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",i)),this}}(mt.API),function(n){var i=n.API,r=i.pdfEscape16=function(u,m){for(var g,h=m.metadata.Unicode.widths,v=["","0","00","000","0000"],S=[""],j=0,N=u.length;j<N;++j){if(g=m.metadata.characterToGlyph(u.charCodeAt(j)),m.metadata.glyIdsUsed.push(g),m.metadata.toUnicode[g]=u.charCodeAt(j),h.indexOf(g)==-1&&(h.push(g),h.push([parseInt(m.metadata.widthOfGlyph(g),10)])),g=="0")return S.join("");g=g.toString(16),S.push(v[4-g.length],g)}return S.join("")},o=function(u){var m,g,h,v,S,j,N;for(S=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],j=0,N=(g=Object.keys(u).sort(function(b,T){return b-T})).length;j<N;j++)m=g[j],h.length>=100&&(S+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),u[m]!==void 0&&u[m]!==null&&typeof u[m].toString=="function"&&(v=("0000"+u[m].toString(16)).slice(-4),m=("0000"+(+m).toString(16)).slice(-4),h.push("<"+m+"><"+v+">"));return h.length&&(S+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),S+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};i.events.push(["putFont",function(u){(function(m){var g=m.font,h=m.out,v=m.newObject,S=m.putStream;if(g.metadata instanceof n.API.TTFFont&&g.encoding==="Identity-H"){for(var j=g.metadata.Unicode.widths,N=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),b="",T=0;T<N.length;T++)b+=String.fromCharCode(N[T]);var O=v();S({data:b,addLength1:!0,objectId:O}),h("endobj");var M=v();S({data:o(g.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var A=v();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Gc(g.fontName)),h("/FontFile2 "+O+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(g.metadata.bbox)),h("/Flags "+g.metadata.flags),h("/StemV "+g.metadata.stemV),h("/ItalicAngle "+g.metadata.italicAngle),h("/Ascent "+g.metadata.ascender),h("/Descent "+g.metadata.decender),h("/CapHeight "+g.metadata.capHeight),h(">>"),h("endobj");var E=v();h("<<"),h("/Type /Font"),h("/BaseFont /"+Gc(g.fontName)),h("/FontDescriptor "+A+" 0 R"),h("/W "+n.API.PDFObject.convert(j)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+g.encoding+")"),h(">>"),h(">>"),h("endobj"),g.objectNumber=v(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+M+" 0 R"),h("/BaseFont /"+Gc(g.fontName)),h("/Encoding /"+g.encoding),h("/DescendantFonts ["+E+" 0 R]"),h(">>"),h("endobj"),g.isAlreadyPutted=!0}})(u)}]),i.events.push(["putFont",function(u){(function(m){var g=m.font,h=m.out,v=m.newObject,S=m.putStream;if(g.metadata instanceof n.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var j=g.metadata.rawData,N="",b=0;b<j.length;b++)N+=String.fromCharCode(j[b]);var T=v();S({data:N,addLength1:!0,objectId:T}),h("endobj");var O=v();S({data:o(g.metadata.toUnicode),addLength1:!0,objectId:O}),h("endobj");var M=v();h("<<"),h("/Descent "+g.metadata.decender),h("/CapHeight "+g.metadata.capHeight),h("/StemV "+g.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(g.metadata.bbox)),h("/FontName /"+Gc(g.fontName)),h("/ItalicAngle "+g.metadata.italicAngle),h("/Ascent "+g.metadata.ascender),h(">>"),h("endobj"),g.objectNumber=v();for(var A=0;A<g.metadata.hmtx.widths.length;A++)g.metadata.hmtx.widths[A]=parseInt(g.metadata.hmtx.widths[A]*(1e3/g.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+Gc(g.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),h("endobj"),g.isAlreadyPutted=!0}})(u)}]);var d=function(u){var m,g=u.text||"",h=u.x,v=u.y,S=u.options||{},j=u.mutex||{},N=j.pdfEscape,b=j.activeFontKey,T=j.fonts,O=b,M="",A=0,E="",P=T[O].encoding;if(T[O].encoding!=="Identity-H")return{text:g,x:h,y:v,options:S,mutex:j};for(E=g,O=b,Array.isArray(g)&&(E=g[0]),A=0;A<E.length;A+=1)T[O].metadata.hasOwnProperty("cmap")&&(m=T[O].metadata.cmap.unicode.codeMap[E[A].charCodeAt(0)]),m||E[A].charCodeAt(0)<256&&T[O].metadata.hasOwnProperty("Unicode")?M+=E[A]:M+="";var G="";return parseInt(O.slice(1))<14||P==="WinAnsiEncoding"?G=N(M,O).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(G=r(M,T[O])),j.isHex=!0,{text:G,x:h,y:v,options:S,mutex:j}};i.events.push(["postProcessText",function(u){var m=u.text||"",g=[],h={text:m,x:u.x,y:u.y,options:u.options,mutex:u.mutex};if(Array.isArray(m)){var v=0;for(v=0;v<m.length;v+=1)Array.isArray(m[v])&&m[v].length===3?g.push([d(Object.assign({},h,{text:m[v][0]})).text,m[v][1],m[v][2]]):g.push(d(Object.assign({},h,{text:m[v]})).text);u.text=g}else u.text=d(Object.assign({},h,{text:m})).text}])}(mt),function(n){var i=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(r){return i.call(this),this.internal.vFS[r]!==void 0},n.addFileToVFS=function(r,o){return i.call(this),this.internal.vFS[r]=o,this},n.getFileFromVFS=function(r){return i.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(mt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(o){var d,u,m,g,h,v,S,j=i,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,P=0;this.__bidiEngine__={};var G=function(k){var C=k.charCodeAt(),H=C>>8,Y=O[H];return Y!==void 0?j[256*Y+(255&C)]:H===252||H===253?"AL":A.test(H)?"L":H===8?"R":"N"},Q=function(k){for(var C,H=0;H<k.length;H++){if((C=G(k.charAt(H)))==="L")return!1;if(C==="R")return!0}return!1},ne=function(k,C,H,Y){var ue,F,W,ee,re=C[Y];switch(re){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(re="AN");break;case"AL":E=!0,re="R";break;case"WS":re="N";break;case"CS":Y<1||Y+1>=C.length||(ue=H[Y-1])!=="EN"&&ue!=="AN"||(F=C[Y+1])!=="EN"&&F!=="AN"?re="N":E&&(F="AN"),re=F===ue?F:"N";break;case"ES":re=(ue=Y>0?H[Y-1]:"B")==="EN"&&Y+1<C.length&&C[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&H[Y-1]==="EN"){re="EN";break}if(E){re="N";break}for(W=Y+1,ee=C.length;W<ee&&C[W]==="ET";)W++;re=W<ee&&C[W]==="EN"?"EN":"N";break;case"NSM":if(m&&!g){for(ee=C.length,W=Y+1;W<ee&&C[W]==="NSM";)W++;if(W<ee){var _=k[Y],ie=_>=1425&&_<=2303||_===64286;if(ue=C[W],ie&&(ue==="R"||ue==="AL")){re="R";break}}}re=Y<1||(ue=C[Y-1])==="B"?"N":H[Y-1];break;case"B":E=!1,d=!0,re=P;break;case"S":u=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":re="N"}return re},z=function(k,C,H){var Y=k.split("");return H&&B(Y,H,{hiLevel:P}),Y.reverse(),C&&C.reverse(),Y.join("")},B=function(k,C,H){var Y,ue,F,W,ee,re=-1,_=k.length,ie=0,D=[],V=P?b:N,J=[];for(E=!1,d=!1,u=!1,ue=0;ue<_;ue++)J[ue]=G(k[ue]);for(F=0;F<_;F++){if(ee=ie,D[F]=ne(k,J,D,F),Y=240&(ie=V[ee][T[D[F]]]),ie&=15,C[F]=W=V[ie][5],Y>0)if(Y===16){for(ue=re;ue<F;ue++)C[ue]=1;re=-1}else re=-1;if(V[ie][6])re===-1&&(re=F);else if(re>-1){for(ue=re;ue<F;ue++)C[ue]=W;re=-1}J[F]==="B"&&(C[F]=0),H.hiLevel|=W}u&&function(se,te,pe){for(var me=0;me<pe;me++)if(se[me]==="S"){te[me]=P;for(var de=me-1;de>=0&&se[de]==="WS";de--)te[de]=P}}(J,C,_)},R=function(k,C,H,Y,ue){if(!(ue.hiLevel<k)){if(k===1&&P===1&&!d)return C.reverse(),void(H&&H.reverse());for(var F,W,ee,re,_=C.length,ie=0;ie<_;){if(Y[ie]>=k){for(ee=ie+1;ee<_&&Y[ee]>=k;)ee++;for(re=ie,W=ee-1;re<W;re++,W--)F=C[re],C[re]=C[W],C[W]=F,H&&(F=H[re],H[re]=H[W],H[W]=F);ie=ee}ie++}}},le=function(k,C,H){var Y=k.split(""),ue={hiLevel:P};return H||(H=[]),B(Y,H,ue),function(F,W,ee){if(ee.hiLevel!==0&&S)for(var re,_=0;_<F.length;_++)W[_]===1&&(re=M.indexOf(F[_]))>=0&&(F[_]=M[re+1])}(Y,H,ue),R(2,Y,C,H,ue),R(1,Y,C,H,ue),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(k,C,H){if(function(ue,F){if(F)for(var W=0;W<ue.length;W++)F[W]=W;g===void 0&&(g=Q(ue)),v===void 0&&(v=Q(ue))}(k,C),m||!h||v)if(m&&h&&g^v)P=g?1:0,k=z(k,C,H);else if(!m&&h&&v)P=g?1:0,k=le(k,C,H),k=z(k,C);else if(!m||g||h||v){if(m&&!h&&g^v)k=z(k,C),g?(P=0,k=le(k,C,H)):(P=1,k=le(k,C,H),k=z(k,C));else if(m&&g&&!h&&v)P=1,k=le(k,C,H),k=z(k,C);else if(!m&&!h&&g^v){var Y=S;g?(P=1,k=le(k,C,H),P=0,S=!1,k=le(k,C,H),S=Y):(P=0,k=le(k,C,H),k=z(k,C),P=1,S=!1,k=le(k,C,H),S=Y,k=z(k,C))}}else P=0,k=le(k,C,H);else P=g?1:0,k=le(k,C,H);return k},this.__bidiEngine__.setOptions=function(k){k&&(m=k.isInputVisual,h=k.isOutputVisual,g=k.isInputRtl,v=k.isOutputRtl,S=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(o){var d=o.text,u=(o.x,o.y,o.options||{}),m=(o.mutex,u.lang,[]);if(u.isInputVisual=typeof u.isInputVisual!="boolean"||u.isInputVisual,r.setOptions(u),Object.prototype.toString.call(d)==="[object Array]"){var g=0;for(m=[],g=0;g<d.length;g+=1)Object.prototype.toString.call(d[g])==="[object Array]"?m.push([r.doBidiReorder(d[g][0]),d[g][1],d[g][2]]):m.push([r.doBidiReorder(d[g])]);o.text=m}else o.text=r.doBidiReorder(d);r.setOptions({isInputVisual:!0})}])}(mt),mt.API.TTFFont=function(){function n(i){var r;if(this.rawData=i,r=this.contents=new Zl(i),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Hv(this),this.registerTTF()}return n.open=function(i){return new n(i)},n.prototype.parse=function(){return this.directory=new Lv(this.contents),this.head=new kv(this),this.name=new Rv(this),this.cmap=new E2(this),this.toUnicode={},this.hhea=new Ev(this),this.maxp=new Bv(this),this.hmtx=new Iv(this),this.post=new Ov(this),this.os2=new Mv(this),this.loca=new Uv(this),this.glyf=new Fv(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var i,r,o,d,u;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var m,g,h,v;for(v=[],m=0,g=(h=this.bbox).length;m<g;m++)i=h[m],v.push(Math.round(i*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(o=255&(d=this.post.italic_angle),(32768&(r=d>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(u=this.familyClass)===1||u===2||u===3||u===4||u===5||u===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(i){var r;return((r=this.cmap.unicode)!=null?r.codeMap[i]:void 0)||0},n.prototype.widthOfGlyph=function(i){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*r},n.prototype.widthOfString=function(i,r,o){var d,u,m,g;for(m=0,u=0,g=(i=""+i).length;0<=g?u<g:u>g;u=0<=g?++u:--u)d=i.charCodeAt(u),m+=this.widthOfGlyph(this.characterToGlyph(d))+o*(1e3/r)||0;return m*(r/1e3)},n.prototype.lineHeight=function(i,r){var o;return r==null&&(r=!1),o=r?this.lineGap:0,(this.ascender+o-this.decender)/1e3*i},n}();var Rs,Zl=function(){function n(i){this.data=i??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(i){return this.data[this.pos++]=i},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},n.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},n.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},n.prototype.readString=function(i){var r,o;for(o=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)o[r]=String.fromCharCode(this.readByte());return o.join("")},n.prototype.writeString=function(i){var r,o,d;for(d=[],r=0,o=i.length;0<=o?r<o:r>o;r=0<=o?++r:--r)d.push(this.writeByte(i.charCodeAt(r)));return d},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(i){return this.writeInt16(i)},n.prototype.readLongLong=function(){var i,r,o,d,u,m,g,h;return i=this.readByte(),r=this.readByte(),o=this.readByte(),d=this.readByte(),u=this.readByte(),m=this.readByte(),g=this.readByte(),h=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^r)+1099511627776*(255^o)+4294967296*(255^d)+16777216*(255^u)+65536*(255^m)+256*(255^g)+(255^h)+1):72057594037927940*i+281474976710656*r+1099511627776*o+4294967296*d+16777216*u+65536*m+256*g+h},n.prototype.writeLongLong=function(i){var r,o;return r=Math.floor(i/4294967296),o=4294967295&i,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(i){return this.writeInt32(i)},n.prototype.read=function(i){var r,o;for(r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push(this.readByte());return r},n.prototype.write=function(i){var r,o,d,u;for(u=[],o=0,d=i.length;o<d;o++)r=i[o],u.push(this.writeByte(r));return u},n}(),Lv=function(){var n;function i(r){var o,d,u;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},d=0,u=this.tableCount;0<=u?d<u:d>u;d=0<=u?++d:--d)o={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[o.tag]=o}return i.prototype.encode=function(r){var o,d,u,m,g,h,v,S,j,N,b,T,O;for(O in b=Object.keys(r).length,h=Math.log(2),j=16*Math.floor(Math.log(b)/h),m=Math.floor(j/h),S=16*b-j,(d=new Zl).writeInt(this.scalarType),d.writeShort(b),d.writeShort(j),d.writeShort(m),d.writeShort(S),u=16*b,v=d.pos+u,g=null,T=[],r)for(N=r[O],d.writeString(O),d.writeInt(n(N)),d.writeInt(v),d.writeInt(N.length),T=T.concat(N),O==="head"&&(g=v),v+=N.length;v%4;)T.push(0),v++;return d.write(T),o=2981146554-n(d.data),d.pos=g+8,d.writeUInt32(o),d.data},n=function(r){var o,d,u,m;for(r=M2.call(r);r.length%4;)r.push(0);for(u=new Zl(r),d=0,o=0,m=r.length;o<m;o=o+=4)d+=u.readUInt32();return 4294967295&d},i}(),_v={}.hasOwnProperty,gr=function(n,i){for(var r in i)_v.call(i,r)&&(n[r]=i[r]);function o(){this.constructor=n}return o.prototype=i.prototype,n.prototype=new o,n.__super__=i.prototype,n};Rs=function(){function n(i){var r;this.file=i,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var kv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="head",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},i.prototype.encode=function(r){var o;return(o=new Zl).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(r),o.writeShort(this.glyphDataFormat),o.data},i}(),Hm=function(){function n(i,r){var o,d,u,m,g,h,v,S,j,N,b,T,O,M,A,E,P;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=r+i.readInt(),j=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=i.readByte();break;case 4:for(b=i.readUInt16(),N=b/2,i.pos+=6,u=function(){var G,Q;for(Q=[],h=G=0;0<=N?G<N:G>N;h=0<=N?++G:--G)Q.push(i.readUInt16());return Q}(),i.pos+=2,O=function(){var G,Q;for(Q=[],h=G=0;0<=N?G<N:G>N;h=0<=N?++G:--G)Q.push(i.readUInt16());return Q}(),v=function(){var G,Q;for(Q=[],h=G=0;0<=N?G<N:G>N;h=0<=N?++G:--G)Q.push(i.readUInt16());return Q}(),S=function(){var G,Q;for(Q=[],h=G=0;0<=N?G<N:G>N;h=0<=N?++G:--G)Q.push(i.readUInt16());return Q}(),d=(this.length-i.pos+this.offset)/2,g=function(){var G,Q;for(Q=[],h=G=0;0<=d?G<d:G>d;h=0<=d?++G:--G)Q.push(i.readUInt16());return Q}(),h=A=0,P=u.length;A<P;h=++A)for(M=u[h],o=E=T=O[h];T<=M?E<=M:E>=M;o=T<=M?++E:--E)S[h]===0?m=o+v[h]:(m=g[S[h]/2+(o-T)-(N-h)]||0)!==0&&(m+=v[h]),this.codeMap[o]=65535&m}i.pos=j}return n.encode=function(i,r){var o,d,u,m,g,h,v,S,j,N,b,T,O,M,A,E,P,G,Q,ne,z,B,R,le,k,C,H,Y,ue,F,W,ee,re,_,ie,D,V,J,se,te,pe,me,de,ke,Oe,Ge;switch(Y=new Zl,m=Object.keys(i).sort(function(We,Je){return We-Je}),r){case"macroman":for(O=0,M=function(){var We=[];for(T=0;T<256;++T)We.push(0);return We}(),E={0:0},u={},ue=0,re=m.length;ue<re;ue++)E[de=i[d=m[ue]]]==null&&(E[de]=++O),u[d]={old:i[d],new:E[i[d]]},M[d]=E[i[d]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(M),{charMap:u,subtable:Y.data,maxGlyphID:O+1};case"unicode":for(C=[],j=[],P=0,E={},o={},A=v=null,F=0,_=m.length;F<_;F++)E[Q=i[d=m[F]]]==null&&(E[Q]=++P),o[d]={old:Q,new:E[Q]},g=E[Q]-d,A!=null&&g===v||(A&&j.push(A),C.push(d),v=g),A=d;for(A&&j.push(A),j.push(65535),C.push(65535),le=2*(R=C.length),B=2*Math.pow(Math.log(R)/Math.LN2,2),N=Math.log(B/2)/Math.LN2,z=2*R-B,h=[],ne=[],b=[],T=W=0,ie=C.length;W<ie;T=++W){if(k=C[T],S=j[T],k===65535){h.push(0),ne.push(0);break}if(k-(H=o[k].new)>=32768)for(h.push(0),ne.push(2*(b.length+R-T)),d=ee=k;k<=S?ee<=S:ee>=S;d=k<=S?++ee:--ee)b.push(o[d].new);else h.push(H-k),ne.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*R+2*b.length),Y.writeUInt16(0),Y.writeUInt16(le),Y.writeUInt16(B),Y.writeUInt16(N),Y.writeUInt16(z),pe=0,D=j.length;pe<D;pe++)d=j[pe],Y.writeUInt16(d);for(Y.writeUInt16(0),me=0,V=C.length;me<V;me++)d=C[me],Y.writeUInt16(d);for(ke=0,J=h.length;ke<J;ke++)g=h[ke],Y.writeUInt16(g);for(Oe=0,se=ne.length;Oe<se;Oe++)G=ne[Oe],Y.writeUInt16(G);for(Ge=0,te=b.length;Ge<te;Ge++)O=b[Ge],Y.writeUInt16(O);return{charMap:o,subtable:Y.data,maxGlyphID:P+1}}},n}(),E2=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="cmap",i.prototype.parse=function(r){var o,d,u;for(r.pos=this.offset,this.version=r.readUInt16(),u=r.readUInt16(),this.tables=[],this.unicode=null,d=0;0<=u?d<u:d>u;d=0<=u?++d:--d)o=new Hm(r,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},i.encode=function(r,o){var d,u;return o==null&&(o="macroman"),d=Hm.encode(r,o),(u=new Zl).writeUInt16(0),u.writeUInt16(1),d.table=u.data.concat(d.subtable),d},i}(),Ev=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="hhea",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},i}(),Mv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="OS/2",i.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var o,d;for(d=[],o=0;o<10;++o)d.push(r.readByte());return d}(),this.charRange=function(){var o,d;for(d=[],o=0;o<4;++o)d.push(r.readInt());return d}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var o,d;for(d=[],o=0;o<2;o=++o)d.push(r.readInt());return d}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},i}(),Ov=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="post",i.prototype.parse=function(r){var o,d,u;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var m;for(d=r.readUInt16(),this.glyphNameIndex=[],m=0;0<=d?m<d:m>d;m=0<=d?++m:--m)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],u=[];r.pos<this.offset+this.length;)o=r.readByte(),u.push(this.names.push(r.readString(o)));return u;case 151552:return d=r.readUInt16(),this.offsets=r.read(d);case 196608:break;case 262144:return this.map=(function(){var g,h,v;for(v=[],m=g=0,h=this.file.maxp.numGlyphs;0<=h?g<h:g>h;m=0<=h?++g:--g)v.push(r.readUInt32());return v}).call(this)}},i}(),Pv=function(n,i){this.raw=n,this.length=n.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},Rv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="name",i.prototype.parse=function(r){var o,d,u,m,g,h,v,S,j,N,b;for(r.pos=this.offset,r.readShort(),o=r.readShort(),h=r.readShort(),d=[],m=0;0<=o?m<o:m>o;m=0<=o?++m:--m)d.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+h+r.readShort()});for(v={},m=j=0,N=d.length;j<N;m=++j)u=d[m],r.pos=u.offset,S=r.readString(u.length),g=new Pv(S,u),v[b=u.nameID]==null&&(v[b]=[]),v[u.nameID].push(g);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},i}(),Bv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="maxp",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},i}(),Iv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="hmtx",i.prototype.parse=function(r){var o,d,u,m,g,h,v;for(r.pos=this.offset,this.metrics=[],o=0,h=this.file.hhea.numberOfMetrics;0<=h?o<h:o>h;o=0<=h?++o:--o)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(u=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var S,j;for(j=[],o=S=0;0<=u?S<u:S>u;o=0<=u?++S:--S)j.push(r.readInt16());return j}(),this.widths=(function(){var S,j,N,b;for(b=[],S=0,j=(N=this.metrics).length;S<j;S++)m=N[S],b.push(m.advance);return b}).call(this),d=this.widths[this.widths.length-1],v=[],o=g=0;0<=u?g<u:g>u;o=0<=u?++g:--g)v.push(this.widths.push(d));return v},i.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},i}(),M2=[].slice,Fv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(r){var o,d,u,m,g,h,v,S,j,N;return r in this.cache?this.cache[r]:(m=this.file.loca,o=this.file.contents,d=m.indexOf(r),(u=m.lengthOf(r))===0?this.cache[r]=null:(o.pos=this.offset+d,g=(h=new Zl(o.read(u))).readShort(),S=h.readShort(),N=h.readShort(),v=h.readShort(),j=h.readShort(),this.cache[r]=g===-1?new qv(h,S,N,v,j):new zv(h,g,S,N,v,j),this.cache[r]))},i.prototype.encode=function(r,o,d){var u,m,g,h,v;for(g=[],m=[],h=0,v=o.length;h<v;h++)u=r[o[h]],m.push(g.length),u&&(g=g.concat(u.encode(d)));return m.push(g.length),{table:g,offsets:m}},i}(),zv=function(){function n(i,r,o,d,u,m){this.raw=i,this.numberOfContours=r,this.xMin=o,this.yMin=d,this.xMax=u,this.yMax=m,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),qv=function(){function n(i,r,o,d,u){var m,g;for(this.raw=i,this.xMin=r,this.yMin=o,this.xMax=d,this.yMax=u,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],m=this.raw;g=m.readShort(),this.glyphOffsets.push(m.pos),this.glyphIDs.push(m.readUInt16()),32&g;)m.pos+=1&g?4:2,128&g?m.pos+=8:64&g?m.pos+=4:8&g&&(m.pos+=2)}return n.prototype.encode=function(){var i,r,o;for(r=new Zl(M2.call(this.raw.data)),i=0,o=this.glyphIDs.length;i<o;++i)r.pos=this.glyphOffsets[i];return r.data},n}(),Uv=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return gr(i,Rs),i.prototype.tag="loca",i.prototype.parse=function(r){var o,d;return r.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var u,m;for(m=[],d=0,u=this.length;d<u;d+=2)m.push(2*r.readUInt16());return m}).call(this):(function(){var u,m;for(m=[],d=0,u=this.length;d<u;d+=4)m.push(r.readUInt32());return m}).call(this)},i.prototype.indexOf=function(r){return this.offsets[r]},i.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},i.prototype.encode=function(r,o){for(var d=new Uint32Array(this.offsets.length),u=0,m=0,g=0;g<d.length;++g)if(d[g]=u,m<o.length&&o[m]==g){++m,d[g]=u;var h=this.offsets[g],v=this.offsets[g+1]-h;v>0&&(u+=v)}for(var S=new Array(4*d.length),j=0;j<d.length;++j)S[4*j+3]=255&d[j],S[4*j+2]=(65280&d[j])>>8,S[4*j+1]=(16711680&d[j])>>16,S[4*j]=(4278190080&d[j])>>24;return S},i}(),Hv=function(){function n(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var i,r,o,d,u;for(r in d=this.font.cmap.tables[0].codeMap,i={},u=this.subset)o=u[r],i[r]=d[o];return i},n.prototype.glyphsFor=function(i){var r,o,d,u,m,g,h;for(d={},m=0,g=i.length;m<g;m++)d[u=i[m]]=this.font.glyf.glyphFor(u);for(u in r=[],d)(o=d[u])!=null&&o.compound&&r.push.apply(r,o.glyphIDs);if(r.length>0)for(u in h=this.glyphsFor(r))o=h[u],d[u]=o;return d},n.prototype.encode=function(i,r){var o,d,u,m,g,h,v,S,j,N,b,T,O,M,A;for(d in o=E2.encode(this.generateCmap(),"unicode"),m=this.glyphsFor(i),b={0:0},A=o.charMap)b[(h=A[d]).old]=h.new;for(T in N=o.maxGlyphID,m)T in b||(b[T]=N++);return S=function(E){var P,G;for(P in G={},E)G[E[P]]=P;return G}(b),j=Object.keys(S).sort(function(E,P){return E-P}),O=function(){var E,P,G;for(G=[],E=0,P=j.length;E<P;E++)g=j[E],G.push(S[g]);return G}(),u=this.font.glyf.encode(m,O,b),v=this.font.loca.encode(u.offsets,O),M={cmap:this.font.cmap.raw(),glyf:u.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n}();mt.API.PDFObject=function(){var n;function i(){}return n=function(r,o){return(Array(o+1).join("0")+r).slice(-o)},i.convert=function(r){var o,d,u,m;if(Array.isArray(r))return"["+function(){var g,h,v;for(v=[],g=0,h=r.length;g<h;g++)o=r[g],v.push(i.convert(o));return v}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+n(r.getUTCFullYear(),4)+n(r.getUTCMonth(),2)+n(r.getUTCDate(),2)+n(r.getUTCHours(),2)+n(r.getUTCMinutes(),2)+n(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(d in u=["<<"],r)m=r[d],u.push("/"+d+" "+i.convert(m));return u.push(">>"),u.join(`
`)}return""+r},i}();const Gv=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:wv,AcroFormAppearance:nt,AcroFormButton:mn,AcroFormCheckBox:Yu,AcroFormChoiceField:qo,AcroFormComboBox:Ho,AcroFormEditBox:Gu,AcroFormListBox:Uo,AcroFormPasswordField:Wu,AcroFormPushButton:Vu,AcroFormRadioButton:Go,AcroFormTextField:$l,GState:Ku,ShadingPattern:Xl,TilingPattern:zo,default:mt,jsPDF:mt},Symbol.toStringTag,{value:"Module"}));var cf={exports:{}};const Vv=I1(Gv);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var Gm=cf.exports,Vm;function Yv(){return Vm||(Vm=1,function(n,i){(function(o,d){n.exports=d(function(){try{return Vv}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Gm<"u"?Gm:typeof window<"u"?window:typeof self<"u"?self:B1,function(r){return function(){var o={172:function(g,h){var v=this&&this.__extends||function(){var N=function(b,T){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,M){O.__proto__=M}||function(O,M){for(var A in M)Object.prototype.hasOwnProperty.call(M,A)&&(O[A]=M[A])},N(b,T)};return function(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");N(b,T);function O(){this.constructor=b}b.prototype=T===null?Object.create(T):(O.prototype=T.prototype,new O)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var S=function(){function N(b,T,O){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=O,this.doc=b.getDocument()}return N}();h.HookData=S;var j=function(N){v(b,N);function b(T,O,M,A,E,P){var G=N.call(this,T,O,P)||this;return G.cell=M,G.row=A,G.column=E,G.section=A.section,G}return b}(S);h.CellHookData=j},340:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0});var S=v(4),j=v(136),N=v(744),b=v(776),T=v(664),O=v(972);function M(A){A.API.autoTable=function(){for(var E=[],P=0;P<arguments.length;P++)E[P]=arguments[P];var G;E.length===1?G=E[0]:(console.error("Use of deprecated autoTable initiation"),G=E[2]||{},G.columns=E[0],G.body=E[1]);var Q=(0,b.parseInput)(this,G),ne=(0,O.createTable)(this,Q);return(0,T.drawTable)(this,ne),this},A.API.lastAutoTable=!1,A.API.previousAutoTable=!1,A.API.autoTable.previous=!1,A.API.autoTableText=function(E,P,G,Q){(0,j.default)(E,P,G,Q,this)},A.API.autoTableSetDefaults=function(E){return N.DocHandler.setDefaults(E,this),this},A.autoTableSetDefaults=function(E,P){N.DocHandler.setDefaults(E,P)},A.API.autoTableHtmlToJson=function(E,P){var G;if(P===void 0&&(P=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Q=new N.DocHandler(this),ne=(0,S.parseHtml)(Q,E,window,P,!1),z=ne.head,B=ne.body,R=((G=z[0])===null||G===void 0?void 0:G.map(function(le){return le.content}))||[];return{columns:R,rows:B,data:B}},A.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var E=this.lastAutoTable;return E&&E.finalY?E.finalY:0},A.API.autoTableAddPageContent=function(E){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),A.API.autoTable.globalDefaults||(A.API.autoTable.globalDefaults={}),A.API.autoTable.globalDefaults.addPageContent=E,this},A.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=M},136:function(g,h){Object.defineProperty(h,"__esModule",{value:!0});function v(S,j,N,b,T){b=b||{};var O=1.15,M=T.internal.scaleFactor,A=T.internal.getFontSize()/M,E=T.getLineHeightFactor?T.getLineHeightFactor():O,P=A*E,G=/\r\n|\r|\n/g,Q="",ne=1;if((b.valign==="middle"||b.valign==="bottom"||b.halign==="center"||b.halign==="right")&&(Q=typeof S=="string"?S.split(G):S,ne=Q.length||1),N+=A*(2-O),b.valign==="middle"?N-=ne/2*P:b.valign==="bottom"&&(N-=ne*P),b.halign==="center"||b.halign==="right"){var z=A;if(b.halign==="center"&&(z*=.5),Q&&ne>=1){for(var B=0;B<Q.length;B++)T.text(Q[B],j-T.getStringUnitWidth(Q[B])*z,N),N+=P;return T}j-=T.getStringUnitWidth(S)*z}return b.halign==="justify"?T.text(S,j,N,{maxWidth:b.maxWidth||100,align:"justify"}):T.text(S,j,N),T}h.default=v},420:function(g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function v(T,O,M){M.applyStyles(O,!0);var A=Array.isArray(T)?T:[T],E=A.map(function(P){return M.getTextWidth(P)}).reduce(function(P,G){return Math.max(P,G)},0);return E}h.getStringWidth=v;function S(T,O,M,A){var E=O.settings.tableLineWidth,P=O.settings.tableLineColor;T.applyStyles({lineWidth:E,lineColor:P});var G=j(E,!1);G&&T.rect(M.x,M.y,O.getWidth(T.pageSize().width),A.y-M.y,G)}h.addTableBorder=S;function j(T,O){var M=T>0,A=O||O===0;return M&&A?"DF":M?"S":A?"F":null}h.getFillStyle=j;function N(T,O){var M,A,E,P;if(T=T||O,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=O}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(M=T.left)!==null&&M!==void 0?M:O,top:(A=T.top)!==null&&A!==void 0?A:O,right:(E=T.right)!==null&&E!==void 0?E:O,bottom:(P=T.bottom)!==null&&P!==void 0?P:O}):(typeof T!="number"&&(T=O),{top:T,right:T,bottom:T,left:T})}h.parseSpacing=N;function b(T,O){var M=N(O.settings.margin,0);return T.pageSize().width-(M.left+M.right)}h.getPageAvailableWidth=b},796:function(g,h){var v=this&&this.__extends||function(){var b=function(T,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(M[E]=A[E])},b(T,O)};return function(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");b(T,O);function M(){this.constructor=T}T.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var S=function(b){v(T,b);function T(O){var M=b.call(this)||this;return M._element=O,M}return T}(Array);h.HtmlRowInput=S;function j(b){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/b,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=j;function N(b){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[b]}h.getTheme=N},903:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var S=v(420);function j(M,A,E,P,G){var Q={},ne=1.3333333333333333,z=b(A,function(re){return G.getComputedStyle(re).backgroundColor});z!=null&&(Q.fillColor=z);var B=b(A,function(re){return G.getComputedStyle(re).color});B!=null&&(Q.textColor=B);var R=O(P,E);R&&(Q.cellPadding=R);var le="borderTopColor",k=ne*E,C=P.borderTopWidth;if(P.borderBottomWidth===C&&P.borderRightWidth===C&&P.borderLeftWidth===C){var H=(parseFloat(C)||0)/k;H&&(Q.lineWidth=H)}else Q.lineWidth={top:(parseFloat(P.borderTopWidth)||0)/k,right:(parseFloat(P.borderRightWidth)||0)/k,bottom:(parseFloat(P.borderBottomWidth)||0)/k,left:(parseFloat(P.borderLeftWidth)||0)/k},Q.lineWidth.top||(Q.lineWidth.right?le="borderRightColor":Q.lineWidth.bottom?le="borderBottomColor":Q.lineWidth.left&&(le="borderLeftColor"));console.log(Q.lineWidth);var Y=b(A,function(re){return G.getComputedStyle(re)[le]});Y!=null&&(Q.lineColor=Y);var ue=["left","right","center","justify"];ue.indexOf(P.textAlign)!==-1&&(Q.halign=P.textAlign),ue=["middle","bottom","top"],ue.indexOf(P.verticalAlign)!==-1&&(Q.valign=P.verticalAlign);var F=parseInt(P.fontSize||"");isNaN(F)||(Q.fontSize=F/ne);var W=N(P);W&&(Q.fontStyle=W);var ee=(P.fontFamily||"").toLowerCase();return M.indexOf(ee)!==-1&&(Q.font=ee),Q}h.parseCss=j;function N(M){var A="";return(M.fontWeight==="bold"||M.fontWeight==="bolder"||parseInt(M.fontWeight)>=700)&&(A="bold"),(M.fontStyle==="italic"||M.fontStyle==="oblique")&&(A+="italic"),A}function b(M,A){var E=T(M,A);if(!E)return null;var P=E.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!P||!Array.isArray(P))return null;var G=[parseInt(P[1]),parseInt(P[2]),parseInt(P[3])],Q=parseInt(P[4]);return Q===0||isNaN(G[0])||isNaN(G[1])||isNaN(G[2])?null:G}function T(M,A){var E=A(M);return E==="rgba(0, 0, 0, 0)"||E==="transparent"||E==="initial"||E==="inherit"?M.parentElement==null?null:T(M.parentElement,A):E}function O(M,A){var E=[M.paddingTop,M.paddingRight,M.paddingBottom,M.paddingLeft],P=96/(72/A),G=(parseInt(M.lineHeight)-parseInt(M.fontSize))/A/2,Q=E.map(function(z){return parseInt(z||"0")/P}),ne=(0,S.parseSpacing)(Q,0);return G>ne.top&&(ne.top=G),G>ne.bottom&&(ne.bottom=G),ne}},744:function(g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var v={},S=function(){function j(N){this.jsPDFDocument=N,this.userStyles={textColor:N.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:N.internal.getFontSize(),fontStyle:N.internal.getFont().fontStyle,font:N.internal.getFont().fontName,lineWidth:N.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:N.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return j.setDefaults=function(N,b){b===void 0&&(b=null),b?b.__autoTableDocumentDefaults=N:v=N},j.unifyColor=function(N){return Array.isArray(N)?N:typeof N=="number"?[N,N,N]:typeof N=="string"?[N]:null},j.prototype.applyStyles=function(N,b){var T,O,M;b===void 0&&(b=!1),N.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N.fontStyle);var A=this.jsPDFDocument.internal.getFont(),E=A.fontStyle,P=A.fontName;if(N.font&&(P=N.font),N.fontStyle){E=N.fontStyle;var G=this.getFontList()[P];G&&G.indexOf(E)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(G[0]),E=G[0])}if(this.jsPDFDocument.setFont(P,E),N.fontSize&&this.jsPDFDocument.setFontSize(N.fontSize),!b){var Q=j.unifyColor(N.fillColor);Q&&(T=this.jsPDFDocument).setFillColor.apply(T,Q),Q=j.unifyColor(N.textColor),Q&&(O=this.jsPDFDocument).setTextColor.apply(O,Q),Q=j.unifyColor(N.lineColor),Q&&(M=this.jsPDFDocument).setDrawColor.apply(M,Q),typeof N.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(N.lineWidth)}},j.prototype.splitTextToSize=function(N,b,T){return this.jsPDFDocument.splitTextToSize(N,b,T)},j.prototype.rect=function(N,b,T,O,M){return this.jsPDFDocument.rect(N,b,T,O,M)},j.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},j.prototype.getTextWidth=function(N){return this.jsPDFDocument.getTextWidth(N)},j.prototype.getDocument=function(){return this.jsPDFDocument},j.prototype.setPage=function(N){this.jsPDFDocument.setPage(N)},j.prototype.addPage=function(){return this.jsPDFDocument.addPage()},j.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},j.prototype.getGlobalOptions=function(){return v||{}},j.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},j.prototype.pageSize=function(){var N=this.jsPDFDocument.internal.pageSize;return N.width==null&&(N={width:N.getWidth(),height:N.getHeight()}),N},j.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},j.prototype.getLineHeightFactor=function(){var N=this.jsPDFDocument;return N.getLineHeightFactor?N.getLineHeightFactor():1.15},j.prototype.getLineHeight=function(N){return N/this.scaleFactor()*this.getLineHeightFactor()},j.prototype.pageNumber=function(){var N=this.jsPDFDocument.internal.getCurrentPageInfo();return N?N.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},j}();h.DocHandler=S},4:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var S=v(903),j=v(796);function N(O,M,A,E,P){var G,Q;E===void 0&&(E=!1),P===void 0&&(P=!1);var ne;typeof M=="string"?ne=A.document.querySelector(M):ne=M;var z=Object.keys(O.getFontList()),B=O.scaleFactor(),R=[],le=[],k=[];if(!ne)return console.error("Html table could not be found with input: ",M),{head:R,body:le,foot:k};for(var C=0;C<ne.rows.length;C++){var H=ne.rows[C],Y=(Q=(G=H==null?void 0:H.parentElement)===null||G===void 0?void 0:G.tagName)===null||Q===void 0?void 0:Q.toLowerCase(),ue=b(z,B,A,H,E,P);ue&&(Y==="thead"?R.push(ue):Y==="tfoot"?k.push(ue):le.push(ue))}return{head:R,body:le,foot:k}}h.parseHtml=N;function b(O,M,A,E,P,G){for(var Q=new j.HtmlRowInput(E),ne=0;ne<E.cells.length;ne++){var z=E.cells[ne],B=A.getComputedStyle(z);if(P||B.display!=="none"){var R=void 0;G&&(R=(0,S.parseCss)(O,z,M,B,A)),Q.push({rowSpan:z.rowSpan,colSpan:z.colSpan,styles:R,_element:z,content:T(z)})}}var le=A.getComputedStyle(E);if(Q.length>0&&(P||le.display!=="none"))return Q}function T(O){var M=O.cloneNode(!0);return M.innerHTML=M.innerHTML.replace(/\n/g,"").replace(/ +/g," "),M.innerHTML=M.innerHTML.split(/<br.*?>/).map(function(A){return A.trim()}).join(`
`),M.innerText||M.textContent||""}},776:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var S=v(4),j=v(356),N=v(420),b=v(744),T=v(792);function O(ne,z){var B=new b.DocHandler(ne),R=B.getDocumentOptions(),le=B.getGlobalOptions();(0,T.default)(B,le,R,z);var k=(0,j.assign)({},le,R,z),C;typeof window<"u"&&(C=window);var H=M(le,R,z),Y=A(le,R,z),ue=E(B,k),F=G(B,k,C);return{id:z.tableId,content:F,hooks:Y,styles:H,settings:ue}}h.parseInput=O;function M(ne,z,B){for(var R={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},le=function(Y){if(Y==="columnStyles"){var ue=ne[Y],F=z[Y],W=B[Y];R.columnStyles=(0,j.assign)({},ue,F,W)}else{var ee=[ne,z,B],re=ee.map(function(_){return _[Y]||{}});R[Y]=(0,j.assign)({},re[0],re[1],re[2])}},k=0,C=Object.keys(R);k<C.length;k++){var H=C[k];le(H)}return R}function A(ne,z,B){for(var R=[ne,z,B],le={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,C=R;k<C.length;k++){var H=C[k];H.didParseCell&&le.didParseCell.push(H.didParseCell),H.willDrawCell&&le.willDrawCell.push(H.willDrawCell),H.didDrawCell&&le.didDrawCell.push(H.didDrawCell),H.willDrawPage&&le.willDrawPage.push(H.willDrawPage),H.didDrawPage&&le.didDrawPage.push(H.didDrawPage)}return le}function E(ne,z){var B,R,le,k,C,H,Y,ue,F,W,ee,re,_=(0,N.parseSpacing)(z.margin,40/ne.scaleFactor()),ie=(B=P(ne,z.startY))!==null&&B!==void 0?B:_.top,D;z.showFoot===!0?D="everyPage":z.showFoot===!1?D="never":D=(R=z.showFoot)!==null&&R!==void 0?R:"everyPage";var V;z.showHead===!0?V="everyPage":z.showHead===!1?V="never":V=(le=z.showHead)!==null&&le!==void 0?le:"everyPage";var J=(k=z.useCss)!==null&&k!==void 0?k:!1,se=z.theme||(J?"plain":"striped"),te=!!z.horizontalPageBreak,pe=(C=z.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(H=z.includeHiddenHtml)!==null&&H!==void 0?H:!1,useCss:J,theme:se,startY:ie,margin:_,pageBreak:(Y=z.pageBreak)!==null&&Y!==void 0?Y:"auto",rowPageBreak:(ue=z.rowPageBreak)!==null&&ue!==void 0?ue:"auto",tableWidth:(F=z.tableWidth)!==null&&F!==void 0?F:"auto",showHead:V,showFoot:D,tableLineWidth:(W=z.tableLineWidth)!==null&&W!==void 0?W:0,tableLineColor:(ee=z.tableLineColor)!==null&&ee!==void 0?ee:200,horizontalPageBreak:te,horizontalPageBreakRepeat:pe,horizontalPageBreakBehaviour:(re=z.horizontalPageBreakBehaviour)!==null&&re!==void 0?re:"afterAllRows"}}function P(ne,z){var B=ne.getLastAutoTable(),R=ne.scaleFactor(),le=ne.pageNumber(),k=!1;if(B&&B.startPageNumber){var C=B.startPageNumber+B.pageNumber-1;k=C===le}return typeof z=="number"?z:(z==null||z===!1)&&k&&(B==null?void 0:B.finalY)!=null?B.finalY+20/R:null}function G(ne,z,B){var R=z.head||[],le=z.body||[],k=z.foot||[];if(z.html){var C=z.includeHiddenHtml;if(B){var H=(0,S.parseHtml)(ne,z.html,B,C,z.useCss)||{};R=H.head||R,le=H.body||R,k=H.foot||R}else console.error("Cannot parse html in non browser environment")}var Y=z.columns||Q(R,le,k);return{columns:Y,head:R,body:le,foot:k}}function Q(ne,z,B){var R=ne[0]||z[0]||B[0]||[],le=[];return Object.keys(R).filter(function(k){return k!=="_element"}).forEach(function(k){var C=1,H;Array.isArray(R)?H=R[parseInt(k)]:H=R[k],typeof H=="object"&&!Array.isArray(H)&&(C=(H==null?void 0:H.colSpan)||1);for(var Y=0;Y<C;Y++){var ue=void 0;Array.isArray(R)?ue=le.length:ue=k+(Y>0?"_".concat(Y):"");var F={dataKey:ue};le.push(F)}}),le}},792:function(g,h){Object.defineProperty(h,"__esModule",{value:!0});function v(j,N,b,T){for(var O=function(P){P&&typeof P!="object"&&console.error("The options parameter should be of type object, is: "+typeof P),typeof P.extendWidth<"u"&&(P.tableWidth=P.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof P.margins<"u"&&(typeof P.margin>"u"&&(P.margin=P.margins),console.error("Use of deprecated option: margins, use margin instead.")),P.startY&&typeof P.startY!="number"&&(console.error("Invalid value for startY option",P.startY),delete P.startY),!P.didDrawPage&&(P.afterPageContent||P.beforePageContent||P.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),P.didDrawPage=function(k){j.applyStyles(j.userStyles),P.beforePageContent&&P.beforePageContent(k),j.applyStyles(j.userStyles),P.afterPageContent&&P.afterPageContent(k),j.applyStyles(j.userStyles),P.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),j.applyStyles(j.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){P[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var C=k[0],H=k[1];P[H]&&(console.error("Use of deprecated option ".concat(H,". Use ").concat(C," instead")),P[C]=P[H])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var C=typeof k=="string"?k:k[0],H=typeof k=="string"?k:k[1];typeof P[C]<"u"&&(typeof P.styles[H]>"u"&&(P.styles[H]=P[C]),console.error("Use of deprecated option: "+C+", use the style "+H+" instead."))});for(var G=0,Q=["styles","bodyStyles","headStyles","footStyles"];G<Q.length;G++){var ne=Q[G];S(P[ne]||{})}for(var z=P.columnStyles||{},B=0,R=Object.keys(z);B<R.length;B++){var le=R[B];S(z[le]||{})}},M=0,A=[N,b,T];M<A.length;M++){var E=A[M];O(E)}}h.default=v;function S(j){j.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),j.minCellHeight||(j.minCellHeight=j.rowHeight)):j.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),j.cellWidth||(j.cellWidth=j.columnWidth))}},260:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var S=v(796),j=v(172),N=v(420),b=function(){function A(E,P){this.pageNumber=1,this.pageCount=1,this.id=E.id,this.settings=E.settings,this.styles=E.styles,this.hooks=E.hooks,this.columns=P.columns,this.head=P.head,this.body=P.body,this.foot=P.foot}return A.prototype.getHeadHeight=function(E){return this.head.reduce(function(P,G){return P+G.getMaxCellHeight(E)},0)},A.prototype.getFootHeight=function(E){return this.foot.reduce(function(P,G){return P+G.getMaxCellHeight(E)},0)},A.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},A.prototype.callCellHooks=function(E,P,G,Q,ne,z){for(var B=0,R=P;B<R.length;B++){var le=R[B],k=new j.CellHookData(E,this,G,Q,ne,z),C=le(k)===!1;if(G.text=Array.isArray(G.text)?G.text:[G.text],C)return!1}return!0},A.prototype.callEndPageHooks=function(E,P){E.applyStyles(E.userStyles);for(var G=0,Q=this.hooks.didDrawPage;G<Q.length;G++){var ne=Q[G];ne(new j.HookData(E,this,P))}},A.prototype.callWillDrawPageHooks=function(E,P){for(var G=0,Q=this.hooks.willDrawPage;G<Q.length;G++){var ne=Q[G];ne(new j.HookData(E,this,P))}},A.prototype.getWidth=function(E){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var P=this.columns.reduce(function(Q,ne){return Q+ne.wrappedWidth},0);return P}else{var G=this.settings.margin;return E-G.left-G.right}},A}();h.Table=b;var T=function(){function A(E,P,G,Q,ne){ne===void 0&&(ne=!1),this.height=0,this.raw=E,E instanceof S.HtmlRowInput&&(this.raw=E._element,this.element=E._element),this.index=P,this.section=G,this.cells=Q,this.spansMultiplePages=ne}return A.prototype.getMaxCellHeight=function(E){var P=this;return E.reduce(function(G,Q){var ne;return Math.max(G,((ne=P.cells[Q.index])===null||ne===void 0?void 0:ne.height)||0)},0)},A.prototype.hasRowSpan=function(E){var P=this;return E.filter(function(G){var Q=P.cells[G.index];return Q?Q.rowSpan>1:!1}).length>0},A.prototype.canEntireRowFit=function(E,P){return this.getMaxCellHeight(P)<=E},A.prototype.getMinimumRowHeight=function(E,P){var G=this;return E.reduce(function(Q,ne){var z=G.cells[ne.index];if(!z)return 0;var B=P.getLineHeight(z.styles.fontSize),R=z.padding("vertical"),le=R+B;return le>Q?le:Q},0)},A}();h.Row=T;var O=function(){function A(E,P,G){var Q,ne;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=P,this.section=G,this.raw=E;var z=E;E!=null&&typeof E=="object"&&!Array.isArray(E)?(this.rowSpan=E.rowSpan||1,this.colSpan=E.colSpan||1,z=(ne=(Q=E.content)!==null&&Q!==void 0?Q:E.title)!==null&&ne!==void 0?ne:E,E._element&&(this.raw=E._element)):(this.rowSpan=1,this.colSpan=1);var B=z!=null?""+z:"",R=/\r\n|\r|\n/g;this.text=B.split(R)}return A.prototype.getTextPos=function(){var E;if(this.styles.valign==="top")E=this.y+this.padding("top");else if(this.styles.valign==="bottom")E=this.y+this.height-this.padding("bottom");else{var P=this.height-this.padding("vertical");E=this.y+P/2+this.padding("top")}var G;if(this.styles.halign==="right")G=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Q=this.width-this.padding("horizontal");G=this.x+Q/2+this.padding("left")}else G=this.x+this.padding("left");return{x:G,y:E}},A.prototype.getContentHeight=function(E,P){P===void 0&&(P=1.15);var G=Array.isArray(this.text)?this.text.length:1,Q=this.styles.fontSize/E*P,ne=G*Q+this.padding("vertical");return Math.max(ne,this.styles.minCellHeight)},A.prototype.padding=function(E){var P=(0,N.parseSpacing)(this.styles.cellPadding,0);return E==="vertical"?P.top+P.bottom:E==="horizontal"?P.left+P.right:P[E]},A}();h.Cell=O;var M=function(){function A(E,P,G){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=E,this.raw=P,this.index=G}return A.prototype.getMaxCustomCellWidth=function(E){for(var P=0,G=0,Q=E.allRows();G<Q.length;G++){var ne=Q[G],z=ne.cells[this.index];z&&typeof z.styles.cellWidth=="number"&&(P=Math.max(P,z.styles.cellWidth))}return P},A}();h.Column=M},356:function(g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function v(S,j,N,b,T){if(S==null)throw new TypeError("Cannot convert undefined or null to object");for(var O=Object(S),M=1;M<arguments.length;M++){var A=arguments[M];if(A!=null)for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(O[E]=A[E])}return O}h.assign=v},972:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var S=v(744),j=v(260),N=v(324),b=v(796),T=v(356);function O(ne,z){var B=new S.DocHandler(ne),R=M(z,B.scaleFactor()),le=new j.Table(z,R);return(0,N.calculateWidths)(B,le),B.applyStyles(B.userStyles),le}h.createTable=O;function M(ne,z){var B=ne.content,R=G(B.columns);if(B.head.length===0){var le=E(R,"head");le&&B.head.push(le)}if(B.foot.length===0){var le=E(R,"foot");le&&B.foot.push(le)}var k=ne.settings.theme,C=ne.styles;return{columns:R,head:A("head",B.head,R,C,k,z),body:A("body",B.body,R,C,k,z),foot:A("foot",B.foot,R,C,k,z)}}function A(ne,z,B,R,le,k){var C={},H=z.map(function(Y,ue){for(var F=0,W={},ee=0,re=0,_=0,ie=B;_<ie.length;_++){var D=ie[_];if(C[D.index]==null||C[D.index].left===0)if(re===0){var V=void 0;Array.isArray(Y)?V=Y[D.index-ee-F]:V=Y[D.dataKey];var J={};typeof V=="object"&&!Array.isArray(V)&&(J=(V==null?void 0:V.styles)||{});var se=Q(ne,D,ue,le,R,k,J),te=new j.Cell(V,se,ne);W[D.dataKey]=te,W[D.index]=te,re=te.colSpan-1,C[D.index]={left:te.rowSpan-1,times:re}}else re--,ee++;else C[D.index].left--,re=C[D.index].times,F++}return new j.Row(Y,ue,ne,W)});return H}function E(ne,z){var B={};return ne.forEach(function(R){if(R.raw!=null){var le=P(z,R.raw);le!=null&&(B[R.dataKey]=le)}}),Object.keys(B).length>0?B:null}function P(ne,z){if(ne==="head"){if(typeof z=="object")return z.header||z.title||null;if(typeof z=="string"||typeof z=="number")return z}else if(ne==="foot"&&typeof z=="object")return z.footer;return null}function G(ne){return ne.map(function(z,B){var R,le,k;return typeof z=="object"?k=(le=(R=z.dataKey)!==null&&R!==void 0?R:z.key)!==null&&le!==void 0?le:B:k=B,new j.Column(k,z,B)})}function Q(ne,z,B,R,le,k,C){var H=(0,b.getTheme)(R),Y;ne==="head"?Y=le.headStyles:ne==="body"?Y=le.bodyStyles:ne==="foot"&&(Y=le.footStyles);var ue=(0,T.assign)({},H.table,H[ne],le.styles,Y),F=le.columnStyles[z.dataKey]||le.columnStyles[z.index]||{},W=ne==="body"?F:{},ee=ne==="body"&&B%2===0?(0,T.assign)({},H.alternateRow,le.alternateRowStyles):{},re=(0,b.defaultStyles)(k),_=(0,T.assign)({},re,ue,ee,W);return(0,T.assign)(_,C)}},664:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var S=v(420),j=v(260),N=v(744),b=v(356),T=v(136),O=v(224);function M(F,W){var ee=W.settings,re=ee.startY,_=ee.margin,ie={x:_.left,y:re},D=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns),V=re+_.bottom+D;if(ee.pageBreak==="avoid"){var J=W.body,se=J.reduce(function(me,de){return me+de.height},0);V+=se}var te=new N.DocHandler(F);(ee.pageBreak==="always"||ee.startY!=null&&V>te.pageSize().height)&&(ue(te),ie.y=_.top),W.callWillDrawPageHooks(te,ie);var pe=(0,b.assign)({},ie);W.startPageNumber=te.pageNumber(),ee.horizontalPageBreak?A(te,W,pe,ie):(te.applyStyles(te.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&W.head.forEach(function(me){return le(te,W,me,ie,W.columns)}),te.applyStyles(te.userStyles),W.body.forEach(function(me,de){var ke=de===W.body.length-1;R(te,W,me,ke,pe,ie,W.columns)}),te.applyStyles(te.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&W.foot.forEach(function(me){return le(te,W,me,ie,W.columns)})),(0,S.addTableBorder)(te,W,pe,ie),W.callEndPageHooks(te,ie),W.finalY=ie.y,F.lastAutoTable=W,F.previousAutoTable=W,F.autoTable&&(F.autoTable.previous=W),te.applyStyles(te.userStyles)}h.drawTable=M;function A(F,W,ee,re){var _=(0,O.calculateAllColumnsCanFitInPage)(F,W),ie=W.settings;if(ie.horizontalPageBreakBehaviour==="afterAllRows")_.forEach(function(se,te){F.applyStyles(F.userStyles),te>0?Y(F,W,ee,re,se.columns,!0):E(F,W,re,se.columns),P(F,W,ee,re,se.columns),Q(F,W,re,se.columns)});else for(var D=-1,V=_[0],J=function(){var se=D;if(V){F.applyStyles(F.userStyles);var te=V.columns;D>=0?Y(F,W,ee,re,te,!0):E(F,W,re,te),se=G(F,W,D+1,re,te),Q(F,W,re,te)}var pe=se-D;_.slice(1).forEach(function(me){F.applyStyles(F.userStyles),Y(F,W,ee,re,me.columns,!0),G(F,W,D+1,re,me.columns,pe),Q(F,W,re,me.columns)}),D=se};D<W.body.length-1;)J()}function E(F,W,ee,re){var _=W.settings;F.applyStyles(F.userStyles),(_.showHead==="firstPage"||_.showHead==="everyPage")&&W.head.forEach(function(ie){return le(F,W,ie,ee,re)})}function P(F,W,ee,re,_){F.applyStyles(F.userStyles),W.body.forEach(function(ie,D){var V=D===W.body.length-1;R(F,W,ie,V,ee,re,_)})}function G(F,W,ee,re,_,ie){F.applyStyles(F.userStyles),ie=ie??W.body.length;var D=Math.min(ee+ie,W.body.length),V=-1;return W.body.slice(ee,D).forEach(function(J,se){var te=ee+se===W.body.length-1,pe=H(F,W,te,re);J.canEntireRowFit(pe,_)&&(le(F,W,J,re,_),V=ee+se)}),V}function Q(F,W,ee,re){var _=W.settings;F.applyStyles(F.userStyles),(_.showFoot==="lastPage"||_.showFoot==="everyPage")&&W.foot.forEach(function(ie){return le(F,W,ie,ee,re)})}function ne(F,W,ee){var re=ee.getLineHeight(F.styles.fontSize),_=F.padding("vertical"),ie=Math.floor((W-_)/re);return Math.max(0,ie)}function z(F,W,ee,re){var _={};F.spansMultiplePages=!0,F.height=0;for(var ie=0,D=0,V=ee.columns;D<V.length;D++){var J=V[D],se=F.cells[J.index];if(se){Array.isArray(se.text)||(se.text=[se.text]);var te=new j.Cell(se.raw,se.styles,se.section);te=(0,b.assign)(te,se),te.text=[];var pe=ne(se,W,re);se.text.length>pe&&(te.text=se.text.splice(pe,se.text.length));var me=re.scaleFactor(),de=re.getLineHeightFactor();se.contentHeight=se.getContentHeight(me,de),se.contentHeight>=W&&(se.contentHeight=W,te.styles.minCellHeight-=W),se.contentHeight>F.height&&(F.height=se.contentHeight),te.contentHeight=te.getContentHeight(me,de),te.contentHeight>ie&&(ie=te.contentHeight),_[J.index]=te}}var ke=new j.Row(F.raw,-1,F.section,_,!0);ke.height=ie;for(var Oe=0,Ge=ee.columns;Oe<Ge.length;Oe++){var J=Ge[Oe],te=ke.cells[J.index];te&&(te.height=ke.height);var se=F.cells[J.index];se&&(se.height=F.height)}return ke}function B(F,W,ee,re){var _=F.pageSize().height,ie=re.settings.margin,D=ie.top+ie.bottom,V=_-D;W.section==="body"&&(V-=re.getHeadHeight(re.columns)+re.getFootHeight(re.columns));var J=W.getMinimumRowHeight(re.columns,F),se=J<ee;if(J>V)return console.error("Will not be able to print row ".concat(W.index," correctly since it's minimum height is larger than page height")),!0;if(!se)return!1;var te=W.hasRowSpan(re.columns),pe=W.getMaxCellHeight(re.columns)>V;return pe?(te&&console.error("The content of row ".concat(W.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(te||re.settings.rowPageBreak==="avoid")}function R(F,W,ee,re,_,ie,D){var V=H(F,W,re,ie);if(ee.canEntireRowFit(V,D))le(F,W,ee,ie,D);else if(B(F,ee,V,W)){var J=z(ee,V,W,F);le(F,W,ee,ie,D),Y(F,W,_,ie,D),R(F,W,J,re,_,ie,D)}else Y(F,W,_,ie,D),R(F,W,ee,re,_,ie,D)}function le(F,W,ee,re,_){re.x=W.settings.margin.left;for(var ie=0,D=_;ie<D.length;ie++){var V=D[ie],J=ee.cells[V.index];if(!J){re.x+=V.width;continue}F.applyStyles(J.styles),J.x=re.x,J.y=re.y;var se=W.callCellHooks(F,W.hooks.willDrawCell,J,ee,V,re);if(se===!1){re.x+=V.width;continue}k(F,J,re);var te=J.getTextPos();(0,T.default)(J.text,te.x,te.y,{halign:J.styles.halign,valign:J.styles.valign,maxWidth:Math.ceil(J.width-J.padding("left")-J.padding("right"))},F.getDocument()),W.callCellHooks(F,W.hooks.didDrawCell,J,ee,V,re),re.x+=V.width}re.y+=ee.height}function k(F,W,ee){var re=W.styles;if(F.getDocument().setFillColor(F.getDocument().getFillColor()),typeof re.lineWidth=="number"){var _=(0,S.getFillStyle)(re.lineWidth,re.fillColor);_&&F.rect(W.x,ee.y,W.width,W.height,_)}else typeof re.lineWidth=="object"&&(re.fillColor&&F.rect(W.x,ee.y,W.width,W.height,"F"),C(F,W,ee,re.lineWidth))}function C(F,W,ee,re){var _,ie,D,V;re.top&&(_=ee.x,ie=ee.y,D=ee.x+W.width,V=ee.y,re.right&&(D+=.5*re.right),re.left&&(_-=.5*re.left),J(re.top,_,ie,D,V)),re.bottom&&(_=ee.x,ie=ee.y+W.height,D=ee.x+W.width,V=ee.y+W.height,re.right&&(D+=.5*re.right),re.left&&(_-=.5*re.left),J(re.bottom,_,ie,D,V)),re.left&&(_=ee.x,ie=ee.y,D=ee.x,V=ee.y+W.height,re.top&&(ie-=.5*re.top),re.bottom&&(V+=.5*re.bottom),J(re.left,_,ie,D,V)),re.right&&(_=ee.x+W.width,ie=ee.y,D=ee.x+W.width,V=ee.y+W.height,re.top&&(ie-=.5*re.top),re.bottom&&(V+=.5*re.bottom),J(re.right,_,ie,D,V));function J(se,te,pe,me,de){F.getDocument().setLineWidth(se),F.getDocument().line(te,pe,me,de,"S")}}function H(F,W,ee,re){var _=W.settings.margin.bottom,ie=W.settings.showFoot;return(ie==="everyPage"||ie==="lastPage"&&ee)&&(_+=W.getFootHeight(W.columns)),F.pageSize().height-re.y-_}function Y(F,W,ee,re,_,ie){_===void 0&&(_=[]),ie===void 0&&(ie=!1),F.applyStyles(F.userStyles),W.settings.showFoot==="everyPage"&&!ie&&W.foot.forEach(function(V){return le(F,W,V,re,_)}),W.callEndPageHooks(F,re);var D=W.settings.margin;(0,S.addTableBorder)(F,W,ee,re),ue(F),W.pageNumber++,W.pageCount++,re.x=D.left,re.y=D.top,ee.y=D.top,W.callWillDrawPageHooks(F,re),W.settings.showHead==="everyPage"&&(W.head.forEach(function(V){return le(F,W,V,re,_)}),F.applyStyles(F.userStyles))}h.addPage=Y;function ue(F){var W=F.pageNumber();F.setPage(W+1);var ee=F.pageNumber();return ee===W?(F.addPage(),!0):!1}},224:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var S=v(420);function j(b,T,O){var M;O===void 0&&(O={});var A=(0,S.getPageAvailableWidth)(b,T),E=new Map,P=[],G=[],Q=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?Q=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(Q=[T.settings.horizontalPageBreakRepeat]),Q.forEach(function(R){var le=T.columns.find(function(k){return k.dataKey===R||k.index===R});le&&!E.has(le.index)&&(E.set(le.index,!0),P.push(le.index),G.push(T.columns[le.index]),A-=le.wrappedWidth)});for(var ne=!0,z=(M=O==null?void 0:O.start)!==null&&M!==void 0?M:0;z<T.columns.length;){if(E.has(z)){z++;continue}var B=T.columns[z].wrappedWidth;if(ne||A>=B)ne=!1,P.push(z),G.push(T.columns[z]),A-=B;else break;z++}return{colIndexes:P,columns:G,lastIndex:z-1}}function N(b,T){for(var O=[],M=0;M<T.columns.length;M++){var A=j(b,T,{start:M});A.columns.length&&(O.push(A),M=A.lastIndex)}return O}h.calculateAllColumnsCanFitInPage=N},324:function(g,h,v){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var S=v(420);function j(P,G){N(P,G);var Q=[],ne=0;G.columns.forEach(function(B){var R=B.getMaxCustomCellWidth(G);R?B.width=R:(B.width=B.wrappedWidth,Q.push(B)),ne+=B.width});var z=G.getWidth(P.pageSize().width)-ne;z&&(z=b(Q,z,function(B){return Math.max(B.minReadableWidth,B.minWidth)})),z&&(z=b(Q,z,function(B){return B.minWidth})),z=Math.abs(z),!G.settings.horizontalPageBreak&&z>.1/P.scaleFactor()&&(z=z<1?z:Math.round(z),console.warn("Of the table content, ".concat(z," units width could not fit page"))),O(G),M(G,P),T(G)}h.calculateWidths=j;function N(P,G){var Q=P.scaleFactor(),ne=G.settings.horizontalPageBreak,z=(0,S.getPageAvailableWidth)(P,G);G.allRows().forEach(function(B){for(var R=0,le=G.columns;R<le.length;R++){var k=le[R],C=B.cells[k.index];if(C){var H=G.hooks.didParseCell;G.callCellHooks(P,H,C,B,k,null);var Y=C.padding("horizontal");C.contentWidth=(0,S.getStringWidth)(C.text,C.styles,P)+Y;var ue=(0,S.getStringWidth)(C.text.join(" ").split(/\s+/),C.styles,P);if(C.minReadableWidth=ue+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||ne===!0)C.contentWidth>z?(C.minWidth=z,C.wrappedWidth=z):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var F=10/Q;C.minWidth=C.styles.minCellWidth||F,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),G.allRows().forEach(function(B){for(var R=0,le=G.columns;R<le.length;R++){var k=le[R],C=B.cells[k.index];if(C&&C.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,C.wrappedWidth),k.minWidth=Math.max(k.minWidth,C.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,C.minReadableWidth);else{var H=G.styles.columnStyles[k.dataKey]||G.styles.columnStyles[k.index]||{},Y=H.cellWidth||H.minCellWidth;Y&&typeof Y=="number"&&(k.minWidth=Y,k.wrappedWidth=Y)}C&&(C.colSpan>1&&!k.minWidth&&(k.minWidth=C.minWidth),C.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=C.minWidth))}})}function b(P,G,Q){for(var ne=G,z=P.reduce(function(F,W){return F+W.wrappedWidth},0),B=0;B<P.length;B++){var R=P[B],le=R.wrappedWidth/z,k=ne*le,C=R.width+k,H=Q(R),Y=C<H?H:C;G-=Y-R.width,R.width=Y}if(G=Math.round(G*1e10)/1e10,G){var ue=P.filter(function(F){return G<0?F.width>Q(F):!0});ue.length&&(G=b(ue,G,Q))}return G}h.resizeColumns=b;function T(P){for(var G={},Q=1,ne=P.allRows(),z=0;z<ne.length;z++)for(var B=ne[z],R=0,le=P.columns;R<le.length;R++){var k=le[R],C=G[k.index];if(Q>1)Q--,delete B.cells[k.index];else if(C)C.cell.height+=B.height,Q=C.cell.colSpan,delete B.cells[k.index],C.left--,C.left<=1&&delete G[k.index];else{var H=B.cells[k.index];if(!H)continue;if(H.height=B.height,H.rowSpan>1){var Y=ne.length-z,ue=H.rowSpan>Y?Y:H.rowSpan;G[k.index]={cell:H,left:ue,row:B}}}}}function O(P){for(var G=P.allRows(),Q=0;Q<G.length;Q++)for(var ne=G[Q],z=null,B=0,R=0,le=0;le<P.columns.length;le++){var k=P.columns[le];if(R-=1,R>1&&P.columns[le+1])B+=k.width,delete ne.cells[k.index];else if(z){var C=z;delete ne.cells[k.index],z=null,C.width=k.width+B}else{var C=ne.cells[k.index];if(!C)continue;if(R=C.colSpan,B=0,C.colSpan>1){z=C,B+=k.width;continue}C.width=k.width+B}}}function M(P,G){for(var Q={count:0,height:0},ne=0,z=P.allRows();ne<z.length;ne++){for(var B=z[ne],R=0,le=P.columns;R<le.length;R++){var k=le[R],C=B.cells[k.index];if(C){G.applyStyles(C.styles,!0);var H=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=G.splitTextToSize(C.text,H+1/G.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=A(C.text,H,C.styles,G,"...");else if(C.styles.overflow==="hidden")C.text=A(C.text,H,C.styles,G,"");else if(typeof C.styles.overflow=="function"){var Y=C.styles.overflow(C.text,H);typeof Y=="string"?C.text=[Y]:C.text=Y}C.contentHeight=C.getContentHeight(G.scaleFactor(),G.getLineHeightFactor());var ue=C.contentHeight/C.rowSpan;C.rowSpan>1&&Q.count*Q.height<ue*C.rowSpan?Q={height:ue,count:C.rowSpan}:Q&&Q.count>0&&Q.height>ue&&(ue=Q.height),ue>B.height&&(B.height=ue)}}Q.count--}}function A(P,G,Q,ne,z){return P.map(function(B){return E(B,G,Q,ne,z)})}h.ellipsize=A;function E(P,G,Q,ne,z){var B=1e4*ne.scaleFactor();if(G=Math.ceil(G*B)/B,G>=(0,S.getStringWidth)(P,Q,ne))return P;for(;G<(0,S.getStringWidth)(P+z,Q,ne)&&!(P.length<=1);)P=P.substring(0,P.length-1);return P.trim()+z}},964:function(g){if(typeof r>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}g.exports=r}},d={};function u(g){var h=d[g];if(h!==void 0)return h.exports;var v=d[g]={exports:{}};return o[g].call(v.exports,v,v.exports,u),v.exports}var m={};return function(){var g=m;Object.defineProperty(g,"__esModule",{value:!0}),g.Cell=g.Column=g.Row=g.Table=g.CellHookData=g.__drawTable=g.__createTable=g.applyPlugin=void 0;var h=u(340),v=u(776),S=u(664),j=u(972),N=u(260);Object.defineProperty(g,"Table",{enumerable:!0,get:function(){return N.Table}});var b=u(172);Object.defineProperty(g,"CellHookData",{enumerable:!0,get:function(){return b.CellHookData}});var T=u(260);Object.defineProperty(g,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(g,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(g,"Row",{enumerable:!0,get:function(){return T.Row}});function O(G){(0,h.default)(G)}g.applyPlugin=O;function M(G,Q){var ne=(0,v.parseInput)(G,Q),z=(0,j.createTable)(G,ne);(0,S.drawTable)(G,z)}function A(G,Q){var ne=(0,v.parseInput)(G,Q);return(0,j.createTable)(G,ne)}g.__createTable=A;function E(G,Q){(0,S.drawTable)(G,Q)}g.__drawTable=E;try{var P=u(964);P.jsPDF&&(P=P.jsPDF),O(P)}catch{}g.default=M}(),m}()})}(cf)),cf.exports}var Wv=Yv();const Xv=ip(Wv),Qv=async(n,i,r,o,d,u,m)=>{const{IMPACT_QUESTIONS:g,IMPACT_OPTIONS:h,PEOPLE_INVOLVED_OPTIONS:v,GRANT_ACTIVITIES_OPTIONS:S}=u,{expenseLabels:j}=m.budget,N=new Map(Object.values(yi).flat().map(C=>[C.key,j[C.key]!==void 0&&j[C.key]!==""?j[C.key]:C.label])),b=new mt("p","pt","a4"),T=b.internal.pageSize.getHeight(),O=b.internal.pageSize.getWidth(),M=40;let A=0;const E=()=>{b.addPage(),A=M},P=(C,H,Y,ue={})=>{const F=ue.fontSize||10,W=ue.fontStyle||"normal",ee=ue.color||"#000000",re=ue.maxWidth||O-M*2,_=ue.lineSpacing||1.2,ie=F*_;b.setFontSize(F),b.setFont("helvetica",W),b.setTextColor(ee);const D=b.splitTextToSize(C||"N/A",re);return Y+D.length*ie>T-M&&(E(),Y=A),b.text(D,H,Y),Y+D.length*ie},G=(C,H)=>{A+40>T-M&&E(),A+=A===M?0:20,A=P(C,M,A,{fontSize:14,fontStyle:"bold"}),b.setDrawColor(100,100,100),b.line(M,A-5,O-M,A-5),A+=10},Q=(C,H)=>{const Y=b.splitTextToSize(H||"N/A",O-M*2-20).length*12+25;A+Y>T-M&&E(),A=P(C,M,A,{fontSize:9,fontStyle:"bold",color:"#334155"}),A=P(H||"N/A",M+10,A+2,{fontSize:10,fontStyle:"normal"}),A+=15},ne=(C,H,Y)=>{Xv(b,{head:C,body:H,startY:A,theme:"striped",headStyles:{fillColor:[41,51,65],textColor:255,fontStyle:"bold"},styles:{fontSize:8,cellPadding:4},didDrawPage:ue=>{var F;A=((F=ue.cursor)==null?void 0:F.y)||M},...Y}),A=b.lastAutoTable.finalY+10},z=C=>C.toLocaleString("en-CA",{style:"currency",currency:"CAD"});A=M;const B=`Final Report: ${n.projectTitle}`;A=P(B,M,A,{fontSize:18,fontStyle:"bold"}),A+=10,A=P(`Report Generated: ${new Date().toLocaleDateString()}`,M,A,{fontSize:10,color:"#64748b"}),G("Project Overview"),Q("Describe the project and its results:",i.projectResults),Q("Project Start Date:",n.projectStartDate?new Date(n.projectStartDate).toLocaleDateString():"N/A"),Q("Project End Date:",n.projectEndDate?new Date(n.projectEndDate).toLocaleDateString():"N/A"),Q("Background:",n.background),E(),G("Collaborators"),n.collaboratorDetails.forEach(C=>{const H=r.find(Y=>Y.id===C.memberId);H&&(A+50>T-M&&E(),A=P(`${H.firstName} ${H.lastName} - ${C.role}`,M,A,{fontSize:12,fontStyle:"bold"}),A=P(H.artistBio||"No full bio provided.",M+10,A+2,{fontSize:10}),A+=15)}),E(),G("Budget Report"),Q("Describe how you spent the grant:",i.grantSpendingDescription),Object.entries(yi).map(([C,H])=>({key:C,title:C.replace(/([A-Z])/g," $1").replace(/^./,Y=>Y.toUpperCase()),fields:H,items:n.budget.expenses[C]})).forEach(C=>{if(C.items.length===0)return;A+60>T-M&&E(),A=P(`Expenses: ${C.title}`,M,A+10,{fontSize:12,fontStyle:"bold"});const H=C.items.map(Y=>{const ue=d.get(Y.id)||0;return[N.get(Y.source)||Y.source,Y.description,z(Y.amount),z(ue),z(Y.amount-ue)]});ne([["Category/Item","Description","Budgeted","Actual","Variance"]],H,{columnStyles:{2:{halign:"right"},3:{halign:"right"},4:{halign:"right"}}})}),E(),G("Workplan"),Q("Were any adjustments made to the workplan?:",i.workplanAdjustments);const le=o.map(C=>{const H=r.find(Y=>Y.id===C.assignedMemberId);return[C.title,H?`${H.firstName} ${H.lastName}`:"Unassigned",C.status,C.dueDate?new Date(C.dueDate).toLocaleDateString():"N/A"]});ne([["Task","Assignee","Status","Due Date"]],le),E(),G("Reach & Impact"),Q("Actively involved individuals who identify as:",i.involvedPeople.map(C=>{var H;return(H=v.find(Y=>Y.value===C))==null?void 0:H.label.replace("... ","")}).join(", ")||"N/A"),Q("Activities supported by this grant involved:",i.involvedActivities.map(C=>{var H;return(H=S.find(Y=>Y.value===C))==null?void 0:H.label.replace("... ","")}).join(", ")||"N/A"),A+=15,g.forEach(C=>{var ue;const H=i.impactStatements[C.id],Y=((ue=h.find(F=>F.value===H))==null?void 0:ue.label)||"Not Answered";Q(C.label,Y)}),E(),G("Additional Information and Assets"),Q("Project Highlights:",i.highlights.map(C=>`${C.title}: ${C.url}`).join(`
`)||"N/A");const k=`Report - ${n.projectTitle}.pdf`;b.save(k)},Ym=[{value:"indigenous",label:"... Indigenous (First Nations, Metis, Inuit, or non-status)"},{value:"disability",label:"... living with a disability or mental illness"},{value:"francophone",label:"... Francophone"},{value:"visibleMinority",label:"... a visible minority"},{value:"deaf",label:"... Deaf"},{value:"underserved",label:"... part of any other underserved community"}],Wm=[{value:"collaborators",label:"... collaborators (artistic or cross-sectoral)"},{value:"staff",label:"... staff members"},{value:"teachers",label:"... teachers"},{value:"audience",label:"... audience members"},{value:"volunteers",label:"... volunteers"},{value:"participants",label:"... active participants in any other role"},{value:"elders",label:"... elders or Indigenous Knowledge Keepers"},{value:"students",label:"... students"}],Xm=[{id:"q1",label:"Without this grant, working on this project would not have been possible"},{id:"q2",label:"As a result of the activities funded by this grant, I am thinking more clearly about my artistic practice"},{id:"q3",label:"This grant has allowed me to (further) develop my artistic skills",instructions:"This may include improving existing skills and learning new skills"},{id:"q4",label:"This grant provided an opportunity to experiment, explore, and take artistic risk"},{id:"q5",label:"My artistic career will benefit and/or has already benefited from this grant"},{id:"q6",label:"This grant provided an opportunity for artistic collaboration that would not have been possible otherwise"},{id:"q7",label:"This grant made it possible to deepen connections with past collaborators"},{id:"q8",label:"This grant made it possible to build relationships with new collaborators"},{id:"q9",label:"This grant created further artistic opportunities for me",instructions:"Consider, for instance: Were any meaningful connections developed with other artists or organizations? Did you gain access to additional funding and/or other resources?"},{id:"q10",label:"This project created new opportunities for the participants involved",instructions:"Consider, for instance: increased ability for creative self-expression, access to new skills"},{id:"q11",label:"This project created new opportunities for the community in which it took place",instructions:"Consider, for instance: providing a voice to an underserved and/or marginalized communities; providing an artistic outlet to communities facing a barrier, creating a platform for meaningful community exchange and engagement, strengthening community bonds"}],Qm=[{value:"1",label:"1 - Strongly Disagree"},{value:"2",label:"2 - Disagree"},{value:"3",label:"3 - Neutral"},{value:"4",label:"4 - Agree"},{value:"5",label:"5 - Strongly Agree"},{value:"na",label:"Does not apply"}],Uc=({title:n,children:i,className:r=""})=>s.jsxs("div",{className:`mb-12 ${r}`,children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 border-b-2 border-teal-500 pb-2 mb-6",children:n}),s.jsx("div",{className:"space-y-6",children:i})]}),Kr=({label:n,instructions:i,children:r,disabled:o=!1})=>s.jsxs("div",{className:o?"pointer-events-none opacity-70":"",children:[n&&s.jsx("div",{className:"text-md font-semibold text-slate-800",children:n}),i&&s.jsx("div",{className:"text-sm text-slate-500 my-1 prose prose-slate max-w-none",children:i}),s.jsx("div",{className:"mt-2",children:r})]}),$v=()=>{var re;const{state:n,dispatch:i,notify:r}=ma(),{projects:o,members:d,tasks:u,activities:m,directExpenses:g,reports:h,reportProjectIdToOpen:v,settings:S}=n,[j,N]=ye.useState(""),[b,T]=ye.useState(!1),[O,M]=ye.useState(null),[A,E]=ye.useState(null),[P,G]=ye.useState(!1),Q=ye.useRef(null),ne=ye.useMemo(()=>o.find(_=>_.id===j),[o,j]),z=ye.useMemo(()=>j?u.filter(_=>_.projectId===j):[],[j,u]),B=ye.useMemo(()=>{const _=new Map;if(!ne)return _;const ie=new Map(u.map(D=>[D.id,D]));return m.forEach(D=>{const V=ie.get(D.taskId);if(!V||V.projectId!==ne.id||D.status!=="Approved"||!V.budgetItemId||V.workType!=="Paid")return;const J=(D.hours||0)*(V.hourlyRate||0);_.set(V.budgetItemId,(_.get(V.budgetItemId)||0)+J)}),g.forEach(D=>{D.projectId===ne.id&&_.set(D.budgetItemId,(_.get(D.budgetItemId)||0)+D.amount)}),_},[ne,u,m,g]);ye.useEffect(()=>{v&&(N(v),i({type:"SET_REPORT_PROJECT_ID_TO_OPEN",payload:null}))},[v,i]),ye.useEffect(()=>{if(!j){M(null),T(!1),E(null);return}const _=o.find(D=>D.id===j);if(!_){M(null);return}const ie=h.find(D=>D.projectId===j);if(ie)M(ie);else{const D={...Xg,id:`rep_${j}`,projectId:j,projectResults:_.projectDescription||""};M(D)}T(!1),E(null)},[j,o,h]);const R=()=>{E(O),T(!0)},le=()=>{E(null),T(!1)},k=()=>{if(!A)return;const _=n.reports.some(ie=>ie.id===A.id)?n.reports.map(ie=>ie.id===A.id?A:ie):[...n.reports,A];i({type:"SET_REPORTS",payload:_}),T(!1),E(null),r("Report saved successfully!","success")},C=(_,ie)=>{A&&E(ta(A,D=>{D[_]=ie}))},H=(_,ie)=>{A&&E(ta(A,D=>{D.impactStatements[_]=ie}))},Y=(_,ie,D)=>{A&&E(ta(A,V=>{const J=V.highlights.find(se=>se.id===_);J&&(J[ie]=D)}))},ue=()=>{A&&E(ta(A,_=>{_.highlights.push({id:`hl_${Date.now()}`,title:"",url:""})}))},F=_=>{A&&E(ta(A,ie=>{ie.highlights=ie.highlights.filter(D=>D.id!==_)}))},W=async()=>{if(!ne||!O){r("Please select a project with a report to generate a PDF.","warning");return}G(!0),r("Generating PDF...","info");try{await Qv(ne,O,d,z,B,{IMPACT_QUESTIONS:Xm,IMPACT_OPTIONS:Qm,PEOPLE_INVOLVED_OPTIONS:Ym,GRANT_ACTIVITIES_OPTIONS:Wm},S)}catch(_){console.error("Failed to generate PDF:",_),r("An error occurred while generating the PDF. Please try again.","error")}finally{G(!1)}},ee=ye.useMemo(()=>o.map(_=>({value:_.id,label:`${_.projectTitle} [${_.status}]`})),[o]);return s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 pb-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Reports"}),s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(lt,{label:"Select a Project to View/Generate Report",htmlFor:"report_project_select",className:"mb-0",children:s.jsx(na,{id:"report_project_select",value:j,onChange:_=>N(_.target.value),options:[{value:"",label:"Select a project..."},...ee]})})})]}),ne?O?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-teal-700",children:ne.projectTitle}),s.jsx("div",{className:"flex items-center gap-3",children:b?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:le,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-100",children:"Cancel"}),s.jsx("button",{onClick:k,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"Save Report"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:R,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700",children:[s.jsx("i",{className:"fa-solid fa-pencil mr-2"}),"Edit Report"]}),s.jsxs("button",{onClick:W,disabled:P,className:"px-4 py-2 text-sm font-medium text-white bg-rose-600 rounded-md shadow-sm hover:bg-rose-700 disabled:bg-slate-400",children:[s.jsx("i",{className:`fa-solid ${P?"fa-spinner fa-spin":"fa-file-pdf"} mr-2`}),P?"Generating...":"Generate PDF"]})]})})]}),s.jsxs("div",{ref:Q,children:[s.jsx(Uc,{title:"Project Description",children:s.jsx(Kr,{label:"Briefly describe the project and its results.",children:s.jsx(pn,{wordLimit:750,rows:10,value:b?A==null?void 0:A.projectResults:O.projectResults,onChange:_=>C("projectResults",_.target.value),disabled:!b})})}),s.jsxs(Uc,{title:"Financial Report",children:[s.jsx(Kr,{label:"Briefly describe how you spent the grant.",children:s.jsx(pn,{wordLimit:300,rows:5,value:b?A==null?void 0:A.grantSpendingDescription:O.grantSpendingDescription,onChange:_=>C("grantSpendingDescription",_.target.value),disabled:!b})}),s.jsx(H5,{project:ne,actuals:B,settings:S})]}),s.jsx(Uc,{title:"Workplan",children:s.jsx(Kr,{label:"Were any adjustments made to the workplan?",children:s.jsx(pn,{wordLimit:200,rows:4,value:b?A==null?void 0:A.workplanAdjustments:O.workplanAdjustments,onChange:_=>C("workplanAdjustments",_.target.value),disabled:!b})})}),s.jsxs(Uc,{title:"Community Reach",children:[s.jsx(Kr,{label:"My activities actively involved individuals who identify as:",instructions:"Select all that apply.",children:s.jsx(Xu,{name:"involvedPeople",options:Ym,selectedValues:b?(A==null?void 0:A.involvedPeople)||[]:O.involvedPeople,onChange:_=>C("involvedPeople",_),columns:2})}),s.jsx(Kr,{label:"The activities supported by this grant involved:",instructions:"Select all that apply.",children:s.jsx(Xu,{name:"involvedActivities",options:Wm,selectedValues:b?(A==null?void 0:A.involvedActivities)||[]:O.involvedActivities,onChange:_=>C("involvedActivities",_),columns:2})})]}),s.jsx(Uc,{title:"Impact Assessment",children:Xm.map(_=>s.jsx(Kr,{label:_.label,instructions:_.instructions,children:s.jsx(G5,{name:_.id,options:Qm,selectedValue:b?(A==null?void 0:A.impactStatements[_.id])||"":O.impactStatements[_.id]||"",onChange:ie=>H(_.id,ie)})},_.id))}),s.jsxs(Uc,{title:"Closing",children:[s.jsx(Kr,{label:"Project Highlights",instructions:"Provide links to documentation of your project (e.g., photos, videos, press).",children:s.jsxs("div",{className:"space-y-3",children:[(re=b?A==null?void 0:A.highlights:O.highlights)==null?void 0:re.map(_=>s.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center",children:[s.jsx(Et,{className:"col-span-5",placeholder:"Title (e.g., Photo Gallery)",value:_.title,onChange:ie=>Y(_.id,"title",ie.target.value),disabled:!b}),s.jsx(Et,{className:"col-span-6",placeholder:"URL (e.g., https://...)",value:_.url,onChange:ie=>Y(_.id,"url",ie.target.value),disabled:!b}),s.jsx("button",{onClick:()=>F(_.id),disabled:!b,className:"col-span-1 text-red-500 hover:text-red-700 disabled:text-slate-300",children:s.jsx("i",{className:"fa-solid fa-trash-alt"})})]},_.id)),b&&s.jsx("button",{type:"button",onClick:ue,className:"px-3 py-1.5 text-xs font-medium text-white bg-teal-600 rounded-md shadow-sm hover:bg-teal-700",children:"+ Add Highlight"})]})}),s.jsx(Kr,{label:"What worked well with the grant program and what could be improved?",children:s.jsx(pn,{wordLimit:250,rows:4,value:b?A==null?void 0:A.feedback:O.feedback,onChange:_=>C("feedback",_.target.value),disabled:!b})}),s.jsx(Kr,{label:"Is there anything else you would like to share?",children:s.jsx(pn,{wordLimit:250,rows:4,value:b?A==null?void 0:A.additionalFeedback:O.additionalFeedback,onChange:_=>C("additionalFeedback",_.target.value),disabled:!b})})]})]})]}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-spinner fa-spin text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"Loading Report..."})]}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("i",{className:"fa-solid fa-file-invoice text-7xl text-slate-300"}),s.jsx("h3",{className:"mt-6 text-xl font-medium text-slate-800",children:"No Project Selected"}),s.jsx("p",{className:"text-slate-500 mt-2 text-base",children:"Please select a project from the dropdown above to view its report."})]})]})},hn=n=>`${n}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,nf=(n,i,r)=>{var d;const o=(d=n.budget.expenses[i])==null?void 0:d.find(u=>u.source===r);return o?o.id:""},ja=(n,i,r)=>new Date(n,i-1,r).toISOString().split("T")[0],Kv=[{firstName:"Samuel",lastName:"Chen",email:"samuel.chen@example.com",province:"MB",city:"Winnipeg",shortBio:"A gifted composer and sound designer specializing in electro-acoustic music and field recordings.",artistBio:"Samuel Chen is a Winnipeg-based composer whose work is known for its emotional depth and textural complexity. His work often explores the intersection of natural environments and human-made soundscapes. He has scored numerous documentary films and his unique blend of acoustic and electronic soundscapes has garnered critical acclaim.",availability:"full-time"},{firstName:"Marcus",lastName:"Thorne",email:"marcus.thorne@example.com",province:"MB",city:"Winnipeg",shortBio:"An accomplished producer and project manager with a focus on interdisciplinary arts and cultural festivals.",artistBio:"With a background in theatre and event production, Marcus Thorne has a proven track record of bringing complex artistic visions to life, ensuring projects are delivered on time and within budget while maintaining artistic integrity.",availability:"contract"},{firstName:"Dr. Anya",lastName:"Sharma",email:"anya.sharma@example.com",province:"MB",city:"Winnipeg",shortBio:"A historian and researcher from the University of Manitoba specializing in the history of the Red River valley.",artistBio:"Dr. Anya Sharma is a respected historian whose research focuses on the ecological and social histories of Manitoba's waterways. She has published several papers on the topic and is a passionate advocate for public history projects that connect communities with their local heritage.",availability:"contract"}],Zv=()=>{var h,v,S;const n=Kv.map(j=>({...j,id:hn("mem"),memberId:`M-${Math.floor(1e3+Math.random()*9e3)}`,postalCode:"R3B 1B9",imageUrl:`https://i.pravatar.cc/256?u=${j.email}`})),[i,r,o]=n;let d={id:hn("proj"),projectTitle:"Echoes of the Red River",status:"Active",artisticDisciplines:["music","media"],musicGenres:["electro-acoustic","new-music"],mediaGenres:["audio-art","documentary"],projectStartDate:ja(2025,4,15),projectEndDate:ja(2025,12,15),background:"This project aims to create a sonic portrait of the Red River, exploring its historical, ecological, and cultural significance through sound. It builds on previous work in field recording and audio art to create an immersive public experience.",projectDescription:"We will create a 'sound map' of the Red River from Emerson to Lockport. This involves capturing field recordings (above and below water), archival audio, and oral histories from communities along the river. These sounds will be woven into an electro-acoustic composition by Samuel Chen. The final work will be presented as a multi-channel audio installation at The Forks in Winnipeg and as an interactive online map. The project seeks to connect listeners to the river in a new, profound way, fostering a deeper appreciation for this vital waterway.",audience:"The primary audience includes the general public visiting The Forks, as well as students, new music enthusiasts, and local history buffs. An online version will target a national and international audience interested in sound art and environmental projects.",collaboratorDetails:[{memberId:i.id,role:"Lead Composer & Sound Artist"},{memberId:r.id,role:"Producer & Location Manager"},{memberId:o.id,role:"Historical Consultant"}],budget:{revenues:{grants:[{id:hn("b"),source:"mac",description:"This funding application",amount:1e4,status:"Pending"}],fundraising:[{id:hn("b"),source:"sponsorship",description:"Sponsorship from a local business",amount:2e3,actualAmount:2e3,status:"Approved"}],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],contributions:[]},expenses:{professionalFees:[{id:hn("b"),source:"artists",description:"Lead Composer Fee",amount:6e3},{id:hn("b"),source:"consultant",description:"Historical Consultant Honorarium",amount:1500}],production:[{id:hn("b"),source:"equipment",description:"Hydrophones, field recorder",amount:2e3},{id:hn("b"),source:"rentals",description:"Audio post-production suite",amount:1e3}],travel:[{id:hn("b"),source:"transportation",description:"Mileage for travel along river",amount:500}],administration:[{id:hn("b"),source:"promotion",description:"Online promotion & premiere event",amount:1e3}],research:[],professionalDevelopment:[]}}};d={...d,craftGenres:[],danceGenres:[],literaryGenres:[],otherArtisticDisciplineSpecify:"",visualArtsGenres:[],theatreGenres:[],activityType:"public-presentation",permissionConfirmationFiles:[],paymentAndConditions:"All artists and collaborators will be paid professional fees according to CARFAC/RAAV standards. A safe and respectful work environment will be maintained for all location recordings and interviews.",schedule:"A detailed schedule is in development. Key phases include: Research (Apr-May), Field Recording (Jun-Aug), Composition (Sep-Oct), and Installation/Premiere (Nov-Dec).",culturalIntegrity:"The project will be conducted with deep respect for the histories and communities along the Red River, including Treaty 1 Territory. We will work with a historical consultant to ensure accuracy and sensitivity.",whoWillWork:"The core team consists of a composer, producer, and historian. Additional collaborators may be engaged for specific oral history interviews.",howSelectionDetermined:"Core team members were selected based on their expertise and shared vision for the project.",additionalInfo:"No additional information."};const u=[{id:hn("task"),taskCode:"EOTR-01",projectId:d.id,title:"Historical Research & Consultation",description:"Work with Dr. Sharma to identify key historical sites and themes.",assignedMemberId:i.id,status:"Done",startDate:ja(2025,4,15),dueDate:ja(2025,5,15),taskType:"Time-Based",isComplete:!0,estimatedHours:24,actualHours:0,budgetItemId:nf(d,"professionalFees","consultant"),workType:"Paid",hourlyRate:62.5,updatedAt:ja(2025,5,15)},{id:hn("task"),taskCode:"EOTR-02",projectId:d.id,title:"Purchase Recording Equipment",description:"Acquire hydrophones and a multi-track field recorder.",assignedMemberId:r.id,status:"Done",startDate:ja(2025,5,1),dueDate:ja(2025,5,10),taskType:"Milestone",isComplete:!0,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:ja(2025,5,10)},{id:hn("task"),taskCode:"EOTR-03",projectId:d.id,title:"Field Recording - South",description:"Capture audio from Emerson to Winnipeg.",assignedMemberId:i.id,status:"In Progress",startDate:ja(2025,6,1),dueDate:ja(2025,7,15),taskType:"Time-Based",isComplete:!1,estimatedHours:40,actualHours:0,budgetItemId:nf(d,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:ja(2025,6,15)},{id:hn("task"),taskCode:"EOTR-04",projectId:d.id,title:"Field Recording - North",description:"Capture audio from Winnipeg to Lockport.",assignedMemberId:i.id,status:"To Do",startDate:ja(2025,7,16),dueDate:ja(2025,8,31),taskType:"Time-Based",isComplete:!1,estimatedHours:40,actualHours:0,budgetItemId:nf(d,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:ja(2025,7,16)},{id:hn("task"),taskCode:"EOTR-05",projectId:d.id,title:"Composition & Sound Design",description:"Begin composing the piece using the collected audio.",assignedMemberId:i.id,status:"To Do",startDate:ja(2025,9,1),dueDate:ja(2025,11,15),taskType:"Time-Based",isComplete:!1,estimatedHours:80,actualHours:0,budgetItemId:nf(d,"professionalFees","artists"),workType:"Paid",hourlyRate:75,updatedAt:ja(2025,9,1)},{id:hn("task"),taskCode:"EOTR-06",projectId:d.id,title:"Final Installation & Premiere",description:"Install the audio exhibit and host the opening event.",assignedMemberId:r.id,status:"Backlog",startDate:ja(2025,11,20),dueDate:ja(2025,12,10),taskType:"Milestone",isComplete:!1,estimatedHours:0,actualHours:0,budgetItemId:"",workType:"Paid",hourlyRate:0,updatedAt:ja(2025,11,20)}],m=j=>u.find(N=>N.taskCode===j),g=[{id:hn("act"),taskId:((h=m("EOTR-01"))==null?void 0:h.id)||"",memberId:o.id,description:"Initial consultation meeting and archival review.",hours:10,status:"Approved",startDate:ja(2025,4,20),endDate:ja(2025,4,20),createdAt:"",updatedAt:""},{id:hn("act"),taskId:((v=m("EOTR-03"))==null?void 0:v.id)||"",memberId:i.id,description:"Recorded at the Emerson border crossing.",hours:8,status:"Approved",startDate:ja(2025,6,5),endDate:ja(2025,6,5),createdAt:"",updatedAt:""},{id:hn("act"),taskId:((S=m("EOTR-03"))==null?void 0:S.id)||"",memberId:i.id,description:"Hydrophone recordings near St. Adolphe.",hours:6,status:"Pending",startDate:ja(2025,6,12),endDate:ja(2025,6,12),createdAt:"",updatedAt:""}].map(j=>({...j,createdAt:j.startDate,updatedAt:j.startDate}));return{projects:[d],members:n,tasks:u,activities:g,directExpenses:[],reports:[]}},Jv=()=>{const{dispatch:n,notify:i}=ma(),[r,o]=ye.useState(!1),d=()=>{const m=Zv();n({type:"LOAD_DATA",payload:m}),i("Sample data loaded successfully!","success")},u=()=>{n({type:"CLEAR_ALL_DATA"}),i("All application data has been cleared.","success"),o(!1)};return s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[r&&s.jsx(Vo,{isOpen:r,onClose:()=>o(!1),onConfirm:u,title:"Clear All Application Data",message:s.jsxs(s.Fragment,{children:["Are you absolutely sure you want to delete ALL application data? This includes all projects, members, tasks, and activities.",s.jsx("br",{}),s.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})]}),confirmButtonText:"Yes, Delete Everything"}),s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fa-solid fa-flask-vial text-6xl text-teal-500"}),s.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900",children:"Load Project Sample Data"}),s.jsx("p",{className:"mt-2 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool will populate the application with a single, well-structured sample project. It's great for getting a quick feel for the application's features."}),s.jsx("div",{className:"mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 max-w-2xl mx-auto text-left",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"py-1",children:s.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Warning!"}),s.jsxs("p",{className:"text-sm",children:["Loading sample data will ",s.jsx("strong",{className:"uppercase",children:"replace"})," any existing data you have entered. This action cannot be undone."]})]})]})}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[s.jsxs("button",{onClick:d,className:"px-8 py-3 text-lg font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa-solid fa-bolt mr-2"}),"Load Sample Project"]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-8 py-3 text-lg font-medium text-red-700 bg-red-100 border border-red-200 rounded-md shadow-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[s.jsx("i",{className:"fa-solid fa-trash-alt mr-2"}),"Clear All Data"]})]})]})]})},Dt=n=>`${n}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,uf=(n,i,r)=>{var d;const o=(d=n.budget.expenses[i])==null?void 0:d.find(u=>u.source===r);return o?o.id:(console.warn(`Sample Data Warning: Could not find budget item with source '${r}' in category '${i}' for project '${n.projectTitle}'.`),"")},Le=(n,i,r)=>new Date(n,i-1,r).toISOString().split("T")[0],eb=[{firstName:"Samuel",lastName:"Chen",email:"samuel.chen@example.com",province:"MB",city:"Winnipeg",shortBio:"A gifted composer and sound designer specializing in electro-acoustic music and field recordings.",artistBio:"Samuel Chen is a Winnipeg-based composer whose work is known for its emotional depth and textural complexity. His work often explores the intersection of natural environments and human-made soundscapes. He has scored numerous documentary films and his unique blend of acoustic and electronic soundscapes has garnered critical acclaim. Samuel is a graduate of the University of Manitoba's music program and is also a dedicated music educator, offering workshops on composition and music technology.",availability:"full-time"},{firstName:"Marcus",lastName:"Thorne",email:"marcus.thorne@example.com",province:"MB",city:"Winnipeg",shortBio:"An accomplished producer and project manager with a focus on interdisciplinary arts and cultural festivals.",artistBio:"With a background in theatre and event production, Marcus Thorne has a proven track record of bringing complex artistic visions to life. He excels at strategic planning, financial management, and stakeholder engagement, ensuring projects are delivered on time and within budget while maintaining artistic integrity. He has managed projects for major cultural institutions across Manitoba and is known for his calm demeanor and meticulous attention to detail. Marcus is passionate about creating sustainable systems that support artists.",availability:"contract"},{firstName:"Chantal",lastName:"Dubois",email:"chantal.dubois@example.com",province:"MB",city:"St. Boniface",shortBio:"A veteran circus artist, choreographer, and director with a focus on narrative-driven physical theatre.",artistBio:"Chantal Dubois is a celebrated figure in Canada's circus arts scene. With over 20 years of experience as a performer and creator, her work seamlessly blends high-level acrobatics with poignant storytelling. She is the founder of Cirque d'Hiver and is dedicated to mentoring the next generation of physical performers. Her creations often explore themes of resilience and transformation, inspired by the stark beauty of the Canadian landscape. Chantal is a graduate of the National Circus School in Montreal.",availability:"full-time"},{firstName:"Kaelen",lastName:"Thomas",email:"kaelen.thomas@example.com",province:"MB",city:"Winnipeg",shortBio:"A talented illustrator and graphic novelist from Peguis First Nation with a unique, contemporary style.",artistBio:"Kaelen Thomas is an Anishinaabe artist whose work bridges traditional storytelling with contemporary comic art. Their illustrations are known for their dynamic line work and vibrant color palettes, bringing new life to ancient stories. Kaelen is a self-taught artist who has gained a significant online following for their character designs and short comics. They are passionate about creating stories that resonate with Indigenous youth and provide a modern lens on cultural narratives. 'Digital Quill' is their first major long-form project.",availability:"full-time"},{firstName:"Dr. Anya",lastName:"Sharma",email:"anya.sharma@example.com",province:"MB",city:"Winnipeg",shortBio:"A historian and researcher from the University of Manitoba specializing in the history of the Red River valley.",artistBio:"Dr. Anya Sharma is a respected historian whose research focuses on the ecological and social histories of Manitoba's waterways. She has published several papers on the topic and is a passionate advocate for public history projects that connect communities with their local heritage. Her involvement ensures historical accuracy and adds a rich educational layer to artistic projects.",availability:"contract"}],tb=n=>{const[i,r,o,d,u]=n;let m={id:Dt("proj"),projectTitle:"Echoes of the Red River",status:"Active",artisticDisciplines:["music","media"],musicGenres:["electro-acoustic","new-music","world-music"],mediaGenres:["audio-art","documentary"],projectStartDate:Le(2025,4,15),projectEndDate:Le(2025,12,15),background:"This project aims to create a sonic portrait of the Red River, exploring its historical, ecological, and cultural significance through sound. Our collective has a history of creating site-specific audio works, but this is our most ambitious project to date. We have spent the past year conducting preliminary research and building relationships with communities along the river, funded by a small exploratory grant from the Winnipeg Arts Council. This has confirmed the viability and community interest in a large-scale project that tells the river's story through its own sounds.",projectDescription:"We will create a 'sound map' of the Red River, from its southern entry into Manitoba to its northern delta. This involves capturing field recordings (above and below water using hydrophones), sourcing archival audio, and recording oral histories from elders, scientists, and residents in communities along the river. These diverse audio elements will be woven into a cohesive, hour-long electro-acoustic composition by lead artist Samuel Chen. The final work will be presented in two formats: a multi-channel audio installation at a public venue in Winnipeg (e.g., The Forks, Millennium Library Park) and as an interactive online map where users can explore the river's sounds geographically. The project's goal is to connect listeners to the river in a new, profound way, fostering a deeper appreciation for this vital waterway and the stories it holds.",audience:"The primary audience includes the general public who will encounter the installation, as well as students (from elementary to post-secondary), new music enthusiasts, environmental groups, and local history buffs. We will reach them through partnerships with cultural institutions, targeted social media campaigns, and local media outreach. The interactive online map is designed to reach a national and international audience interested in sound art, environmental data sonification, and Canadian history. We will also engage with academic communities in music, history, and environmental studies.",collaboratorDetails:[{memberId:i.id,role:"Lead Composer & Sound Artist"},{memberId:r.id,role:"Producer & Location Manager"},{memberId:u.id,role:"Historical Consultant"}],budget:{revenues:{grants:[{id:Dt("b"),source:"mac",description:"This funding application",amount:15e3,status:"Pending"},{id:Dt("b"),source:"federalCanada",description:"Digital Now Grant",amount:1e4,actualAmount:1e4,status:"Approved"}],fundraising:[{id:Dt("b"),source:"sponsorship",description:"Sponsorship from Cabela's for equipment",amount:3e3,actualAmount:3e3,status:"Approved"}],contributions:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[]},expenses:{professionalFees:[{id:Dt("b"),source:"artists",description:"Lead Composer Fee (Samuel)",amount:1e4},{id:Dt("b"),source:"consultant",description:"Historical Consultant Honorarium (Dr. Sharma)",amount:3e3},{id:Dt("b"),source:"indigenous",description:"Honoraria for Oral History Participants",amount:1500}],production:[{id:Dt("b"),source:"equipment",description:"Hydrophones, multi-track field recorder, cables",amount:4e3},{id:Dt("b"),source:"rentals",description:"Audio post-production suite",amount:2e3}],travel:[{id:Dt("b"),source:"transportation",description:"Mileage for travel along river",amount:1e3},{id:Dt("b"),source:"accommodations",description:"Overnight stays for northern recording trips",amount:500}],administration:[{id:Dt("b"),source:"promotion",description:"Online promotion & premiere event costs",amount:2e3},{id:Dt("b"),source:"personnel",description:"Project Management & Reporting",amount:800}],research:[{id:Dt("b"),source:"research",description:"Archival audio licensing fees",amount:500}],professionalDevelopment:[{id:Dt("b"),source:"professionalDevelopment",description:"Advanced Sound-mixing Masterclass",amount:3500}]}}},g={id:Dt("proj"),projectTitle:"Northern Light: A Winter Circus",status:"Active",artisticDisciplines:["theatre","dance","multi-disciplinary"],theatreGenres:["circus-arts","physical-theatre","site-specific-theatre"],danceGenres:["contemporary","aerial"],projectStartDate:Le(2025,5,1),projectEndDate:Le(2025,11,30),background:"Cirque d'Hiver was founded to create circus art that embraces, rather than avoids, the realities of the Canadian winter. Our past productions have experimented with outdoor elements and themes of hibernation and resilience. This project represents our most ambitious undertaking, moving from smaller showcases to a full-length feature production designed specifically for a winter festival setting. We have secured a partnership with Festival du Voyageur to present the work-in-progress, providing a perfect test ground for the show's core concepts and technical requirements.",projectDescription:"A contemporary circus performance for an all-ages audience, designed for a winter setting. The show uses acrobatics, aerial arts, and physical comedy to tell a mythic story inspired by the aurora borealis and northern folklore. The narrative follows a group of villagers who must work together to bring back the light during a long, dark winter. The aesthetic will be a blend of rustic and magical, with costumes and props that evoke a winter landscape. The performance is designed to be adaptable, capable of being staged in a large heated tent or a converted indoor space like a warehouse, making it ideal for winter festivals and touring. This phase focuses on the creation, rehearsal, and work-in-progress showing of the full 60-minute piece.",audience:"The primary audience will be attendees of winter festivals, including families, young adults, and tourists. The show is designed to be visually spectacular and non-language-dependent, making it accessible to a wide range of cultural backgrounds. We will reach this audience through the marketing channels of our partner festivals. A secondary audience includes the national circus arts community and presenters, whom we will engage through industry showcases, a high-quality promo video, and direct outreach. We aim to secure a national tour for the following winter season.",collaboratorDetails:[{memberId:o.id,role:"Artistic Director & Choreographer"},{memberId:r.id,role:"Producer & Technical Director"},{memberId:i.id,role:"Composer"}],budget:{revenues:{grants:[{id:Dt("b"),source:"mac",description:"This funding application",amount:15e3,status:"Pending"},{id:Dt("b"),source:"federalCanada",description:"Festival Contribution",amount:1e4,actualAmount:1e4,status:"Approved"}],contributions:[{id:Dt("b"),source:"inKindPartners",description:"Rehearsal space from WCD",amount:5e3,actualAmount:5e3,status:"Approved"}],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""},sales:[],fundraising:[]},expenses:{professionalFees:[{id:Dt("b"),source:"artists",description:"Performers Fees (4 artists x 8 weeks)",amount:15e3},{id:Dt("b"),source:"designers",description:"Set & Costume Designer",amount:3e3}],production:[{id:Dt("b"),source:"materials",description:"Costume and prop fabrication materials",amount:3e3},{id:Dt("b"),source:"rentals",description:"Specialized rigging and aerial equipment",amount:3e3},{id:Dt("b"),source:"technical",description:"Lighting technician for WIP showing",amount:1e3}],administration:[{id:Dt("b"),source:"personnel",description:"Producer Fee (Marcus)",amount:4e3},{id:Dt("b"),source:"promotion",description:"Promo video and photos",amount:1e3}],travel:[],research:[],professionalDevelopment:[]}}},h={id:Dt("proj"),projectTitle:"Digital Quill: An Indigenous Graphic Novel",status:"Completed",artisticDisciplines:["literary","visual","craft"],literaryGenres:["graphic-novel","young-adult-fiction","storytelling"],visualArtsGenres:["drawing","printmaking"],projectStartDate:Le(2025,4,1),projectEndDate:Le(2025,10,31),background:"This project emerged from a series of mentorship workshops with emerging Indigenous artists, where a strong desire for a collaborative, long-form storytelling project was identified. Lead artist Kaelen Thomas has developed a compelling story concept and a unique visual style that is ready for development into a full-length work. The goal is to create a professional, published graphic novel that can serve as a powerful resource and a career-launching achievement for the artist. We have secured interest from a local publisher, pending the completion of a full manuscript and sample chapters.",projectDescription:"This project will fully fund the creation, from script to final art, of a 120-page graphic novel written and illustrated by Anishinaabe artist Kaelen Thomas. The story, tentatively titled 'The Seventh Fire,' is a contemporary fantasy for young adults that draws on Anishinaabe oral traditions and prophecies. The project will cover the artist's living expenses for the 6-month creation period, as well as costs for materials, mentorship, and the initial print run. The process will be documented online to share the journey of creating a graphic novel with an emerging audience. The final product will be a professionally printed and bound book, launched at a local bookstore and promoted to schools, libraries, and comic conventions across the country.",audience:"The primary audience is Indigenous and non-Indigenous youth (ages 14-24) who are fans of graphic novels and fantasy stories. The book aims to provide a powerful piece of representation for Indigenous youth and an engaging entry point into Anishinaabe culture for others. A secondary audience includes educators, librarians, and collectors of comic art. We will reach our audience through social media (leveraging the artist's existing following), partnerships with Indigenous organizations, and by attending comic conventions like C4 in Winnipeg. A teacher's guide will be developed to encourage classroom adoption.",collaboratorDetails:[{memberId:d.id,role:"Lead Artist & Writer"},{memberId:r.id,role:"Project Manager"}],budget:{revenues:{grants:[{id:Dt("b"),source:"mac",description:"Indigenous 360 Grant",amount:15e3,actualAmount:15e3,status:"Approved"},{id:Dt("b"),source:"federalCanada",description:"Creating, Knowing, and Sharing Grant",amount:1e4,actualAmount:1e4,status:"Approved"}],fundraising:[{id:Dt("b"),source:"crowdsourcing",description:"Pre-order Kickstarter Campaign",amount:3e3,actualAmount:3e3,status:"Approved"}],contributions:[],sales:[],tickets:{numVenues:0,percentCapacity:0,venueCapacity:0,avgTicketPrice:0,description:""}},expenses:{professionalFees:[{id:Dt("b"),source:"artists",description:"Lead Artist Living Expenses/Stipend",amount:18e3},{id:Dt("b"),source:"consultant",description:"Editor/Mentor Honorarium",amount:2e3},{id:Dt("b"),source:"indigenous",description:"Elder consultation for story protocol",amount:1e3}],production:[{id:Dt("b"),source:"materials",description:"Art supplies (paper, ink, digital software)",amount:1500},{id:Dt("b"),source:"other",description:"Initial print run (500 copies)",amount:4e3}],administration:[{id:Dt("b"),source:"promotion",description:"Book launch event & convention fees",amount:1500}],travel:[],research:[],professionalDevelopment:[]}}};return[m,g,h].forEach(v=>{Object.assign(v,{craftGenres:v.craftGenres||[],danceGenres:v.danceGenres||[],literaryGenres:v.literaryGenres||[],musicGenres:v.musicGenres||[],theatreGenres:v.theatreGenres||[],visualArtsGenres:v.visualArtsGenres||[],otherArtisticDisciplineSpecify:"",activityType:"public-presentation",permissionConfirmationFiles:[],paymentAndConditions:"All artists and collaborators will be paid professional fees according to CARFAC/RAAV standards. A safe and respectful work environment will be maintained.",schedule:"A detailed schedule with milestones and deadlines is available in the workplan. Key phases include: Research/Creation, Production/Rehearsal, and Presentation/Exhibition.",culturalIntegrity:"The project will be conducted with deep respect for the cultures and communities represented. We will work with consultants and follow established protocols to ensure authenticity and prevent appropriation.",whoWillWork:"The core team consists of dedicated professionals selected for their expertise. Community collaborators will be engaged as needed.",howSelectionDetermined:"Core team members were selected based on their proven track record. Other participants are selected via an open, accessible process relevant to the project's needs.",additionalInfo:"No additional information provided at this time."})}),[m,g,h]},ab=(n,i)=>{const[r,o,d]=n,[u,m,g,h,v]=i,S=[],j=(N,b,T,O,M,A,E,P,G,Q,ne,z,B,R,le=!1)=>({id:Dt("task"),taskCode:b,projectId:N.id,title:T,description:O,assignedMemberId:M.id,status:A,startDate:E,dueDate:P,taskType:G,isComplete:A==="Done"||le,estimatedHours:Q,actualHours:0,budgetItemId:uf(N,ne,z),workType:B,hourlyRate:R,updatedAt:P});return S.push(j(r,"EOTR-01","Historical Research & Site Planning","Work with Dr. Sharma to identify key historical sites and themes for recording.",v,"Done",Le(2025,4,15),Le(2025,5,15),"Time-Based",30,"professionalFees","consultant","Paid",100),j(r,"EOTR-02","Purchase Recording Equipment","Acquire hydrophones and a multi-track field recorder.",m,"Done",Le(2025,5,1),Le(2025,5,10),"Milestone",0,"production","equipment","Paid",0),j(r,"EOTR-03","Attend Sound-mixing Masterclass","Attend professional development workshop.",u,"Done",Le(2025,5,20),Le(2025,5,22),"Time-Based",16,"professionalDevelopment","professionalDevelopment","Paid",75),j(r,"EOTR-04","Field Recording - Phase 1 (South)","Capture audio from Emerson to Winnipeg.",u,"In Progress",Le(2025,6,1),Le(2025,7,15),"Time-Based",40,"professionalFees","artists","Paid",75),j(r,"EOTR-05","Oral History Interviews - Set 1","Record interviews with community members in the south basin.",m,"In Progress",Le(2025,6,10),Le(2025,7,20),"Time-Based",20,"professionalFees","indigenous","Paid",75),j(r,"EOTR-06","Field Recording - Phase 2 (North)","Capture audio from Winnipeg to Lockport.",u,"To Do",Le(2025,7,16),Le(2025,8,31),"Time-Based",40,"professionalFees","artists","Paid",75),j(r,"EOTR-07","Transcribe Oral Histories","Create text transcripts for all recorded interviews.",m,"To Do",Le(2025,7,21),Le(2025,8,21),"Time-Based",30,"professionalFees","artists","Volunteer",25),j(r,"EOTR-08","Catalog and Organize Audio Library","Log, tag, and organize all captured audio files.",u,"To Do",Le(2025,9,1),Le(2025,9,15),"Time-Based",20,"professionalFees","artists","Paid",75),j(r,"EOTR-09","Develop Online Map Prototype","Create a working prototype of the interactive online map.",m,"To Do",Le(2025,9,1),Le(2025,9,30),"Time-Based",20,"administration","promotion","Paid",80),j(r,"EOTR-10","Begin Composition - Movement 1","Start composing the first movement using southern recordings.",u,"To Do",Le(2025,9,16),Le(2025,10,15),"Time-Based",40,"professionalFees","artists","Paid",75),j(r,"EOTR-11","License Archival Audio","Secure rights for historical audio clips.",m,"Backlog",Le(2025,9,20),Le(2025,10,5),"Milestone",0,"research","research","Paid",0),j(r,"EOTR-12","Begin Composition - Movement 2","Compose second movement using northern recordings.",u,"To Do",Le(2025,10,16),Le(2025,11,15),"Time-Based",40,"professionalFees","artists","Paid",75),j(r,"EOTR-13","Website and Social Media Launch","Launch promotional website and begin outreach campaign.",m,"Backlog",Le(2025,10,20),Le(2025,10,20),"Milestone",0,"administration","promotion","Paid",0),j(r,"EOTR-14","Mix & Master Full Composition","Final mix and master of all audio movements.",u,"Backlog",Le(2025,11,16),Le(2025,11,30),"Time-Based",25,"production","rentals","Paid",80),j(r,"EOTR-15","Prepare Installation Speakers & Playback System","Set up and test the physical audio installation hardware.",m,"Backlog",Le(2025,12,1),Le(2025,12,5),"Time-Based",15,"production","equipment","Paid",50),j(r,"EOTR-16","Finalize Online Map Interface","Integrate final audio and launch the public website.",m,"Backlog",Le(2025,12,1),Le(2025,12,10),"Time-Based",15,"administration","promotion","Paid",80),j(r,"EOTR-17","Venue Installation","Install the audio exhibit at the final location.",m,"Backlog",Le(2025,12,8),Le(2025,12,12),"Time-Based",20,"production","equipment","Paid",50),j(r,"EOTR-18","Host Premiere / Opening Event","Host the public launch event for the installation.",m,"Backlog",Le(2025,12,13),Le(2025,12,13),"Milestone",0,"administration","promotion","Paid",0),j(r,"EOTR-19","Project Teardown","Dismantle and return all equipment.",m,"Backlog",Le(2025,12,20),Le(2025,12,20),"Time-Based",8,"production","equipment","Volunteer",25),j(r,"EOTR-20","Final Reporting","Complete all final reports for funders.",m,"Backlog",Le(2025,12,30),Le(2025,12,30),"Milestone",0,"administration","personnel","Paid",0)),S.push(j(o,"NL-01","Finalize Show Concept & Narrative","Solidify the storyline and characters.",g,"Done",Le(2025,5,1),Le(2025,5,15),"Milestone",0,"professionalFees","artists","Paid",0),j(o,"NL-02","Performer Casting & Contracts","Audition, cast, and contract 4 circus performers.",m,"Done",Le(2025,5,15),Le(2025,5,30),"Milestone",0,"administration","personnel","Paid",0),j(o,"NL-03","Initial Music Composition","Samuel to compose main themes and musical palette.",u,"Done",Le(2025,5,20),Le(2025,6,20),"Time-Based",40,"professionalFees","artists","Paid",75),j(o,"NL-04","Set & Costume Design","Work with designer to create concepts and technical drawings.",g,"Done",Le(2025,6,1),Le(2025,6,30),"Time-Based",50,"professionalFees","designers","Paid",60),j(o,"NL-05","Purchase Fabrication Materials","Source and buy all materials for costumes and props.",m,"Done",Le(2025,7,1),Le(2025,7,7),"Milestone",0,"production","materials","Paid",0),j(o,"NL-06","Creation/Rehearsal Block 1","Weeks 1-4 of rehearsal. Focus on choreography and act creation.",g,"In Progress",Le(2025,7,8),Le(2025,8,2),"Time-Based",120,"professionalFees","artists","Paid",50),j(o,"NL-07","Rigging & Equipment Rental","Secure all necessary aerial rigging and safety equipment.",m,"In Progress",Le(2025,7,10),Le(2025,7,15),"Milestone",0,"production","rentals","Paid",0),j(o,"NL-08","Costume & Prop Fabrication","Build all costumes and props.",m,"In Progress",Le(2025,7,8),Le(2025,8,30),"Time-Based",80,"production","materials","In-Kind",30),j(o,"NL-09","Creation/Rehearsal Block 2","Weeks 5-8 of rehearsal. Focus on show flow and transitions.",g,"To Do",Le(2025,8,5),Le(2025,8,30),"Time-Based",120,"professionalFees","artists","Paid",50),j(o,"NL-10","Refine Musical Score","Integrate rehearsal feedback and finalize the full score.",u,"To Do",Le(2025,9,1),Le(2025,9,30),"Time-Based",40,"professionalFees","artists","Paid",75),j(o,"NL-11","Lighting Design","Consult with lighting tech for WIP showing.",m,"To Do",Le(2025,9,15),Le(2025,9,25),"Time-Based",10,"production","technical","Paid",100),j(o,"NL-12","Book Promo Photographer/Videographer","Contract a professional to document the show.",m,"To Do",Le(2025,9,20),Le(2025,9,30),"Milestone",0,"administration","promotion","Paid",0),j(o,"NL-13","Full Run-Throughs","Week of full show run-throughs.",g,"To Do",Le(2025,10,1),Le(2025,10,7),"Time-Based",30,"professionalFees","artists","Paid",50),j(o,"NL-14","Technical Rehearsals in Venue","Integrate lighting, sound, and set in the performance space.",m,"To Do",Le(2025,10,8),Le(2025,10,12),"Time-Based",20,"professionalFees","artists","Paid",50),j(o,"NL-15","Promo Photo & Video Shoot","Dedicated session to capture high-quality marketing materials.",m,"To Do",Le(2025,10,13),Le(2025,10,13),"Milestone",0,"administration","promotion","Paid",0),j(o,"NL-16","Work-in-Progress Public Showing","Perform the show for Festival du Voyageur audience.",g,"To Do",Le(2025,10,15),Le(2025,10,15),"Milestone",0,"professionalFees","artists","Paid",0),j(o,"NL-17","Post-Show Feedback Session","Gather feedback from audience and partners.",m,"Backlog",Le(2025,10,16),Le(2025,10,16),"Milestone",0,"administration","personnel","Paid",0),j(o,"NL-18","Edit Promotional Video","Create a 2-minute promo video for touring applications.",m,"Backlog",Le(2025,10,20),Le(2025,11,10),"Time-Based",10,"administration","promotion","In-Kind",40),j(o,"NL-19","Strike Show & Return Rentals","Clean venue and return all rented equipment.",m,"Backlog",Le(2025,10,17),Le(2025,10,18),"Time-Based",16,"administration","personnel","Volunteer",25),j(o,"NL-20","Final Reporting & Tour Planning","Prepare final reports and begin outreach to presenters.",m,"Backlog",Le(2025,11,1),Le(2025,11,30),"Milestone",0,"administration","personnel","Paid",0)),S.push(j(d,"DQ-01","Story Protocol Consultation","Consult with Elder on story elements and cultural protocols.",h,"Done",Le(2025,4,5),Le(2025,4,10),"Time-Based",10,"professionalFees","indigenous","Paid",100),j(d,"DQ-02","Finalize Script & Storyboards","Complete the full 120-page script and thumbnail storyboards.",h,"Done",Le(2025,4,15),Le(2025,5,15),"Time-Based",80,"professionalFees","artists","Paid",75),j(d,"DQ-03","Editorial Review of Script","Work with mentor/editor to refine script.",h,"Done",Le(2025,5,16),Le(2025,5,25),"Time-Based",20,"professionalFees","consultant","Paid",100),j(d,"DQ-04","Purchase Art Supplies & Software","Get all necessary paper, inks, and software subscriptions.",m,"Done",Le(2025,5,20),Le(2025,5,22),"Milestone",0,"production","materials","Paid",0),j(d,"DQ-05","Penciling - Chapter 1","Complete rough pencil drawings for Chapter 1.",h,"Done",Le(2025,5,26),Le(2025,6,15),"Time-Based",40,"professionalFees","artists","Paid",75),j(d,"DQ-06","Inking - Chapter 1","Complete final ink drawings for Chapter 1.",h,"Done",Le(2025,6,16),Le(2025,6,26),"Time-Based",30,"professionalFees","artists","Paid",75),j(d,"DQ-07","Coloring & Lettering - Chapter 1","Complete digital coloring and lettering.",h,"Done",Le(2025,6,27),Le(2025,7,7),"Time-Based",30,"professionalFees","artists","Paid",75),j(d,"DQ-08","Submit Sample Chapter to Publisher","Send completed Chapter 1 to interested publisher.",m,"Done",Le(2025,7,8),Le(2025,7,8),"Milestone",0,"administration","promotion","Paid",0),j(d,"DQ-09","Penciling - Chapters 2-3","Complete rough pencil drawings for Chapters 2 and 3.",h,"Done",Le(2025,7,9),Le(2025,8,9),"Time-Based",80,"professionalFees","artists","Paid",75),j(d,"DQ-10","Inking - Chapters 2-3","Complete final ink drawings for Chapters 2 and 3.",h,"Done",Le(2025,8,10),Le(2025,8,30),"Time-Based",60,"professionalFees","artists","Paid",75),j(d,"DQ-11","Coloring & Lettering - Chapters 2-3","Complete digital coloring and lettering.",h,"Done",Le(2025,8,31),Le(2025,9,15),"Time-Based",60,"professionalFees","artists","Paid",75),j(d,"DQ-12","Plan Kickstarter Campaign","Develop rewards and campaign for pre-orders.",m,"Done",Le(2025,9,1),Le(2025,9,15),"Milestone",0,"administration","promotion","Paid",0),j(d,"DQ-13","Penciling - Chapters 4-5","Complete rough pencil drawings for final chapters.",h,"Done",Le(2025,9,16),Le(2025,10,1),"Time-Based",80,"professionalFees","artists","Paid",75),j(d,"DQ-14","Inking - Chapters 4-5","Complete final ink drawings for final chapters.",h,"Done",Le(2025,10,2),Le(2025,10,10),"Time-Based",60,"professionalFees","artists","Paid",75),j(d,"DQ-15","Launch Kickstarter Campaign","Run the 30-day pre-order campaign.",m,"Done",Le(2025,9,15),Le(2025,10,15),"Milestone",0,"administration","promotion","Paid",0),j(d,"DQ-16","Coloring & Lettering - Chapters 4-5","Complete final digital work.",h,"Done",Le(2025,10,11),Le(2025,10,20),"Time-Based",60,"professionalFees","artists","Paid",75),j(d,"DQ-17","Final Manuscript Assembly & Formatting","Combine all chapters and format for printing.",h,"Done",Le(2025,10,21),Le(2025,10,25),"Time-Based",20,"professionalFees","artists","Paid",75),j(d,"DQ-18","Send to Printer","Submit final files for initial print run.",m,"Done",Le(2025,10,26),Le(2025,10,26),"Milestone",0,"production","other","Paid",0),j(d,"DQ-19","Plan Book Launch Event","Coordinate with bookstore for launch party.",m,"Done",Le(2025,10,15),Le(2025,10,30),"Milestone",0,"administration","promotion","Paid",0),j(d,"DQ-20","Fulfill Kickstarter Rewards","Package and ship pre-orders.",m,"Done",Le(2025,11,15),Le(2025,11,30),"Time-Based",20,"administration","promotion","Volunteer",25)),S},nb=(n,i)=>{const r=[],o=(v,S,j,N,b,T="Approved")=>{const O=n.find(M=>M.taskCode===v);O&&r.push({id:Dt("act"),taskId:O.id,memberId:S.id,description:j,hours:N,status:T,startDate:b,endDate:b,createdAt:b,updatedAt:b})},[d,u,m,g,h]=i;return o("EOTR-01",h,"Initial consultation meeting.",8,Le(2025,4,20)),o("EOTR-01",h,"Archival research and site identification.",22,Le(2025,5,10)),o("EOTR-03",d,"Day 1 of workshop.",8,Le(2025,5,20)),o("EOTR-03",d,"Day 2 of workshop.",8,Le(2025,5,21)),o("EOTR-04",d,"Recording at Emerson border crossing.",8,Le(2025,6,5)),o("EOTR-04",d,"Hydrophone recordings near St. Adolphe.",6,Le(2025,6,12)),o("EOTR-04",d,"Ambient sound capture at The Forks.",4,Le(2025,6,20),"Pending"),o("EOTR-05",u,"Interview with local fisherman.",4,Le(2025,6,15)),o("NL-03",d,"Composing main themes.",40,Le(2025,6,15)),o("NL-04",m,"Design meetings and sketching.",50,Le(2025,6,25)),o("NL-06",m,"Rehearsal supervision and choreography.",100,Le(2025,7,30)),o("NL-08",u,"Sourcing materials and overseeing prop construction.",60,Le(2025,8,15)),o("DQ-01",g,"Meeting with Elder for story protocol.",10,Le(2025,4,8)),o("DQ-02",g,"Script writing and refinement.",40,Le(2025,4,30)),o("DQ-02",g,"Full storyboard creation.",40,Le(2025,5,14)),o("DQ-03",g,"Reviewing editorial feedback and making revisions.",20,Le(2025,5,20)),o("DQ-05",g,"Penciling pages 1-20.",40,Le(2025,6,10)),o("DQ-06",g,"Inking pages 1-20.",30,Le(2025,6,20)),o("DQ-07",g,"Coloring and lettering pages 1-20.",30,Le(2025,7,5)),o("DQ-09",g,"Penciling pages 21-60.",80,Le(2025,8,1)),o("DQ-10",g,"Inking pages 21-60.",60,Le(2025,8,20)),o("DQ-11",g,"Coloring and lettering pages 21-60.",60,Le(2025,9,10)),o("DQ-13",g,"Penciling pages 61-120.",80,Le(2025,9,28)),o("DQ-14",g,"Inking pages 61-120.",60,Le(2025,10,8)),o("DQ-16",g,"Coloring and lettering pages 61-120.",60,Le(2025,10,18)),o("DQ-17",g,"Final formatting and file preparation for printer.",20,Le(2025,10,24)),r},ib=n=>{const[i,r,o]=n;return[{id:Dt("dexp"),projectId:i.id,budgetItemId:uf(i,"travel","transportation"),description:"Gas for trip to Selkirk",amount:45.5,date:Le(2025,7,2)},{id:Dt("dexp"),projectId:o.id,budgetItemId:uf(o,"production","materials"),description:"Specialty bristol board and inks",amount:350,date:Le(2025,5,21)},{id:Dt("dexp"),projectId:o.id,budgetItemId:uf(o,"production","other"),description:"Deposit for initial print run",amount:2e3,date:Le(2025,10,28)}]},sb=n=>{const[i,r,o]=n;return[{id:`rep_${o.id}`,projectId:o.id,projectResults:"The 'Digital Quill' project successfully produced a 120-page, professionally finished graphic novel titled 'The Seventh Fire'. The project met all its key objectives, from creation to initial printing, and fostered the lead artist's development significantly. The story, which blends Anishinaabe prophecy with a contemporary young adult narrative, was completed on schedule. The final artwork and script were delivered to our publishing partner, and a successful Kickstarter campaign ensured funding for a larger print run and provided market validation. The project culminated in a well-attended book launch, establishing a strong foundation for the book's distribution and the artist's career.",grantSpendingDescription:"The grant funding was instrumental and was spent exactly as budgeted. The majority of funds provided a living stipend for the lead artist, allowing them to dedicate themselves fully to the project for a six-month period. This was critical for maintaining the high quality and consistent output required. Funds were also used for honorariums for an editor and an Elder, whose guidance was invaluable. The remaining funds covered the costs of professional art materials and the initial deposit for the print run, which were essential for creating a market-ready product.",workplanAdjustments:"The workplan was followed very closely with only minor adjustments. We allocated slightly more time to the inking phase after realizing the detail required for the specific visual style. This was accommodated by shortening the final formatting phase, which went faster than anticipated. No changes impacted the budget or the final deadline.",involvedPeople:["indigenous","underserved"],involvedActivities:["collaborators","audience","elders","participants"],impactStatements:{q1:"5",q2:"5",q3:"5",q4:"5",q5:"5",q6:"4",q7:"na",q8:"4",q9:"5",q10:"na",q11:"4"},highlights:[{id:Dt("hl"),title:"Book Launch Event Photos",url:"https://example.com/launch_gallery"},{id:Dt("hl"),title:"CBC Radio Interview with Kaelen Thomas",url:"https://example.com/cbc_interview"}],feedback:"The process was smooth. The reporting tools in this app were helpful for tracking our progress against the budget.",additionalFeedback:"N/A"}]},rb=()=>{const n=eb.map(m=>({...m,id:Dt("mem"),memberId:`M-${Math.floor(1e3+Math.random()*9e3)}`,postalCode:"R3B 1B9",imageUrl:`https://i.pravatar.cc/256?u=${m.email}`})),i=tb(n),r=ab(i,n),o=nb(r,n),d=ib(i),u=sb(i);return{projects:i,members:n,tasks:r,activities:o,directExpenses:d,reports:u}},lb=()=>{const{dispatch:n,notify:i}=ma(),[r,o]=ye.useState(!1),d=()=>{const m=rb();n({type:"LOAD_DATA",payload:m}),i("Detailed sample data loaded successfully!","success")},u=()=>{n({type:"CLEAR_ALL_DATA"}),i("All application data has been cleared.","success"),o(!1)};return s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 sm:p-8",children:[r&&s.jsx(Vo,{isOpen:r,onClose:()=>o(!1),onConfirm:u,title:"Clear All Application Data",message:s.jsxs(s.Fragment,{children:["Are you absolutely sure you want to delete ALL application data? This includes all projects, members, tasks, and activities.",s.jsx("br",{}),s.jsx("strong",{className:"font-bold text-red-700",children:"This action cannot be undone."})]}),confirmButtonText:"Yes, Delete Everything"}),s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fa-solid fa-database text-6xl text-teal-500"}),s.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900",children:"Load Detailed Sample Data"}),s.jsx("p",{className:"mt-2 text-lg text-slate-600 max-w-2xl mx-auto",children:"This tool will populate the application with a rich, comprehensive dataset, including multiple projects, tasks, and activities. This is ideal for testing all features thoroughly."}),s.jsx("div",{className:"mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 max-w-2xl mx-auto text-left",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"py-1",children:s.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Warning!"}),s.jsxs("p",{className:"text-sm",children:["Loading sample data will ",s.jsx("strong",{className:"uppercase",children:"replace"})," any existing data you have entered. This action cannot be undone."]})]})]})}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[s.jsxs("button",{onClick:d,className:"px-8 py-3 text-lg font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fa-solid fa-gears mr-2"}),"Load Detailed Data"]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-8 py-3 text-lg font-medium text-red-700 bg-red-100 border border-red-200 rounded-md shadow-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[s.jsx("i",{className:"fa-solid fa-trash-alt mr-2"}),"Clear All Data"]})]})]})]})},$m=()=>{const{state:n,dispatch:i,notify:r}=ma(),[o,d]=ye.useState(n.settings.general),[u,m]=ye.useState(!1),g=(v,S)=>{d(j=>({...j,[v]:S})),m(!0)},h=()=>{const v=ta(n.settings,S=>{S.general=o});i({type:"UPDATE_SETTINGS",payload:v}),m(!1),r("General settings saved!","success")};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"General Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Configure application-wide settings for your collective."}),s.jsxs("div",{className:"mt-8 space-y-6 max-w-2xl",children:[s.jsx(lt,{label:"Collective Name",htmlFor:"collectiveName",instructions:"This name will appear in the application header.",children:s.jsx(Et,{id:"collectiveName",value:o.collectiveName,onChange:v=>g("collectiveName",v.target.value)})}),s.jsx(lt,{label:"Default Currency",htmlFor:"defaultCurrency",instructions:"Select the primary currency for budgeting and reporting.",children:s.jsx(na,{id:"defaultCurrency",value:o.defaultCurrency,onChange:v=>g("defaultCurrency",v.target.value),options:[{value:"CAD",label:"CAD - Canadian Dollar"},{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"}]})}),s.jsx(lt,{label:"Date Format",htmlFor:"dateFormat",instructions:"Choose how dates are displayed throughout the application.",children:s.jsx(na,{id:"dateFormat",value:o.dateFormat,onChange:v=>g("dateFormat",v.target.value),options:[{value:"YYYY-MM-DD",label:"YYYY-MM-DD (e.g., 2025-07-21)"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY (e.g., 07/21/2025)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (e.g., 21/07/2025)"}]})})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:s.jsx("button",{onClick:h,disabled:!u,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},ob=()=>`item_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,cb="bg-slate-100 text-slate-800",ub=({items:n,onChange:i,itemLabel:r,withColor:o=!1})=>{const d=()=>{const h={id:ob(),label:`New ${r}`,color:cb};i([...n,h])},u=(h,v,S)=>{const j=ta(n,N=>{const b=N.find(T=>T.id===h);b&&(b[v]=S)});i(j)},m=h=>{i(n.filter(v=>v.id!==h))},g=[{label:"Green",value:"bg-green-100 text-green-800"},{label:"Blue",value:"bg-blue-100 text-blue-800"},{label:"Yellow",value:"bg-yellow-100 text-yellow-800"},{label:"Rose",value:"bg-rose-100 text-rose-800"},{label:"Indigo",value:"bg-indigo-100 text-indigo-800"},{label:"Purple",value:"bg-purple-100 text-purple-800"},{label:"Slate",value:"bg-slate-100 text-slate-800"},{label:"Gray",value:"bg-gray-100 text-gray-800"}];return s.jsxs("div",{className:"space-y-3",children:[n.map(h=>s.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center",children:[s.jsx("div",{className:o?"col-span-6":"col-span-11",children:s.jsx(Et,{"aria-label":`${r} name`,type:"text",value:h.label,onChange:v=>u(h.id,"label",v.target.value)})}),o&&s.jsx("div",{className:"col-span-5",children:s.jsx("select",{value:h.color,onChange:v=>u(h.id,"color",v.target.value),className:`block w-full pl-3 pr-10 py-2 text-base border-slate-400 rounded-md shadow-sm 
                                           focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent
                                           sm:text-sm transition-shadow duration-150`,children:g.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))})}),s.jsx("div",{className:"col-span-1 text-right",children:s.jsx("button",{type:"button",onClick:()=>m(h.id),className:"text-slate-400 hover:text-red-600 p-2 rounded-full hover:bg-red-100 transition-colors","aria-label":`Remove ${h.label}`,children:s.jsx("i",{className:"fa-solid fa-trash-alt fa-fw"})})})]},h.id)),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add ",r]})})]})},db=()=>{const{state:n,dispatch:i,notify:r}=ma(),[o,d]=ye.useState(n.settings.projects),[u,m]=ye.useState(!1),g=v=>{d(S=>({...S,statuses:v})),m(!0)},h=()=>{const v=ta(n.settings,S=>{S.projects=o});i({type:"UPDATE_SETTINGS",payload:v}),m(!1),r("Project settings saved!","success")};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Project Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options related to project management."}),s.jsxs("div",{className:"mt-8 space-y-8",children:[s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Custom Project Statuses"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"Define the workflow stages for your projects. These will appear in the 'Project Status' dropdowns."}),s.jsx(ub,{items:o.statuses,onChange:g,itemLabel:"Status",withColor:!0})]}),s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 opacity-60",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Custom Disciplines & Genres (Coming Soon)"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Define your own artistic disciplines and genres to replace the hardcoded options."})]})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:s.jsx("button",{onClick:h,disabled:!u,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},fb=()=>s.jsxs("div",{className:"opacity-50",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Member Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options for your collective's members."}),s.jsxs("div",{className:"mt-8 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configuration for custom member roles and availability options will be available here in a future update."})]})]}),hb=()=>s.jsxs("div",{className:"opacity-50",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Task Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize options for tasks and activities."}),s.jsxs("div",{className:"mt-8 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configuration for custom task statuses, default rates, and work week settings will be available here in a future update."})]})]}),pb=()=>s.jsxs("div",{className:"opacity-50",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"AI Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Configure AI-powered assistance features."}),s.jsxs("div",{className:"mt-8 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configuration for enabling AI features, selecting models, and providing custom instructions will be available here in a future update."})]})]}),mb=()=>{const{state:n,dispatch:i,notify:r}=ma(),[o,d]=ye.useState(n.settings.budget),[u,m]=ye.useState(!1),g=(S,j,N)=>{const b=S==="revenue"?"revenueLabels":"expenseLabels";d(T=>ta(T,O=>{O[b][j]=N})),m(!0)},h=()=>{const S=ta(n.settings,j=>{j.budget=o});i({type:"UPDATE_SETTINGS",payload:S}),m(!1),r("Budget settings saved!","success")},v=(S,j,N)=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-slate-700 mt-4 mb-2",children:S}),s.jsx("div",{className:"space-y-3 pl-4 border-l-2 border-slate-200",children:j.map(b=>{const O=(N==="revenue"?o.revenueLabels:o.expenseLabels)[b.key],M=b.label;return s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-slate-500",children:M}),s.jsx(Et,{type:"text",placeholder:M,value:O===void 0?"":O,onChange:A=>g(N,b.key,A.target.value),className:"mt-1"})]},b.key)})})]},S);return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Budget Settings"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Customize the display names for budget revenue sources and expense types. Leave an input blank to use the default name."}),s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Revenue Source Customization"}),Object.entries(Wl).map(([S,j])=>v(S.charAt(0).toUpperCase()+S.slice(1),j,"revenue"))]}),s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Expense Type Customization"}),Object.entries(yi).map(([S,j])=>v(S.replace(/([A-Z])/g," $1").replace(/^./,N=>N.toUpperCase()),j,"expense"))]})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-slate-200",children:s.jsx("button",{onClick:h,disabled:!u,className:"px-6 py-2 text-sm font-medium text-white bg-teal-600 border border-transparent rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Save Changes"})})]})},gb=()=>{const[n,i]=ye.useState("general"),r=[{id:"general",label:"General",icon:"fa-solid fa-sliders"},{id:"projects",label:"Projects",icon:"fa-solid fa-briefcase"},{id:"budget",label:"Budget",icon:"fa-solid fa-dollar-sign"},{id:"members",label:"Members",icon:"fa-solid fa-users"},{id:"tasks",label:"Tasks",icon:"fa-solid fa-list-check"},{id:"ai",label:"AI Settings",icon:"fa-solid fa-wand-magic-sparkles"}],o=()=>{switch(n){case"general":return s.jsx($m,{});case"projects":return s.jsx(db,{});case"budget":return s.jsx(mb,{});case"members":return s.jsx(fb,{});case"tasks":return s.jsx(hb,{});case"ai":return s.jsx(pb,{});default:return s.jsx($m,{})}};return s.jsx("div",{className:"bg-white shadow-lg rounded-xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-10rem)]",children:[s.jsxs("aside",{className:"w-full md:w-64 bg-slate-50 p-4 border-b md:border-b-0 md:border-r border-slate-200",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4 px-2",children:"Settings"}),s.jsx("nav",{className:"flex flex-row md:flex-col gap-1",children:r.map(d=>s.jsxs("button",{onClick:()=>i(d.id),className:`flex items-center w-full text-left p-3 rounded-lg text-sm font-semibold transition-colors duration-150 ${n===d.id?"bg-teal-100 text-teal-800":"text-slate-600 hover:bg-slate-200 hover:text-slate-800"}`,children:[s.jsx("i",{className:`${d.icon} w-6 text-center mr-2`}),s.jsx("span",{children:d.label})]},d.id))})]}),s.jsx("main",{className:"flex-1 p-6 sm:p-8",children:o()})]})})},vb=()=>{const[n,i]=ye.useState("home");return s.jsx(Ug,{children:s.jsxs(Gg,{activePage:n,onNavigate:i,children:[n==="home"&&s.jsx(j5,{onNavigate:i}),n==="projects"&&s.jsx(y5,{onNavigate:i}),n==="members"&&s.jsx(_5,{}),n==="tasks"&&s.jsx(U5,{}),n==="reports"&&s.jsx($v,{}),n==="sampleData"&&s.jsx(Jv,{}),n==="detailedSampleData"&&s.jsx(lb,{}),n==="settings"&&s.jsx(gb,{})]})})},O2=document.getElementById("root");if(!O2)throw new Error("Could not find root element to mount to");const bb=Q1.createRoot(O2);bb.render(s.jsx(Km.StrictMode,{children:s.jsx(vb,{})}));export{ua as _,B1 as c,ip as g};
